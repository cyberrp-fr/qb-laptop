var cf=Object.defineProperty;var uf=(r,s,c)=>s in r?cf(r,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):r[s]=c;var Ne=(r,s,c)=>(uf(r,typeof s!="symbol"?s+"":s,c),c);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const w of d.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&l(w)}).observe(document,{childList:!0,subtree:!0});function c(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerpolicy&&(d.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?d.credentials="include":f.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(f){if(f.ep)return;f.ep=!0;const d=c(f);fetch(f.href,d)}})();function Ko(r,s){const c=Object.create(null),l=r.split(",");for(let f=0;f<l.length;f++)c[l[f]]=!0;return s?f=>!!c[f.toLowerCase()]:f=>!!c[f]}function Zi(r){if(jt(r)){const s={};for(let c=0;c<r.length;c++){const l=r[c],f=be(l)?df(l):Zi(l);if(f)for(const d in f)s[d]=f[d]}return s}else{if(be(r))return r;if(ae(r))return r}}const lf=/;(?![^(]*\))/g,ff=/:([^]+)/,hf=/\/\*.*?\*\//gs;function df(r){const s={};return r.replace(hf,"").split(lf).forEach(c=>{if(c){const l=c.split(ff);l.length>1&&(s[l[0].trim()]=l[1].trim())}}),s}function Oe(r){let s="";if(be(r))s=r;else if(jt(r))for(let c=0;c<r.length;c++){const l=Oe(r[c]);l&&(s+=l+" ")}else if(ae(r))for(const c in r)r[c]&&(s+=c+" ");return s.trim()}const pf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yf=Ko(pf);function ac(r){return!!r||r===""}function vf(r,s){if(r.length!==s.length)return!1;let c=!0;for(let l=0;c&&l<r.length;l++)c=Ki(r[l],s[l]);return c}function Ki(r,s){if(r===s)return!0;let c=Fa(r),l=Fa(s);if(c||l)return c&&l?r.getTime()===s.getTime():!1;if(c=$r(r),l=$r(s),c||l)return r===s;if(c=jt(r),l=jt(s),c||l)return c&&l?vf(r,s):!1;if(c=ae(r),l=ae(s),c||l){if(!c||!l)return!1;const f=Object.keys(r).length,d=Object.keys(s).length;if(f!==d)return!1;for(const w in r){const _=r.hasOwnProperty(w),b=s.hasOwnProperty(w);if(_&&!b||!_&&b||!Ki(r[w],s[w]))return!1}}return String(r)===String(s)}function gf(r,s){return r.findIndex(c=>Ki(c,s))}const te=r=>be(r)?r:r==null?"":jt(r)||ae(r)&&(r.toString===lc||!Ht(r.toString))?JSON.stringify(r,cc,2):String(r),cc=(r,s)=>s&&s.__v_isRef?cc(r,s.value):kr(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((c,[l,f])=>(c[`${l} =>`]=f,c),{})}:Ji(s)?{[`Set(${s.size})`]:[...s.values()]}:ae(s)&&!jt(s)&&!fc(s)?String(s):s,se={},xr=[],ln=()=>{},mf=()=>!1,_f=/^on[^a-z]/,qi=r=>_f.test(r),qo=r=>r.startsWith("onUpdate:"),Me=Object.assign,Jo=(r,s)=>{const c=r.indexOf(s);c>-1&&r.splice(c,1)},wf=Object.prototype.hasOwnProperty,qt=(r,s)=>wf.call(r,s),jt=Array.isArray,kr=r=>ai(r)==="[object Map]",Ji=r=>ai(r)==="[object Set]",Fa=r=>ai(r)==="[object Date]",Ht=r=>typeof r=="function",be=r=>typeof r=="string",$r=r=>typeof r=="symbol",ae=r=>r!==null&&typeof r=="object",uc=r=>ae(r)&&Ht(r.then)&&Ht(r.catch),lc=Object.prototype.toString,ai=r=>lc.call(r),Sf=r=>ai(r).slice(8,-1),fc=r=>ai(r)==="[object Object]",Go=r=>be(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Li=Ko(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gi=r=>{const s=Object.create(null);return c=>s[c]||(s[c]=r(c))},Ef=/-(\w)/g,Sn=Gi(r=>r.replace(Ef,(s,c)=>c?c.toUpperCase():"")),bf=/\B([A-Z])/g,ur=Gi(r=>r.replace(bf,"-$1").toLowerCase()),Qi=Gi(r=>r.charAt(0).toUpperCase()+r.slice(1)),Ro=Gi(r=>r?`on${Qi(r)}`:""),ti=(r,s)=>!Object.is(r,s),Ci=(r,s)=>{for(let c=0;c<r.length;c++)r[c](s)},Ui=(r,s,c)=>{Object.defineProperty(r,s,{configurable:!0,enumerable:!1,value:c})},ji=r=>{const s=parseFloat(r);return isNaN(s)?r:s};let Ia;const xf=()=>Ia||(Ia=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ge;class hc{constructor(s=!1){this.detached=s,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ge,!s&&Ge&&(this.index=(Ge.scopes||(Ge.scopes=[])).push(this)-1)}get active(){return this._active}run(s){if(this._active){const c=Ge;try{return Ge=this,s()}finally{Ge=c}}}on(){Ge=this}off(){Ge=this.parent}stop(s){if(this._active){let c,l;for(c=0,l=this.effects.length;c<l;c++)this.effects[c].stop();for(c=0,l=this.cleanups.length;c<l;c++)this.cleanups[c]();if(this.scopes)for(c=0,l=this.scopes.length;c<l;c++)this.scopes[c].stop(!0);if(!this.detached&&this.parent&&!s){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this._active=!1}}}function dc(r){return new hc(r)}function kf(r,s=Ge){s&&s.active&&s.effects.push(r)}function pc(){return Ge}function Ff(r){Ge&&Ge.cleanups.push(r)}const Qo=r=>{const s=new Set(r);return s.w=0,s.n=0,s},yc=r=>(r.w&Hn)>0,vc=r=>(r.n&Hn)>0,If=({deps:r})=>{if(r.length)for(let s=0;s<r.length;s++)r[s].w|=Hn},Of=r=>{const{deps:s}=r;if(s.length){let c=0;for(let l=0;l<s.length;l++){const f=s[l];yc(f)&&!vc(f)?f.delete(r):s[c++]=f,f.w&=~Hn,f.n&=~Hn}s.length=c}},Bi=new WeakMap;let Yr=0,Hn=1;const Po=30;let cn;const sr=Symbol(""),Mo=Symbol("");class $o{constructor(s,c=null,l){this.fn=s,this.scheduler=c,this.active=!0,this.deps=[],this.parent=void 0,kf(this,l)}run(){if(!this.active)return this.fn();let s=cn,c=Bn;for(;s;){if(s===this)return;s=s.parent}try{return this.parent=cn,cn=this,Bn=!0,Hn=1<<++Yr,Yr<=Po?If(this):Oa(this),this.fn()}finally{Yr<=Po&&Of(this),Hn=1<<--Yr,cn=this.parent,Bn=c,this.parent=void 0,this.deferStop&&this.stop()}}stop(){cn===this?this.deferStop=!0:this.active&&(Oa(this),this.onStop&&this.onStop(),this.active=!1)}}function Oa(r){const{deps:s}=r;if(s.length){for(let c=0;c<s.length;c++)s[c].delete(r);s.length=0}}let Bn=!0;const gc=[];function Dr(){gc.push(Bn),Bn=!1}function Nr(){const r=gc.pop();Bn=r===void 0?!0:r}function Ze(r,s,c){if(Bn&&cn){let l=Bi.get(r);l||Bi.set(r,l=new Map);let f=l.get(c);f||l.set(c,f=Qo()),mc(f)}}function mc(r,s){let c=!1;Yr<=Po?vc(r)||(r.n|=Hn,c=!yc(r)):c=!r.has(cn),c&&(r.add(cn),cn.deps.push(r))}function Rn(r,s,c,l,f,d){const w=Bi.get(r);if(!w)return;let _=[];if(s==="clear")_=[...w.values()];else if(c==="length"&&jt(r)){const b=Number(l);w.forEach((S,v)=>{(v==="length"||v>=b)&&_.push(S)})}else switch(c!==void 0&&_.push(w.get(c)),s){case"add":jt(r)?Go(c)&&_.push(w.get("length")):(_.push(w.get(sr)),kr(r)&&_.push(w.get(Mo)));break;case"delete":jt(r)||(_.push(w.get(sr)),kr(r)&&_.push(w.get(Mo)));break;case"set":kr(r)&&_.push(w.get(sr));break}if(_.length===1)_[0]&&Uo(_[0]);else{const b=[];for(const S of _)S&&b.push(...S);Uo(Qo(b))}}function Uo(r,s){const c=jt(r)?r:[...r];for(const l of c)l.computed&&Ta(l);for(const l of c)l.computed||Ta(l)}function Ta(r,s){(r!==cn||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}function Tf(r,s){var c;return(c=Bi.get(r))===null||c===void 0?void 0:c.get(s)}const Rf=Ko("__proto__,__v_isRef,__isVue"),_c=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter($r)),Df=ts(),Nf=ts(!1,!0),Lf=ts(!0),Ra=Cf();function Cf(){const r={};return["includes","indexOf","lastIndexOf"].forEach(s=>{r[s]=function(...c){const l=Jt(this);for(let d=0,w=this.length;d<w;d++)Ze(l,"get",d+"");const f=l[s](...c);return f===-1||f===!1?l[s](...c.map(Jt)):f}}),["push","pop","shift","unshift","splice"].forEach(s=>{r[s]=function(...c){Dr();const l=Jt(this)[s].apply(this,c);return Nr(),l}}),r}function Af(r){const s=Jt(this);return Ze(s,"has",r),s.hasOwnProperty(r)}function ts(r=!1,s=!1){return function(l,f,d){if(f==="__v_isReactive")return!r;if(f==="__v_isReadonly")return r;if(f==="__v_isShallow")return s;if(f==="__v_raw"&&d===(r?s?Gf:xc:s?bc:Ec).get(l))return l;const w=jt(l);if(!r){if(w&&qt(Ra,f))return Reflect.get(Ra,f,d);if(f==="hasOwnProperty")return Af}const _=Reflect.get(l,f,d);return($r(f)?_c.has(f):Rf(f))||(r||Ze(l,"get",f),s)?_:Se(_)?w&&Go(f)?_:_.value:ae(_)?r?kc(_):Lr(_):_}}const Pf=wc(),Mf=wc(!0);function wc(r=!1){return function(c,l,f,d){let w=c[l];if(Ir(w)&&Se(w)&&!Se(f))return!1;if(!r&&(!zi(f)&&!Ir(f)&&(w=Jt(w),f=Jt(f)),!jt(c)&&Se(w)&&!Se(f)))return w.value=f,!0;const _=jt(c)&&Go(l)?Number(l)<c.length:qt(c,l),b=Reflect.set(c,l,f,d);return c===Jt(d)&&(_?ti(f,w)&&Rn(c,"set",l,f):Rn(c,"add",l,f)),b}}function Uf(r,s){const c=qt(r,s);r[s];const l=Reflect.deleteProperty(r,s);return l&&c&&Rn(r,"delete",s,void 0),l}function jf(r,s){const c=Reflect.has(r,s);return(!$r(s)||!_c.has(s))&&Ze(r,"has",s),c}function Bf(r){return Ze(r,"iterate",jt(r)?"length":sr),Reflect.ownKeys(r)}const Sc={get:Df,set:Pf,deleteProperty:Uf,has:jf,ownKeys:Bf},zf={get:Lf,set(r,s){return!0},deleteProperty(r,s){return!0}},Wf=Me({},Sc,{get:Nf,set:Mf}),es=r=>r,$i=r=>Reflect.getPrototypeOf(r);function Ii(r,s,c=!1,l=!1){r=r.__v_raw;const f=Jt(r),d=Jt(s);c||(s!==d&&Ze(f,"get",s),Ze(f,"get",d));const{has:w}=$i(f),_=l?es:c?is:ei;if(w.call(f,s))return _(r.get(s));if(w.call(f,d))return _(r.get(d));r!==f&&r.get(s)}function Oi(r,s=!1){const c=this.__v_raw,l=Jt(c),f=Jt(r);return s||(r!==f&&Ze(l,"has",r),Ze(l,"has",f)),r===f?c.has(r):c.has(r)||c.has(f)}function Ti(r,s=!1){return r=r.__v_raw,!s&&Ze(Jt(r),"iterate",sr),Reflect.get(r,"size",r)}function Da(r){r=Jt(r);const s=Jt(this);return $i(s).has.call(s,r)||(s.add(r),Rn(s,"add",r,r)),this}function Na(r,s){s=Jt(s);const c=Jt(this),{has:l,get:f}=$i(c);let d=l.call(c,r);d||(r=Jt(r),d=l.call(c,r));const w=f.call(c,r);return c.set(r,s),d?ti(s,w)&&Rn(c,"set",r,s):Rn(c,"add",r,s),this}function La(r){const s=Jt(this),{has:c,get:l}=$i(s);let f=c.call(s,r);f||(r=Jt(r),f=c.call(s,r)),l&&l.call(s,r);const d=s.delete(r);return f&&Rn(s,"delete",r,void 0),d}function Ca(){const r=Jt(this),s=r.size!==0,c=r.clear();return s&&Rn(r,"clear",void 0,void 0),c}function Ri(r,s){return function(l,f){const d=this,w=d.__v_raw,_=Jt(w),b=s?es:r?is:ei;return!r&&Ze(_,"iterate",sr),w.forEach((S,v)=>l.call(f,b(S),b(v),d))}}function Di(r,s,c){return function(...l){const f=this.__v_raw,d=Jt(f),w=kr(d),_=r==="entries"||r===Symbol.iterator&&w,b=r==="keys"&&w,S=f[r](...l),v=c?es:s?is:ei;return!s&&Ze(d,"iterate",b?Mo:sr),{next(){const{value:h,done:E}=S.next();return E?{value:h,done:E}:{value:_?[v(h[0]),v(h[1])]:v(h),done:E}},[Symbol.iterator](){return this}}}}function Mn(r){return function(...s){return r==="delete"?!1:this}}function Hf(){const r={get(d){return Ii(this,d)},get size(){return Ti(this)},has:Oi,add:Da,set:Na,delete:La,clear:Ca,forEach:Ri(!1,!1)},s={get(d){return Ii(this,d,!1,!0)},get size(){return Ti(this)},has:Oi,add:Da,set:Na,delete:La,clear:Ca,forEach:Ri(!1,!0)},c={get(d){return Ii(this,d,!0)},get size(){return Ti(this,!0)},has(d){return Oi.call(this,d,!0)},add:Mn("add"),set:Mn("set"),delete:Mn("delete"),clear:Mn("clear"),forEach:Ri(!0,!1)},l={get(d){return Ii(this,d,!0,!0)},get size(){return Ti(this,!0)},has(d){return Oi.call(this,d,!0)},add:Mn("add"),set:Mn("set"),delete:Mn("delete"),clear:Mn("clear"),forEach:Ri(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{r[d]=Di(d,!1,!1),c[d]=Di(d,!0,!1),s[d]=Di(d,!1,!0),l[d]=Di(d,!0,!0)}),[r,c,s,l]}const[Vf,Xf,Yf,Zf]=Hf();function ns(r,s){const c=s?r?Zf:Yf:r?Xf:Vf;return(l,f,d)=>f==="__v_isReactive"?!r:f==="__v_isReadonly"?r:f==="__v_raw"?l:Reflect.get(qt(c,f)&&f in l?c:l,f,d)}const Kf={get:ns(!1,!1)},qf={get:ns(!1,!0)},Jf={get:ns(!0,!1)},Ec=new WeakMap,bc=new WeakMap,xc=new WeakMap,Gf=new WeakMap;function Qf(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $f(r){return r.__v_skip||!Object.isExtensible(r)?0:Qf(Sf(r))}function Lr(r){return Ir(r)?r:rs(r,!1,Sc,Kf,Ec)}function th(r){return rs(r,!1,Wf,qf,bc)}function kc(r){return rs(r,!0,zf,Jf,xc)}function rs(r,s,c,l,f){if(!ae(r)||r.__v_raw&&!(s&&r.__v_isReactive))return r;const d=f.get(r);if(d)return d;const w=$f(r);if(w===0)return r;const _=new Proxy(r,w===2?l:c);return f.set(r,_),_}function zn(r){return Ir(r)?zn(r.__v_raw):!!(r&&r.__v_isReactive)}function Ir(r){return!!(r&&r.__v_isReadonly)}function zi(r){return!!(r&&r.__v_isShallow)}function Fc(r){return zn(r)||Ir(r)}function Jt(r){const s=r&&r.__v_raw;return s?Jt(s):r}function Or(r){return Ui(r,"__v_skip",!0),r}const ei=r=>ae(r)?Lr(r):r,is=r=>ae(r)?kc(r):r;function Ic(r){Bn&&cn&&(r=Jt(r),mc(r.dep||(r.dep=Qo())))}function Oc(r,s){r=Jt(r);const c=r.dep;c&&Uo(c)}function Se(r){return!!(r&&r.__v_isRef===!0)}function wt(r){return eh(r,!1)}function eh(r,s){return Se(r)?r:new nh(r,s)}class nh{constructor(s,c){this.__v_isShallow=c,this.dep=void 0,this.__v_isRef=!0,this._rawValue=c?s:Jt(s),this._value=c?s:ei(s)}get value(){return Ic(this),this._value}set value(s){const c=this.__v_isShallow||zi(s)||Ir(s);s=c?s:Jt(s),ti(s,this._rawValue)&&(this._rawValue=s,this._value=c?s:ei(s),Oc(this))}}function ne(r){return Se(r)?r.value:r}const rh={get:(r,s,c)=>ne(Reflect.get(r,s,c)),set:(r,s,c,l)=>{const f=r[s];return Se(f)&&!Se(c)?(f.value=c,!0):Reflect.set(r,s,c,l)}};function Tc(r){return zn(r)?r:new Proxy(r,rh)}function ih(r){const s=jt(r)?new Array(r.length):{};for(const c in r)s[c]=sh(r,c);return s}class oh{constructor(s,c,l){this._object=s,this._key=c,this._defaultValue=l,this.__v_isRef=!0}get value(){const s=this._object[this._key];return s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return Tf(Jt(this._object),this._key)}}function sh(r,s,c){const l=r[s];return Se(l)?l:new oh(r,s,c)}var Rc;class ah{constructor(s,c,l,f){this._setter=c,this.dep=void 0,this.__v_isRef=!0,this[Rc]=!1,this._dirty=!0,this.effect=new $o(s,()=>{this._dirty||(this._dirty=!0,Oc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=l}get value(){const s=Jt(this);return Ic(s),(s._dirty||!s._cacheable)&&(s._dirty=!1,s._value=s.effect.run()),s._value}set value(s){this._setter(s)}}Rc="__v_isReadonly";function ch(r,s,c=!1){let l,f;const d=Ht(r);return d?(l=r,f=ln):(l=r.get,f=r.set),new ah(l,f,d||!f,c)}function Wn(r,s,c,l){let f;try{f=l?r(...l):r()}catch(d){to(d,s,c)}return f}function fn(r,s,c,l){if(Ht(r)){const d=Wn(r,s,c,l);return d&&uc(d)&&d.catch(w=>{to(w,s,c)}),d}const f=[];for(let d=0;d<r.length;d++)f.push(fn(r[d],s,c,l));return f}function to(r,s,c,l=!0){const f=s?s.vnode:null;if(s){let d=s.parent;const w=s.proxy,_=c;for(;d;){const S=d.ec;if(S){for(let v=0;v<S.length;v++)if(S[v](r,w,_)===!1)return}d=d.parent}const b=s.appContext.config.errorHandler;if(b){Wn(b,null,10,[r,w,_]);return}}uh(r,c,f,l)}function uh(r,s,c,l=!0){console.error(r)}let ni=!1,jo=!1;const Le=[];let _n=0;const Fr=[];let Tn=null,nr=0;const Dc=Promise.resolve();let os=null;function Nc(r){const s=os||Dc;return r?s.then(this?r.bind(this):r):s}function lh(r){let s=_n+1,c=Le.length;for(;s<c;){const l=s+c>>>1;ri(Le[l])<r?s=l+1:c=l}return s}function ss(r){(!Le.length||!Le.includes(r,ni&&r.allowRecurse?_n+1:_n))&&(r.id==null?Le.push(r):Le.splice(lh(r.id),0,r),Lc())}function Lc(){!ni&&!jo&&(jo=!0,os=Dc.then(Ac))}function fh(r){const s=Le.indexOf(r);s>_n&&Le.splice(s,1)}function hh(r){jt(r)?Fr.push(...r):(!Tn||!Tn.includes(r,r.allowRecurse?nr+1:nr))&&Fr.push(r),Lc()}function Aa(r,s=ni?_n+1:0){for(;s<Le.length;s++){const c=Le[s];c&&c.pre&&(Le.splice(s,1),s--,c())}}function Cc(r){if(Fr.length){const s=[...new Set(Fr)];if(Fr.length=0,Tn){Tn.push(...s);return}for(Tn=s,Tn.sort((c,l)=>ri(c)-ri(l)),nr=0;nr<Tn.length;nr++)Tn[nr]();Tn=null,nr=0}}const ri=r=>r.id==null?1/0:r.id,dh=(r,s)=>{const c=ri(r)-ri(s);if(c===0){if(r.pre&&!s.pre)return-1;if(s.pre&&!r.pre)return 1}return c};function Ac(r){jo=!1,ni=!0,Le.sort(dh);const s=ln;try{for(_n=0;_n<Le.length;_n++){const c=Le[_n];c&&c.active!==!1&&Wn(c,null,14)}}finally{_n=0,Le.length=0,Cc(),ni=!1,os=null,(Le.length||Fr.length)&&Ac()}}function ph(r,s,...c){if(r.isUnmounted)return;const l=r.vnode.props||se;let f=c;const d=s.startsWith("update:"),w=d&&s.slice(7);if(w&&w in l){const v=`${w==="modelValue"?"model":w}Modifiers`,{number:h,trim:E}=l[v]||se;E&&(f=c.map(p=>be(p)?p.trim():p)),h&&(f=c.map(ji))}let _,b=l[_=Ro(s)]||l[_=Ro(Sn(s))];!b&&d&&(b=l[_=Ro(ur(s))]),b&&fn(b,r,6,f);const S=l[_+"Once"];if(S){if(!r.emitted)r.emitted={};else if(r.emitted[_])return;r.emitted[_]=!0,fn(S,r,6,f)}}function Pc(r,s,c=!1){const l=s.emitsCache,f=l.get(r);if(f!==void 0)return f;const d=r.emits;let w={},_=!1;if(!Ht(r)){const b=S=>{const v=Pc(S,s,!0);v&&(_=!0,Me(w,v))};!c&&s.mixins.length&&s.mixins.forEach(b),r.extends&&b(r.extends),r.mixins&&r.mixins.forEach(b)}return!d&&!_?(ae(r)&&l.set(r,null),null):(jt(d)?d.forEach(b=>w[b]=null):Me(w,d),ae(r)&&l.set(r,w),w)}function eo(r,s){return!r||!qi(s)?!1:(s=s.slice(2).replace(/Once$/,""),qt(r,s[0].toLowerCase()+s.slice(1))||qt(r,ur(s))||qt(r,s))}let Qe=null,no=null;function Wi(r){const s=Qe;return Qe=r,no=r&&r.type.__scopeId||null,s}function Dn(r){no=r}function Nn(){no=null}function yh(r,s=Qe,c){if(!s||r._n)return r;const l=(...f)=>{l._d&&Va(-1);const d=Wi(s);let w;try{w=r(...f)}finally{Wi(d),l._d&&Va(1)}return w};return l._n=!0,l._c=!0,l._d=!0,l}function Do(r){const{type:s,vnode:c,proxy:l,withProxy:f,props:d,propsOptions:[w],slots:_,attrs:b,emit:S,render:v,renderCache:h,data:E,setupState:p,ctx:D,inheritAttrs:R}=r;let N,M;const z=Wi(r);try{if(c.shapeFlag&4){const V=f||l;N=mn(v.call(V,V,h,d,p,E,D)),M=b}else{const V=s;N=mn(V.length>1?V(d,{attrs:b,slots:_,emit:S}):V(d,null)),M=s.props?b:vh(b)}}catch(V){Jr.length=0,to(V,r,1),N=rn(cr)}let J=N;if(M&&R!==!1){const V=Object.keys(M),{shapeFlag:K}=J;V.length&&K&7&&(w&&V.some(qo)&&(M=gh(M,w)),J=Tr(J,M))}return c.dirs&&(J=Tr(J),J.dirs=J.dirs?J.dirs.concat(c.dirs):c.dirs),c.transition&&(J.transition=c.transition),N=J,Wi(z),N}const vh=r=>{let s;for(const c in r)(c==="class"||c==="style"||qi(c))&&((s||(s={}))[c]=r[c]);return s},gh=(r,s)=>{const c={};for(const l in r)(!qo(l)||!(l.slice(9)in s))&&(c[l]=r[l]);return c};function mh(r,s,c){const{props:l,children:f,component:d}=r,{props:w,children:_,patchFlag:b}=s,S=d.emitsOptions;if(s.dirs||s.transition)return!0;if(c&&b>=0){if(b&1024)return!0;if(b&16)return l?Pa(l,w,S):!!w;if(b&8){const v=s.dynamicProps;for(let h=0;h<v.length;h++){const E=v[h];if(w[E]!==l[E]&&!eo(S,E))return!0}}}else return(f||_)&&(!_||!_.$stable)?!0:l===w?!1:l?w?Pa(l,w,S):!0:!!w;return!1}function Pa(r,s,c){const l=Object.keys(s);if(l.length!==Object.keys(r).length)return!0;for(let f=0;f<l.length;f++){const d=l[f];if(s[d]!==r[d]&&!eo(c,d))return!0}return!1}function _h({vnode:r,parent:s},c){for(;s&&s.subTree===r;)(r=s.vnode).el=c,s=s.parent}const wh=r=>r.__isSuspense;function Sh(r,s){s&&s.pendingBranch?jt(r)?s.effects.push(...r):s.effects.push(r):hh(r)}function Eh(r,s){if(we){let c=we.provides;const l=we.parent&&we.parent.provides;l===c&&(c=we.provides=Object.create(l)),c[r]=s}}function Kr(r,s,c=!1){const l=we||Qe;if(l){const f=l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides;if(f&&r in f)return f[r];if(arguments.length>1)return c&&Ht(s)?s.call(l.proxy):s}}const Ni={};function Ai(r,s,c){return Mc(r,s,c)}function Mc(r,s,{immediate:c,deep:l,flush:f,onTrack:d,onTrigger:w}=se){const _=pc()===(we==null?void 0:we.scope)?we:null;let b,S=!1,v=!1;if(Se(r)?(b=()=>r.value,S=zi(r)):zn(r)?(b=()=>r,l=!0):jt(r)?(v=!0,S=r.some(J=>zn(J)||zi(J)),b=()=>r.map(J=>{if(Se(J))return J.value;if(zn(J))return or(J);if(Ht(J))return Wn(J,_,2)})):Ht(r)?s?b=()=>Wn(r,_,2):b=()=>{if(!(_&&_.isUnmounted))return h&&h(),fn(r,_,3,[E])}:b=ln,s&&l){const J=b;b=()=>or(J())}let h,E=J=>{h=M.onStop=()=>{Wn(J,_,4)}},p;if(oi)if(E=ln,s?c&&fn(s,_,3,[b(),v?[]:void 0,E]):b(),f==="sync"){const J=dd();p=J.__watcherHandles||(J.__watcherHandles=[])}else return ln;let D=v?new Array(r.length).fill(Ni):Ni;const R=()=>{if(M.active)if(s){const J=M.run();(l||S||(v?J.some((V,K)=>ti(V,D[K])):ti(J,D)))&&(h&&h(),fn(s,_,3,[J,D===Ni?void 0:v&&D[0]===Ni?[]:D,E]),D=J)}else M.run()};R.allowRecurse=!!s;let N;f==="sync"?N=R:f==="post"?N=()=>Ye(R,_&&_.suspense):(R.pre=!0,_&&(R.id=_.uid),N=()=>ss(R));const M=new $o(b,N);s?c?R():D=M.run():f==="post"?Ye(M.run.bind(M),_&&_.suspense):M.run();const z=()=>{M.stop(),_&&_.scope&&Jo(_.scope.effects,M)};return p&&p.push(z),z}function bh(r,s,c){const l=this.proxy,f=be(r)?r.includes(".")?Uc(l,r):()=>l[r]:r.bind(l,l);let d;Ht(s)?d=s:(d=s.handler,c=s);const w=we;Rr(this);const _=Mc(f,d.bind(l),c);return w?Rr(w):ar(),_}function Uc(r,s){const c=s.split(".");return()=>{let l=r;for(let f=0;f<c.length&&l;f++)l=l[c[f]];return l}}function or(r,s){if(!ae(r)||r.__v_skip||(s=s||new Set,s.has(r)))return r;if(s.add(r),Se(r))or(r.value,s);else if(jt(r))for(let c=0;c<r.length;c++)or(r[c],s);else if(Ji(r)||kr(r))r.forEach(c=>{or(c,s)});else if(fc(r))for(const c in r)or(r[c],s);return r}function Ue(r){return Ht(r)?{setup:r,name:r.name}:r}const Pi=r=>!!r.type.__asyncLoader,jc=r=>r.type.__isKeepAlive;function xh(r,s){Bc(r,"a",s)}function kh(r,s){Bc(r,"da",s)}function Bc(r,s,c=we){const l=r.__wdc||(r.__wdc=()=>{let f=c;for(;f;){if(f.isDeactivated)return;f=f.parent}return r()});if(ro(s,l,c),c){let f=c.parent;for(;f&&f.parent;)jc(f.parent.vnode)&&Fh(l,s,c,f),f=f.parent}}function Fh(r,s,c,l){const f=ro(s,r,l,!0);Wc(()=>{Jo(l[s],f)},c)}function ro(r,s,c=we,l=!1){if(c){const f=c[r]||(c[r]=[]),d=s.__weh||(s.__weh=(...w)=>{if(c.isUnmounted)return;Dr(),Rr(c);const _=fn(s,c,r,w);return ar(),Nr(),_});return l?f.unshift(d):f.push(d),d}}const Ln=r=>(s,c=we)=>(!oi||r==="sp")&&ro(r,(...l)=>s(...l),c),Ih=Ln("bm"),on=Ln("m"),Oh=Ln("bu"),Th=Ln("u"),zc=Ln("bum"),Wc=Ln("um"),Rh=Ln("sp"),Dh=Ln("rtg"),Nh=Ln("rtc");function Lh(r,s=we){ro("ec",r,s)}function de(r,s){const c=Qe;if(c===null)return r;const l=so(c)||c.proxy,f=r.dirs||(r.dirs=[]);for(let d=0;d<s.length;d++){let[w,_,b,S=se]=s[d];w&&(Ht(w)&&(w={mounted:w,updated:w}),w.deep&&or(_),f.push({dir:w,instance:l,value:_,oldValue:void 0,arg:b,modifiers:S}))}return r}function $n(r,s,c,l){const f=r.dirs,d=s&&s.dirs;for(let w=0;w<f.length;w++){const _=f[w];d&&(_.oldValue=d[w].value);let b=_.dir[l];b&&(Dr(),fn(b,c,8,[r.el,_,r,s]),Nr())}}const Hc="components",Vc=Symbol();function as(r){return be(r)?Ch(Hc,r,!1)||r:r||Vc}function Ch(r,s,c=!0,l=!1){const f=Qe||we;if(f){const d=f.type;if(r===Hc){const _=ld(d,!1);if(_&&(_===s||_===Sn(s)||_===Qi(Sn(s))))return d}const w=Ma(f[r]||d[r],s)||Ma(f.appContext[r],s);return!w&&l?d:w}}function Ma(r,s){return r&&(r[s]||r[Sn(s)]||r[Qi(Sn(s))])}function $e(r,s,c,l){let f;const d=c&&c[l];if(jt(r)||be(r)){f=new Array(r.length);for(let w=0,_=r.length;w<_;w++)f[w]=s(r[w],w,void 0,d&&d[w])}else if(typeof r=="number"){f=new Array(r);for(let w=0;w<r;w++)f[w]=s(w+1,w,void 0,d&&d[w])}else if(ae(r))if(r[Symbol.iterator])f=Array.from(r,(w,_)=>s(w,_,void 0,d&&d[_]));else{const w=Object.keys(r);f=new Array(w.length);for(let _=0,b=w.length;_<b;_++){const S=w[_];f[_]=s(r[S],S,_,d&&d[_])}}else f=[];return c&&(c[l]=f),f}const Bo=r=>r?eu(r)?so(r)||r.proxy:Bo(r.parent):null,qr=Me(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Bo(r.parent),$root:r=>Bo(r.root),$emit:r=>r.emit,$options:r=>cs(r),$forceUpdate:r=>r.f||(r.f=()=>ss(r.update)),$nextTick:r=>r.n||(r.n=Nc.bind(r.proxy)),$watch:r=>bh.bind(r)}),No=(r,s)=>r!==se&&!r.__isScriptSetup&&qt(r,s),Ah={get({_:r},s){const{ctx:c,setupState:l,data:f,props:d,accessCache:w,type:_,appContext:b}=r;let S;if(s[0]!=="$"){const p=w[s];if(p!==void 0)switch(p){case 1:return l[s];case 2:return f[s];case 4:return c[s];case 3:return d[s]}else{if(No(l,s))return w[s]=1,l[s];if(f!==se&&qt(f,s))return w[s]=2,f[s];if((S=r.propsOptions[0])&&qt(S,s))return w[s]=3,d[s];if(c!==se&&qt(c,s))return w[s]=4,c[s];zo&&(w[s]=0)}}const v=qr[s];let h,E;if(v)return s==="$attrs"&&Ze(r,"get",s),v(r);if((h=_.__cssModules)&&(h=h[s]))return h;if(c!==se&&qt(c,s))return w[s]=4,c[s];if(E=b.config.globalProperties,qt(E,s))return E[s]},set({_:r},s,c){const{data:l,setupState:f,ctx:d}=r;return No(f,s)?(f[s]=c,!0):l!==se&&qt(l,s)?(l[s]=c,!0):qt(r.props,s)||s[0]==="$"&&s.slice(1)in r?!1:(d[s]=c,!0)},has({_:{data:r,setupState:s,accessCache:c,ctx:l,appContext:f,propsOptions:d}},w){let _;return!!c[w]||r!==se&&qt(r,w)||No(s,w)||(_=d[0])&&qt(_,w)||qt(l,w)||qt(qr,w)||qt(f.config.globalProperties,w)},defineProperty(r,s,c){return c.get!=null?r._.accessCache[s]=0:qt(c,"value")&&this.set(r,s,c.value,null),Reflect.defineProperty(r,s,c)}};let zo=!0;function Ph(r){const s=cs(r),c=r.proxy,l=r.ctx;zo=!1,s.beforeCreate&&Ua(s.beforeCreate,r,"bc");const{data:f,computed:d,methods:w,watch:_,provide:b,inject:S,created:v,beforeMount:h,mounted:E,beforeUpdate:p,updated:D,activated:R,deactivated:N,beforeDestroy:M,beforeUnmount:z,destroyed:J,unmounted:V,render:K,renderTracked:gt,renderTriggered:G,errorCaptured:ut,serverPrefetch:mt,expose:Z,inheritAttrs:st,components:ft,directives:dt,filters:tt}=s;if(S&&Mh(S,l,null,r.appContext.config.unwrapInjectedRef),w)for(const St in w){const xt=w[St];Ht(xt)&&(l[St]=xt.bind(c))}if(f){const St=f.call(c,c);ae(St)&&(r.data=Lr(St))}if(zo=!0,d)for(const St in d){const xt=d[St],X=Ht(xt)?xt.bind(c,c):Ht(xt.get)?xt.get.bind(c,c):ln,q=!Ht(xt)&&Ht(xt.set)?xt.set.bind(c):ln,ct=ru({get:X,set:q});Object.defineProperty(l,St,{enumerable:!0,configurable:!0,get:()=>ct.value,set:kt=>ct.value=kt})}if(_)for(const St in _)Xc(_[St],l,c,St);if(b){const St=Ht(b)?b.call(c):b;Reflect.ownKeys(St).forEach(xt=>{Eh(xt,St[xt])})}v&&Ua(v,r,"c");function _t(St,xt){jt(xt)?xt.forEach(X=>St(X.bind(c))):xt&&St(xt.bind(c))}if(_t(Ih,h),_t(on,E),_t(Oh,p),_t(Th,D),_t(xh,R),_t(kh,N),_t(Lh,ut),_t(Nh,gt),_t(Dh,G),_t(zc,z),_t(Wc,V),_t(Rh,mt),jt(Z))if(Z.length){const St=r.exposed||(r.exposed={});Z.forEach(xt=>{Object.defineProperty(St,xt,{get:()=>c[xt],set:X=>c[xt]=X})})}else r.exposed||(r.exposed={});K&&r.render===ln&&(r.render=K),st!=null&&(r.inheritAttrs=st),ft&&(r.components=ft),dt&&(r.directives=dt)}function Mh(r,s,c=ln,l=!1){jt(r)&&(r=Wo(r));for(const f in r){const d=r[f];let w;ae(d)?"default"in d?w=Kr(d.from||f,d.default,!0):w=Kr(d.from||f):w=Kr(d),Se(w)&&l?Object.defineProperty(s,f,{enumerable:!0,configurable:!0,get:()=>w.value,set:_=>w.value=_}):s[f]=w}}function Ua(r,s,c){fn(jt(r)?r.map(l=>l.bind(s.proxy)):r.bind(s.proxy),s,c)}function Xc(r,s,c,l){const f=l.includes(".")?Uc(c,l):()=>c[l];if(be(r)){const d=s[r];Ht(d)&&Ai(f,d)}else if(Ht(r))Ai(f,r.bind(c));else if(ae(r))if(jt(r))r.forEach(d=>Xc(d,s,c,l));else{const d=Ht(r.handler)?r.handler.bind(c):s[r.handler];Ht(d)&&Ai(f,d,r)}}function cs(r){const s=r.type,{mixins:c,extends:l}=s,{mixins:f,optionsCache:d,config:{optionMergeStrategies:w}}=r.appContext,_=d.get(s);let b;return _?b=_:!f.length&&!c&&!l?b=s:(b={},f.length&&f.forEach(S=>Hi(b,S,w,!0)),Hi(b,s,w)),ae(s)&&d.set(s,b),b}function Hi(r,s,c,l=!1){const{mixins:f,extends:d}=s;d&&Hi(r,d,c,!0),f&&f.forEach(w=>Hi(r,w,c,!0));for(const w in s)if(!(l&&w==="expose")){const _=Uh[w]||c&&c[w];r[w]=_?_(r[w],s[w]):s[w]}return r}const Uh={data:ja,props:er,emits:er,methods:er,computed:er,beforeCreate:Pe,created:Pe,beforeMount:Pe,mounted:Pe,beforeUpdate:Pe,updated:Pe,beforeDestroy:Pe,beforeUnmount:Pe,destroyed:Pe,unmounted:Pe,activated:Pe,deactivated:Pe,errorCaptured:Pe,serverPrefetch:Pe,components:er,directives:er,watch:Bh,provide:ja,inject:jh};function ja(r,s){return s?r?function(){return Me(Ht(r)?r.call(this,this):r,Ht(s)?s.call(this,this):s)}:s:r}function jh(r,s){return er(Wo(r),Wo(s))}function Wo(r){if(jt(r)){const s={};for(let c=0;c<r.length;c++)s[r[c]]=r[c];return s}return r}function Pe(r,s){return r?[...new Set([].concat(r,s))]:s}function er(r,s){return r?Me(Me(Object.create(null),r),s):s}function Bh(r,s){if(!r)return s;if(!s)return r;const c=Me(Object.create(null),r);for(const l in s)c[l]=Pe(r[l],s[l]);return c}function zh(r,s,c,l=!1){const f={},d={};Ui(d,oo,1),r.propsDefaults=Object.create(null),Yc(r,s,f,d);for(const w in r.propsOptions[0])w in f||(f[w]=void 0);c?r.props=l?f:th(f):r.type.props?r.props=f:r.props=d,r.attrs=d}function Wh(r,s,c,l){const{props:f,attrs:d,vnode:{patchFlag:w}}=r,_=Jt(f),[b]=r.propsOptions;let S=!1;if((l||w>0)&&!(w&16)){if(w&8){const v=r.vnode.dynamicProps;for(let h=0;h<v.length;h++){let E=v[h];if(eo(r.emitsOptions,E))continue;const p=s[E];if(b)if(qt(d,E))p!==d[E]&&(d[E]=p,S=!0);else{const D=Sn(E);f[D]=Ho(b,_,D,p,r,!1)}else p!==d[E]&&(d[E]=p,S=!0)}}}else{Yc(r,s,f,d)&&(S=!0);let v;for(const h in _)(!s||!qt(s,h)&&((v=ur(h))===h||!qt(s,v)))&&(b?c&&(c[h]!==void 0||c[v]!==void 0)&&(f[h]=Ho(b,_,h,void 0,r,!0)):delete f[h]);if(d!==_)for(const h in d)(!s||!qt(s,h))&&(delete d[h],S=!0)}S&&Rn(r,"set","$attrs")}function Yc(r,s,c,l){const[f,d]=r.propsOptions;let w=!1,_;if(s)for(let b in s){if(Li(b))continue;const S=s[b];let v;f&&qt(f,v=Sn(b))?!d||!d.includes(v)?c[v]=S:(_||(_={}))[v]=S:eo(r.emitsOptions,b)||(!(b in l)||S!==l[b])&&(l[b]=S,w=!0)}if(d){const b=Jt(c),S=_||se;for(let v=0;v<d.length;v++){const h=d[v];c[h]=Ho(f,b,h,S[h],r,!qt(S,h))}}return w}function Ho(r,s,c,l,f,d){const w=r[c];if(w!=null){const _=qt(w,"default");if(_&&l===void 0){const b=w.default;if(w.type!==Function&&Ht(b)){const{propsDefaults:S}=f;c in S?l=S[c]:(Rr(f),l=S[c]=b.call(null,s),ar())}else l=b}w[0]&&(d&&!_?l=!1:w[1]&&(l===""||l===ur(c))&&(l=!0))}return l}function Zc(r,s,c=!1){const l=s.propsCache,f=l.get(r);if(f)return f;const d=r.props,w={},_=[];let b=!1;if(!Ht(r)){const v=h=>{b=!0;const[E,p]=Zc(h,s,!0);Me(w,E),p&&_.push(...p)};!c&&s.mixins.length&&s.mixins.forEach(v),r.extends&&v(r.extends),r.mixins&&r.mixins.forEach(v)}if(!d&&!b)return ae(r)&&l.set(r,xr),xr;if(jt(d))for(let v=0;v<d.length;v++){const h=Sn(d[v]);Ba(h)&&(w[h]=se)}else if(d)for(const v in d){const h=Sn(v);if(Ba(h)){const E=d[v],p=w[h]=jt(E)||Ht(E)?{type:E}:Object.assign({},E);if(p){const D=Ha(Boolean,p.type),R=Ha(String,p.type);p[0]=D>-1,p[1]=R<0||D<R,(D>-1||qt(p,"default"))&&_.push(h)}}}const S=[w,_];return ae(r)&&l.set(r,S),S}function Ba(r){return r[0]!=="$"}function za(r){const s=r&&r.toString().match(/^\s*(function|class) (\w+)/);return s?s[2]:r===null?"null":""}function Wa(r,s){return za(r)===za(s)}function Ha(r,s){return jt(s)?s.findIndex(c=>Wa(c,r)):Ht(s)&&Wa(s,r)?0:-1}const Kc=r=>r[0]==="_"||r==="$stable",us=r=>jt(r)?r.map(mn):[mn(r)],Hh=(r,s,c)=>{if(s._n)return s;const l=yh((...f)=>us(s(...f)),c);return l._c=!1,l},qc=(r,s,c)=>{const l=r._ctx;for(const f in r){if(Kc(f))continue;const d=r[f];if(Ht(d))s[f]=Hh(f,d,l);else if(d!=null){const w=us(d);s[f]=()=>w}}},Jc=(r,s)=>{const c=us(s);r.slots.default=()=>c},Vh=(r,s)=>{if(r.vnode.shapeFlag&32){const c=s._;c?(r.slots=Jt(s),Ui(s,"_",c)):qc(s,r.slots={})}else r.slots={},s&&Jc(r,s);Ui(r.slots,oo,1)},Xh=(r,s,c)=>{const{vnode:l,slots:f}=r;let d=!0,w=se;if(l.shapeFlag&32){const _=s._;_?c&&_===1?d=!1:(Me(f,s),!c&&_===1&&delete f._):(d=!s.$stable,qc(s,f)),w=s}else s&&(Jc(r,s),w={default:1});if(d)for(const _ in f)!Kc(_)&&!(_ in w)&&delete f[_]};function Gc(){return{app:null,config:{isNativeTag:mf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yh=0;function Zh(r,s){return function(l,f=null){Ht(l)||(l=Object.assign({},l)),f!=null&&!ae(f)&&(f=null);const d=Gc(),w=new Set;let _=!1;const b=d.app={_uid:Yh++,_component:l,_props:f,_container:null,_context:d,_instance:null,version:pd,get config(){return d.config},set config(S){},use(S,...v){return w.has(S)||(S&&Ht(S.install)?(w.add(S),S.install(b,...v)):Ht(S)&&(w.add(S),S(b,...v))),b},mixin(S){return d.mixins.includes(S)||d.mixins.push(S),b},component(S,v){return v?(d.components[S]=v,b):d.components[S]},directive(S,v){return v?(d.directives[S]=v,b):d.directives[S]},mount(S,v,h){if(!_){const E=rn(l,f);return E.appContext=d,v&&s?s(E,S):r(E,S,h),_=!0,b._container=S,S.__vue_app__=b,so(E.component)||E.component.proxy}},unmount(){_&&(r(null,b._container),delete b._container.__vue_app__)},provide(S,v){return d.provides[S]=v,b}};return b}}function Vo(r,s,c,l,f=!1){if(jt(r)){r.forEach((E,p)=>Vo(E,s&&(jt(s)?s[p]:s),c,l,f));return}if(Pi(l)&&!f)return;const d=l.shapeFlag&4?so(l.component)||l.component.proxy:l.el,w=f?null:d,{i:_,r:b}=r,S=s&&s.r,v=_.refs===se?_.refs={}:_.refs,h=_.setupState;if(S!=null&&S!==b&&(be(S)?(v[S]=null,qt(h,S)&&(h[S]=null)):Se(S)&&(S.value=null)),Ht(b))Wn(b,_,12,[w,v]);else{const E=be(b),p=Se(b);if(E||p){const D=()=>{if(r.f){const R=E?qt(h,b)?h[b]:v[b]:b.value;f?jt(R)&&Jo(R,d):jt(R)?R.includes(d)||R.push(d):E?(v[b]=[d],qt(h,b)&&(h[b]=v[b])):(b.value=[d],r.k&&(v[r.k]=b.value))}else E?(v[b]=w,qt(h,b)&&(h[b]=w)):p&&(b.value=w,r.k&&(v[r.k]=w))};w?(D.id=-1,Ye(D,c)):D()}}}const Ye=Sh;function Kh(r){return qh(r)}function qh(r,s){const c=xf();c.__VUE__=!0;const{insert:l,remove:f,patchProp:d,createElement:w,createText:_,createComment:b,setText:S,setElementText:v,parentNode:h,nextSibling:E,setScopeId:p=ln,insertStaticContent:D}=r,R=(T,P,W,B=null,rt=null,Q=null,vt=!1,lt=null,pt=!!P.dynamicChildren)=>{if(T===P)return;T&&!Xr(T,P)&&(B=Qt(T),kt(T,rt,Q,!0),T=null),P.patchFlag===-2&&(pt=!1,P.dynamicChildren=null);const{type:k,ref:g,shapeFlag:m}=P;switch(k){case io:N(T,P,W,B);break;case cr:M(T,P,W,B);break;case Lo:T==null&&z(P,W,B,vt);break;case pe:ft(T,P,W,B,rt,Q,vt,lt,pt);break;default:m&1?K(T,P,W,B,rt,Q,vt,lt,pt):m&6?dt(T,P,W,B,rt,Q,vt,lt,pt):(m&64||m&128)&&k.process(T,P,W,B,rt,Q,vt,lt,pt,C)}g!=null&&rt&&Vo(g,T&&T.ref,Q,P||T,!P)},N=(T,P,W,B)=>{if(T==null)l(P.el=_(P.children),W,B);else{const rt=P.el=T.el;P.children!==T.children&&S(rt,P.children)}},M=(T,P,W,B)=>{T==null?l(P.el=b(P.children||""),W,B):P.el=T.el},z=(T,P,W,B)=>{[T.el,T.anchor]=D(T.children,P,W,B,T.el,T.anchor)},J=({el:T,anchor:P},W,B)=>{let rt;for(;T&&T!==P;)rt=E(T),l(T,W,B),T=rt;l(P,W,B)},V=({el:T,anchor:P})=>{let W;for(;T&&T!==P;)W=E(T),f(T),T=W;f(P)},K=(T,P,W,B,rt,Q,vt,lt,pt)=>{vt=vt||P.type==="svg",T==null?gt(P,W,B,rt,Q,vt,lt,pt):mt(T,P,rt,Q,vt,lt,pt)},gt=(T,P,W,B,rt,Q,vt,lt)=>{let pt,k;const{type:g,props:m,shapeFlag:O,transition:j,dirs:Y}=T;if(pt=T.el=w(T.type,Q,m&&m.is,m),O&8?v(pt,T.children):O&16&&ut(T.children,pt,null,B,rt,Q&&g!=="foreignObject",vt,lt),Y&&$n(T,null,B,"created"),G(pt,T,T.scopeId,vt,B),m){for(const It in m)It!=="value"&&!Li(It)&&d(pt,It,null,m[It],Q,T.children,B,rt,Bt);"value"in m&&d(pt,"value",null,m.value),(k=m.onVnodeBeforeMount)&&gn(k,B,T)}Y&&$n(T,null,B,"beforeMount");const et=(!rt||rt&&!rt.pendingBranch)&&j&&!j.persisted;et&&j.beforeEnter(pt),l(pt,P,W),((k=m&&m.onVnodeMounted)||et||Y)&&Ye(()=>{k&&gn(k,B,T),et&&j.enter(pt),Y&&$n(T,null,B,"mounted")},rt)},G=(T,P,W,B,rt)=>{if(W&&p(T,W),B)for(let Q=0;Q<B.length;Q++)p(T,B[Q]);if(rt){let Q=rt.subTree;if(P===Q){const vt=rt.vnode;G(T,vt,vt.scopeId,vt.slotScopeIds,rt.parent)}}},ut=(T,P,W,B,rt,Q,vt,lt,pt=0)=>{for(let k=pt;k<T.length;k++){const g=T[k]=lt?Un(T[k]):mn(T[k]);R(null,g,P,W,B,rt,Q,vt,lt)}},mt=(T,P,W,B,rt,Q,vt)=>{const lt=P.el=T.el;let{patchFlag:pt,dynamicChildren:k,dirs:g}=P;pt|=T.patchFlag&16;const m=T.props||se,O=P.props||se;let j;W&&tr(W,!1),(j=O.onVnodeBeforeUpdate)&&gn(j,W,P,T),g&&$n(P,T,W,"beforeUpdate"),W&&tr(W,!0);const Y=rt&&P.type!=="foreignObject";if(k?Z(T.dynamicChildren,k,lt,W,B,Y,Q):vt||xt(T,P,lt,null,W,B,Y,Q,!1),pt>0){if(pt&16)st(lt,P,m,O,W,B,rt);else if(pt&2&&m.class!==O.class&&d(lt,"class",null,O.class,rt),pt&4&&d(lt,"style",m.style,O.style,rt),pt&8){const et=P.dynamicProps;for(let It=0;It<et.length;It++){const Ct=et[It],Vt=m[Ct],$t=O[Ct];($t!==Vt||Ct==="value")&&d(lt,Ct,Vt,$t,rt,T.children,W,B,Bt)}}pt&1&&T.children!==P.children&&v(lt,P.children)}else!vt&&k==null&&st(lt,P,m,O,W,B,rt);((j=O.onVnodeUpdated)||g)&&Ye(()=>{j&&gn(j,W,P,T),g&&$n(P,T,W,"updated")},B)},Z=(T,P,W,B,rt,Q,vt)=>{for(let lt=0;lt<P.length;lt++){const pt=T[lt],k=P[lt],g=pt.el&&(pt.type===pe||!Xr(pt,k)||pt.shapeFlag&70)?h(pt.el):W;R(pt,k,g,null,B,rt,Q,vt,!0)}},st=(T,P,W,B,rt,Q,vt)=>{if(W!==B){if(W!==se)for(const lt in W)!Li(lt)&&!(lt in B)&&d(T,lt,W[lt],null,vt,P.children,rt,Q,Bt);for(const lt in B){if(Li(lt))continue;const pt=B[lt],k=W[lt];pt!==k&&lt!=="value"&&d(T,lt,k,pt,vt,P.children,rt,Q,Bt)}"value"in B&&d(T,"value",W.value,B.value)}},ft=(T,P,W,B,rt,Q,vt,lt,pt)=>{const k=P.el=T?T.el:_(""),g=P.anchor=T?T.anchor:_("");let{patchFlag:m,dynamicChildren:O,slotScopeIds:j}=P;j&&(lt=lt?lt.concat(j):j),T==null?(l(k,W,B),l(g,W,B),ut(P.children,W,g,rt,Q,vt,lt,pt)):m>0&&m&64&&O&&T.dynamicChildren?(Z(T.dynamicChildren,O,W,rt,Q,vt,lt),(P.key!=null||rt&&P===rt.subTree)&&Qc(T,P,!0)):xt(T,P,W,g,rt,Q,vt,lt,pt)},dt=(T,P,W,B,rt,Q,vt,lt,pt)=>{P.slotScopeIds=lt,T==null?P.shapeFlag&512?rt.ctx.activate(P,W,B,vt,pt):tt(P,W,B,rt,Q,vt,pt):Ft(T,P,pt)},tt=(T,P,W,B,rt,Q,vt)=>{const lt=T.component=od(T,B,rt);if(jc(T)&&(lt.ctx.renderer=C),sd(lt),lt.asyncDep){if(rt&&rt.registerDep(lt,_t),!T.el){const pt=lt.subTree=rn(cr);M(null,pt,P,W)}return}_t(lt,T,P,W,rt,Q,vt)},Ft=(T,P,W)=>{const B=P.component=T.component;if(mh(T,P,W))if(B.asyncDep&&!B.asyncResolved){St(B,P,W);return}else B.next=P,fh(B.update),B.update();else P.el=T.el,B.vnode=P},_t=(T,P,W,B,rt,Q,vt)=>{const lt=()=>{if(T.isMounted){let{next:g,bu:m,u:O,parent:j,vnode:Y}=T,et=g,It;tr(T,!1),g?(g.el=Y.el,St(T,g,vt)):g=Y,m&&Ci(m),(It=g.props&&g.props.onVnodeBeforeUpdate)&&gn(It,j,g,Y),tr(T,!0);const Ct=Do(T),Vt=T.subTree;T.subTree=Ct,R(Vt,Ct,h(Vt.el),Qt(Vt),T,rt,Q),g.el=Ct.el,et===null&&_h(T,Ct.el),O&&Ye(O,rt),(It=g.props&&g.props.onVnodeUpdated)&&Ye(()=>gn(It,j,g,Y),rt)}else{let g;const{el:m,props:O}=P,{bm:j,m:Y,parent:et}=T,It=Pi(P);if(tr(T,!1),j&&Ci(j),!It&&(g=O&&O.onVnodeBeforeMount)&&gn(g,et,P),tr(T,!0),m&&at){const Ct=()=>{T.subTree=Do(T),at(m,T.subTree,T,rt,null)};It?P.type.__asyncLoader().then(()=>!T.isUnmounted&&Ct()):Ct()}else{const Ct=T.subTree=Do(T);R(null,Ct,W,B,T,rt,Q),P.el=Ct.el}if(Y&&Ye(Y,rt),!It&&(g=O&&O.onVnodeMounted)){const Ct=P;Ye(()=>gn(g,et,Ct),rt)}(P.shapeFlag&256||et&&Pi(et.vnode)&&et.vnode.shapeFlag&256)&&T.a&&Ye(T.a,rt),T.isMounted=!0,P=W=B=null}},pt=T.effect=new $o(lt,()=>ss(k),T.scope),k=T.update=()=>pt.run();k.id=T.uid,tr(T,!0),k()},St=(T,P,W)=>{P.component=T;const B=T.vnode.props;T.vnode=P,T.next=null,Wh(T,P.props,B,W),Xh(T,P.children,W),Dr(),Aa(),Nr()},xt=(T,P,W,B,rt,Q,vt,lt,pt=!1)=>{const k=T&&T.children,g=T?T.shapeFlag:0,m=P.children,{patchFlag:O,shapeFlag:j}=P;if(O>0){if(O&128){q(k,m,W,B,rt,Q,vt,lt,pt);return}else if(O&256){X(k,m,W,B,rt,Q,vt,lt,pt);return}}j&8?(g&16&&Bt(k,rt,Q),m!==k&&v(W,m)):g&16?j&16?q(k,m,W,B,rt,Q,vt,lt,pt):Bt(k,rt,Q,!0):(g&8&&v(W,""),j&16&&ut(m,W,B,rt,Q,vt,lt,pt))},X=(T,P,W,B,rt,Q,vt,lt,pt)=>{T=T||xr,P=P||xr;const k=T.length,g=P.length,m=Math.min(k,g);let O;for(O=0;O<m;O++){const j=P[O]=pt?Un(P[O]):mn(P[O]);R(T[O],j,W,null,rt,Q,vt,lt,pt)}k>g?Bt(T,rt,Q,!0,!1,m):ut(P,W,B,rt,Q,vt,lt,pt,m)},q=(T,P,W,B,rt,Q,vt,lt,pt)=>{let k=0;const g=P.length;let m=T.length-1,O=g-1;for(;k<=m&&k<=O;){const j=T[k],Y=P[k]=pt?Un(P[k]):mn(P[k]);if(Xr(j,Y))R(j,Y,W,null,rt,Q,vt,lt,pt);else break;k++}for(;k<=m&&k<=O;){const j=T[m],Y=P[O]=pt?Un(P[O]):mn(P[O]);if(Xr(j,Y))R(j,Y,W,null,rt,Q,vt,lt,pt);else break;m--,O--}if(k>m){if(k<=O){const j=O+1,Y=j<g?P[j].el:B;for(;k<=O;)R(null,P[k]=pt?Un(P[k]):mn(P[k]),W,Y,rt,Q,vt,lt,pt),k++}}else if(k>O)for(;k<=m;)kt(T[k],rt,Q,!0),k++;else{const j=k,Y=k,et=new Map;for(k=Y;k<=O;k++){const ye=P[k]=pt?Un(P[k]):mn(P[k]);ye.key!=null&&et.set(ye.key,k)}let It,Ct=0;const Vt=O-Y+1;let $t=!1,Xt=0;const Te=new Array(Vt);for(k=0;k<Vt;k++)Te[k]=0;for(k=j;k<=m;k++){const ye=T[k];if(Ct>=Vt){kt(ye,rt,Q,!0);continue}let ke;if(ye.key!=null)ke=et.get(ye.key);else for(It=Y;It<=O;It++)if(Te[It-Y]===0&&Xr(ye,P[It])){ke=It;break}ke===void 0?kt(ye,rt,Q,!0):(Te[ke-Y]=k+1,ke>=Xt?Xt=ke:$t=!0,R(ye,P[ke],W,null,rt,Q,vt,lt,pt),Ct++)}const En=$t?Jh(Te):xr;for(It=En.length-1,k=Vt-1;k>=0;k--){const ye=Y+k,ke=P[ye],fr=ye+1<g?P[ye+1].el:B;Te[k]===0?R(null,ke,W,fr,rt,Q,vt,lt,pt):$t&&(It<0||k!==En[It]?ct(ke,W,fr,2):It--)}}},ct=(T,P,W,B,rt=null)=>{const{el:Q,type:vt,transition:lt,children:pt,shapeFlag:k}=T;if(k&6){ct(T.component.subTree,P,W,B);return}if(k&128){T.suspense.move(P,W,B);return}if(k&64){vt.move(T,P,W,C);return}if(vt===pe){l(Q,P,W);for(let m=0;m<pt.length;m++)ct(pt[m],P,W,B);l(T.anchor,P,W);return}if(vt===Lo){J(T,P,W);return}if(B!==2&&k&1&&lt)if(B===0)lt.beforeEnter(Q),l(Q,P,W),Ye(()=>lt.enter(Q),rt);else{const{leave:m,delayLeave:O,afterLeave:j}=lt,Y=()=>l(Q,P,W),et=()=>{m(Q,()=>{Y(),j&&j()})};O?O(Q,Y,et):et()}else l(Q,P,W)},kt=(T,P,W,B=!1,rt=!1)=>{const{type:Q,props:vt,ref:lt,children:pt,dynamicChildren:k,shapeFlag:g,patchFlag:m,dirs:O}=T;if(lt!=null&&Vo(lt,null,W,T,!0),g&256){P.ctx.deactivate(T);return}const j=g&1&&O,Y=!Pi(T);let et;if(Y&&(et=vt&&vt.onVnodeBeforeUnmount)&&gn(et,P,T),g&6)Mt(T.component,W,B);else{if(g&128){T.suspense.unmount(W,B);return}j&&$n(T,null,P,"beforeUnmount"),g&64?T.type.remove(T,P,W,rt,C,B):k&&(Q!==pe||m>0&&m&64)?Bt(k,P,W,!1,!0):(Q===pe&&m&384||!rt&&g&16)&&Bt(pt,P,W),B&&zt(T)}(Y&&(et=vt&&vt.onVnodeUnmounted)||j)&&Ye(()=>{et&&gn(et,P,T),j&&$n(T,null,P,"unmounted")},W)},zt=T=>{const{type:P,el:W,anchor:B,transition:rt}=T;if(P===pe){Pt(W,B);return}if(P===Lo){V(T);return}const Q=()=>{f(W),rt&&!rt.persisted&&rt.afterLeave&&rt.afterLeave()};if(T.shapeFlag&1&&rt&&!rt.persisted){const{leave:vt,delayLeave:lt}=rt,pt=()=>vt(W,Q);lt?lt(T.el,Q,pt):pt()}else Q()},Pt=(T,P)=>{let W;for(;T!==P;)W=E(T),f(T),T=W;f(P)},Mt=(T,P,W)=>{const{bum:B,scope:rt,update:Q,subTree:vt,um:lt}=T;B&&Ci(B),rt.stop(),Q&&(Q.active=!1,kt(vt,T,P,W)),lt&&Ye(lt,P),Ye(()=>{T.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},Bt=(T,P,W,B=!1,rt=!1,Q=0)=>{for(let vt=Q;vt<T.length;vt++)kt(T[vt],P,W,B,rt)},Qt=T=>T.shapeFlag&6?Qt(T.component.subTree):T.shapeFlag&128?T.suspense.next():E(T.anchor||T.el),Yt=(T,P,W)=>{T==null?P._vnode&&kt(P._vnode,null,null,!0):R(P._vnode||null,T,P,null,null,null,W),Aa(),Cc(),P._vnode=T},C={p:R,um:kt,m:ct,r:zt,mt:tt,mc:ut,pc:xt,pbc:Z,n:Qt,o:r};let A,at;return s&&([A,at]=s(C)),{render:Yt,hydrate:A,createApp:Zh(Yt,A)}}function tr({effect:r,update:s},c){r.allowRecurse=s.allowRecurse=c}function Qc(r,s,c=!1){const l=r.children,f=s.children;if(jt(l)&&jt(f))for(let d=0;d<l.length;d++){const w=l[d];let _=f[d];_.shapeFlag&1&&!_.dynamicChildren&&((_.patchFlag<=0||_.patchFlag===32)&&(_=f[d]=Un(f[d]),_.el=w.el),c||Qc(w,_)),_.type===io&&(_.el=w.el)}}function Jh(r){const s=r.slice(),c=[0];let l,f,d,w,_;const b=r.length;for(l=0;l<b;l++){const S=r[l];if(S!==0){if(f=c[c.length-1],r[f]<S){s[l]=f,c.push(l);continue}for(d=0,w=c.length-1;d<w;)_=d+w>>1,r[c[_]]<S?d=_+1:w=_;S<r[c[d]]&&(d>0&&(s[l]=c[d-1]),c[d]=l)}}for(d=c.length,w=c[d-1];d-- >0;)c[d]=w,w=s[w];return c}const Gh=r=>r.__isTeleport,pe=Symbol(void 0),io=Symbol(void 0),cr=Symbol(void 0),Lo=Symbol(void 0),Jr=[];let un=null;function Ot(r=!1){Jr.push(un=r?null:[])}function Qh(){Jr.pop(),un=Jr[Jr.length-1]||null}let ii=1;function Va(r){ii+=r}function $c(r){return r.dynamicChildren=ii>0?un||xr:null,Qh(),ii>0&&un&&un.push(r),r}function Dt(r,s,c,l,f,d){return $c(L(r,s,c,l,f,d,!0))}function ci(r,s,c,l,f){return $c(rn(r,s,c,l,f,!0))}function $h(r){return r?r.__v_isVNode===!0:!1}function Xr(r,s){return r.type===s.type&&r.key===s.key}const oo="__vInternal",tu=({key:r})=>r??null,Mi=({ref:r,ref_key:s,ref_for:c})=>r!=null?be(r)||Se(r)||Ht(r)?{i:Qe,r,k:s,f:!!c}:r:null;function L(r,s=null,c=null,l=0,f=null,d=r===pe?0:1,w=!1,_=!1){const b={__v_isVNode:!0,__v_skip:!0,type:r,props:s,key:s&&tu(s),ref:s&&Mi(s),scopeId:no,slotScopeIds:null,children:c,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:l,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:Qe};return _?(fs(b,c),d&128&&r.normalize(b)):c&&(b.shapeFlag|=be(c)?8:16),ii>0&&!w&&un&&(b.patchFlag>0||d&6)&&b.patchFlag!==32&&un.push(b),b}const rn=td;function td(r,s=null,c=null,l=0,f=null,d=!1){if((!r||r===Vc)&&(r=cr),$h(r)){const _=Tr(r,s,!0);return c&&fs(_,c),ii>0&&!d&&un&&(_.shapeFlag&6?un[un.indexOf(r)]=_:un.push(_)),_.patchFlag|=-2,_}if(fd(r)&&(r=r.__vccOpts),s){s=ed(s);let{class:_,style:b}=s;_&&!be(_)&&(s.class=Oe(_)),ae(b)&&(Fc(b)&&!jt(b)&&(b=Me({},b)),s.style=Zi(b))}const w=be(r)?1:wh(r)?128:Gh(r)?64:ae(r)?4:Ht(r)?2:0;return L(r,s,c,l,f,w,d,!0)}function ed(r){return r?Fc(r)||oo in r?Me({},r):r:null}function Tr(r,s,c=!1){const{props:l,ref:f,patchFlag:d,children:w}=r,_=s?nd(l||{},s):l;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:_,key:_&&tu(_),ref:s&&s.ref?c&&f?jt(f)?f.concat(Mi(s)):[f,Mi(s)]:Mi(s):f,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:w,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:s&&r.type!==pe?d===-1?16:d|16:d,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Tr(r.ssContent),ssFallback:r.ssFallback&&Tr(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce}}function ls(r=" ",s=0){return rn(io,null,r,s)}function Gt(r="",s=!1){return s?(Ot(),ci(cr,null,r)):rn(cr,null,r)}function mn(r){return r==null||typeof r=="boolean"?rn(cr):jt(r)?rn(pe,null,r.slice()):typeof r=="object"?Un(r):rn(io,null,String(r))}function Un(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Tr(r)}function fs(r,s){let c=0;const{shapeFlag:l}=r;if(s==null)s=null;else if(jt(s))c=16;else if(typeof s=="object")if(l&65){const f=s.default;f&&(f._c&&(f._d=!1),fs(r,f()),f._c&&(f._d=!0));return}else{c=32;const f=s._;!f&&!(oo in s)?s._ctx=Qe:f===3&&Qe&&(Qe.slots._===1?s._=1:(s._=2,r.patchFlag|=1024))}else Ht(s)?(s={default:s,_ctx:Qe},c=32):(s=String(s),l&64?(c=16,s=[ls(s)]):c=8);r.children=s,r.shapeFlag|=c}function nd(...r){const s={};for(let c=0;c<r.length;c++){const l=r[c];for(const f in l)if(f==="class")s.class!==l.class&&(s.class=Oe([s.class,l.class]));else if(f==="style")s.style=Zi([s.style,l.style]);else if(qi(f)){const d=s[f],w=l[f];w&&d!==w&&!(jt(d)&&d.includes(w))&&(s[f]=d?[].concat(d,w):w)}else f!==""&&(s[f]=l[f])}return s}function gn(r,s,c,l=null){fn(r,s,7,[c,l])}const rd=Gc();let id=0;function od(r,s,c){const l=r.type,f=(s?s.appContext:r.appContext)||rd,d={uid:id++,vnode:r,type:l,parent:s,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new hc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zc(l,f),emitsOptions:Pc(l,f),emit:null,emitted:null,propsDefaults:se,inheritAttrs:l.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:c,suspenseId:c?c.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=s?s.root:d,d.emit=ph.bind(null,d),r.ce&&r.ce(d),d}let we=null;const Ce=()=>we||Qe,Rr=r=>{we=r,r.scope.on()},ar=()=>{we&&we.scope.off(),we=null};function eu(r){return r.vnode.shapeFlag&4}let oi=!1;function sd(r,s=!1){oi=s;const{props:c,children:l}=r.vnode,f=eu(r);zh(r,c,f,s),Vh(r,l);const d=f?ad(r,s):void 0;return oi=!1,d}function ad(r,s){const c=r.type;r.accessCache=Object.create(null),r.proxy=Or(new Proxy(r.ctx,Ah));const{setup:l}=c;if(l){const f=r.setupContext=l.length>1?ud(r):null;Rr(r),Dr();const d=Wn(l,r,0,[r.props,f]);if(Nr(),ar(),uc(d)){if(d.then(ar,ar),s)return d.then(w=>{Xa(r,w,s)}).catch(w=>{to(w,r,0)});r.asyncDep=d}else Xa(r,d,s)}else nu(r,s)}function Xa(r,s,c){Ht(s)?r.type.__ssrInlineRender?r.ssrRender=s:r.render=s:ae(s)&&(r.setupState=Tc(s)),nu(r,c)}let Ya;function nu(r,s,c){const l=r.type;if(!r.render){if(!s&&Ya&&!l.render){const f=l.template||cs(r).template;if(f){const{isCustomElement:d,compilerOptions:w}=r.appContext.config,{delimiters:_,compilerOptions:b}=l,S=Me(Me({isCustomElement:d,delimiters:_},w),b);l.render=Ya(f,S)}}r.render=l.render||ln}Rr(r),Dr(),Ph(r),Nr(),ar()}function cd(r){return new Proxy(r.attrs,{get(s,c){return Ze(r,"get","$attrs"),s[c]}})}function ud(r){const s=l=>{r.exposed=l||{}};let c;return{get attrs(){return c||(c=cd(r))},slots:r.slots,emit:r.emit,expose:s}}function so(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Tc(Or(r.exposed)),{get(s,c){if(c in s)return s[c];if(c in qr)return qr[c](r)},has(s,c){return c in s||c in qr}}))}function ld(r,s=!0){return Ht(r)?r.displayName||r.name:r.name||s&&r.__name}function fd(r){return Ht(r)&&"__vccOpts"in r}const ru=(r,s)=>ch(r,s,oi),hd=Symbol(""),dd=()=>Kr(hd),pd="3.2.47",yd="http://www.w3.org/2000/svg",rr=typeof document<"u"?document:null,Za=rr&&rr.createElement("template"),vd={insert:(r,s,c)=>{s.insertBefore(r,c||null)},remove:r=>{const s=r.parentNode;s&&s.removeChild(r)},createElement:(r,s,c,l)=>{const f=s?rr.createElementNS(yd,r):rr.createElement(r,c?{is:c}:void 0);return r==="select"&&l&&l.multiple!=null&&f.setAttribute("multiple",l.multiple),f},createText:r=>rr.createTextNode(r),createComment:r=>rr.createComment(r),setText:(r,s)=>{r.nodeValue=s},setElementText:(r,s)=>{r.textContent=s},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>rr.querySelector(r),setScopeId(r,s){r.setAttribute(s,"")},insertStaticContent(r,s,c,l,f,d){const w=c?c.previousSibling:s.lastChild;if(f&&(f===d||f.nextSibling))for(;s.insertBefore(f.cloneNode(!0),c),!(f===d||!(f=f.nextSibling)););else{Za.innerHTML=l?`<svg>${r}</svg>`:r;const _=Za.content;if(l){const b=_.firstChild;for(;b.firstChild;)_.appendChild(b.firstChild);_.removeChild(b)}s.insertBefore(_,c)}return[w?w.nextSibling:s.firstChild,c?c.previousSibling:s.lastChild]}};function gd(r,s,c){const l=r._vtc;l&&(s=(s?[s,...l]:[...l]).join(" ")),s==null?r.removeAttribute("class"):c?r.setAttribute("class",s):r.className=s}function md(r,s,c){const l=r.style,f=be(c);if(c&&!f){if(s&&!be(s))for(const d in s)c[d]==null&&Xo(l,d,"");for(const d in c)Xo(l,d,c[d])}else{const d=l.display;f?s!==c&&(l.cssText=c):s&&r.removeAttribute("style"),"_vod"in r&&(l.display=d)}}const Ka=/\s*!important$/;function Xo(r,s,c){if(jt(c))c.forEach(l=>Xo(r,s,l));else if(c==null&&(c=""),s.startsWith("--"))r.setProperty(s,c);else{const l=_d(r,s);Ka.test(c)?r.setProperty(ur(l),c.replace(Ka,""),"important"):r[l]=c}}const qa=["Webkit","Moz","ms"],Co={};function _d(r,s){const c=Co[s];if(c)return c;let l=Sn(s);if(l!=="filter"&&l in r)return Co[s]=l;l=Qi(l);for(let f=0;f<qa.length;f++){const d=qa[f]+l;if(d in r)return Co[s]=d}return s}const Ja="http://www.w3.org/1999/xlink";function wd(r,s,c,l,f){if(l&&s.startsWith("xlink:"))c==null?r.removeAttributeNS(Ja,s.slice(6,s.length)):r.setAttributeNS(Ja,s,c);else{const d=yf(s);c==null||d&&!ac(c)?r.removeAttribute(s):r.setAttribute(s,d?"":c)}}function Sd(r,s,c,l,f,d,w){if(s==="innerHTML"||s==="textContent"){l&&w(l,f,d),r[s]=c??"";return}if(s==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=c;const b=c??"";(r.value!==b||r.tagName==="OPTION")&&(r.value=b),c==null&&r.removeAttribute(s);return}let _=!1;if(c===""||c==null){const b=typeof r[s];b==="boolean"?c=ac(c):c==null&&b==="string"?(c="",_=!0):b==="number"&&(c=0,_=!0)}try{r[s]=c}catch{}_&&r.removeAttribute(s)}function ir(r,s,c,l){r.addEventListener(s,c,l)}function Ed(r,s,c,l){r.removeEventListener(s,c,l)}function bd(r,s,c,l,f=null){const d=r._vei||(r._vei={}),w=d[s];if(l&&w)w.value=l;else{const[_,b]=xd(s);if(l){const S=d[s]=Id(l,f);ir(r,_,S,b)}else w&&(Ed(r,_,w,b),d[s]=void 0)}}const Ga=/(?:Once|Passive|Capture)$/;function xd(r){let s;if(Ga.test(r)){s={};let l;for(;l=r.match(Ga);)r=r.slice(0,r.length-l[0].length),s[l[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):ur(r.slice(2)),s]}let Ao=0;const kd=Promise.resolve(),Fd=()=>Ao||(kd.then(()=>Ao=0),Ao=Date.now());function Id(r,s){const c=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=c.attached)return;fn(Od(l,c.value),s,5,[l])};return c.value=r,c.attached=Fd(),c}function Od(r,s){if(jt(s)){const c=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{c.call(r),r._stopped=!0},s.map(l=>f=>!f._stopped&&l&&l(f))}else return s}const Qa=/^on[a-z]/,Td=(r,s,c,l,f=!1,d,w,_,b)=>{s==="class"?gd(r,l,f):s==="style"?md(r,c,l):qi(s)?qo(s)||bd(r,s,c,l,w):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Rd(r,s,l,f))?Sd(r,s,l,d,w,_,b):(s==="true-value"?r._trueValue=l:s==="false-value"&&(r._falseValue=l),wd(r,s,l,f))};function Rd(r,s,c,l){return l?!!(s==="innerHTML"||s==="textContent"||s in r&&Qa.test(s)&&Ht(c)):s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&r.tagName==="INPUT"||s==="type"&&r.tagName==="TEXTAREA"||Qa.test(s)&&be(c)?!1:s in r}const Vi=r=>{const s=r.props["onUpdate:modelValue"]||!1;return jt(s)?c=>Ci(s,c):s};function Dd(r){r.target.composing=!0}function $a(r){const s=r.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const _e={created(r,{modifiers:{lazy:s,trim:c,number:l}},f){r._assign=Vi(f);const d=l||f.props&&f.props.type==="number";ir(r,s?"change":"input",w=>{if(w.target.composing)return;let _=r.value;c&&(_=_.trim()),d&&(_=ji(_)),r._assign(_)}),c&&ir(r,"change",()=>{r.value=r.value.trim()}),s||(ir(r,"compositionstart",Dd),ir(r,"compositionend",$a),ir(r,"change",$a))},mounted(r,{value:s}){r.value=s??""},beforeUpdate(r,{value:s,modifiers:{lazy:c,trim:l,number:f}},d){if(r._assign=Vi(d),r.composing||document.activeElement===r&&r.type!=="range"&&(c||l&&r.value.trim()===s||(f||r.type==="number")&&ji(r.value)===s))return;const w=s??"";r.value!==w&&(r.value=w)}},tc={deep:!0,created(r,{value:s,modifiers:{number:c}},l){const f=Ji(s);ir(r,"change",()=>{const d=Array.prototype.filter.call(r.options,w=>w.selected).map(w=>c?ji(Xi(w)):Xi(w));r._assign(r.multiple?f?new Set(d):d:d[0])}),r._assign=Vi(l)},mounted(r,{value:s}){ec(r,s)},beforeUpdate(r,s,c){r._assign=Vi(c)},updated(r,{value:s}){ec(r,s)}};function ec(r,s){const c=r.multiple;if(!(c&&!jt(s)&&!Ji(s))){for(let l=0,f=r.options.length;l<f;l++){const d=r.options[l],w=Xi(d);if(c)jt(s)?d.selected=gf(s,w)>-1:d.selected=s.has(w);else if(Ki(Xi(d),s)){r.selectedIndex!==l&&(r.selectedIndex=l);return}}!c&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}}function Xi(r){return"_value"in r?r._value:r.value}const Nd=["ctrl","shift","alt","meta"],Ld={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,s)=>Nd.some(c=>r[`${c}Key`]&&!s.includes(c))},nc=(r,s)=>(c,...l)=>{for(let f=0;f<s.length;f++){const d=Ld[s[f]];if(d&&d(c,s))return}return r(c,...l)},Cd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},wn=(r,s)=>c=>{if(!("key"in c))return;const l=ur(c.key);if(s.some(f=>f===l||Cd[f]===l))return r(c)},Ad=Me({patchProp:Td},vd);let rc;function Pd(){return rc||(rc=Kh(Ad))}const Md=(...r)=>{const s=Pd().createApp(...r),{mount:c}=s;return s.mount=l=>{const f=Ud(l);if(!f)return;const d=s._component;!Ht(d)&&!d.render&&!d.template&&(d.template=f.innerHTML),f.innerHTML="";const w=c(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),w},s};function Ud(r){return be(r)?document.querySelector(r):r}var jd=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let iu;const ao=r=>iu=r,ou=Symbol();function Yo(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Gr;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Gr||(Gr={}));function Bd(){const r=dc(!0),s=r.run(()=>wt({}));let c=[],l=[];const f=Or({install(d){ao(f),f._a=d,d.provide(ou,f),d.config.globalProperties.$pinia=f,l.forEach(w=>c.push(w)),l=[]},use(d){return!this._a&&!jd?l.push(d):c.push(d),this},_p:c,_a:null,_e:r,_s:new Map,state:s});return f}const su=()=>{};function ic(r,s,c,l=su){r.push(s);const f=()=>{const d=r.indexOf(s);d>-1&&(r.splice(d,1),l())};return!c&&pc()&&Ff(f),f}function Er(r,...s){r.slice().forEach(c=>{c(...s)})}function Zo(r,s){r instanceof Map&&s instanceof Map&&s.forEach((c,l)=>r.set(l,c)),r instanceof Set&&s instanceof Set&&s.forEach(r.add,r);for(const c in s){if(!s.hasOwnProperty(c))continue;const l=s[c],f=r[c];Yo(f)&&Yo(l)&&r.hasOwnProperty(c)&&!Se(l)&&!zn(l)?r[c]=Zo(f,l):r[c]=l}return r}const zd=Symbol();function Wd(r){return!Yo(r)||!r.hasOwnProperty(zd)}const{assign:jn}=Object;function Hd(r){return!!(Se(r)&&r.effect)}function Vd(r,s,c,l){const{state:f,actions:d,getters:w}=s,_=c.state.value[r];let b;function S(){_||(c.state.value[r]=f?f():{});const v=ih(c.state.value[r]);return jn(v,d,Object.keys(w||{}).reduce((h,E)=>(h[E]=Or(ru(()=>{ao(c);const p=c._s.get(r);return w[E].call(p,p)})),h),{}))}return b=au(r,S,s,c,l,!0),b.$reset=function(){const h=f?f():{};this.$patch(E=>{jn(E,h)})},b}function au(r,s,c={},l,f,d){let w;const _=jn({actions:{}},c),b={deep:!0};let S,v,h=Or([]),E=Or([]),p;const D=l.state.value[r];!d&&!D&&(l.state.value[r]={}),wt({});let R;function N(G){let ut;S=v=!1,typeof G=="function"?(G(l.state.value[r]),ut={type:Gr.patchFunction,storeId:r,events:p}):(Zo(l.state.value[r],G),ut={type:Gr.patchObject,payload:G,storeId:r,events:p});const mt=R=Symbol();Nc().then(()=>{R===mt&&(S=!0)}),v=!0,Er(h,ut,l.state.value[r])}const M=su;function z(){w.stop(),h=[],E=[],l._s.delete(r)}function J(G,ut){return function(){ao(l);const mt=Array.from(arguments),Z=[],st=[];function ft(Ft){Z.push(Ft)}function dt(Ft){st.push(Ft)}Er(E,{args:mt,name:G,store:K,after:ft,onError:dt});let tt;try{tt=ut.apply(this&&this.$id===r?this:K,mt)}catch(Ft){throw Er(st,Ft),Ft}return tt instanceof Promise?tt.then(Ft=>(Er(Z,Ft),Ft)).catch(Ft=>(Er(st,Ft),Promise.reject(Ft))):(Er(Z,tt),tt)}}const V={_p:l,$id:r,$onAction:ic.bind(null,E),$patch:N,$reset:M,$subscribe(G,ut={}){const mt=ic(h,G,ut.detached,()=>Z()),Z=w.run(()=>Ai(()=>l.state.value[r],st=>{(ut.flush==="sync"?v:S)&&G({storeId:r,type:Gr.direct,events:p},st)},jn({},b,ut)));return mt},$dispose:z},K=Lr(V);l._s.set(r,K);const gt=l._e.run(()=>(w=dc(),w.run(()=>s())));for(const G in gt){const ut=gt[G];if(Se(ut)&&!Hd(ut)||zn(ut))d||(D&&Wd(ut)&&(Se(ut)?ut.value=D[G]:Zo(ut,D[G])),l.state.value[r][G]=ut);else if(typeof ut=="function"){const mt=J(G,ut);gt[G]=mt,_.actions[G]=ut}}return jn(K,gt),jn(Jt(K),gt),Object.defineProperty(K,"$state",{get:()=>l.state.value[r],set:G=>{N(ut=>{jn(ut,G)})}}),l._p.forEach(G=>{jn(K,w.run(()=>G({store:K,app:l._a,pinia:l,options:_})))}),D&&d&&c.hydrate&&c.hydrate(K.$state,D),S=!0,v=!0,K}function co(r,s,c){let l,f;const d=typeof s=="function";typeof r=="string"?(l=r,f=d?c:s):(f=r,l=r.id);function w(_,b){const S=Ce();return _=_||S&&Kr(ou,null),_&&ao(_),_=iu,_._s.has(l)||(d?au(l,s,f,_):Vd(l,f,_)),_._s.get(l)}return w.$id=l,w}function Xd(r){return{all:r=r||new Map,on:function(s,c){var l=r.get(s);l?l.push(c):r.set(s,[c])},off:function(s,c){var l=r.get(s);l&&(c?l.splice(l.indexOf(c)>>>0,1):r.set(s,[]))},emit:function(s,c){var l=r.get(s);l&&l.slice().map(function(f){f(c)}),(l=r.get("*"))&&l.slice().map(function(f){f(s,c)})}}}var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},si={},Zd={get exports(){return si},set exports(r){si=r}};(function(r,s){(function(l,f){r.exports=f()})(Yd,function(){return function(c){var l={};function f(d){if(l[d])return l[d].exports;var w=l[d]={exports:{},id:d,loaded:!1};return c[d].call(w.exports,w,w.exports,f),w.loaded=!0,w.exports}return f.m=c,f.c=l,f.p="",f(0)}([function(c,l,f){(function(d,w,_,b){Object.defineProperty(l,"__esModule",{value:!0});var S=f(2),v=f(9),h;(function(i){i[i.EPERM=1]="EPERM",i[i.ENOENT=2]="ENOENT",i[i.EIO=5]="EIO",i[i.EBADF=9]="EBADF",i[i.EACCES=13]="EACCES",i[i.EBUSY=16]="EBUSY",i[i.EEXIST=17]="EEXIST",i[i.ENOTDIR=20]="ENOTDIR",i[i.EISDIR=21]="EISDIR",i[i.EINVAL=22]="EINVAL",i[i.EFBIG=27]="EFBIG",i[i.ENOSPC=28]="ENOSPC",i[i.EROFS=30]="EROFS",i[i.ENOTEMPTY=39]="ENOTEMPTY",i[i.ENOTSUP=95]="ENOTSUP"})(h||(h={}));var E={};E[h.EPERM]="Operation not permitted.",E[h.ENOENT]="No such file or directory.",E[h.EIO]="Input/output error.",E[h.EBADF]="Bad file descriptor.",E[h.EACCES]="Permission denied.",E[h.EBUSY]="Resource busy or locked.",E[h.EEXIST]="File exists.",E[h.ENOTDIR]="File is not a directory.",E[h.EISDIR]="File is a directory.",E[h.EINVAL]="Invalid argument.",E[h.EFBIG]="File is too big.",E[h.ENOSPC]="No space left on disk.",E[h.EROFS]="Cannot modify a read-only file system.",E[h.ENOTEMPTY]="Directory is not empty.",E[h.ENOTSUP]="Operation is not supported.";var p=function(i){function t(n,e,o){e===void 0&&(e=E[n]),i.call(this,e),this.syscall="",this.errno=n,this.code=h[n],this.path=o,this.stack=new i().stack,this.message="Error: "+this.code+": "+e+(this.path?", '"+this.path+"'":"")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.fromJSON=function(e){var o=new t(0);return o.errno=e.errno,o.code=e.code,o.path=e.path,o.stack=e.stack,o.message=e.message,o},t.fromBuffer=function(e,o){return o===void 0&&(o=0),t.fromJSON(JSON.parse(e.toString("utf8",o+4,o+4+e.readUInt32LE(o))))},t.FileError=function(e,o){return new t(e,E[e],o)},t.ENOENT=function(e){return this.FileError(h.ENOENT,e)},t.EEXIST=function(e){return this.FileError(h.EEXIST,e)},t.EISDIR=function(e){return this.FileError(h.EISDIR,e)},t.ENOTDIR=function(e){return this.FileError(h.ENOTDIR,e)},t.EPERM=function(e){return this.FileError(h.EPERM,e)},t.ENOTEMPTY=function(e){return this.FileError(h.ENOTEMPTY,e)},t.prototype.toString=function(){return this.message},t.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},t.prototype.writeToBuffer=function(e,o){e===void 0&&(e=d.alloc(this.bufferSize())),o===void 0&&(o=0);var a=e.write(JSON.stringify(this.toJSON()),o+4);return e.writeUInt32LE(a,o),e},t.prototype.bufferSize=function(){return 4+d.byteLength(JSON.stringify(this.toJSON()))},t}(Error),D=Object.freeze({get ErrorCode(){return h},ErrorStrings:E,ApiError:p}),R;(function(i){i[i.NOP=0]="NOP",i[i.THROW_EXCEPTION=1]="THROW_EXCEPTION",i[i.TRUNCATE_FILE=2]="TRUNCATE_FILE",i[i.CREATE_FILE=3]="CREATE_FILE"})(R||(R={}));var N=function i(t){if(this.flagStr=t,i.validFlagStrs.indexOf(t)<0)throw new p(h.EINVAL,"Invalid flag: "+t)};N.getFileFlag=function(t){return N.flagCache.hasOwnProperty(t)?N.flagCache[t]:N.flagCache[t]=new N(t)},N.prototype.getFlagString=function(){return this.flagStr},N.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},N.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},N.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},N.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},N.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},N.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},N.prototype.pathExistsAction=function(){return this.isExclusive()?R.THROW_EXCEPTION:this.isTruncating()?R.TRUNCATE_FILE:R.NOP},N.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?R.CREATE_FILE:R.THROW_EXCEPTION},N.flagCache={},N.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var M;(function(i){i[i.FILE=32768]="FILE",i[i.DIRECTORY=16384]="DIRECTORY",i[i.SYMLINK=40960]="SYMLINK"})(M||(M={}));var z=function(t,n,e,o,a,u){if(o===void 0&&(o=new Date),a===void 0&&(a=new Date),u===void 0&&(u=new Date),this.size=n,this.atime=o,this.mtime=a,this.ctime=u,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,e)this.mode=e;else switch(t){case M.FILE:this.mode=420;break;case M.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(n/512),this.mode<4096&&(this.mode|=t)};z.fromBuffer=function(t){var n=t.readUInt32LE(0),e=t.readUInt32LE(4),o=t.readDoubleLE(8),a=t.readDoubleLE(16),u=t.readDoubleLE(24);return new z(e&61440,n,e&4095,new Date(o),new Date(a),new Date(u))},z.prototype.toBuffer=function(){var t=d.alloc(32);return t.writeUInt32LE(this.size,0),t.writeUInt32LE(this.mode,4),t.writeDoubleLE(this.atime.getTime(),8),t.writeDoubleLE(this.mtime.getTime(),16),t.writeDoubleLE(this.ctime.getTime(),24),t},z.prototype.clone=function(){return new z(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},z.prototype.isFile=function(){return(this.mode&61440)===M.FILE},z.prototype.isDirectory=function(){return(this.mode&61440)===M.DIRECTORY},z.prototype.isSymbolicLink=function(){return(this.mode&61440)===M.SYMLINK},z.prototype.chmod=function(t){this.mode=this.mode&61440|t},z.prototype.isSocket=function(){return!1},z.prototype.isBlockDevice=function(){return!1},z.prototype.isCharacterDevice=function(){return!1},z.prototype.isFIFO=function(){return!1};var J=function(i,t){return i};function V(i){if(i)return i;throw new p(h.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function K(i,t){switch(typeof i){case"number":return i;case"string":var n=parseInt(i,8);return isNaN(n)?t:n;default:return t}}function gt(i){if(i instanceof Date)return i;if(typeof i=="number")return new Date(i*1e3);throw new p(h.EINVAL,"Invalid time.")}function G(i){if(i.indexOf("\0")>=0)throw new p(h.EINVAL,"Path must be a string without null bytes.");if(i==="")throw new p(h.EINVAL,"Path must not be empty.");return v.resolve(i)}function ut(i,t,n,e){switch(typeof i){case"object":return{encoding:typeof i.encoding<"u"?i.encoding:t,flag:typeof i.flag<"u"?i.flag:n,mode:K(i.mode,e)};case"string":return{encoding:i,flag:n,mode:e};default:return{encoding:t,flag:n,mode:e}}}function mt(){}var Z=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};Z.prototype.initialize=function(t){if(!t.constructor.isAvailable())throw new p(h.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=t},Z.prototype._toUnixTimestamp=function(t){if(typeof t=="number")return t;if(t instanceof Date)return t.getTime()/1e3;throw new Error("Cannot parse time: "+t)},Z.prototype.getRootFS=function(){return this.root?this.root:null},Z.prototype.rename=function(t,n,e){e===void 0&&(e=mt);var o=J(e,1);try{V(this.root).rename(G(t),G(n),o)}catch(a){o(a)}},Z.prototype.renameSync=function(t,n){V(this.root).renameSync(G(t),G(n))},Z.prototype.exists=function(t,n){n===void 0&&(n=mt);var e=J(n,1);try{return V(this.root).exists(G(t),e)}catch{return e(!1)}},Z.prototype.existsSync=function(t){try{return V(this.root).existsSync(G(t))}catch{return!1}},Z.prototype.stat=function(t,n){n===void 0&&(n=mt);var e=J(n,2);try{return V(this.root).stat(G(t),!1,e)}catch(o){return e(o)}},Z.prototype.statSync=function(t){return V(this.root).statSync(G(t),!1)},Z.prototype.lstat=function(t,n){n===void 0&&(n=mt);var e=J(n,2);try{return V(this.root).stat(G(t),!0,e)}catch(o){return e(o)}},Z.prototype.lstatSync=function(t){return V(this.root).statSync(G(t),!0)},Z.prototype.truncate=function(t,n,e){n===void 0&&(n=0),e===void 0&&(e=mt);var o=0;typeof n=="function"?e=n:typeof n=="number"&&(o=n);var a=J(e,1);try{if(o<0)throw new p(h.EINVAL);return V(this.root).truncate(G(t),o,a)}catch(u){return a(u)}},Z.prototype.truncateSync=function(t,n){if(n===void 0&&(n=0),n<0)throw new p(h.EINVAL);return V(this.root).truncateSync(G(t),n)},Z.prototype.unlink=function(t,n){n===void 0&&(n=mt);var e=J(n,1);try{return V(this.root).unlink(G(t),e)}catch(o){return e(o)}},Z.prototype.unlinkSync=function(t){return V(this.root).unlinkSync(G(t))},Z.prototype.open=function(t,n,e,o){var a=this;o===void 0&&(o=mt);var u=K(e,420);o=typeof e=="function"?e:o;var y=J(o,2);try{V(this.root).open(G(t),N.getFileFlag(n),u,function(x,F){F?y(x,a.getFdForFile(F)):y(x)})}catch(x){y(x)}},Z.prototype.openSync=function(t,n,e){return e===void 0&&(e=420),this.getFdForFile(V(this.root).openSync(G(t),N.getFileFlag(n),K(e,420)))},Z.prototype.readFile=function(t,n,e){n===void 0&&(n={}),e===void 0&&(e=mt);var o=ut(n,null,"r",null);e=typeof n=="function"?n:e;var a=J(e,2);try{var u=N.getFileFlag(o.flag);return u.isReadable()?V(this.root).readFile(G(t),o.encoding,u,a):a(new p(h.EINVAL,"Flag passed to readFile must allow for reading."))}catch(y){return a(y)}},Z.prototype.readFileSync=function(t,n){n===void 0&&(n={});var e=ut(n,null,"r",null),o=N.getFileFlag(e.flag);if(!o.isReadable())throw new p(h.EINVAL,"Flag passed to readFile must allow for reading.");return V(this.root).readFileSync(G(t),e.encoding,o)},Z.prototype.writeFile=function(t,n,e,o){e===void 0&&(e={}),o===void 0&&(o=mt);var a=ut(e,"utf8","w",420);o=typeof e=="function"?e:o;var u=J(o,1);try{var y=N.getFileFlag(a.flag);return y.isWriteable()?V(this.root).writeFile(G(t),n,a.encoding,y,a.mode,u):u(new p(h.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(x){return u(x)}},Z.prototype.writeFileSync=function(t,n,e){var o=ut(e,"utf8","w",420),a=N.getFileFlag(o.flag);if(!a.isWriteable())throw new p(h.EINVAL,"Flag passed to writeFile must allow for writing.");return V(this.root).writeFileSync(G(t),n,o.encoding,a,o.mode)},Z.prototype.appendFile=function(t,n,e,o){o===void 0&&(o=mt);var a=ut(e,"utf8","a",420);o=typeof e=="function"?e:o;var u=J(o,1);try{var y=N.getFileFlag(a.flag);if(!y.isAppendable())return u(new p(h.EINVAL,"Flag passed to appendFile must allow for appending."));V(this.root).appendFile(G(t),n,a.encoding,y,a.mode,u)}catch(x){u(x)}},Z.prototype.appendFileSync=function(t,n,e){var o=ut(e,"utf8","a",420),a=N.getFileFlag(o.flag);if(!a.isAppendable())throw new p(h.EINVAL,"Flag passed to appendFile must allow for appending.");return V(this.root).appendFileSync(G(t),n,o.encoding,a,o.mode)},Z.prototype.fstat=function(t,n){n===void 0&&(n=mt);var e=J(n,2);try{var o=this.fd2file(t);o.stat(e)}catch(a){e(a)}},Z.prototype.fstatSync=function(t){return this.fd2file(t).statSync()},Z.prototype.close=function(t,n){var e=this;n===void 0&&(n=mt);var o=J(n,1);try{this.fd2file(t).close(function(a){a||e.closeFd(t),o(a)})}catch(a){o(a)}},Z.prototype.closeSync=function(t){this.fd2file(t).closeSync(),this.closeFd(t)},Z.prototype.ftruncate=function(t,n,e){e===void 0&&(e=mt);var o=typeof n=="number"?n:0;e=typeof n=="function"?n:e;var a=J(e,1);try{var u=this.fd2file(t);if(o<0)throw new p(h.EINVAL);u.truncate(o,a)}catch(y){a(y)}},Z.prototype.ftruncateSync=function(t,n){n===void 0&&(n=0);var e=this.fd2file(t);if(n<0)throw new p(h.EINVAL);e.truncateSync(n)},Z.prototype.fsync=function(t,n){n===void 0&&(n=mt);var e=J(n,1);try{this.fd2file(t).sync(e)}catch(o){e(o)}},Z.prototype.fsyncSync=function(t){this.fd2file(t).syncSync()},Z.prototype.fdatasync=function(t,n){n===void 0&&(n=mt);var e=J(n,1);try{this.fd2file(t).datasync(e)}catch(o){e(o)}},Z.prototype.fdatasyncSync=function(t){this.fd2file(t).datasyncSync()},Z.prototype.write=function(t,n,e,o,a,u){u===void 0&&(u=mt);var y,x,F,U=null;if(typeof n=="string"){var H="utf8";switch(typeof e){case"function":u=e;break;case"number":U=e,H=typeof o=="string"?o:"utf8",u=typeof a=="function"?a:u;break;default:return u=typeof o=="function"?o:typeof a=="function"?a:u,u(new p(h.EINVAL,"Invalid arguments."))}y=d.from(n,H),x=0,F=y.length}else y=n,x=e,F=o,U=typeof a=="number"?a:null,u=typeof a=="function"?a:u;var nt=J(u,3);try{var ht=this.fd2file(t);U==null&&(U=ht.getPos()),ht.write(y,x,F,U,nt)}catch(yt){nt(yt)}},Z.prototype.writeSync=function(t,n,e,o,a){var u,y=0,x,F;if(typeof n=="string"){F=typeof e=="number"?e:null;var U=typeof o=="string"?o:"utf8";y=0,u=d.from(n,U),x=u.length}else u=n,y=e,x=o,F=typeof a=="number"?a:null;var H=this.fd2file(t);return F==null&&(F=H.getPos()),H.writeSync(u,y,x,F)},Z.prototype.read=function(t,n,e,o,a,u){u===void 0&&(u=mt);var y,x,F,U,H;if(typeof n=="number"){F=n,y=e;var nt=o;u=typeof a=="function"?a:u,x=0,U=d.alloc(F),H=J(function(yt,Nt,At){if(yt)return u(yt);u(yt,At.toString(nt),Nt)},3)}else U=n,x=e,F=o,y=a,H=J(u,3);try{var ht=this.fd2file(t);y==null&&(y=ht.getPos()),ht.read(U,x,F,y,H)}catch(yt){H(yt)}},Z.prototype.readSync=function(t,n,e,o,a){var u=!1,y,x,F,U,H="utf8";typeof n=="number"?(F=n,U=e,H=o,x=0,y=d.alloc(F),u=!0):(y=n,x=e,F=o,U=a);var nt=this.fd2file(t);U==null&&(U=nt.getPos());var ht=nt.readSync(y,x,F,U);return u?[y.toString(H),ht]:ht},Z.prototype.fchown=function(t,n,e,o){o===void 0&&(o=mt);var a=J(o,1);try{this.fd2file(t).chown(n,e,a)}catch(u){a(u)}},Z.prototype.fchownSync=function(t,n,e){this.fd2file(t).chownSync(n,e)},Z.prototype.fchmod=function(t,n,e){var o=J(e,1);try{var a=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmod(a,o)}catch(u){o(u)}},Z.prototype.fchmodSync=function(t,n){var e=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmodSync(e)},Z.prototype.futimes=function(t,n,e,o){o===void 0&&(o=mt);var a=J(o,1);try{var u=this.fd2file(t);typeof n=="number"&&(n=new Date(n*1e3)),typeof e=="number"&&(e=new Date(e*1e3)),u.utimes(n,e,a)}catch(y){a(y)}},Z.prototype.futimesSync=function(t,n,e){this.fd2file(t).utimesSync(gt(n),gt(e))},Z.prototype.rmdir=function(t,n){n===void 0&&(n=mt);var e=J(n,1);try{t=G(t),V(this.root).rmdir(t,e)}catch(o){e(o)}},Z.prototype.rmdirSync=function(t){return t=G(t),V(this.root).rmdirSync(t)},Z.prototype.mkdir=function(t,n,e){e===void 0&&(e=mt),typeof n=="function"&&(e=n,n=511);var o=J(e,1);try{t=G(t),V(this.root).mkdir(t,n,o)}catch(a){o(a)}},Z.prototype.mkdirSync=function(t,n){V(this.root).mkdirSync(G(t),K(n,511))},Z.prototype.readdir=function(t,n){n===void 0&&(n=mt);var e=J(n,2);try{t=G(t),V(this.root).readdir(t,e)}catch(o){e(o)}},Z.prototype.readdirSync=function(t){return t=G(t),V(this.root).readdirSync(t)},Z.prototype.link=function(t,n,e){e===void 0&&(e=mt);var o=J(e,1);try{t=G(t),n=G(n),V(this.root).link(t,n,o)}catch(a){o(a)}},Z.prototype.linkSync=function(t,n){return t=G(t),n=G(n),V(this.root).linkSync(t,n)},Z.prototype.symlink=function(t,n,e,o){o===void 0&&(o=mt);var a=typeof e=="string"?e:"file";o=typeof e=="function"?e:o;var u=J(o,1);try{if(a!=="file"&&a!=="dir")return u(new p(h.EINVAL,"Invalid type: "+a));t=G(t),n=G(n),V(this.root).symlink(t,n,a,u)}catch(y){u(y)}},Z.prototype.symlinkSync=function(t,n,e){if(!e)e="file";else if(e!=="file"&&e!=="dir")throw new p(h.EINVAL,"Invalid type: "+e);return t=G(t),n=G(n),V(this.root).symlinkSync(t,n,e)},Z.prototype.readlink=function(t,n){n===void 0&&(n=mt);var e=J(n,2);try{t=G(t),V(this.root).readlink(t,e)}catch(o){e(o)}},Z.prototype.readlinkSync=function(t){return t=G(t),V(this.root).readlinkSync(t)},Z.prototype.chown=function(t,n,e,o){o===void 0&&(o=mt);var a=J(o,1);try{t=G(t),V(this.root).chown(t,!1,n,e,a)}catch(u){a(u)}},Z.prototype.chownSync=function(t,n,e){t=G(t),V(this.root).chownSync(t,!1,n,e)},Z.prototype.lchown=function(t,n,e,o){o===void 0&&(o=mt);var a=J(o,1);try{t=G(t),V(this.root).chown(t,!0,n,e,a)}catch(u){a(u)}},Z.prototype.lchownSync=function(t,n,e){t=G(t),V(this.root).chownSync(t,!0,n,e)},Z.prototype.chmod=function(t,n,e){e===void 0&&(e=mt);var o=J(e,1);try{var a=K(n,-1);if(a<0)throw new p(h.EINVAL,"Invalid mode.");V(this.root).chmod(G(t),!1,a,o)}catch(u){o(u)}},Z.prototype.chmodSync=function(t,n){var e=K(n,-1);if(e<0)throw new p(h.EINVAL,"Invalid mode.");t=G(t),V(this.root).chmodSync(t,!1,e)},Z.prototype.lchmod=function(t,n,e){e===void 0&&(e=mt);var o=J(e,1);try{var a=K(n,-1);if(a<0)throw new p(h.EINVAL,"Invalid mode.");V(this.root).chmod(G(t),!0,a,o)}catch(u){o(u)}},Z.prototype.lchmodSync=function(t,n){var e=K(n,-1);if(e<1)throw new p(h.EINVAL,"Invalid mode.");V(this.root).chmodSync(G(t),!0,e)},Z.prototype.utimes=function(t,n,e,o){o===void 0&&(o=mt);var a=J(o,1);try{V(this.root).utimes(G(t),gt(n),gt(e),a)}catch(u){a(u)}},Z.prototype.utimesSync=function(t,n,e){V(this.root).utimesSync(G(t),gt(n),gt(e))},Z.prototype.realpath=function(t,n,e){e===void 0&&(e=mt);var o=typeof n=="object"?n:{};e=typeof n=="function"?n:mt;var a=J(e,2);try{t=G(t),V(this.root).realpath(t,o,a)}catch(u){a(u)}},Z.prototype.realpathSync=function(t,n){return n===void 0&&(n={}),t=G(t),V(this.root).realpathSync(t,n)},Z.prototype.watchFile=function(t,n,e){throw new p(h.ENOTSUP)},Z.prototype.unwatchFile=function(t,n){throw new p(h.ENOTSUP)},Z.prototype.watch=function(t,n,e){throw new p(h.ENOTSUP)},Z.prototype.access=function(t,n,e){throw new p(h.ENOTSUP)},Z.prototype.accessSync=function(t,n){throw new p(h.ENOTSUP)},Z.prototype.createReadStream=function(t,n){throw new p(h.ENOTSUP)},Z.prototype.createWriteStream=function(t,n){throw new p(h.ENOTSUP)},Z.prototype.wrapCallbacks=function(t){J=t},Z.prototype.getFdForFile=function(t){var n=this.nextFd++;return this.fdMap[n]=t,n},Z.prototype.fd2file=function(t){var n=this.fdMap[t];if(n)return n;throw new p(h.EBADF,"Invalid file descriptor.")},Z.prototype.closeFd=function(t){delete this.fdMap[t]},Z.Stats=z;var st=new Z,ft={},dt=Z.prototype;Object.keys(dt).forEach(function(i){typeof st[i]=="function"?ft[i]=function(){return st[i].apply(st,arguments)}:ft[i]=st[i]}),ft.changeFSModule=function(i){st=i},ft.getFSModule=function(){return st},ft.FS=Z;function tt(i,t,n,e,o){return i<t||n<t?i>n?n+1:i+1:e===o?t:t+1}function Ft(i,t){if(i===t)return 0;if(i.length>t.length){var n=i;i=t,t=n}for(var e=i.length,o=t.length;e>0&&i.charCodeAt(e-1)===t.charCodeAt(o-1);)e--,o--;for(var a=0;a<e&&i.charCodeAt(a)===t.charCodeAt(a);)a++;if(e-=a,o-=a,e===0||o===1)return o;for(var u=new Array(e<<1),y=0;y<e;)u[e+y]=i.charCodeAt(a+y),u[y]=++y;var x,F,U,H,nt;for(x=0;x+3<o;)for(var ht=t.charCodeAt(a+(F=x)),yt=t.charCodeAt(a+(U=x+1)),Nt=t.charCodeAt(a+(H=x+2)),At=t.charCodeAt(a+(nt=x+3)),Wt=x+=4,le=0;le<e;){var De=u[e+le],yn=u[le];F=tt(yn,F,U,ht,De),U=tt(F,U,H,yt,De),H=tt(U,H,nt,Nt,De),Wt=tt(H,nt,Wt,At,De),u[le++]=Wt,nt=H,H=U,U=F,F=yn}for(var vn=0;x<o;){var Sr=t.charCodeAt(a+(F=x));vn=++x;for(var In=0;In<e;In++){var On=u[In];u[In]=vn=On<F||vn<F?On>vn?vn+1:On+1:Sr===u[e+In]?F:F+1,F=On}}return vn}function _t(i,t,n){i&&console.warn("["+t+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+t+".Create("+JSON.stringify(n)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var St=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),xt=typeof window>"u";function X(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function q(i,t,n){n.existsSync(i)||(q(v.dirname(i),t,n),n.mkdirSync(i,t))}function ct(i){var t=kt(i),n=t.byteOffset,e=t.byteLength;return n===0&&e===t.buffer.byteLength?t.buffer:t.buffer.slice(n,n+e)}function kt(i){return i instanceof Uint8Array?i:new Uint8Array(i)}function zt(i){return i instanceof d?i:i instanceof Uint8Array?Pt(i):d.from(i)}function Pt(i){return i instanceof d?i:i.byteOffset===0&&i.byteLength===i.buffer.byteLength?Mt(i.buffer):d.from(i.buffer,i.byteOffset,i.byteLength)}function Mt(i){return d.from(i)}function Bt(i,t,n){if(t===void 0&&(t=0),n===void 0&&(n=i.length),t<0||n<0||n>i.length||t>n)throw new TypeError("Invalid slice bounds on buffer of length "+i.length+": ["+t+", "+n+"]");if(i.length===0)return Yt();var e=kt(i),o=i[0],a=(o+1)%255;return i[0]=a,e[0]===a?(e[0]=o,Pt(e.slice(t,n))):(i[0]=o,Pt(e.subarray(t,n)))}var Qt=null;function Yt(){return Qt||(Qt=d.alloc(0))}function C(i,t){d.isBuffer(i)?t():t(new p(h.EINVAL,"option must be a Buffer."))}function A(i,t,n){var e=i.Options,o=i.Name,a=0,u=!1,y=!1;function x(nt){u||(nt&&(u=!0,n(nt)),a--,a===0&&y&&n())}var F=function(nt){if(e.hasOwnProperty(nt)){var ht=e[nt],yt=t[nt];if(yt==null){if(!ht.optional){var Nt=Object.keys(t).filter(function(Wt){return!(Wt in e)}).map(function(Wt){return{str:Wt,distance:Ft(nt,Wt)}}).filter(function(Wt){return Wt.distance<5}).sort(function(Wt,le){return Wt.distance-le.distance});return u?{}:(u=!0,{v:n(new p(h.EINVAL,"["+o+"] Required option '"+nt+"' not provided."+(Nt.length>0?" You provided unrecognized option '"+Nt[0].str+"'; perhaps you meant to type '"+nt+"'.":"")+`
Option description: `+ht.description))})}}else{var At=!1;if(Array.isArray(ht.type)?At=ht.type.indexOf(typeof yt)!==-1:At=typeof yt===ht.type,At)ht.validator&&(a++,ht.validator(yt,x));else return u?{}:(u=!0,{v:n(new p(h.EINVAL,"["+o+"] Value provided for option "+nt+" is not the proper type. Expected "+(Array.isArray(ht.type)?"one of {"+ht.type.join(", ")+"}":ht.type)+", but received "+typeof yt+`
Option description: `+ht.description))})}}};for(var U in e){var H=F(U);if(H)return H.v}y=!0,a===0&&!u&&n()}var at=Object.freeze({deprecationMessage:_t,isIE:St,isWebWorker:xt,fail:X,mkdirpSync:q,buffer2ArrayBuffer:ct,buffer2Uint8array:kt,arrayish2Buffer:zt,uint8Array2Buffer:Pt,arrayBuffer2Buffer:Mt,copyingSlice:Bt,emptyBuffer:Yt,bufferValidator:C,checkOptions:A}),T=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};T.prototype.open=function(t){var n=this.fs.realPath(t.node),e=this.FS;try{e.isFile(t.node.mode)&&(t.nfd=this.nodefs.openSync(n,this.fs.flagsToPermissionString(t.flags)))}catch(o){throw o.code?new e.ErrnoError(this.ERRNO_CODES[o.code]):o}},T.prototype.close=function(t){var n=this.FS;try{n.isFile(t.node.mode)&&t.nfd&&this.nodefs.closeSync(t.nfd)}catch(e){throw e.code?new n.ErrnoError(this.ERRNO_CODES[e.code]):e}},T.prototype.read=function(t,n,e,o,a){try{return this.nodefs.readSync(t.nfd,Pt(n),e,o,a)}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}},T.prototype.write=function(t,n,e,o,a){try{return this.nodefs.writeSync(t.nfd,Pt(n),e,o,a)}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}},T.prototype.llseek=function(t,n,e){var o=n;if(e===1)o+=t.position;else if(e===2&&this.FS.isFile(t.node.mode))try{var a=this.nodefs.fstatSync(t.nfd);o+=a.size}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}if(o<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return t.position=o,o};var P=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};P.prototype.getattr=function(t){var n=this.fs.realPath(t),e;try{e=this.nodefs.lstatSync(n)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}return{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},P.prototype.setattr=function(t,n){var e=this.fs.realPath(t);try{if(n.mode!==void 0&&(this.nodefs.chmodSync(e,n.mode),t.mode=n.mode),n.timestamp!==void 0){var o=new Date(n.timestamp);this.nodefs.utimesSync(e,o,o)}}catch(a){if(!a.code)throw a;if(a.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[a.code])}if(n.size!==void 0)try{this.nodefs.truncateSync(e,n.size)}catch(a){throw a.code?new this.FS.ErrnoError(this.ERRNO_CODES[a.code]):a}},P.prototype.lookup=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n),o=this.fs.getMode(e);return this.fs.createNode(t,n,o)},P.prototype.mknod=function(t,n,e,o){var a=this.fs.createNode(t,n,e,o),u=this.fs.realPath(a);try{this.FS.isDir(a.mode)?this.nodefs.mkdirSync(u,a.mode):this.nodefs.writeFileSync(u,"",{mode:a.mode})}catch(y){throw y.code?new this.FS.ErrnoError(this.ERRNO_CODES[y.code]):y}return a},P.prototype.rename=function(t,n,e){var o=this.fs.realPath(t),a=this.PATH.join2(this.fs.realPath(n),e);try{this.nodefs.renameSync(o,a),t.name=e,t.parent=n}catch(u){throw u.code?new this.FS.ErrnoError(this.ERRNO_CODES[u.code]):u}},P.prototype.unlink=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.unlinkSync(e)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},P.prototype.rmdir=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.rmdirSync(e)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},P.prototype.readdir=function(t){var n=this.fs.realPath(t);try{var e=this.nodefs.readdirSync(n);return e.push(".",".."),e}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},P.prototype.symlink=function(t,n,e){var o=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.symlinkSync(e,o)}catch(a){throw a.code?new this.FS.ErrnoError(this.ERRNO_CODES[a.code]):a}},P.prototype.readlink=function(t){var n=this.fs.realPath(t);try{return this.nodefs.readlinkSync(n)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}};var W=function(t,n,e,o){t===void 0&&(t=self.FS),n===void 0&&(n=self.PATH),e===void 0&&(e=self.ERRNO_CODES),o===void 0&&(o=ft),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=o,this.FS=t,this.PATH=n,this.ERRNO_CODES=e,this.node_ops=new P(this),this.stream_ops=new T(this)};W.prototype.mount=function(t){return this.createNode(null,"/",this.getMode(t.opts.root),0)},W.prototype.createNode=function(t,n,e,o){var a=this.FS;if(!a.isDir(e)&&!a.isFile(e)&&!a.isLink(e))throw new a.ErrnoError(this.ERRNO_CODES.EINVAL);var u=a.createNode(t,n,e);return u.node_ops=this.node_ops,u.stream_ops=this.stream_ops,u},W.prototype.getMode=function(t){var n;try{n=this.nodefs.lstatSync(t)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}return n.mode},W.prototype.realPath=function(t){for(var n=[];t.parent!==t;)n.push(t.name),t=t.parent;return n.push(t.mount.opts.root),n.reverse(),this.PATH.join.apply(null,n)},W.prototype.flagsToPermissionString=function(t){var n=typeof t=="string"?parseInt(t,10):t;return n&=8191,n in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[n]:t},W.prototype.getNodeFS=function(){return this.nodefs},W.prototype.getFS=function(){return this.FS},W.prototype.getPATH=function(){return this.PATH},W.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var B=function(){};B.prototype.supportsLinks=function(){return!1},B.prototype.diskSpace=function(t,n){n(0,0)},B.prototype.openFile=function(t,n,e){throw new p(h.ENOTSUP)},B.prototype.createFile=function(t,n,e,o){throw new p(h.ENOTSUP)},B.prototype.open=function(t,n,e,o){var a=this,u=function(y,x){if(y)switch(n.pathNotExistsAction()){case R.CREATE_FILE:return a.stat(v.dirname(t),!1,function(F,U){F?o(F):U&&!U.isDirectory()?o(p.ENOTDIR(v.dirname(t))):a.createFile(t,n,e,o)});case R.THROW_EXCEPTION:return o(p.ENOENT(t));default:return o(new p(h.EINVAL,"Invalid FileFlag object."))}else{if(x&&x.isDirectory())return o(p.EISDIR(t));switch(n.pathExistsAction()){case R.THROW_EXCEPTION:return o(p.EEXIST(t));case R.TRUNCATE_FILE:return a.openFile(t,n,function(F,U){F?o(F):U?U.truncate(0,function(){U.sync(function(){o(null,U)})}):X()});case R.NOP:return a.openFile(t,n,o);default:return o(new p(h.EINVAL,"Invalid FileFlag object."))}}};this.stat(t,!1,u)},B.prototype.rename=function(t,n,e){e(new p(h.ENOTSUP))},B.prototype.renameSync=function(t,n){throw new p(h.ENOTSUP)},B.prototype.stat=function(t,n,e){e(new p(h.ENOTSUP))},B.prototype.statSync=function(t,n){throw new p(h.ENOTSUP)},B.prototype.openFileSync=function(t,n,e){throw new p(h.ENOTSUP)},B.prototype.createFileSync=function(t,n,e){throw new p(h.ENOTSUP)},B.prototype.openSync=function(t,n,e){var o;try{o=this.statSync(t,!1)}catch{switch(n.pathNotExistsAction()){case R.CREATE_FILE:var a=this.statSync(v.dirname(t),!1);if(!a.isDirectory())throw p.ENOTDIR(v.dirname(t));return this.createFileSync(t,n,e);case R.THROW_EXCEPTION:throw p.ENOENT(t);default:throw new p(h.EINVAL,"Invalid FileFlag object.")}}if(o.isDirectory())throw p.EISDIR(t);switch(n.pathExistsAction()){case R.THROW_EXCEPTION:throw p.EEXIST(t);case R.TRUNCATE_FILE:return this.unlinkSync(t),this.createFileSync(t,n,o.mode);case R.NOP:return this.openFileSync(t,n,e);default:throw new p(h.EINVAL,"Invalid FileFlag object.")}},B.prototype.unlink=function(t,n){n(new p(h.ENOTSUP))},B.prototype.unlinkSync=function(t){throw new p(h.ENOTSUP)},B.prototype.rmdir=function(t,n){n(new p(h.ENOTSUP))},B.prototype.rmdirSync=function(t){throw new p(h.ENOTSUP)},B.prototype.mkdir=function(t,n,e){e(new p(h.ENOTSUP))},B.prototype.mkdirSync=function(t,n){throw new p(h.ENOTSUP)},B.prototype.readdir=function(t,n){n(new p(h.ENOTSUP))},B.prototype.readdirSync=function(t){throw new p(h.ENOTSUP)},B.prototype.exists=function(t,n){this.stat(t,null,function(e){n(!e)})},B.prototype.existsSync=function(t){try{return this.statSync(t,!0),!0}catch{return!1}},B.prototype.realpath=function(t,n,e){if(this.supportsLinks())for(var o=t.split(v.sep),a=0;a<o.length;a++){var u=o.slice(0,a+1);o[a]=v.join.apply(null,u)}else this.exists(t,function(y){y?e(null,t):e(p.ENOENT(t))})},B.prototype.realpathSync=function(t,n){if(this.supportsLinks()){for(var e=t.split(v.sep),o=0;o<e.length;o++){var a=e.slice(0,o+1);e[o]=v.join.apply(v,a)}return e.join(v.sep)}else{if(this.existsSync(t))return t;throw p.ENOENT(t)}},B.prototype.truncate=function(t,n,e){this.open(t,N.getFileFlag("r+"),420,function(o,a){if(o)return e(o);a.truncate(n,function(u){a.close(function(y){e(u||y)})})})},B.prototype.truncateSync=function(t,n){var e=this.openSync(t,N.getFileFlag("r+"),420);try{e.truncateSync(n)}catch(o){throw o}finally{e.closeSync()}},B.prototype.readFile=function(t,n,e,o){var a=o;this.open(t,e,420,function(u,y){if(u)return o(u);o=function(x,F){y.close(function(U){return x||(x=U),a(x,F)})},y.stat(function(x,F){if(x)return o(x);var U=d.alloc(F.size);y.read(U,0,F.size,0,function(H){if(H)return o(H);if(n===null)return o(H,U);try{o(null,U.toString(n))}catch(nt){o(nt)}})})})},B.prototype.readFileSync=function(t,n,e){var o=this.openSync(t,e,420);try{var a=o.statSync(),u=d.alloc(a.size);return o.readSync(u,0,a.size,0),o.closeSync(),n===null?u:u.toString(n)}finally{o.closeSync()}},B.prototype.writeFile=function(t,n,e,o,a,u){var y=u;this.open(t,o,420,function(x,F){if(x)return u(x);u=function(U){F.close(function(H){y(U||H)})};try{typeof n=="string"&&(n=d.from(n,e))}catch(U){return u(U)}F.write(n,0,n.length,0,u)})},B.prototype.writeFileSync=function(t,n,e,o,a){var u=this.openSync(t,o,a);try{typeof n=="string"&&(n=d.from(n,e)),u.writeSync(n,0,n.length,0)}finally{u.closeSync()}},B.prototype.appendFile=function(t,n,e,o,a,u){var y=u;this.open(t,o,a,function(x,F){if(x)return u(x);u=function(U){F.close(function(H){y(U||H)})},typeof n=="string"&&(n=d.from(n,e)),F.write(n,0,n.length,null,u)})},B.prototype.appendFileSync=function(t,n,e,o,a){var u=this.openSync(t,o,a);try{typeof n=="string"&&(n=d.from(n,e)),u.writeSync(n,0,n.length,null)}finally{u.closeSync()}},B.prototype.chmod=function(t,n,e,o){o(new p(h.ENOTSUP))},B.prototype.chmodSync=function(t,n,e){throw new p(h.ENOTSUP)},B.prototype.chown=function(t,n,e,o,a){a(new p(h.ENOTSUP))},B.prototype.chownSync=function(t,n,e,o){throw new p(h.ENOTSUP)},B.prototype.utimes=function(t,n,e,o){o(new p(h.ENOTSUP))},B.prototype.utimesSync=function(t,n,e){throw new p(h.ENOTSUP)},B.prototype.link=function(t,n,e){e(new p(h.ENOTSUP))},B.prototype.linkSync=function(t,n){throw new p(h.ENOTSUP)},B.prototype.symlink=function(t,n,e,o){o(new p(h.ENOTSUP))},B.prototype.symlinkSync=function(t,n,e){throw new p(h.ENOTSUP)},B.prototype.readlink=function(t,n){n(new p(h.ENOTSUP))},B.prototype.readlinkSync=function(t){throw new p(h.ENOTSUP)};var rt=function(i){function t(){i.apply(this,arguments)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.supportsSynch=function(){return!0},t.prototype.rename=function(e,o,a){try{this.renameSync(e,o),a()}catch(u){a(u)}},t.prototype.stat=function(e,o,a){try{a(null,this.statSync(e,o))}catch(u){a(u)}},t.prototype.open=function(e,o,a,u){try{u(null,this.openSync(e,o,a))}catch(y){u(y)}},t.prototype.unlink=function(e,o){try{this.unlinkSync(e),o()}catch(a){o(a)}},t.prototype.rmdir=function(e,o){try{this.rmdirSync(e),o()}catch(a){o(a)}},t.prototype.mkdir=function(e,o,a){try{this.mkdirSync(e,o),a()}catch(u){a(u)}},t.prototype.readdir=function(e,o){try{o(null,this.readdirSync(e))}catch(a){o(a)}},t.prototype.chmod=function(e,o,a,u){try{this.chmodSync(e,o,a),u()}catch(y){u(y)}},t.prototype.chown=function(e,o,a,u,y){try{this.chownSync(e,o,a,u),y()}catch(x){y(x)}},t.prototype.utimes=function(e,o,a,u){try{this.utimesSync(e,o,a),u()}catch(y){u(y)}},t.prototype.link=function(e,o,a){try{this.linkSync(e,o),a()}catch(u){a(u)}},t.prototype.symlink=function(e,o,a,u){try{this.symlinkSync(e,o,a),u()}catch(y){u(y)}},t.prototype.readlink=function(e,o){try{o(null,this.readlinkSync(e))}catch(a){o(a)}},t}(B),Q=function(){};Q.prototype.sync=function(t){t(new p(h.ENOTSUP))},Q.prototype.syncSync=function(){throw new p(h.ENOTSUP)},Q.prototype.datasync=function(t){this.sync(t)},Q.prototype.datasyncSync=function(){return this.syncSync()},Q.prototype.chown=function(t,n,e){e(new p(h.ENOTSUP))},Q.prototype.chownSync=function(t,n){throw new p(h.ENOTSUP)},Q.prototype.chmod=function(t,n){n(new p(h.ENOTSUP))},Q.prototype.chmodSync=function(t){throw new p(h.ENOTSUP)},Q.prototype.utimes=function(t,n,e){e(new p(h.ENOTSUP))},Q.prototype.utimesSync=function(t,n){throw new p(h.ENOTSUP)};var vt=function(i){function t(n,e,o,a,u){if(i.call(this),this._pos=0,this._dirty=!1,this._fs=n,this._path=e,this._flag=o,this._stat=a,u?this._buffer=u:this._buffer=Yt(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.getBuffer=function(){return this._buffer},t.prototype.getStats=function(){return this._stat},t.prototype.getFlag=function(){return this._flag},t.prototype.getPath=function(){return this._path},t.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},t.prototype.advancePos=function(e){return this._pos+=e},t.prototype.setPos=function(e){return this._pos=e},t.prototype.sync=function(e){try{this.syncSync(),e()}catch(o){e(o)}},t.prototype.syncSync=function(){throw new p(h.ENOTSUP)},t.prototype.close=function(e){try{this.closeSync(),e()}catch(o){e(o)}},t.prototype.closeSync=function(){throw new p(h.ENOTSUP)},t.prototype.stat=function(e){try{e(null,this._stat.clone())}catch(o){e(o)}},t.prototype.statSync=function(){return this._stat.clone()},t.prototype.truncate=function(e,o){try{this.truncateSync(e),this._flag.isSynchronous()&&!ft.getRootFS().supportsSynch()&&this.sync(o),o()}catch(a){return o(a)}},t.prototype.truncateSync=function(e){if(this._dirty=!0,!this._flag.isWriteable())throw new p(h.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,e>this._buffer.length){var o=d.alloc(e-this._buffer.length,0);this.writeSync(o,0,o.length,this._buffer.length),this._flag.isSynchronous()&&ft.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=e;var a=d.alloc(e);this._buffer.copy(a,0,0,e),this._buffer=a,this._flag.isSynchronous()&&ft.getRootFS().supportsSynch()&&this.syncSync()},t.prototype.write=function(e,o,a,u,y){try{y(null,this.writeSync(e,o,a,u),e)}catch(x){y(x)}},t.prototype.writeSync=function(e,o,a,u){if(this._dirty=!0,u==null&&(u=this.getPos()),!this._flag.isWriteable())throw new p(h.EPERM,"File not opened with a writeable mode.");var y=u+a;if(y>this._stat.size&&(this._stat.size=y,y>this._buffer.length)){var x=d.alloc(y);this._buffer.copy(x),this._buffer=x}var F=e.copy(this._buffer,u,o,o+a);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),F):(this.setPos(u+F),F)},t.prototype.read=function(e,o,a,u,y){try{y(null,this.readSync(e,o,a,u),e)}catch(x){y(x)}},t.prototype.readSync=function(e,o,a,u){if(!this._flag.isReadable())throw new p(h.EPERM,"File not opened with a readable mode.");u==null&&(u=this.getPos());var y=u+a;y>this._stat.size&&(a=this._stat.size-u);var x=this._buffer.copy(e,o,u,u+a);return this._stat.atime=new Date,this._pos=u+a,x},t.prototype.chmod=function(e,o){try{this.chmodSync(e),o()}catch(a){o(a)}},t.prototype.chmodSync=function(e){if(!this._fs.supportsProps())throw new p(h.ENOTSUP);this._dirty=!0,this._stat.chmod(e),this.syncSync()},t.prototype.isDirty=function(){return this._dirty},t.prototype.resetDirty=function(){this._dirty=!1},t}(Q),lt=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.close=function(e){e()},t.prototype.closeSync=function(){},t}(vt),pt=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t}(vt),k=function(i){function t(n,e,o){if(o===void 0&&(o=!0),i.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=n,this._async=e,!n.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");_t(o,t.Name,{sync:"sync file system instance",async:"async file system instance"})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{var a=new t(e.sync,e.async,!1);a.initialize(function(u){u?o(u):o(null,a)},!1)}catch(u){o(u)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){return t.Name},t.prototype._syncSync=function(e){this._sync.writeFileSync(e.getPath(),e.getBuffer(),null,N.getFileFlag("w"),e.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[e.getPath(),e.getBuffer(),null,e.getFlag(),e.getStats().mode]})},t.prototype.initialize=function(e,o){var a=this;o===void 0&&(o=!0),o&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var u=this._initializeCallbacks,y=function(H){a._isInitialized=!H,a._initializeCallbacks=[],u.forEach(function(nt){return nt(H)})};if(this._isInitialized)e();else if(u.push(e)===1){var x=function(H,nt,ht){H!=="/"&&a._sync.mkdirSync(H,nt),a._async.readdir(H,function(yt,Nt){var At=0;function Wt(le){le?ht(le):At<Nt.length?(U(v.join(H,Nt[At]),Wt),At++):ht()}yt?ht(yt):Wt()})},F=function(H,nt,ht){a._async.readFile(H,null,N.getFileFlag("r"),function(yt,Nt){if(yt)ht(yt);else try{a._sync.writeFileSync(H,Nt,null,N.getFileFlag("w"),nt)}catch(At){yt=At}finally{ht(yt)}})},U=function(H,nt){a._async.stat(H,!1,function(ht,yt){ht?nt(ht):yt.isDirectory()?x(H,yt.mode,nt):F(H,yt.mode,nt)})};x("/",0,y)}},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},t.prototype.renameSync=function(e,o){this.checkInitialized(),this._sync.renameSync(e,o),this.enqueueOp({apiMethod:"rename",arguments:[e,o]})},t.prototype.statSync=function(e,o){return this.checkInitialized(),this._sync.statSync(e,o)},t.prototype.openSync=function(e,o,a){this.checkInitialized();var u=this._sync.openSync(e,o,a);return u.closeSync(),new pt(this,e,o,this._sync.statSync(e,!1),this._sync.readFileSync(e,null,N.getFileFlag("r")))},t.prototype.unlinkSync=function(e){this.checkInitialized(),this._sync.unlinkSync(e),this.enqueueOp({apiMethod:"unlink",arguments:[e]})},t.prototype.rmdirSync=function(e){this.checkInitialized(),this._sync.rmdirSync(e),this.enqueueOp({apiMethod:"rmdir",arguments:[e]})},t.prototype.mkdirSync=function(e,o){this.checkInitialized(),this._sync.mkdirSync(e,o),this.enqueueOp({apiMethod:"mkdir",arguments:[e,o]})},t.prototype.readdirSync=function(e){return this.checkInitialized(),this._sync.readdirSync(e)},t.prototype.existsSync=function(e){return this.checkInitialized(),this._sync.existsSync(e)},t.prototype.chmodSync=function(e,o,a){this.checkInitialized(),this._sync.chmodSync(e,o,a),this.enqueueOp({apiMethod:"chmod",arguments:[e,o,a]})},t.prototype.chownSync=function(e,o,a,u){this.checkInitialized(),this._sync.chownSync(e,o,a,u),this.enqueueOp({apiMethod:"chown",arguments:[e,o,a,u]})},t.prototype.utimesSync=function(e,o,a){this.checkInitialized(),this._sync.utimesSync(e,o,a),this.enqueueOp({apiMethod:"utimes",arguments:[e,o,a]})},t.prototype.checkInitialized=function(){if(!this._isInitialized)throw new p(h.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},t.prototype.enqueueOp=function(e){var o=this;if(this._queue.push(e),!this._queueRunning){this._queueRunning=!0;var a=function(u){if(u&&console.error("WARNING: File system has desynchronized. Received following error: "+u+`
$`),o._queue.length>0){var y=o._queue.shift(),x=y.arguments;x.push(a),o._async[y.apiMethod].apply(o._async,x)}else o._queueRunning=!1};a()}},t}(rt);k.Name="AsyncMirror",k.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function g(i,t,n){switch(n.length){case 0:return i.call(t);case 1:return i.call(t,n[0]);case 2:return i.call(t,n[0],n[1]);case 3:return i.call(t,n[0],n[1],n[2])}return i.apply(t,n)}var m=Math.max;function O(i,t,n){return t=m(t===void 0?i.length-1:t,0),function(){for(var e=arguments,o=-1,a=m(e.length-t,0),u=Array(a);++o<a;)u[o]=e[t+o];o=-1;for(var y=Array(t+1);++o<t;)y[o]=e[o];return y[t]=n(u),g(i,this,y)}}function j(i){return i}function Y(i,t){return O(i,t,j)}var et=function(i){return Y(function(t){var n=t.pop();i.call(this,t,n)})};function It(i){return Y(function(t,n){var e=et(function(o,a){var u=this;return i(t,function(y,x){y.apply(u,o.concat(x))},a)});return n.length?e.apply(this,n):e})}var Ct=typeof w=="object"&&w&&w.Object===Object&&w,Vt=typeof self=="object"&&self&&self.Object===Object&&self,$t=Ct||Vt||Function("return this")(),Xt=$t.Symbol,Te=Object.prototype,En=Te.hasOwnProperty,ye=Te.toString,ke=Xt?Xt.toStringTag:void 0;function fr(i){var t=En.call(i,ke),n=i[ke];try{i[ke]=void 0;var e=!0}catch{}var o=ye.call(i);return e&&(t?i[ke]=n:delete i[ke]),o}var ho=Object.prototype,po=ho.toString;function $(i){return po.call(i)}var bt="[object Null]",I="[object Undefined]",Rt=Xt?Xt.toStringTag:void 0;function ee(i){return i==null?i===void 0?I:bt:Rt&&Rt in Object(i)?fr(i):$(i)}function Et(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}var Be="[object AsyncFunction]",Tt="[object Function]",ve="[object GeneratorFunction]",ot="[object Proxy]";function it(i){if(!Et(i))return!1;var t=ee(i);return t==Tt||t==ve||t==Be||t==ot}var hr=9007199254740991;function re(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=hr}function Lt(i){return i!=null&&re(i.length)&&!it(i)}var Vn={};function bn(){}function ce(i){return function(){if(i!==null){var t=i;i=null,t.apply(this,arguments)}}}var Zt=typeof Symbol=="function"&&Symbol.iterator,Fe=function(i){return Zt&&i[Zt]&&i[Zt]()};function Ae(i,t){for(var n=-1,e=Array(i);++n<i;)e[n]=t(n);return e}function Ie(i){return i!=null&&typeof i=="object"}var dr="[object Arguments]";function Xn(i){return Ie(i)&&ee(i)==dr}var fe=Object.prototype,ze=fe.hasOwnProperty,xe=fe.propertyIsEnumerable,an=Xn(function(){return arguments}())?Xn:function(i){return Ie(i)&&ze.call(i,"callee")&&!xe.call(i,"callee")},tn=Array.isArray;function li(){return!1}var ys=typeof l=="object"&&l&&!l.nodeType&&l,vs=ys&&typeof _=="object"&&_&&!_.nodeType&&_,pu=vs&&vs.exports===ys,gs=pu?$t.Buffer:void 0,yu=gs?gs.isBuffer:void 0,vu=yu||li,gu=9007199254740991,mu=/^(?:0|[1-9]\d*)$/;function _u(i,t){return t=t??gu,!!t&&(typeof i=="number"||mu.test(i))&&i>-1&&i%1==0&&i<t}var wu="[object Arguments]",Su="[object Array]",Eu="[object Boolean]",bu="[object Date]",xu="[object Error]",ku="[object Function]",Fu="[object Map]",Iu="[object Number]",Ou="[object Object]",Tu="[object RegExp]",Ru="[object Set]",Du="[object String]",Nu="[object WeakMap]",Lu="[object ArrayBuffer]",Cu="[object DataView]",Au="[object Float32Array]",Pu="[object Float64Array]",Mu="[object Int8Array]",Uu="[object Int16Array]",ju="[object Int32Array]",Bu="[object Uint8Array]",zu="[object Uint8ClampedArray]",Wu="[object Uint16Array]",Hu="[object Uint32Array]",ie={};ie[Au]=ie[Pu]=ie[Mu]=ie[Uu]=ie[ju]=ie[Bu]=ie[zu]=ie[Wu]=ie[Hu]=!0,ie[wu]=ie[Su]=ie[Lu]=ie[Eu]=ie[Cu]=ie[bu]=ie[xu]=ie[ku]=ie[Fu]=ie[Iu]=ie[Ou]=ie[Tu]=ie[Ru]=ie[Du]=ie[Nu]=!1;function Vu(i){return Ie(i)&&re(i.length)&&!!ie[ee(i)]}function Xu(i){return function(t){return i(t)}}var ms=typeof l=="object"&&l&&!l.nodeType&&l,_s=ms&&typeof _=="object"&&_&&!_.nodeType&&_,Yu=_s&&_s.exports===ms,yo=Yu&&Ct.process,ws=function(){try{return yo&&yo.binding&&yo.binding("util")}catch{}}(),Ss=ws&&ws.isTypedArray,Zu=Ss?Xu(Ss):Vu,Ku=Object.prototype,qu=Ku.hasOwnProperty;function Ju(i,t){var n=tn(i),e=!n&&an(i),o=!n&&!e&&vu(i),a=!n&&!e&&!o&&Zu(i),u=n||e||o||a,y=u?Ae(i.length,String):[],x=y.length;for(var F in i)(t||qu.call(i,F))&&!(u&&(F=="length"||o&&(F=="offset"||F=="parent")||a&&(F=="buffer"||F=="byteLength"||F=="byteOffset")||_u(F,x)))&&y.push(F);return y}var Gu=Object.prototype;function Qu(i){var t=i&&i.constructor,n=typeof t=="function"&&t.prototype||Gu;return i===n}function $u(i,t){return function(n){return i(t(n))}}var tl=$u(Object.keys,Object),el=Object.prototype,nl=el.hasOwnProperty;function rl(i){if(!Qu(i))return tl(i);var t=[];for(var n in Object(i))nl.call(i,n)&&n!="constructor"&&t.push(n);return t}function il(i){return Lt(i)?Ju(i):rl(i)}function ol(i){var t=-1,n=i.length;return function(){return++t<n?{value:i[t],key:t}:null}}function sl(i){var t=-1;return function(){var e=i.next();return e.done?null:(t++,{value:e.value,key:t})}}function al(i){var t=il(i),n=-1,e=t.length;return function(){var a=t[++n];return n<e?{value:i[a],key:a}:null}}function cl(i){if(Lt(i))return ol(i);var t=Fe(i);return t?sl(t):al(i)}function Es(i){return function(){if(i===null)throw new Error("Callback was already called.");var t=i;i=null,t.apply(this,arguments)}}function bs(i){return function(t,n,e){if(e=ce(e||bn),i<=0||!t)return e(null);var o=cl(t),a=!1,u=0;function y(F,U){if(u-=1,F)a=!0,e(F);else{if(U===Vn||a&&u<=0)return a=!0,e(null);x()}}function x(){for(;u<i&&!a;){var F=o();if(F===null){a=!0,u<=0&&e(null);return}u+=1,n(F.value,F.key,Es(y))}}x()}}function xs(i,t,n,e){bs(t)(i,n,e)}function vo(i,t){return function(n,e,o){return i(n,t,e,o)}}function ul(i,t,n){n=ce(n||bn);var e=0,o=0,a=i.length;a===0&&n(null);function u(y,x){y?n(y):(++o===a||x===Vn)&&n(null)}for(;e<a;e++)t(i[e],e,Es(u))}var ll=vo(xs,1/0),ks=function(i,t,n){var e=Lt(i)?ul:ll;e(i,t,n)};function fl(i){return function(t,n,e){return i(ks,t,n,e)}}function Fs(i,t,n,e){e=e||bn,t=t||[];var o=[],a=0;i(t,function(u,y,x){var F=a++;n(u,function(U,H){o[F]=H,x(U)})},function(u){e(u,o)})}var hl=fl(Fs);It(hl);function dl(i){return function(t,n,e,o){return i(bs(n),t,e,o)}}var pl=dl(Fs),yl=vo(pl,1);It(yl),Y(function(i,t){return Y(function(n){return i.apply(null,t.concat(n))})});function vl(i,t){for(var n=-1,e=i==null?0:i.length;++n<e&&t(i[n],n,i)!==!1;);return i}var Is=typeof setImmediate=="function"&&setImmediate,Os=typeof b=="object"&&typeof b.nextTick=="function";function Ts(i){setTimeout(i,0)}function Rs(i){return Y(function(t,n){i(function(){t.apply(null,n)})})}var fi;Is?fi=setImmediate:Os?fi=b.nextTick:fi=Ts,Rs(fi);var gl=vo(xs,1);function ml(i,t,n,e){e=ce(e||bn),gl(i,function(o,a,u){n(t,o,function(y,x){t=x,u(y)})},function(o){e(o,t)})}var _l=Y(function(t){return Y(function(n){var e=this,o=n[n.length-1];typeof o=="function"?n.pop():o=bn,ml(t,n,function(a,u,y){u.apply(e,a.concat(Y(function(x,F){y(x,F)})))},function(a,u){o.apply(e,[a].concat(u))})})});Y(function(i){return _l.apply(null,i.reverse())}),Y(function(i){var t=[null].concat(i);return et(function(n,e){return e.apply(this,t)})});function Ds(i){return Y(function(t,n){t.apply(null,n.concat(Y(function(e,o){typeof console=="object"&&(e?console.error&&console.error(e):console[i]&&vl(o,function(a){console[i](a)}))})))})}Ds("dir");function wl(i){return function(t,n,e){return i(t,e)}}function Ns(i,t,n){ks(i,wl(t),n)}Ds("log");var hi;Os?hi=b.nextTick:Is?hi=setImmediate:hi=Ts,Rs(hi);var We;function Sl(){We||(We={},We[Dropbox.ApiError.NETWORK_ERROR]=h.EIO,We[Dropbox.ApiError.INVALID_PARAM]=h.EINVAL,We[Dropbox.ApiError.INVALID_TOKEN]=h.EPERM,We[Dropbox.ApiError.OAUTH_ERROR]=h.EPERM,We[Dropbox.ApiError.NOT_FOUND]=h.ENOENT,We[Dropbox.ApiError.INVALID_METHOD]=h.EINVAL,We[Dropbox.ApiError.NOT_ACCEPTABLE]=h.EINVAL,We[Dropbox.ApiError.CONFLICT]=h.EINVAL,We[Dropbox.ApiError.RATE_LIMITED]=h.EBUSY,We[Dropbox.ApiError.SERVER_ERROR]=h.EBUSY,We[Dropbox.ApiError.OVER_QUOTA]=h.ENOSPC)}function El(i){return i&&i.stat.isFile}function bl(i){return i&&i.stat.isFolder}function xl(i){return i==null||typeof i=="object"&&typeof i.byteLength=="number"}var Re=function(t){this._cache={},this._client=t};Re.prototype.readdir=function(t,n){var e=this,o=this.getCachedDirInfo(t);this._wrap(function(a){o!==null&&o.contents?e._client.readdir(t,{contentHash:o.stat.contentHash},a):e._client.readdir(t,a)},function(a,u,y,x){a?a.status===Dropbox.ApiError.NO_CONTENT&&o!==null?n(null,o.contents.slice(0)):n(a):(e.updateCachedDirInfo(t,y,u.slice(0)),x.forEach(function(F){e.updateCachedInfo(v.join(t,F.name),F)}),n(null,u))})},Re.prototype.remove=function(t,n){var e=this;this._wrap(function(o){e._client.remove(t,o)},function(o,a){o||e.updateCachedInfo(t,a),n(o)})},Re.prototype.move=function(t,n,e){var o=this;this._wrap(function(a){o._client.move(t,n,a)},function(a,u){a||(o.deleteCachedInfo(t),o.updateCachedInfo(n,u)),e(a)})},Re.prototype.stat=function(t,n){var e=this;this._wrap(function(o){e._client.stat(t,o)},function(o,a){o||e.updateCachedInfo(t,a),n(o,a)})},Re.prototype.readFile=function(t,n){var e=this,o=this.getCachedFileInfo(t);o!==null&&o.contents!==null?this.stat(t,function(a,u){a?n(a):u.contentHash===o.stat.contentHash?n(a,o.contents.slice(0),o.stat):e.readFile(t,n)}):this._wrap(function(a){e._client.readFile(t,{arrayBuffer:!0},a)},function(a,u,y){a||e.updateCachedInfo(t,y,u.slice(0)),n(a,u,y)})},Re.prototype.writeFile=function(t,n,e){var o=this;this._wrap(function(a){o._client.writeFile(t,n,a)},function(a,u){a||o.updateCachedInfo(t,u,n.slice(0)),e(a,u)})},Re.prototype.mkdir=function(t,n){var e=this;this._wrap(function(o){e._client.mkdir(t,o)},function(o,a){o||e.updateCachedInfo(t,a,[]),n(o)})},Re.prototype._wrap=function(t,n){var e=0,o=function(a){var u=2;if(a&&3>++e)switch(a.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){t(o)},u*1e3);break;default:n.apply(null,arguments);break}else n.apply(null,arguments)};t(o)},Re.prototype.getCachedInfo=function(t){return this._cache[t.toLowerCase()]},Re.prototype.putCachedInfo=function(t,n){this._cache[t.toLowerCase()]=n},Re.prototype.deleteCachedInfo=function(t){delete this._cache[t.toLowerCase()]},Re.prototype.getCachedDirInfo=function(t){var n=this.getCachedInfo(t);return bl(n)?n:null},Re.prototype.getCachedFileInfo=function(t){var n=this.getCachedInfo(t);return El(n)?n:null},Re.prototype.updateCachedDirInfo=function(t,n,e){e===void 0&&(e=null);var o=this.getCachedInfo(t);n.contentHash!==null&&(o===void 0||o.stat.contentHash!==n.contentHash)&&this.putCachedInfo(t,{stat:n,contents:e})},Re.prototype.updateCachedFileInfo=function(t,n,e){e===void 0&&(e=null);var o=this.getCachedInfo(t);n.versionTag!==null&&(o===void 0||o.stat.versionTag!==n.versionTag)&&this.putCachedInfo(t,{stat:n,contents:e})},Re.prototype.updateCachedInfo=function(t,n,e){e===void 0&&(e=null),n.isFile&&xl(e)?this.updateCachedFileInfo(t,n,e):n.isFolder&&Array.isArray(e)&&this.updateCachedDirInfo(t,n,e)};var kl=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(this.isDirty()){var a=this.getBuffer(),u=ct(a);this._fs._writeFileStrict(this.getPath(),u,function(y){y||o.resetDirty(),e(y)})}else e()},t.prototype.close=function(e){this.sync(e)},t}(vt),di=function(i){function t(n,e){e===void 0&&(e=!0),i.call(this),this._client=new Re(n),_t(e,t.Name,{client:"authenticated dropbox client instance"}),Sl()}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.client,!1))},t.isAvailable=function(){return typeof Dropbox<"u"},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var o=this;this._client.readdir("/",function(a,u){if(a)e(o.convert(a,"/"));else{var y=function(F,U){var H=v.join("/",F);o._client.remove(H,function(nt){U(nt?o.convert(nt,H):null)})},x=function(F){F?e(F):e()};Ns(u,y,x)}})},t.prototype.rename=function(e,o,a){var u=this;this._client.move(e,o,function(y){y?u._client.stat(o,function(x,F){if(x||F.isFolder){var U=y.response.error.indexOf(e)>-1?e:o;a(u.convert(y,U))}else u._client.remove(o,function(H){H?a(u.convert(H,o)):u.rename(e,o,a)})}):a()})},t.prototype.stat=function(e,o,a){var u=this;this._client.stat(e,function(y,x){if(y)a(u.convert(y,e));else if(x&&x.isRemoved)a(p.FileError(h.ENOENT,e));else{var F=new z(u._statType(x),x.size);return a(null,F)}})},t.prototype.open=function(e,o,a,u){var y=this;this._client.readFile(e,function(x,F,U){if(x)if(o.isReadable())u(y.convert(x,e));else switch(x.status){case Dropbox.ApiError.NOT_FOUND:var H=new ArrayBuffer(0);return y._writeFileStrict(e,H,function(yt,Nt){if(yt)u(yt);else{var At=y._makeFile(e,o,Nt,Mt(H));u(null,At)}});default:return u(y.convert(x,e))}else{var nt;F===null?nt=Yt():nt=Mt(F);var ht=y._makeFile(e,o,U,nt);return u(null,ht)}})},t.prototype._writeFileStrict=function(e,o,a){var u=this,y=v.dirname(e);this.stat(y,!1,function(x,F){x?a(p.FileError(h.ENOENT,y)):u._client.writeFile(e,o,function(U,H){U?a(u.convert(U,e)):a(null,H)})})},t.prototype._statType=function(e){return e.isFile?M.FILE:M.DIRECTORY},t.prototype._makeFile=function(e,o,a,u){var y=this._statType(a),x=new z(y,a.size);return new kl(this,e,o,x,u)},t.prototype._remove=function(e,o,a){var u=this;this._client.stat(e,function(y,x){y?o(u.convert(y,e)):x.isFile&&!a?o(p.FileError(h.ENOTDIR,e)):!x.isFile&&a?o(p.FileError(h.EISDIR,e)):u._client.remove(e,function(F){o(F?u.convert(F,e):null)})})},t.prototype.unlink=function(e,o){this._remove(e,o,!0)},t.prototype.rmdir=function(e,o){this._remove(e,o,!1)},t.prototype.mkdir=function(e,o,a){var u=this,y=v.dirname(e);this._client.stat(y,function(x,F){x?a(u.convert(x,y)):u._client.mkdir(e,function(U){a(U?p.FileError(h.EEXIST,e):null)})})},t.prototype.readdir=function(e,o){var a=this;this._client.readdir(e,function(u,y){return u?o(a.convert(u)):o(null,y)})},t.prototype.convert=function(e,o){o===void 0&&(o=null);var a=We[e.status];return a===void 0&&(a=h.EIO),o?p.FileError(a,o):new p(a)},t}(B);di.Name="Dropbox",di.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(i,t){i.isAuthenticated&&i.isAuthenticated()?t():t(new p(h.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function he(i,t){t===void 0&&(t="");for(var n=i.errno,e=i.node,o=[];e&&(o.unshift(e.name),e!==e.parent);)e=e.parent;return new p(n,E[n],o.length>0?"/"+o.join("/"):t)}var Fl=function(i){function t(n,e,o,a){i.call(this),this._fs=n,this._FS=e,this._path=o,this._stream=a}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.getPos=function(){},t.prototype.close=function(e){var o=null;try{this.closeSync()}catch(a){o=a}finally{e(o)}},t.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(e){throw he(e,this._path)}},t.prototype.stat=function(e){try{e(null,this.statSync())}catch(o){e(o)}},t.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(e){throw he(e,this._path)}},t.prototype.truncate=function(e,o){var a=null;try{this.truncateSync(e)}catch(u){a=u}finally{o(a)}},t.prototype.truncateSync=function(e){try{this._FS.ftruncate(this._stream.fd,e)}catch(o){throw he(o,this._path)}},t.prototype.write=function(e,o,a,u,y){try{y(null,this.writeSync(e,o,a,u),e)}catch(x){y(x)}},t.prototype.writeSync=function(e,o,a,u){try{var y=kt(e),x=u===null?void 0:u;return this._FS.write(this._stream,y,o,a,x)}catch(F){throw he(F,this._path)}},t.prototype.read=function(e,o,a,u,y){try{y(null,this.readSync(e,o,a,u),e)}catch(x){y(x)}},t.prototype.readSync=function(e,o,a,u){try{var y=kt(e),x=u===null?void 0:u;return this._FS.read(this._stream,y,o,a,x)}catch(F){throw he(F,this._path)}},t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.chown=function(e,o,a){var u=null;try{this.chownSync(e,o)}catch(y){u=y}finally{a(u)}},t.prototype.chownSync=function(e,o){try{this._FS.fchown(this._stream.fd,e,o)}catch(a){throw he(a,this._path)}},t.prototype.chmod=function(e,o){var a=null;try{this.chmodSync(e)}catch(u){a=u}finally{o(a)}},t.prototype.chmodSync=function(e){try{this._FS.fchmod(this._stream.fd,e)}catch(o){throw he(o,this._path)}},t.prototype.utimes=function(e,o,a){var u=null;try{this.utimesSync(e,o)}catch(y){u=y}finally{a(u)}},t.prototype.utimesSync=function(e,o){this._fs.utimesSync(this._path,e,o)},t}(Q),pi=function(i){function t(n){i.call(this),this._FS=n}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.FS))},t.isAvailable=function(){return!0},t.prototype.getName=function(){return this._FS.DB_NAME()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!0},t.prototype.supportsProps=function(){return!0},t.prototype.supportsSynch=function(){return!0},t.prototype.renameSync=function(e,o){try{this._FS.rename(e,o)}catch(a){throw a.errno===h.ENOENT?he(a,this.existsSync(e)?o:e):he(a)}},t.prototype.statSync=function(e,o){try{var a=o?this._FS.lstat(e):this._FS.stat(e),u=this.modeToFileType(a.mode);return new z(u,a.size,a.mode,a.atime,a.mtime,a.ctime)}catch(y){throw he(y,e)}},t.prototype.openSync=function(e,o,a){try{var u=this._FS.open(e,o.getFlagString(),a);if(this._FS.isDir(u.node.mode))throw this._FS.close(u),p.EISDIR(e);return new Fl(this,this._FS,e,u)}catch(y){throw he(y,e)}},t.prototype.unlinkSync=function(e){try{this._FS.unlink(e)}catch(o){throw he(o,e)}},t.prototype.rmdirSync=function(e){try{this._FS.rmdir(e)}catch(o){throw he(o,e)}},t.prototype.mkdirSync=function(e,o){try{this._FS.mkdir(e,o)}catch(a){throw he(a,e)}},t.prototype.readdirSync=function(e){try{return this._FS.readdir(e).filter(function(o){return o!=="."&&o!==".."})}catch(o){throw he(o,e)}},t.prototype.truncateSync=function(e,o){try{this._FS.truncate(e,o)}catch(a){throw he(a,e)}},t.prototype.readFileSync=function(e,o,a){try{var u=this._FS.readFile(e,{flags:a.getFlagString()}),y=Pt(u);return o?y.toString(o):y}catch(x){throw he(x,e)}},t.prototype.writeFileSync=function(e,o,a,u,y){try{a&&(o=d.from(o,a));var x=kt(o);this._FS.writeFile(e,x,{flags:u.getFlagString(),encoding:"binary"}),this._FS.chmod(e,y)}catch(F){throw he(F,e)}},t.prototype.chmodSync=function(e,o,a){try{o?this._FS.lchmod(e,a):this._FS.chmod(e,a)}catch(u){throw he(u,e)}},t.prototype.chownSync=function(e,o,a,u){try{o?this._FS.lchown(e,a,u):this._FS.chown(e,a,u)}catch(y){throw he(y,e)}},t.prototype.symlinkSync=function(e,o,a){try{this._FS.symlink(e,o)}catch(u){throw he(u)}},t.prototype.readlinkSync=function(e){try{return this._FS.readlink(e)}catch(o){throw he(o,e)}},t.prototype.utimesSync=function(e,o,a){try{this._FS.utime(e,o.getTime(),a.getTime())}catch(u){throw he(u,e)}},t.prototype.modeToFileType=function(e){if(this._FS.isDir(e))return M.DIRECTORY;if(this._FS.isFile(e))return M.FILE;if(this._FS.isLink(e))return M.SYMLINK;throw p.EPERM("Invalid mode: "+e)},t}(rt);pi.Name="EmscriptenFileSystem",pi.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var pr=function(i){function t(n,e){i.call(this),this._folder=n,this._wrapped=e}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.folder,e.wrapped))},t.isAvailable=function(){return!0},t.prototype.initialize=function(e){var o=this;this._wrapped.exists(this._folder,function(a){a?e():o._wrapped.isReadOnly()?e(p.ENOENT(o._folder)):o._wrapped.mkdir(o._folder,511,e)})},t.prototype.getName=function(){return this._wrapped.getName()},t.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},t.prototype.supportsProps=function(){return this._wrapped.supportsProps()},t.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t}(B);pr.Name="FolderAdapter",pr.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function Ls(i,t){if(t!==null&&typeof t=="object"){var n=t,e=n.path;e&&(e="/"+v.relative(i,e),n.message=n.message.replace(n.path,e),n.path=e)}return t}function Il(i,t){return typeof t=="function"?function(n){arguments.length>0&&(arguments[0]=Ls(i,n)),t.apply(null,arguments)}:t}function Cs(i,t,n){return i.slice(i.length-4)!=="Sync"?function(){return arguments.length>0&&(t&&(arguments[0]=v.join(this._folder,arguments[0])),n&&(arguments[1]=v.join(this._folder,arguments[1])),arguments[arguments.length-1]=Il(this._folder,arguments[arguments.length-1])),this._wrapped[i].apply(this._wrapped,arguments)}:function(){try{return t&&(arguments[0]=v.join(this._folder,arguments[0])),n&&(arguments[1]=v.join(this._folder,arguments[1])),this._wrapped[i].apply(this._wrapped,arguments)}catch(e){throw Ls(this._folder,e)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(i){pr.prototype[i]=Cs(i,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(i){pr.prototype[i]=Cs(i,!0,!0)});var yi;typeof window<"u"?yi=window:typeof self<"u"?yi=self:yi=w;var ge=yi;function Ol(i){return i.isDirectory}var go=ge.webkitRequestFileSystem||ge.requestFileSystem||null;function Tl(i,t,n,e){if(typeof navigator.webkitPersistentStorage<"u")switch(i){case ge.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(t,n,e);break;case ge.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(t,n,e);break;default:e(new TypeError("Invalid storage type: "+i));break}else ge.webkitStorageInfo.requestQuota(i,t,n,e)}function Rl(i){return Array.prototype.slice.call(i||[],0)}function hn(i,t,n){switch(i.name){case"PathExistsError":return p.EEXIST(t);case"QuotaExceededError":return p.FileError(h.ENOSPC,t);case"NotFoundError":return p.ENOENT(t);case"SecurityError":return p.FileError(h.EACCES,t);case"InvalidModificationError":return p.FileError(h.EPERM,t);case"TypeMismatchError":return p.FileError(n?h.ENOTDIR:h.EISDIR,t);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return p.FileError(h.EINVAL,t)}}var Dl=function(i){function t(n,e,o,a,u,y){i.call(this,n,o,a,u,y),this._entry=e}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(!this.isDirty())return e();this._entry.createWriter(function(a){var u=o.getBuffer(),y=new Blob([ct(u)]),x=y.size;a.onwriteend=function(F){a.onwriteend=null,a.onerror=null,a.truncate(x),o.resetDirty(),e()},a.onerror=function(F){e(hn(F,o.getPath(),!1))},a.write(y)})},t.prototype.close=function(e){this.sync(e)},t}(vt),vi=function(i){function t(n,e,o){n===void 0&&(n=5),e===void 0&&(e=ge.PERSISTENT),o===void 0&&(o=!0),i.call(this),this.size=1024*1024*n,this.type=e,_t(o,t.Name,{size:n,type:e})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t(e.size,e.type,!1);a.allocate(function(u){return u?o(u):o(null,a)},!1)},t.isAvailable=function(){return!!go},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.allocate=function(e,o){var a=this;e===void 0&&(e=function(){}),o===void 0&&(o=!0),o&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var u=function(x){a.fs=x,e()},y=function(x){e(hn(x,"/",!0))};this.type===ge.PERSISTENT?Tl(this.type,this.size,function(x){go(a.type,x,u,y)},y):go(this.type,this.size,u,y)},t.prototype.empty=function(e){this._readdir("/",function(o,a){if(o)console.error("Failed to empty FS"),e(o);else{var u=function(x){o?(console.error("Failed to empty FS"),e(o)):e()},y=function(x,F){var U=function(){F()},H=function(nt){F(hn(nt,x.fullPath,!x.isDirectory))};Ol(x)?x.removeRecursively(U,H):x.remove(U,H)};Ns(a,y,u)}})},t.prototype.rename=function(e,o,a){var u=this,y=2,x=0,F=this.fs.root,U=e,H=function(ht){--y<=0&&a(hn(ht,U,!1))},nt=function(ht){if(++x===2)return a(new p(h.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(e===o)return a();U=v.dirname(o),F.getDirectory(U,{},function(yt){U=v.basename(o),ht.moveTo(yt,U,function(Nt){a()},function(Nt){ht.isDirectory?(U=o,u.unlink(o,function(At){At?H(Nt):u.rename(e,o,a)})):H(Nt)})},H)};F.getFile(e,{},nt,H),F.getDirectory(e,{},nt,H)},t.prototype.stat=function(e,o,a){var u=this,y={create:!1},x=function(nt){var ht=function(yt){var Nt=new z(M.FILE,yt.size);a(null,Nt)};nt.file(ht,U)},F=function(nt){var ht=4096,yt=new z(M.DIRECTORY,ht);a(null,yt)},U=function(nt){a(hn(nt,e,!1))},H=function(){u.fs.root.getDirectory(e,y,F,U)};this.fs.root.getFile(e,y,x,H)},t.prototype.open=function(e,o,a,u){var y=this,x=function(F){F.name==="InvalidModificationError"&&o.isExclusive()?u(p.EEXIST(e)):u(hn(F,e,!1))};this.fs.root.getFile(e,{create:o.pathNotExistsAction()===R.CREATE_FILE,exclusive:o.isExclusive()},function(F){F.file(function(U){var H=new FileReader;H.onloadend=function(nt){var ht=y._makeFile(e,F,o,U,H.result);u(null,ht)},H.onerror=function(nt){x(H.error)},H.readAsArrayBuffer(U)},x)},x)},t.prototype.unlink=function(e,o){this._remove(e,o,!0)},t.prototype.rmdir=function(e,o){var a=this;this.readdir(e,function(u,y){u?o(u):y.length>0?o(p.ENOTEMPTY(e)):a._remove(e,o,!1)})},t.prototype.mkdir=function(e,o,a){var u={create:!0,exclusive:!0},y=function(F){a()},x=function(F){a(hn(F,e,!0))};this.fs.root.getDirectory(e,u,y,x)},t.prototype.readdir=function(e,o){this._readdir(e,function(a,u){if(u){for(var y=[],x=0,F=u;x<F.length;x+=1){var U=F[x];y.push(U.name)}o(null,y)}else return o(a)})},t.prototype._makeFile=function(e,o,a,u,y){y===void 0&&(y=new ArrayBuffer(0));var x=new z(M.FILE,u.size),F=Mt(y);return new Dl(this,o,e,a,x,F)},t.prototype._readdir=function(e,o){var a=function(u){o(hn(u,e,!0))};this.fs.root.getDirectory(e,{create:!1},function(u){var y=u.createReader(),x=[],F=function(){y.readEntries(function(U){U.length?(x=x.concat(Rl(U)),F()):o(null,x)},a)};F()},a)},t.prototype._remove=function(e,o,a){var u=function(F){var U=function(){o()},H=function(nt){o(hn(nt,e,!a))};F.remove(U,H)},y=function(F){o(hn(F,e,!a))},x={create:!1};a?this.fs.root.getFile(e,x,u,y):this.fs.root.getDirectory(e,x,u,y)},t}(B);vi.Name="HTML5FS",vi.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var He=function(t,n,e,o,a,u){this.id=t,this.size=n,this.mode=e,this.atime=o,this.mtime=a,this.ctime=u};He.fromBuffer=function(t){if(t===void 0)throw new Error("NO");return new He(t.toString("ascii",30),t.readUInt32LE(0),t.readUInt16LE(4),t.readDoubleLE(6),t.readDoubleLE(14),t.readDoubleLE(22))},He.prototype.toStats=function(){return new z((this.mode&61440)===M.DIRECTORY?M.DIRECTORY:M.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},He.prototype.getSize=function(){return 30+this.id.length},He.prototype.toBuffer=function(t){return t===void 0&&(t=d.alloc(this.getSize())),t.writeUInt32LE(this.size,0),t.writeUInt16LE(this.mode,4),t.writeDoubleLE(this.atime,6),t.writeDoubleLE(this.mtime,14),t.writeDoubleLE(this.ctime,22),t.write(this.id,30,this.id.length,"ascii"),t},He.prototype.update=function(t){var n=!1;this.size!==t.size&&(this.size=t.size,n=!0),this.mode!==t.mode&&(this.mode=t.mode,n=!0);var e=t.atime.getTime();this.atime!==e&&(this.atime=e,n=!0);var o=t.mtime.getTime();this.mtime!==o&&(this.mtime=o,n=!0);var a=t.ctime.getTime();return this.ctime!==a&&(this.ctime=a,n=!0),n},He.prototype.isFile=function(){return(this.mode&61440)===M.FILE},He.prototype.isDirectory=function(){return(this.mode&61440)===M.DIRECTORY};var An="/",mo=null;function As(){return mo||(mo=d.from("{}"))}function gi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var t=Math.random()*16|0,n=i==="x"?t:t&3|8;return n.toString(16)})}function Ke(i,t){return i?(t(i),!1):!0}function Ee(i,t,n){return i?(t.abort(function(){n(i)}),!1):!0}var xn=function(t){this.store=t,this.originalData={},this.modifiedKeys=[]};xn.prototype.get=function(t){var n=this.store.get(t);return this.stashOldValue(t,n),n},xn.prototype.put=function(t,n,e){return this.markModified(t),this.store.put(t,n,e)},xn.prototype.del=function(t){this.markModified(t),this.store.del(t)},xn.prototype.commit=function(){},xn.prototype.abort=function(){for(var t=this,n=0,e=t.modifiedKeys;n<e.length;n+=1){var o=e[n],a=t.originalData[o];a?t.store.put(o,a,!0):t.store.del(o)}},xn.prototype.stashOldValue=function(t,n){this.originalData.hasOwnProperty(t)||(this.originalData[t]=n)},xn.prototype.markModified=function(t){this.modifiedKeys.indexOf(t)===-1&&(this.modifiedKeys.push(t),this.originalData.hasOwnProperty(t)||(this.originalData[t]=this.store.get(t)))};var Ps=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t}(vt),Ms=function(i){function t(n){i.call(this),this.store=n.store,this.makeRootDirectory()}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},t.prototype.renameSync=function(e,o){var a=this.store.beginTransaction("readwrite"),u=v.dirname(e),y=v.basename(e),x=v.dirname(o),F=v.basename(o),U=this.findINode(a,u),H=this.getDirListing(a,u,U);if(!H[y])throw p.ENOENT(e);var nt=H[y];if(delete H[y],(x+"/").indexOf(e+"/")===0)throw new p(h.EBUSY,u);var ht,yt;if(x===u?(ht=U,yt=H):(ht=this.findINode(a,x),yt=this.getDirListing(a,x,ht)),yt[F]){var Nt=this.getINode(a,o,yt[F]);if(Nt.isFile())try{a.del(Nt.id),a.del(yt[F])}catch(At){throw a.abort(),At}else throw p.EPERM(o)}yt[F]=nt;try{a.put(U.id,d.from(JSON.stringify(H)),!0),a.put(ht.id,d.from(JSON.stringify(yt)),!0)}catch(At){throw a.abort(),At}a.commit()},t.prototype.statSync=function(e,o){return this.findINode(this.store.beginTransaction("readonly"),e).toStats()},t.prototype.createFileSync=function(e,o,a){var u=this.store.beginTransaction("readwrite"),y=Yt(),x=this.commitNewFile(u,e,M.FILE,a,y);return new Ps(this,e,o,x.toStats(),y)},t.prototype.openFileSync=function(e,o){var a=this.store.beginTransaction("readonly"),u=this.findINode(a,e),y=a.get(u.id);if(y===void 0)throw p.ENOENT(e);return new Ps(this,e,o,u.toStats(),y)},t.prototype.unlinkSync=function(e){this.removeEntry(e,!1)},t.prototype.rmdirSync=function(e){if(this.readdirSync(e).length>0)throw p.ENOTEMPTY(e);this.removeEntry(e,!0)},t.prototype.mkdirSync=function(e,o){var a=this.store.beginTransaction("readwrite"),u=d.from("{}");this.commitNewFile(a,e,M.DIRECTORY,o,u)},t.prototype.readdirSync=function(e){var o=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(o,e,this.findINode(o,e)))},t.prototype._syncSync=function(e,o,a){var u=this.store.beginTransaction("readwrite"),y=this._findINode(u,v.dirname(e),v.basename(e)),x=this.getINode(u,e,y),F=x.update(a);try{u.put(x.id,o,!0),F&&u.put(y,x.toBuffer(),!0)}catch(U){throw u.abort(),U}u.commit()},t.prototype.makeRootDirectory=function(){var e=this.store.beginTransaction("readwrite");if(e.get(An)===void 0){var o=new Date().getTime(),a=new He(gi(),4096,511|M.DIRECTORY,o,o,o);e.put(a.id,As(),!1),e.put(An,a.toBuffer(),!1),e.commit()}},t.prototype._findINode=function(e,o,a){var u=this,y=function(x){var F=u.getDirListing(e,o,x);if(F[a])return F[a];throw p.ENOENT(v.resolve(o,a))};return o==="/"?a===""?An:y(this.getINode(e,o,An)):y(this.getINode(e,o+v.sep+a,this._findINode(e,v.dirname(o),v.basename(o))))},t.prototype.findINode=function(e,o){return this.getINode(e,o,this._findINode(e,v.dirname(o),v.basename(o)))},t.prototype.getINode=function(e,o,a){var u=e.get(a);if(u===void 0)throw p.ENOENT(o);return He.fromBuffer(u)},t.prototype.getDirListing=function(e,o,a){if(!a.isDirectory())throw p.ENOTDIR(o);var u=e.get(a.id);if(u===void 0)throw p.ENOENT(o);return JSON.parse(u.toString())},t.prototype.addNewNode=function(e,o){for(var a=0,u;a<5;)try{return u=gi(),e.put(u,o,!1),u}catch{}throw new p(h.EIO,"Unable to commit data to key-value store.")},t.prototype.commitNewFile=function(e,o,a,u,y){var x=v.dirname(o),F=v.basename(o),U=this.findINode(e,x),H=this.getDirListing(e,x,U),nt=new Date().getTime();if(o==="/"||H[F])throw p.EEXIST(o);var ht;try{var yt=this.addNewNode(e,y);ht=new He(yt,y.length,u|a,nt,nt,nt);var Nt=this.addNewNode(e,ht.toBuffer());H[F]=Nt,e.put(U.id,d.from(JSON.stringify(H)),!0)}catch(At){throw e.abort(),At}return e.commit(),ht},t.prototype.removeEntry=function(e,o){var a=this.store.beginTransaction("readwrite"),u=v.dirname(e),y=this.findINode(a,u),x=this.getDirListing(a,u,y),F=v.basename(e);if(!x[F])throw p.ENOENT(e);var U=x[F];delete x[F];var H=this.getINode(a,e,U);if(!o&&H.isDirectory())throw p.EISDIR(e);if(o&&!H.isDirectory())throw p.ENOTDIR(e);try{a.del(H.id),a.del(U),a.put(y.id,d.from(JSON.stringify(x)),!0)}catch(nt){throw a.abort(),nt}a.commit()},t}(rt),Us=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(a){a||o.resetDirty(),e(a)}):e()},t.prototype.close=function(e){this.sync(e)},t}(vt),Nl=function(i){function t(){i.apply(this,arguments)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.init=function(e,o){this.store=e,this.makeRootDirectory(o)},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var o=this;this.store.clear(function(a){Ke(a,e)&&o.makeRootDirectory(e)})},t.prototype.rename=function(e,o,a){var u=this,y=this.store.beginTransaction("readwrite"),x=v.dirname(e),F=v.basename(e),U=v.dirname(o),H=v.basename(o),nt={},ht={},yt=!1;if((U+"/").indexOf(e+"/")===0)return a(new p(h.EBUSY,x));var Nt=function(){if(!(yt||!ht.hasOwnProperty(x)||!ht.hasOwnProperty(U))){var Wt=ht[x],le=nt[x],De=ht[U],yn=nt[U];if(!Wt[F])a(p.ENOENT(e));else{var vn=Wt[F];delete Wt[F];var Sr=function(){De[H]=vn,y.put(le.id,d.from(JSON.stringify(Wt)),!0,function(In){Ee(In,y,a)&&(x===U?y.commit(a):y.put(yn.id,d.from(JSON.stringify(De)),!0,function(On){Ee(On,y,a)&&y.commit(a)}))})};De[H]?u.getINode(y,o,De[H],function(In,On){Ee(In,y,a)&&(On.isFile()?y.del(On.id,function(ka){Ee(ka,y,a)&&y.del(De[H],function(af){Ee(af,y,a)&&Sr()})}):y.abort(function(ka){a(p.EPERM(o))}))}):Sr()}}},At=function(Wt){u.findINodeAndDirListing(y,Wt,function(le,De,yn){le?yt||(yt=!0,y.abort(function(){a(le)})):(nt[Wt]=De,ht[Wt]=yn,Nt())})};At(x),x!==U&&At(U)},t.prototype.stat=function(e,o,a){var u=this.store.beginTransaction("readonly");this.findINode(u,e,function(y,x){Ke(y,a)&&a(null,x.toStats())})},t.prototype.createFile=function(e,o,a,u){var y=this,x=this.store.beginTransaction("readwrite"),F=Yt();this.commitNewFile(x,e,M.FILE,a,F,function(U,H){Ke(U,u)&&u(null,new Us(y,e,o,H.toStats(),F))})},t.prototype.openFile=function(e,o,a){var u=this,y=this.store.beginTransaction("readonly");this.findINode(y,e,function(x,F){Ke(x,a)&&y.get(F.id,function(U,H){Ke(U,a)&&(H===void 0?a(p.ENOENT(e)):a(null,new Us(u,e,o,F.toStats(),H)))})})},t.prototype.unlink=function(e,o){this.removeEntry(e,!1,o)},t.prototype.rmdir=function(e,o){var a=this;this.readdir(e,function(u,y){u?o(u):y.length>0?o(p.ENOTEMPTY(e)):a.removeEntry(e,!0,o)})},t.prototype.mkdir=function(e,o,a){var u=this.store.beginTransaction("readwrite"),y=d.from("{}");this.commitNewFile(u,e,M.DIRECTORY,o,y,a)},t.prototype.readdir=function(e,o){var a=this,u=this.store.beginTransaction("readonly");this.findINode(u,e,function(y,x){Ke(y,o)&&a.getDirListing(u,e,x,function(F,U){Ke(F,o)&&o(null,Object.keys(U))})})},t.prototype._sync=function(e,o,a,u){var y=this,x=this.store.beginTransaction("readwrite");this._findINode(x,v.dirname(e),v.basename(e),function(F,U){Ee(F,x,u)&&y.getINode(x,e,U,function(H,nt){if(Ee(H,x,u)){var ht=nt.update(a);x.put(nt.id,o,!0,function(yt){Ee(yt,x,u)&&(ht?x.put(U,nt.toBuffer(),!0,function(Nt){Ee(Nt,x,u)&&x.commit(u)}):x.commit(u))})}})})},t.prototype.makeRootDirectory=function(e){var o=this.store.beginTransaction("readwrite");o.get(An,function(a,u){if(a||u===void 0){var y=new Date().getTime(),x=new He(gi(),4096,511|M.DIRECTORY,y,y,y);o.put(x.id,As(),!1,function(F){Ee(F,o,e)&&o.put(An,x.toBuffer(),!1,function(U){U?o.abort(function(){e(U)}):o.commit(e)})})}else o.commit(e)})},t.prototype._findINode=function(e,o,a,u){var y=this,x=function(F,U,H){F?u(F):H[a]?u(null,H[a]):u(p.ENOENT(v.resolve(o,a)))};o==="/"?a===""?u(null,An):this.getINode(e,o,An,function(F,U){Ke(F,u)&&y.getDirListing(e,o,U,function(H,nt){x(H,U,nt)})}):this.findINodeAndDirListing(e,o,x)},t.prototype.findINode=function(e,o,a){var u=this;this._findINode(e,v.dirname(o),v.basename(o),function(y,x){Ke(y,a)&&u.getINode(e,o,x,a)})},t.prototype.getINode=function(e,o,a,u){e.get(a,function(y,x){Ke(y,u)&&(x===void 0?u(p.ENOENT(o)):u(null,He.fromBuffer(x)))})},t.prototype.getDirListing=function(e,o,a,u){a.isDirectory()?e.get(a.id,function(y,x){if(Ke(y,u))try{u(null,JSON.parse(x.toString()))}catch{u(p.ENOENT(o))}}):u(p.ENOTDIR(o))},t.prototype.findINodeAndDirListing=function(e,o,a){var u=this;this.findINode(e,o,function(y,x){Ke(y,a)&&u.getDirListing(e,o,x,function(F,U){Ke(F,a)&&a(null,x,U)})})},t.prototype.addNewNode=function(e,o,a){var u=0,y,x=function(){++u===5?a(new p(h.EIO,"Unable to commit data to key-value store.")):(y=gi(),e.put(y,o,!1,function(F,U){F||!U?x():a(null,y)}))};x()},t.prototype.commitNewFile=function(e,o,a,u,y,x){var F=this,U=v.dirname(o),H=v.basename(o),nt=new Date().getTime();if(o==="/")return x(p.EEXIST(o));this.findINodeAndDirListing(e,U,function(ht,yt,Nt){Ee(ht,e,x)&&(Nt[H]?e.abort(function(){x(p.EEXIST(o))}):F.addNewNode(e,y,function(At,Wt){if(Ee(At,e,x)){var le=new He(Wt,y.length,u|a,nt,nt,nt);F.addNewNode(e,le.toBuffer(),function(De,yn){Ee(De,e,x)&&(Nt[H]=yn,e.put(yt.id,d.from(JSON.stringify(Nt)),!0,function(vn){Ee(vn,e,x)&&e.commit(function(Sr){Ee(Sr,e,x)&&x(null,le)})}))})}}))})},t.prototype.removeEntry=function(e,o,a){var u=this,y=this.store.beginTransaction("readwrite"),x=v.dirname(e),F=v.basename(e);this.findINodeAndDirListing(y,x,function(U,H,nt){if(Ee(U,y,a))if(!nt[F])y.abort(function(){a(p.ENOENT(e))});else{var ht=nt[F];delete nt[F],u.getINode(y,e,ht,function(yt,Nt){Ee(yt,y,a)&&(!o&&Nt.isDirectory()?y.abort(function(){a(p.EISDIR(e))}):o&&!Nt.isDirectory()?y.abort(function(){a(p.ENOTDIR(e))}):y.del(Nt.id,function(At){Ee(At,y,a)&&y.del(ht,function(Wt){Ee(Wt,y,a)&&y.put(H.id,d.from(JSON.stringify(nt)),!0,function(le){Ee(le,y,a)&&y.commit(a)})})}))})}})},t}(B),Yn=function(){this.store={}};Yn.prototype.name=function(){return yr.Name},Yn.prototype.clear=function(){this.store={}},Yn.prototype.beginTransaction=function(t){return new xn(this)},Yn.prototype.get=function(t){return this.store[t]},Yn.prototype.put=function(t,n,e){return!e&&this.store.hasOwnProperty(t)?!1:(this.store[t]=n,!0)},Yn.prototype.del=function(t){delete this.store[t]};var yr=function(i){function t(){i.call(this,{store:new Yn})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t)},t}(Ms);yr.Name="InMemory",yr.Options={};var _o=ge.indexedDB||ge.mozIndexedDB||ge.webkitIndexedDB||ge.msIndexedDB;function Cr(i,t){switch(t===void 0&&(t=i.toString()),i.name){case"NotFoundError":return new p(h.ENOENT,t);case"QuotaExceededError":return new p(h.ENOSPC,t);default:return new p(h.EIO,t)}}function Ar(i,t,n){return t===void 0&&(t=h.EIO),n===void 0&&(n=null),function(e){e.preventDefault(),i(new p(t,n!==null?n:void 0))}}var wo=function(t,n){this.tx=t,this.store=n};wo.prototype.get=function(t,n){try{var e=this.store.get(t);e.onerror=Ar(n),e.onsuccess=function(o){var a=o.target.result;a===void 0?n(null,a):n(null,Mt(a))}}catch(o){n(Cr(o))}};var Ll=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.put=function(e,o,a,u){try{var y=ct(o),x;a?x=this.store.put(y,e):x=this.store.add(y,e),x.onerror=Ar(u),x.onsuccess=function(F){u(null,!0)}}catch(F){u(Cr(F))}},t.prototype.del=function(e,o){try{var a=this.store.delete(e);a.onerror=Ar(o),a.onsuccess=function(u){o()}}catch(u){o(Cr(u))}},t.prototype.commit=function(e){setTimeout(e,0)},t.prototype.abort=function(e){var o=null;try{this.tx.abort()}catch(a){o=Cr(a)}finally{e(o)}},t}(wo),mi=function(t,n){var e=this;n===void 0&&(n="browserfs"),this.storeName=n;var o=_o.open(this.storeName,1);o.onupgradeneeded=function(a){var u=a.target.result;u.objectStoreNames.contains(e.storeName)&&u.deleteObjectStore(e.storeName),u.createObjectStore(e.storeName)},o.onsuccess=function(a){e.db=a.target.result,t(null,e)},o.onerror=Ar(t,h.EACCES)};mi.prototype.name=function(){return Pr.Name+" - "+this.storeName},mi.prototype.clear=function(t){try{var n=this.db.transaction(this.storeName,"readwrite"),e=n.objectStore(this.storeName),o=e.clear();o.onsuccess=function(a){setTimeout(t,0)},o.onerror=Ar(t)}catch(a){t(Cr(a))}},mi.prototype.beginTransaction=function(t){t===void 0&&(t="readonly");var n=this.db.transaction(this.storeName,t),e=n.objectStore(this.storeName);if(t==="readwrite")return new Ll(n,e);if(t==="readonly")return new wo(n,e);throw new p(h.EINVAL,"Invalid transaction type.")};var Pr=function(i){function t(n,e,o){var a=this;o===void 0&&(o=!0),i.call(this),this.store=new mi(function(u){u?n(u):a.init(a.store,function(y){n(y,a)})},e),_t(o,t.Name,{storeName:e})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){new t(o,e.storeName,!1)},t.isAvailable=function(){try{return typeof _o<"u"&&_o.open("__browserfs_test__")!==null}catch{return!1}},t}(Nl);Pr.Name="IndexedDB",Pr.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var So=!1,Mr;try{ge.localStorage.setItem("__test__",String.fromCharCode(55296)),So=ge.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{So=!1}Mr=So?"binary_string":"binary_string_ie",d.isEncoding(Mr)||(Mr="base64");var Zn=function(){};Zn.prototype.name=function(){return Ur.Name},Zn.prototype.clear=function(){ge.localStorage.clear()},Zn.prototype.beginTransaction=function(t){return new xn(this)},Zn.prototype.get=function(t){try{var n=ge.localStorage.getItem(t);if(n!==null)return d.from(n,Mr)}catch{}},Zn.prototype.put=function(t,n,e){try{return!e&&ge.localStorage.getItem(t)!==null?!1:(ge.localStorage.setItem(t,n.toString(Mr)),!0)}catch{throw new p(h.ENOSPC,"LocalStorage is full.")}},Zn.prototype.del=function(t){try{ge.localStorage.removeItem(t)}catch(n){throw new p(h.EIO,"Unable to delete key "+t+": "+n)}};var Ur=function(i){function t(){i.call(this,{store:new Zn})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t)},t.isAvailable=function(){return typeof ge.localStorage<"u"},t}(Ms);Ur.Name="LocalStorage",Ur.Options={};var vr=function(i){function t(){i.call(this),this.mountList=[],this.mntMap={},this.rootFs=new yr}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t;Object.keys(e).forEach(function(u){a.mount(u,e[u])}),o(null,a)},t.isAvailable=function(){return!0},t.prototype.mount=function(e,o){if(e[0]!=="/"&&(e="/"+e),e=v.resolve(e),this.mntMap[e])throw new p(h.EINVAL,"Mount point "+e+" is already taken.");q(e,511,this.rootFs),this.mntMap[e]=o,this.mountList.push(e),this.mountList=this.mountList.sort(function(a,u){return u.length-a.length})},t.prototype.umount=function(e){var o=this;if(e[0]!=="/"&&(e="/"+e),e=v.resolve(e),!this.mntMap[e])throw new p(h.EINVAL,"Mount point "+e+" is already unmounted.");for(delete this.mntMap[e],this.mountList.splice(this.mountList.indexOf(e),1);e!=="/"&&o.rootFs.readdirSync(e).length===0;)o.rootFs.rmdirSync(e),e=v.dirname(e)},t.prototype._getFs=function(e){for(var o=this,a=this.mountList,u=a.length,y=0;y<u;y++){var x=a[y];if(x.length<=e.length&&e.indexOf(x)===0)return e=e.substr(x.length>1?x.length:0),e===""&&(e="/"),{fs:o.mntMap[x],path:e}}return{fs:this.rootFs,path:e}},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,o){o(0,0)},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.standardizeError=function(e,o,a){var u=e.message.indexOf(o);return u!==-1&&(e.message=e.message.substr(0,u)+a+e.message.substr(u+o.length),e.path=a),e},t.prototype.rename=function(e,o,a){var u=this,y=this._getFs(e),x=this._getFs(o);return y.fs===x.fs?y.fs.rename(y.path,x.path,function(F){F&&u.standardizeError(u.standardizeError(F,y.path,e),x.path,o),a(F)}):ft.readFile(e,function(F,U){if(F)return a(F);ft.writeFile(o,U,function(H){if(H)return a(H);ft.unlink(e,a)})})},t.prototype.renameSync=function(e,o){var a=this._getFs(e),u=this._getFs(o);if(a.fs===u.fs)try{return a.fs.renameSync(a.path,u.path)}catch(x){throw this.standardizeError(this.standardizeError(x,a.path,e),u.path,o),x}var y=ft.readFileSync(e);return ft.writeFileSync(o,y),ft.unlinkSync(e)},t.prototype.readdirSync=function(e){var o=this._getFs(e),a=null;if(o.fs!==this.rootFs)try{a=this.rootFs.readdirSync(e)}catch{}try{var u=o.fs.readdirSync(o.path);return a===null?u:u.concat(a.filter(function(y){return u.indexOf(y)===-1}))}catch(y){if(a===null)throw this.standardizeError(y,o.path,e);return a}},t.prototype.readdir=function(e,o){var a=this,u=this._getFs(e);u.fs.readdir(u.path,function(y,x){if(u.fs!==a.rootFs)try{var F=a.rootFs.readdirSync(e);x?x=x.concat(F.filter(function(U){return x.indexOf(U)===-1})):x=F}catch{if(y)return o(a.standardizeError(y,u.path,e))}else if(y)return o(a.standardizeError(y,u.path,e));o(null,x)})},t.prototype.rmdirSync=function(e){var o=this._getFs(e);if(this._containsMountPt(e))throw p.ENOTEMPTY(e);try{o.fs.rmdirSync(o.path)}catch(a){throw this.standardizeError(a,o.path,e)}},t.prototype.rmdir=function(e,o){var a=this,u=this._getFs(e);this._containsMountPt(e)?o(p.ENOTEMPTY(e)):u.fs.rmdir(u.path,function(y){o(y?a.standardizeError(y,u.path,e):null)})},t.prototype._containsMountPt=function(e){for(var o=this.mountList,a=o.length,u=0;u<a;u++){var y=o[u];if(y.length>=e.length&&y.slice(0,e.length)===e)return!0}return!1},t}(B);vr.Name="MountableFileSystem",vr.Options={};function js(i,t,n){return t?function(){for(var e=[],o=arguments.length;o--;)e[o]=arguments[o];var a=e[0],u=this._getFs(a);e[0]=u.path;try{return u.fs[i].apply(u.fs,e)}catch(y){throw this.standardizeError(y,u.path,a),y}}:function(){for(var e=this,o=[],a=arguments.length;a--;)o[a]=arguments[a];var u=o[0],y=this._getFs(u);if(o[0]=y.path,typeof o[o.length-1]=="function"){var x=o[o.length-1];o[o.length-1]=function(){for(var F=[],U=arguments.length;U--;)F[U]=arguments[U];F.length>0&&F[0]instanceof p&&e.standardizeError(F[0],y.path,u),x.apply(null,F)}}return y.fs[i].apply(y.fs,o)}}for(var Bs=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],Eo=0;Eo<Bs.length;Eo++)for(var Cl=Bs[Eo],bo=0,zs=Cl;bo<zs.length;bo+=1){var _i=zs[bo];vr.prototype[_i]=js(_i,!1),vr.prototype[_i+"Sync"]=js(_i+"Sync",!0)}var jr;if(typeof setImmediate<"u")jr=setImmediate;else{var en=ge,gr=[],Ws="zero-timeout-message",Al=function(){if(typeof en.importScripts<"u"||!en.postMessage)return!1;var i=!0,t=en.onmessage;return en.onmessage=function(){i=!1},en.postMessage("","*"),en.onmessage=t,i};if(Al()){jr=function(i){gr.push(i),en.postMessage(Ws,"*")};var Hs=function(i){if(i.source===self&&i.data===Ws&&(i.stopPropagation?i.stopPropagation():i.cancelBubble=!0,gr.length>0)){var t=gr.shift();return t()}};en.addEventListener?en.addEventListener("message",Hs,!0):en.attachEvent("onmessage",Hs)}else if(en.MessageChannel){var Vs=new en.MessageChannel;Vs.port1.onmessage=function(i){if(gr.length>0)return gr.shift()()},jr=function(i){gr.push(i),Vs.port2.postMessage("")}}else jr=function(i){return setTimeout(i,0)}}var xo=jr,Br=function(){this._locked=!1,this._waiters=[]};Br.prototype.lock=function(t){if(this._locked){this._waiters.push(t);return}this._locked=!0,t()},Br.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var t=this._waiters.shift();if(t){xo(t);return}this._locked=!1},Br.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},Br.prototype.isLocked=function(){return this._locked};var Ut=function(t){this._fs=t,this._mu=new Br};Ut.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},Ut.prototype.getFSUnlocked=function(){return this._fs},Ut.prototype.initialize=function(t){this._fs.initialize(t)},Ut.prototype.diskSpace=function(t,n){this._fs.diskSpace(t,n)},Ut.prototype.isReadOnly=function(){return this._fs.isReadOnly()},Ut.prototype.supportsLinks=function(){return this._fs.supportsLinks()},Ut.prototype.supportsProps=function(){return this._fs.supportsProps()},Ut.prototype.supportsSynch=function(){return this._fs.supportsSynch()},Ut.prototype.rename=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.rename(t,n,function(a){o._mu.unlock(),e(a)})})},Ut.prototype.renameSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(t,n)},Ut.prototype.stat=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.stat(t,n,function(a,u){o._mu.unlock(),e(a,u)})})},Ut.prototype.statSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(t,n)},Ut.prototype.open=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.open(t,n,e,function(u,y){a._mu.unlock(),o(u,y)})})},Ut.prototype.openSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(t,n,e)},Ut.prototype.unlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.unlink(t,function(o){e._mu.unlock(),n(o)})})},Ut.prototype.unlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(t)},Ut.prototype.rmdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.rmdir(t,function(o){e._mu.unlock(),n(o)})})},Ut.prototype.rmdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(t)},Ut.prototype.mkdir=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.mkdir(t,n,function(a){o._mu.unlock(),e(a)})})},Ut.prototype.mkdirSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(t,n)},Ut.prototype.readdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.readdir(t,function(o,a){e._mu.unlock(),n(o,a)})})},Ut.prototype.readdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(t)},Ut.prototype.exists=function(t,n){var e=this;this._mu.lock(function(){e._fs.exists(t,function(o){e._mu.unlock(),n(o)})})},Ut.prototype.existsSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(t)},Ut.prototype.realpath=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.realpath(t,n,function(a,u){o._mu.unlock(),e(a,u)})})},Ut.prototype.realpathSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(t,n)},Ut.prototype.truncate=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.truncate(t,n,function(a){o._mu.unlock(),e(a)})})},Ut.prototype.truncateSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(t,n)},Ut.prototype.readFile=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.readFile(t,n,e,function(u,y){a._mu.unlock(),o(u,y)})})},Ut.prototype.readFileSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(t,n,e)},Ut.prototype.writeFile=function(t,n,e,o,a,u){var y=this;this._mu.lock(function(){y._fs.writeFile(t,n,e,o,a,function(x){y._mu.unlock(),u(x)})})},Ut.prototype.writeFileSync=function(t,n,e,o,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(t,n,e,o,a)},Ut.prototype.appendFile=function(t,n,e,o,a,u){var y=this;this._mu.lock(function(){y._fs.appendFile(t,n,e,o,a,function(x){y._mu.unlock(),u(x)})})},Ut.prototype.appendFileSync=function(t,n,e,o,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(t,n,e,o,a)},Ut.prototype.chmod=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.chmod(t,n,e,function(u){a._mu.unlock(),o(u)})})},Ut.prototype.chmodSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(t,n,e)},Ut.prototype.chown=function(t,n,e,o,a){var u=this;this._mu.lock(function(){u._fs.chown(t,n,e,o,function(y){u._mu.unlock(),a(y)})})},Ut.prototype.chownSync=function(t,n,e,o){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(t,n,e,o)},Ut.prototype.utimes=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.utimes(t,n,e,function(u){a._mu.unlock(),o(u)})})},Ut.prototype.utimesSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(t,n,e)},Ut.prototype.link=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.link(t,n,function(a){o._mu.unlock(),e(a)})})},Ut.prototype.linkSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(t,n)},Ut.prototype.symlink=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.symlink(t,n,e,function(u){a._mu.unlock(),o(u)})})},Ut.prototype.symlinkSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(t,n,e)},Ut.prototype.readlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.readlink(t,function(o,a){e._mu.unlock(),n(o,a)})})},Ut.prototype.readlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(t)};var kn="/.deletedFiles.log";function Xs(i){return 146|i}function qe(i){return N.getFileFlag(i)}var Ys=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(!this.isDirty()){e(null);return}this._fs._syncAsync(this,function(a){o.resetDirty(),e(a)})},t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.close=function(e){this.sync(e)},t.prototype.closeSync=function(){this.syncSync()},t}(vt),Zs=function(i){function t(n,e){if(i.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=n,this._readable=e,this._writable.isReadOnly())throw new p(h.EINVAL,"Writable file system must be writable.")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},t.prototype._syncAsync=function(e,o){var a=this;this.createParentDirectoriesAsync(e.getPath(),function(u){if(u)return o(u);a._writable.writeFile(e.getPath(),e.getBuffer(),null,qe("w"),e.getStats().mode,o)})},t.prototype._syncSync=function(e){this.createParentDirectories(e.getPath()),this._writable.writeFileSync(e.getPath(),e.getBuffer(),null,qe("w"),e.getStats().mode)},t.prototype.getName=function(){return zr.Name},t.prototype.initialize=function(e){var o=this,a=this._initializeCallbacks,u=function(y){o._isInitialized=!y,o._initializeCallbacks=[],a.forEach(function(x){return x(y)})};if(this._isInitialized)return e();a.push(e),a.length===1&&this._writable.readFile(kn,"utf8",qe("r"),function(y,x){if(y){if(y.errno!==h.ENOENT)return u(y)}else o._deleteLog=x;o._reparseDeletionLog(),u()})},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},t.prototype.getDeletionLog=function(){return this._deleteLog},t.prototype.restoreDeletionLog=function(e){this._deleteLog=e,this._reparseDeletionLog(),this.updateLog("")},t.prototype.rename=function(e,o,a){var u=this;if(!(!this.checkInitAsync(a)||this.checkPathAsync(e,a)||this.checkPathAsync(o,a))){if(e===kn||o===kn)return a(p.EPERM("Cannot rename deletion log."));if(e===o)return a();this.stat(e,!1,function(y,x){return y?a(y):u.stat(o,!1,function(F,U){var H=u;function nt(yt){var Nt=yt.shift();if(!Nt)return a();var At=v.resolve(e,Nt),Wt=v.resolve(o,Nt);H.rename(At,Wt,function(le){if(le)return a(le);nt(yt)})}var ht=511;if(x.isDirectory()){if(F)return F.errno!==h.ENOENT?a(F):u._writable.exists(e,function(yt){if(yt)return u._writable.rename(e,o,a);u._writable.mkdir(o,ht,function(Nt){if(Nt)return a(Nt);u._readable.readdir(e,function(At,Wt){if(At)return a();nt(Wt)})})});if(ht=U.mode,!U.isDirectory())return a(p.ENOTDIR(o));u.readdir(o,function(yt,Nt){if(Nt&&Nt.length)return a(p.ENOTEMPTY(o));u._readable.readdir(e,function(At,Wt){if(At)return a();nt(Wt)})})}if(U&&U.isDirectory())return a(p.EISDIR(o));u.readFile(e,null,qe("r"),function(yt,Nt){return yt?a(yt):u.writeFile(o,Nt,null,qe("w"),x.mode,function(At){return At?a(At):u.unlink(e,a)})})})})}},t.prototype.renameSync=function(e,o){var a=this;if(this.checkInitialized(),this.checkPath(e),this.checkPath(o),e===kn||o===kn)throw p.EPERM("Cannot rename deletion log.");var u=this.statSync(e,!1);if(u.isDirectory()){if(e===o)return;var y=511;if(this.existsSync(o)){var x=this.statSync(o,!1);if(y=x.mode,x.isDirectory()){if(this.readdirSync(o).length>0)throw p.ENOTEMPTY(o)}else throw p.ENOTDIR(o)}this._writable.existsSync(e)?this._writable.renameSync(e,o):this._writable.existsSync(o)||this._writable.mkdirSync(o,y),this._readable.existsSync(e)&&this._readable.readdirSync(e).forEach(function(F){a.renameSync(v.resolve(e,F),v.resolve(o,F))})}else{if(this.existsSync(o)&&this.statSync(o,!1).isDirectory())throw p.EISDIR(o);this.writeFileSync(o,this.readFileSync(e,null,qe("r")),null,qe("w"),u.mode)}e!==o&&this.existsSync(e)&&this.unlinkSync(e)},t.prototype.stat=function(e,o,a){var u=this;this.checkInitAsync(a)&&this._writable.stat(e,o,function(y,x){y&&y.errno===h.ENOENT?(u._deletedFiles[e]&&a(p.ENOENT(e)),u._readable.stat(e,o,function(F,U){U&&(U=U.clone(),U.mode=Xs(U.mode)),a(F,U)})):a(y,x)})},t.prototype.statSync=function(e,o){this.checkInitialized();try{return this._writable.statSync(e,o)}catch{if(this._deletedFiles[e])throw p.ENOENT(e);var a=this._readable.statSync(e,o).clone();return a.mode=Xs(a.mode),a}},t.prototype.open=function(e,o,a,u){var y=this;!this.checkInitAsync(u)||this.checkPathAsync(e,u)||this.stat(e,!1,function(x,F){if(F)switch(o.pathExistsAction()){case R.TRUNCATE_FILE:return y.createParentDirectoriesAsync(e,function(U){if(U)return u(U);y._writable.open(e,o,a,u)});case R.NOP:return y._writable.exists(e,function(U){U?y._writable.open(e,o,a,u):(F=F.clone(),F.mode=a,y._readable.readFile(e,null,qe("r"),function(H,nt){if(H)return u(H);F.size===-1&&(F.size=nt.length);var ht=new Ys(y,e,o,F,nt);u(null,ht)}))});default:return u(p.EEXIST(e))}else switch(o.pathNotExistsAction()){case R.CREATE_FILE:return y.createParentDirectoriesAsync(e,function(U){return U?u(U):y._writable.open(e,o,a,u)});default:return u(p.ENOENT(e))}})},t.prototype.openSync=function(e,o,a){if(this.checkInitialized(),this.checkPath(e),e===kn)throw p.EPERM("Cannot open deletion log.");if(this.existsSync(e))switch(o.pathExistsAction()){case R.TRUNCATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,o,a);case R.NOP:if(this._writable.existsSync(e))return this._writable.openSync(e,o,a);var u=this._readable.readFileSync(e,null,qe("r")),y=this._readable.statSync(e,!1).clone();return y.mode=a,new Ys(this,e,o,y,u);default:throw p.EEXIST(e)}else switch(o.pathNotExistsAction()){case R.CREATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,o,a);default:throw p.ENOENT(e)}},t.prototype.unlink=function(e,o){var a=this;!this.checkInitAsync(o)||this.checkPathAsync(e,o)||this.exists(e,function(u){if(!u)return o(p.ENOENT(e));a._writable.exists(e,function(y){if(y)return a._writable.unlink(e,function(x){if(x)return o(x);a.exists(e,function(F){F&&a.deletePath(e),o(null)})});a.deletePath(e),o(null)})})},t.prototype.unlinkSync=function(e){if(this.checkInitialized(),this.checkPath(e),this.existsSync(e))this._writable.existsSync(e)&&this._writable.unlinkSync(e),this.existsSync(e)&&this.deletePath(e);else throw p.ENOENT(e)},t.prototype.rmdir=function(e,o){var a=this;if(this.checkInitAsync(o)){var u=function(){a.readdir(e,function(y,x){if(y)return o(y);if(x.length)return o(p.ENOTEMPTY(e));a.deletePath(e),o(null)})};this.exists(e,function(y){if(!y)return o(p.ENOENT(e));a._writable.exists(e,function(x){x?a._writable.rmdir(e,function(F){if(F)return o(F);a._readable.exists(e,function(U){U?u():o()})}):u()})})}},t.prototype.rmdirSync=function(e){if(this.checkInitialized(),this.existsSync(e)){if(this._writable.existsSync(e)&&this._writable.rmdirSync(e),this.existsSync(e)){if(this.readdirSync(e).length>0)throw p.ENOTEMPTY(e);this.deletePath(e)}}else throw p.ENOENT(e)},t.prototype.mkdir=function(e,o,a){var u=this;this.checkInitAsync(a)&&this.exists(e,function(y){if(y)return a(p.EEXIST(e));u.createParentDirectoriesAsync(e,function(x){if(x)return a(x);u._writable.mkdir(e,o,a)})})},t.prototype.mkdirSync=function(e,o){if(this.checkInitialized(),this.existsSync(e))throw p.EEXIST(e);this.createParentDirectories(e),this._writable.mkdirSync(e,o)},t.prototype.readdir=function(e,o){var a=this;this.checkInitAsync(o)&&this.stat(e,!1,function(u,y){if(u)return o(u);if(!y.isDirectory())return o(p.ENOTDIR(e));a._writable.readdir(e,function(x,F){if(x&&x.code!=="ENOENT")return o(x);(x||!F)&&(F=[]),a._readable.readdir(e,function(U,H){(U||!H)&&(H=[]);var nt={},ht=F.concat(H.filter(function(yt){return!a._deletedFiles[e+"/"+yt]})).filter(function(yt){var Nt=!nt[yt];return nt[yt]=!0,Nt});o(null,ht)})})})},t.prototype.readdirSync=function(e){var o=this;this.checkInitialized();var a=this.statSync(e,!1);if(!a.isDirectory())throw p.ENOTDIR(e);var u=[];try{u=u.concat(this._writable.readdirSync(e))}catch{}try{u=u.concat(this._readable.readdirSync(e).filter(function(x){return!o._deletedFiles[e+"/"+x]}))}catch{}var y={};return u.filter(function(x){var F=!y[x];return y[x]=!0,F})},t.prototype.exists=function(e,o){var a=this;this.checkInitialized(),this._writable.exists(e,function(u){if(u)return o(!0);a._readable.exists(e,function(y){o(y&&a._deletedFiles[e]!==!0)})})},t.prototype.existsSync=function(e){return this.checkInitialized(),this._writable.existsSync(e)||this._readable.existsSync(e)&&this._deletedFiles[e]!==!0},t.prototype.chmod=function(e,o,a,u){var y=this;this.checkInitAsync(u)&&this.operateOnWritableAsync(e,function(x){if(x)return u(x);y._writable.chmod(e,o,a,u)})},t.prototype.chmodSync=function(e,o,a){var u=this;this.checkInitialized(),this.operateOnWritable(e,function(){u._writable.chmodSync(e,o,a)})},t.prototype.chown=function(e,o,a,u,y){var x=this;this.checkInitAsync(y)&&this.operateOnWritableAsync(e,function(F){if(F)return y(F);x._writable.chown(e,o,a,u,y)})},t.prototype.chownSync=function(e,o,a,u){var y=this;this.checkInitialized(),this.operateOnWritable(e,function(){y._writable.chownSync(e,o,a,u)})},t.prototype.utimes=function(e,o,a,u){var y=this;this.checkInitAsync(u)&&this.operateOnWritableAsync(e,function(x){if(x)return u(x);y._writable.utimes(e,o,a,u)})},t.prototype.utimesSync=function(e,o,a){var u=this;this.checkInitialized(),this.operateOnWritable(e,function(){u._writable.utimesSync(e,o,a)})},t.prototype.deletePath=function(e){this._deletedFiles[e]=!0,this.updateLog("d"+e+`
`)},t.prototype.updateLog=function(e){var o=this;this._deleteLog+=e,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(kn,this._deleteLog,"utf8",N.getFileFlag("w"),420,function(a){o._deleteLogUpdatePending=!1,a?o._deleteLogError=a:o._deleteLogUpdateNeeded&&(o._deleteLogUpdateNeeded=!1,o.updateLog(""))}))},t.prototype._reparseDeletionLog=function(){var e=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(o){e._deletedFiles[o.slice(1)]=o.slice(0,1)==="d"})},t.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var e=this._deleteLogError;throw this._deleteLogError=null,e}}else throw new p(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},t.prototype.checkInitAsync=function(e){if(this._isInitialized){if(this._deleteLogError!==null){var o=this._deleteLogError;return this._deleteLogError=null,e(o),!1}}else return e(new p(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},t.prototype.checkPath=function(e){if(e===kn)throw p.EPERM(e)},t.prototype.checkPathAsync=function(e,o){return e===kn?(o(p.EPERM(e)),!0):!1},t.prototype.createParentDirectoriesAsync=function(e,o){var a=v.dirname(e),u=[],y=this;this._writable.stat(a,!1,x);function x(U,H){U?(u.push(a),a=v.dirname(a),y._writable.stat(a,!1,x)):F()}function F(){if(!u.length)return o();var U=u.pop();y._readable.stat(U,!1,function(H,nt){if(!nt)return o();y._writable.mkdir(U,nt.mode,function(ht){if(ht)return o(ht);F()})})}},t.prototype.createParentDirectories=function(e){for(var o=this,a=v.dirname(e),u=[];!this._writable.existsSync(a);)u.push(a),a=v.dirname(a);u=u.reverse(),u.forEach(function(y){o._writable.mkdirSync(y,o.statSync(y,!1).mode)})},t.prototype.operateOnWritable=function(e,o){if(this.existsSync(e))this._writable.existsSync(e)||this.copyToWritable(e),o();else throw p.ENOENT(e)},t.prototype.operateOnWritableAsync=function(e,o){var a=this;this.exists(e,function(u){if(!u)return o(p.ENOENT(e));a._writable.exists(e,function(y){if(y)o();else return a.copyToWritableAsync(e,o)})})},t.prototype.copyToWritable=function(e){var o=this.statSync(e,!1);o.isDirectory()?this._writable.mkdirSync(e,o.mode):this.writeFileSync(e,this._readable.readFileSync(e,null,qe("r")),null,qe("w"),this.statSync(e,!1).mode)},t.prototype.copyToWritableAsync=function(e,o){var a=this;this.stat(e,!1,function(u,y){if(u)return o(u);if(y.isDirectory())return a._writable.mkdir(e,y.mode,o);a._readable.readFile(e,null,qe("r"),function(x,F){if(x)return o(x);a.writeFile(e,F,null,qe("w"),y.mode,o)})})},t}(B),zr=function(i){function t(n,e,o){o===void 0&&(o=!0),i.call(this,new Zs(n,e)),_t(o,t.Name,{readable:"readable file system",writable:"writable file system"})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{var a=new t(e.writable,e.readable,!1);a.initialize(function(u){o(u,a)},!1)}catch(u){o(u)}},t.isAvailable=function(){return Zs.isAvailable()},t.prototype.initialize=function(e,o){o===void 0&&(o=!0),o&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),i.prototype.initialize.call(this,e)},t.prototype.getOverlayedFileSystems=function(){return i.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},t.prototype.unwrap=function(){return i.prototype.getFSUnlocked.call(this)},t}(Ut);zr.Name="OverlayFS",zr.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var ue;(function(i){i[i.CB=0]="CB",i[i.FD=1]="FD",i[i.API_ERROR=2]="API_ERROR",i[i.STATS=3]="STATS",i[i.PROBE=4]="PROBE",i[i.FILEFLAG=5]="FILEFLAG",i[i.BUFFER=6]="BUFFER",i[i.ERROR=7]="ERROR"})(ue||(ue={}));var ko=function(){this._callbacks={},this._nextId=0};ko.prototype.toRemoteArg=function(t){var n=this._nextId++;return this._callbacks[n]=t,{type:ue.CB,id:n}},ko.prototype.toLocalArg=function(t){var n=this._callbacks[t];return delete this._callbacks[t],n};var wi=function(){this._fileDescriptors={},this._nextId=0};wi.prototype.toRemoteArg=function(t,n,e,o){var a=this._nextId++,u,y;this._fileDescriptors[a]=t,t.stat(function(x,F){x?o(x):(y=Kn(F.toBuffer()),e.isReadable()?t.read(d.alloc(F.size),0,F.size,0,function(U,H,nt){U?o(U):(u=Kn(nt),o(null,{type:ue.FD,id:a,data:u,stat:y,path:n,flag:e.getFlagString()}))}):o(null,{type:ue.FD,id:a,data:new ArrayBuffer(0),stat:y,path:n,flag:e.getFlagString()}))})},wi.prototype.applyFdAPIRequest=function(t,n){var e=this,o=t.args[0];this._applyFdChanges(o,function(a,u){a?n(a):u[t.method](function(y){t.method==="close"&&delete e._fileDescriptors[o.id],n(y)})})},wi.prototype._applyFdChanges=function(t,n){var e=this._fileDescriptors[t.id],o=qn(t.data),a=z.fromBuffer(qn(t.stat)),u=N.getFileFlag(t.flag);u.isWriteable()?e.write(o,0,o.length,u.isAppendable()?e.getPos():0,function(y){function x(){e.stat(function(F,U){F?n(F):U.mode!==a.mode?e.chmod(a.mode,function(H){n(H,e)}):n(F,e)})}y?n(y):u.isAppendable()?x():e.truncate(o.length,function(){x()})}):n(null,e)};function Si(i){return{type:ue.API_ERROR,errorData:Kn(i.writeToBuffer())}}function Ks(i){return p.fromBuffer(qn(i.errorData))}function qs(i){return{type:ue.ERROR,name:i.name,message:i.message,stack:i.stack}}function Js(i){var t=ge[i.name];typeof t!="function"&&(t=Error);var n=new t(i.message);return n.stack=i.stack,n}function Gs(i){return{type:ue.STATS,statsData:Kn(i.toBuffer())}}function Qs(i){return z.fromBuffer(qn(i.statsData))}function $s(i){return{type:ue.FILEFLAG,flagStr:i.getFlagString()}}function ta(i){return N.getFileFlag(i.flagStr)}function Kn(i){return ct(i)}function qn(i){return Mt(i)}function ea(i){return{type:ue.BUFFER,data:Kn(i)}}function na(i){return qn(i.data)}function Pl(i){return i&&typeof i=="object"&&i.hasOwnProperty("browserfsMessage")&&i.browserfsMessage}function Ml(i){return i&&typeof i=="object"&&i.hasOwnProperty("browserfsMessage")&&i.browserfsMessage}var ra=function(i){function t(n,e,o,a,u,y){i.call(this,n,e,o,a,y),this._remoteFdId=u}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.getRemoteFdId=function(){return this._remoteFdId},t.prototype.toRemoteArg=function(){return{type:ue.FD,id:this._remoteFdId,data:Kn(this.getBuffer()),stat:Kn(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},t.prototype.sync=function(e){this._syncClose("sync",e)},t.prototype.close=function(e){this._syncClose("close",e)},t.prototype._syncClose=function(e,o){var a=this;this.isDirty()?this._fs.syncClose(e,this,function(u){u||a.resetDirty(),o(u)}):o()},t}(vt),Ei=function(i){function t(n,e){var o=this;e===void 0&&(e=!0),i.call(this),this._callbackConverter=new ko,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=n,_t(e,t.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(a){var u=a.data;if(Ml(u)){var y,x=u.args,F=new Array(x.length);for(y=0;y<F.length;y++)F[y]=o._argRemote2Local(x[y]);o._callbackConverter.toLocalArg(u.cbId).apply(null,F)}})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t(e.worker,!1);a.initialize(function(){o(null,a)})},t.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},t.attachRemoteListener=function(e){var o=new wi;function a(y,x,F){switch(typeof y){case"object":y instanceof z?F(null,Gs(y)):y instanceof p?F(null,Si(y)):y instanceof Q?F(null,o.toRemoteArg(y,x[0],x[1],F)):y instanceof N?F(null,$s(y)):y instanceof d?F(null,ea(y)):y instanceof Error?F(null,qs(y)):F(null,y);break;default:F(null,y);break}}function u(y,x){if(!y)return y;switch(typeof y){case"object":if(typeof y.type=="number"){var F=y;switch(F.type){case ue.CB:var U=y.id;return function(){var H=arguments,nt,ht=new Array(arguments.length),yt,Nt=arguments.length;function At(Wt){Nt>0&&(Nt=-1,yt={browserfsMessage:!0,cbId:U,args:[Si(Wt)]},e.postMessage(yt))}for(nt=0;nt<arguments.length;nt++)(function(Wt,le){a(le,x,function(De,yn){ht[Wt]=yn,De?At(De):--Nt===0&&(yt={browserfsMessage:!0,cbId:U,args:ht},e.postMessage(yt))})})(nt,H[nt]);arguments.length===0&&(yt={browserfsMessage:!0,cbId:U,args:ht},e.postMessage(yt))};case ue.API_ERROR:return Ks(F);case ue.STATS:return Qs(F);case ue.FILEFLAG:return ta(F);case ue.BUFFER:return na(F);case ue.ERROR:return Js(F);default:return y}}else return y;default:return y}}e.addEventListener("message",function(y){var x=y.data;if(Pl(x)){var F=x.args,U=new Array(F.length);switch(x.method){case"close":case"sync":(function(){var ht=F[1];o.applyFdAPIRequest(x,function(yt){var Nt={browserfsMessage:!0,cbId:ht.id,args:yt?[Si(yt)]:[]};e.postMessage(Nt)})})();break;case"probe":(function(){var ht=ft.getRootFS(),yt=F[1],Nt={type:ue.PROBE,isReadOnly:ht.isReadOnly(),supportsLinks:ht.supportsLinks(),supportsProps:ht.supportsProps()},At={browserfsMessage:!0,cbId:yt.id,args:[Nt]};e.postMessage(At)})();break;default:for(var H=0;H<F.length;H++)U[H]=u(F[H],U);var nt=ft.getRootFS();nt[x.method].apply(nt,U);break}}})},t.prototype.getName=function(){return t.Name},t.prototype.initialize=function(e){var o=this;if(this._isInitialized)e();else{var a={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Yt()),this._callbackConverter.toRemoteArg(function(u){o._isInitialized=!0,o._isReadOnly=u.isReadOnly,o._supportLinks=u.supportsLinks,o._supportProps=u.supportsProps,e()})]};this._worker.postMessage(a)}},t.prototype.isReadOnly=function(){return this._isReadOnly},t.prototype.supportsSynch=function(){return!1},t.prototype.supportsLinks=function(){return this._supportLinks},t.prototype.supportsProps=function(){return this._supportProps},t.prototype.rename=function(e,o,a){this._rpc("rename",arguments)},t.prototype.stat=function(e,o,a){this._rpc("stat",arguments)},t.prototype.open=function(e,o,a,u){this._rpc("open",arguments)},t.prototype.unlink=function(e,o){this._rpc("unlink",arguments)},t.prototype.rmdir=function(e,o){this._rpc("rmdir",arguments)},t.prototype.mkdir=function(e,o,a){this._rpc("mkdir",arguments)},t.prototype.readdir=function(e,o){this._rpc("readdir",arguments)},t.prototype.exists=function(e,o){this._rpc("exists",arguments)},t.prototype.realpath=function(e,o,a){this._rpc("realpath",arguments)},t.prototype.truncate=function(e,o,a){this._rpc("truncate",arguments)},t.prototype.readFile=function(e,o,a,u){this._rpc("readFile",arguments)},t.prototype.writeFile=function(e,o,a,u,y,x){this._rpc("writeFile",arguments)},t.prototype.appendFile=function(e,o,a,u,y,x){this._rpc("appendFile",arguments)},t.prototype.chmod=function(e,o,a,u){this._rpc("chmod",arguments)},t.prototype.chown=function(e,o,a,u,y){this._rpc("chown",arguments)},t.prototype.utimes=function(e,o,a,u){this._rpc("utimes",arguments)},t.prototype.link=function(e,o,a){this._rpc("link",arguments)},t.prototype.symlink=function(e,o,a,u){this._rpc("symlink",arguments)},t.prototype.readlink=function(e,o){this._rpc("readlink",arguments)},t.prototype.syncClose=function(e,o,a){this._worker.postMessage({browserfsMessage:!0,method:e,args:[o.toRemoteArg(),this._callbackConverter.toRemoteArg(a)]})},t.prototype._argRemote2Local=function(e){if(!e)return e;switch(typeof e){case"object":if(typeof e.type=="number"){var o=e;switch(o.type){case ue.API_ERROR:return Ks(o);case ue.FD:var a=o;return new ra(this,a.path,N.getFileFlag(a.flag),z.fromBuffer(qn(a.stat)),a.id,qn(a.data));case ue.STATS:return Qs(o);case ue.FILEFLAG:return ta(o);case ue.BUFFER:return na(o);case ue.ERROR:return Js(o);default:return e}}else return e;default:return e}},t.prototype._rpc=function(e,o){for(var a=this,u=new Array(o.length),y=0;y<o.length;y++)u[y]=a._argLocal2Remote(o[y]);var x={browserfsMessage:!0,method:e,args:u};this._worker.postMessage(x)},t.prototype._argLocal2Remote=function(e){if(!e)return e;switch(typeof e){case"object":return e instanceof z?Gs(e):e instanceof p?Si(e):e instanceof ra?e.toRemoteArg():e instanceof N?$s(e):e instanceof d?ea(e):e instanceof Error?qs(e):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(e);default:return e}},t}(B);Ei.Name="WorkerFS",Ei.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(i,t){i.postMessage?t():t(new p(h.EINVAL,"option must be a Web Worker instance."))}}};function Ul(i,t,n){var e=new XMLHttpRequest;e.open("GET",i,!0);var o=!0;switch(t){case"buffer":e.responseType="arraybuffer";break;case"json":try{e.responseType="json",o=e.responseType==="json"}catch{o=!1}break;default:return n(new p(h.EINVAL,"Invalid download type: "+t))}e.onreadystatechange=function(a){if(e.readyState===4)if(e.status===200)switch(t){case"buffer":return n(null,e.response?d.from(e.response):Yt());case"json":return o?n(null,e.response):n(null,JSON.parse(e.responseText))}else return n(new p(e.status,"XHR error."))},e.send()}function jl(i,t){var n=new XMLHttpRequest;n.open("GET",i,!1);var e=null,o=null;if(n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(a){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":var u=n.responseText;e=d.alloc(u.length);for(var y=0;y<u.length;y++)e[y]=u.charCodeAt(y);return;case"json":e=JSON.parse(n.responseText);return}else{o=new p(n.status,"XHR error.");return}},n.send(),o)throw o;return e}function Bl(i,t){var n=new XMLHttpRequest;switch(n.open("GET",i,!1),t){case"buffer":n.responseType="arraybuffer";break;case"json":break;default:throw new p(h.EINVAL,"Invalid download type: "+t)}var e,o;if(n.onreadystatechange=function(a){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":e=d.from(n.response);break;case"json":e=JSON.parse(n.response);break}else o=new p(n.status,"XHR error.")},n.send(),o)throw o;return e}function ia(i,t,n){var e=new XMLHttpRequest;e.open("HEAD",t,i),e.onreadystatechange=function(o){if(e.readyState===4)if(e.status===200)try{return n(null,parseInt(e.getResponseHeader("Content-Length")||"-1",10))}catch{return n(new p(h.EIO,"XHR HEAD error: Could not read content-length."))}else return n(new p(e.status,"XHR HEAD error."))},e.send()}var oa=Ul,zl=St&&typeof Blob<"u"?Bl:jl;function Wl(i){var t=-1;return ia(!1,i,function(n,e){if(n)throw n;t=e}),t}function Hl(i,t){ia(!0,i,t)}var nn=function(){this._index={},this.addPath("/",new Ve)};nn.fromListing=function(t){var n=new nn,e=new Ve;n._index["/"]=e;for(var o=[["",t,e]];o.length>0;){var a=void 0,u=o.pop(),y=u[0],x=u[1],F=u[2];for(var U in x)if(x.hasOwnProperty(U)){var H=x[U],nt=y+"/"+U;H?(n._index[nt]=a=new Ve,o.push([nt,H,a])):a=new mr(new z(M.FILE,-1,365)),F&&(F._ls[U]=a)}}return n},nn.prototype.fileIterator=function(t){var n=this;for(var e in n._index)if(n._index.hasOwnProperty(e))for(var o=n._index[e],a=o.getListing(),u=0,y=a;u<y.length;u+=1){var x=y[u],F=o.getItem(x);Fn(F)&&t(F.getData())}},nn.prototype.addPath=function(t,n){if(!n)throw new Error("Inode must be specified");if(t[0]!=="/")throw new Error("Path must be absolute, got: "+t);if(this._index.hasOwnProperty(t))return this._index[t]===n;var e=this._split_path(t),o=e[0],a=e[1],u=this._index[o];return u===void 0&&t!=="/"&&(u=new Ve,!this.addPath(o,u))||t!=="/"&&!u.addItem(a,n)?!1:(Pn(n)&&(this._index[t]=n),!0)},nn.prototype.addPathFast=function(t,n){var e=t.lastIndexOf("/"),o=e===0?"/":t.substring(0,e),a=t.substring(e+1),u=this._index[o];return u===void 0&&(u=new Ve,this.addPathFast(o,u)),u.addItem(a,n)?(n.isDir()&&(this._index[t]=n),!0):!1},nn.prototype.removePath=function(t){var n=this,e=this._split_path(t),o=e[0],a=e[1],u=this._index[o];if(u===void 0)return null;var y=u.remItem(a);if(y===null)return null;if(Pn(y)){for(var x=y.getListing(),F=0,U=x;F<U.length;F+=1){var H=U[F];n.removePath(t+"/"+H)}t!=="/"&&delete this._index[t]}return y},nn.prototype.ls=function(t){var n=this._index[t];return n===void 0?null:n.getListing()},nn.prototype.getInode=function(t){var n=this._split_path(t),e=n[0],o=n[1],a=this._index[e];return a===void 0?null:e===t?a:a.getItem(o)},nn.prototype._split_path=function(t){var n=v.dirname(t),e=t.substr(n.length+(n==="/"?0:1));return[n,e]};var mr=function(t){this.data=t};mr.prototype.isFile=function(){return!0},mr.prototype.isDir=function(){return!1},mr.prototype.getData=function(){return this.data},mr.prototype.setData=function(t){this.data=t};var Ve=function(t){t===void 0&&(t=null),this.data=t,this._ls={}};Ve.prototype.isFile=function(){return!1},Ve.prototype.isDir=function(){return!0},Ve.prototype.getData=function(){return this.data},Ve.prototype.getStats=function(){return new z(M.DIRECTORY,4096,365)},Ve.prototype.getListing=function(){return Object.keys(this._ls)},Ve.prototype.getItem=function(t){var n=this._ls[t];return n||null},Ve.prototype.addItem=function(t,n){return t in this._ls?!1:(this._ls[t]=n,!0)},Ve.prototype.remItem=function(t){var n=this._ls[t];return n===void 0?null:(delete this._ls[t],n)};function Fn(i){return!!i&&i.isFile()}function Pn(i){return!!i&&i.isDir()}function Vl(i,t,n){try{n(null,i.toString(t))}catch(e){n(e)}}var bi=function(i){function t(n,e,o){e===void 0&&(e=""),o===void 0&&(o=!0),i.call(this),n||(n="index.json"),e.length>0&&e.charAt(e.length-1)!=="/"&&(e=e+"/"),this.prefixUrl=e;var a=null;if(typeof n=="string"){if(a=this._requestFileSync(n,"json"),!a)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else a=n;_t(o,t.Name,{index:typeof n=="string"?n:"file index as an object",baseUrl:e}),this._index=nn.fromListing(a)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){e.index===void 0&&(e.index="index.json"),typeof e.index=="string"?t.FromURL(e.index,o,e.baseUrl,!1):o(null,new t(e.index,e.baseUrl,!1))},t.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},t.FromURL=function(e,o,a,u){a===void 0&&(a=e.slice(0,e.lastIndexOf("/")+1)),u===void 0&&(u=!0),u&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+e+'", baseUrl: "'+a+`" }, cb)' instead.`),oa(e,"json",function(y,x){y?o(y):o(null,new t(x,a,!1))})},t.prototype.empty=function(){this._index.fileIterator(function(e){e.fileData=null})},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,o){o(0,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.preloadFile=function(e,o){var a=this._index.getInode(e);if(Fn(a)){if(a===null)throw p.ENOENT(e);var u=a.getData();u.size=o.length,u.fileData=o}else throw p.EISDIR(e)},t.prototype.stat=function(e,o,a){var u=this._index.getInode(e);if(u===null)return a(p.ENOENT(e));var y;Fn(u)?(y=u.getData(),y.size<0?this._requestFileSizeAsync(e,function(x,F){if(x)return a(x);y.size=F,a(null,y.clone())}):a(null,y.clone())):Pn(u)?(y=u.getStats(),a(null,y)):a(p.FileError(h.EINVAL,e))},t.prototype.statSync=function(e,o){var a=this._index.getInode(e);if(a===null)throw p.ENOENT(e);var u;if(Fn(a))u=a.getData(),u.size<0&&(u.size=this._requestFileSizeSync(e));else if(Pn(a))u=a.getStats();else throw p.FileError(h.EINVAL,e);return u},t.prototype.open=function(e,o,a,u){if(o.isWriteable())return u(new p(h.EPERM,e));var y=this,x=this._index.getInode(e);if(x===null)return u(p.ENOENT(e));if(Fn(x)){var F=x.getData();switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:return u(p.EEXIST(e));case R.NOP:if(F.fileData)return u(null,new lt(y,e,o,F.clone(),F.fileData));this._requestFileAsync(e,"buffer",function(U,H){return U?u(U):(F.size=H.length,F.fileData=H,u(null,new lt(y,e,o,F.clone(),H)))});break;default:return u(new p(h.EINVAL,"Invalid FileMode object."))}}else return u(p.EISDIR(e))},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new p(h.EPERM,e);var u=this._index.getInode(e);if(u===null)throw p.ENOENT(e);if(Fn(u)){var y=u.getData();switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:throw p.EEXIST(e);case R.NOP:if(y.fileData)return new lt(this,e,o,y.clone(),y.fileData);var x=this._requestFileSync(e,"buffer");return y.size=x.length,y.fileData=x,new lt(this,e,o,y.clone(),x);default:throw new p(h.EINVAL,"Invalid FileMode object.")}}else throw p.EISDIR(e)},t.prototype.readdir=function(e,o){try{o(null,this.readdirSync(e))}catch(a){o(a)}},t.prototype.readdirSync=function(e){var o=this._index.getInode(e);if(o===null)throw p.ENOENT(e);if(Pn(o))return o.getListing();throw p.ENOTDIR(e)},t.prototype.readFile=function(e,o,a,u){var y=u;this.open(e,a,420,function(x,F){if(x)return u(x);u=function(nt,ht){F.close(function(yt){return nt||(nt=yt),y(nt,ht)})};var U=F,H=U.getBuffer();o===null?u(x,Bt(H)):Vl(H,o,u)})},t.prototype.readFileSync=function(e,o,a){var u=this.openSync(e,a,420);try{var y=u,x=y.getBuffer();return o===null?Bt(x):x.toString(o)}finally{u.closeSync()}},t.prototype.getXhrPath=function(e){return e.charAt(0)==="/"&&(e=e.slice(1)),this.prefixUrl+e},t.prototype._requestFileAsync=function(e,o,a){oa(this.getXhrPath(e),o,a)},t.prototype._requestFileSync=function(e,o){return zl(this.getXhrPath(e),o)},t.prototype._requestFileSizeAsync=function(e,o){Hl(this.getXhrPath(e),o)},t.prototype._requestFileSizeSync=function(e){return Wl(this.getXhrPath(e))},t}(B);bi.Name="XmlHttpRequest",bi.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Jn=function(){};Jn.str2byte=function(t,n){for(var e=t.length>n.length?n.length:t.length,o=0;o<e;o++){var a=t.charCodeAt(o);if(a>127){var u=Jn.extendedChars.indexOf(t.charAt(o));u>-1&&(a=u+128)}n[a]=o}return e},Jn.byte2str=function(t){for(var n=new Array(t.length),e=0;e<t.length;e++){var o=t[e];o>127?n[e]=Jn.extendedChars[o-128]:n[e]=String.fromCharCode(o)}return n.join("")},Jn.byteLength=function(t){return t.length},Jn.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var Xl=f(31).inflateRaw,sa={},aa;(function(i){i[i.MSDOS=0]="MSDOS",i[i.AMIGA=1]="AMIGA",i[i.OPENVMS=2]="OPENVMS",i[i.UNIX=3]="UNIX",i[i.VM_CMS=4]="VM_CMS",i[i.ATARI_ST=5]="ATARI_ST",i[i.OS2_HPFS=6]="OS2_HPFS",i[i.MAC=7]="MAC",i[i.Z_SYSTEM=8]="Z_SYSTEM",i[i.CP_M=9]="CP_M",i[i.NTFS=10]="NTFS",i[i.MVS=11]="MVS",i[i.VSE=12]="VSE",i[i.ACORN_RISC=13]="ACORN_RISC",i[i.VFAT=14]="VFAT",i[i.ALT_MVS=15]="ALT_MVS",i[i.BEOS=16]="BEOS",i[i.TANDEM=17]="TANDEM",i[i.OS_400=18]="OS_400",i[i.OSX=19]="OSX"})(aa||(aa={}));var _r;(function(i){i[i.STORED=0]="STORED",i[i.SHRUNK=1]="SHRUNK",i[i.REDUCED_1=2]="REDUCED_1",i[i.REDUCED_2=3]="REDUCED_2",i[i.REDUCED_3=4]="REDUCED_3",i[i.REDUCED_4=5]="REDUCED_4",i[i.IMPLODE=6]="IMPLODE",i[i.DEFLATE=8]="DEFLATE",i[i.DEFLATE64=9]="DEFLATE64",i[i.TERSE_OLD=10]="TERSE_OLD",i[i.BZIP2=12]="BZIP2",i[i.LZMA=14]="LZMA",i[i.TERSE_NEW=18]="TERSE_NEW",i[i.LZ77=19]="LZ77",i[i.WAVPACK=97]="WAVPACK",i[i.PPMD=98]="PPMD"})(_r||(_r={}));function ca(i,t){var n=t&31,e=(t>>5&15)-1,o=(t>>9)+1980,a=i&31,u=i>>5&63,y=i>>11;return new Date(o,e,n,y,u,a)}function xi(i,t,n,e){return e===0?"":t?i.toString("utf8",n,n+e):Jn.byte2str(i.slice(n,n+e))}var Je=function(t){if(this.data=t,t.readUInt32LE(0)!==67324752)throw new p(h.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Je.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Je.prototype.flags=function(){return this.data.readUInt16LE(6)},Je.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Je.prototype.lastModFileTime=function(){return ca(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Je.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Je.prototype.crc32=function(){return this.data.readUInt32LE(14)},Je.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Je.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Je.prototype.fileName=function(){return xi(this.data,this.useUTF8(),30,this.fileNameLength())},Je.prototype.extraField=function(){var t=30+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},Je.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Je.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var Wr=function(t,n,e){this.header=t,this.record=n,this.data=e};Wr.prototype.decompress=function(){var t=this.header.compressionMethod(),n=sa[t];if(n)return n(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var e=_r[t];throw e||(e="Unknown: "+t),new p(h.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+e)},Wr.prototype.getHeader=function(){return this.header},Wr.prototype.getRecord=function(){return this.record},Wr.prototype.getRawData=function(){return this.data};var Kt=function(t,n){if(this.zipData=t,this.data=n,this.data.readUInt32LE(0)!==33639248)throw new p(h.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};Kt.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},Kt.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},Kt.prototype.flag=function(){return this.data.readUInt16LE(8)},Kt.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},Kt.prototype.lastModFileTime=function(){return ca(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},Kt.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},Kt.prototype.crc32=function(){return this.data.readUInt32LE(16)},Kt.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},Kt.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},Kt.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},Kt.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},Kt.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},Kt.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},Kt.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},Kt.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},Kt.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},Kt.prototype.produceFilename=function(){var t=xi(this.data,this.useUTF8(),46,this.fileNameLength());return t.replace(/\\/g,"/")},Kt.prototype.fileName=function(){return this._filename},Kt.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},Kt.prototype.extraField=function(){var t=44+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},Kt.prototype.fileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return xi(this.data,this.useUTF8(),t,this.fileCommentLength())},Kt.prototype.rawFileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(t,t+this.fileCommentLength())},Kt.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},Kt.prototype.isDirectory=function(){var t=this.fileName();return!!(this.externalAttributes()&16)||t.charAt(t.length-1)==="/"},Kt.prototype.isFile=function(){return!this.isDirectory()},Kt.prototype.useUTF8=function(){return(this.flag()&2048)===2048},Kt.prototype.isEncrypted=function(){return(this.flag()&1)===1},Kt.prototype.getFileData=function(){var t=this.headerRelativeOffset(),n=new Je(this.zipData.slice(t));return new Wr(n,this,this.zipData.slice(t+n.totalSize()))},Kt.prototype.getData=function(){return this.getFileData().decompress()},Kt.prototype.getRawData=function(){return this.getFileData().getRawData()},Kt.prototype.getStats=function(){return new z(M.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var dn=function(t){if(this.data=t,this.data.readUInt32LE(0)!==101010256)throw new p(h.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};dn.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},dn.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},dn.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},dn.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},dn.prototype.cdSize=function(){return this.data.readUInt32LE(12)},dn.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},dn.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},dn.prototype.cdZipComment=function(){return xi(this.data,!0,22,this.cdZipCommentLength())},dn.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var ua=function(t,n,e,o){this.index=t,this.directoryEntries=n,this.eocd=e,this.data=o},Gn=function(i){function t(n,e,o){e===void 0&&(e=""),o===void 0&&(o=!0),i.call(this),this.name=e,this._index=new nn,this._directoryEntries=[],this._eocd=null,_t(o,t.Name,{zipData:"zip data as a Buffer",name:e}),n instanceof ua?(this._index=n.index,this._directoryEntries=n.directoryEntries,this._eocd=n.eocd,this.data=n.data):(this.data=n,this.populateIndex())}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{t.computeIndex(e.zipData,function(a){var u=new t(a,e.name,!1);o(null,u)},!1)}catch(a){o(a)}},t.isAvailable=function(){return!0},t.RegisterDecompressionMethod=function(e,o){sa[e]=o},t.computeIndex=function(e,o,a){a===void 0&&(a=!0),a&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var u=new nn,y=t.getEOCD(e);if(y.diskNumber()!==y.cdDiskNumber())throw new p(h.EINVAL,"ZipFS does not support spanned zip files.");var x=y.cdOffset();if(x===4294967295)throw new p(h.EINVAL,"ZipFS does not support Zip64.");var F=x+y.cdSize();t.computeIndexResponsive(e,u,x,F,o,[],y)},t.getEOCD=function(e){for(var o=22,a=Math.min(o+65535,e.length-1),u=o;u<a;u++)if(e.readUInt32LE(e.length-u)===101010256)return new dn(e.slice(e.length-u));throw new p(h.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},t.addToIndex=function(e,o){var a=e.fileName();if(a.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");a.charAt(a.length-1)==="/"&&(a=a.substr(0,a.length-1)),e.isDirectory()?o.addPathFast("/"+a,new Ve(e)):o.addPathFast("/"+a,new mr(e))},t.computeIndexResponsive=function(e,o,a,u,y,x,F){if(a<u){for(var U=0;U++<200&&a<u;){var H=new Kt(e,e.slice(a));t.addToIndex(H,o),a+=H.totalSize(),x.push(H)}xo(function(){t.computeIndexResponsive(e,o,a,u,y,x,F)})}else y(new ua(o,x,F,e))},t.prototype.getName=function(){return t.Name+(this.name!==""?" "+this.name:"")},t.prototype.getCentralDirectoryEntry=function(e){var o=this._index.getInode(e);if(o===null)throw p.ENOENT(e);if(Fn(o))return o.getData();if(Pn(o))return o.getData();throw p.EPERM("Invalid inode: "+o)},t.prototype.getCentralDirectoryEntryAt=function(e){var o=this._directoryEntries[e];if(!o)throw new RangeError("Invalid directory index: "+e+".");return o},t.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},t.prototype.getEndOfCentralDirectory=function(){return this._eocd},t.prototype.diskSpace=function(e,o){o(this.data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,o){var a=this._index.getInode(e);if(a===null)throw p.ENOENT(e);var u;if(Fn(a))u=a.getData().getStats();else if(Pn(a))u=a.getStats();else throw new p(h.EINVAL,"Invalid inode.");return u},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new p(h.EPERM,e);var u=this._index.getInode(e);if(u)if(Fn(u)){var y=u.getData(),x=y.getStats();switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:throw p.EEXIST(e);case R.NOP:return new lt(this,e,o,x,y.getData());default:throw new p(h.EINVAL,"Invalid FileMode object.")}}else throw p.EISDIR(e);else throw p.ENOENT(e)},t.prototype.readdirSync=function(e){var o=this._index.getInode(e);if(o){if(Pn(o))return o.getListing();throw p.ENOTDIR(e)}else throw p.ENOENT(e)},t.prototype.readFileSync=function(e,o,a){var u=this.openSync(e,a,420);try{var y=u,x=y.getBuffer();return o===null?Bt(x):x.toString(o)}finally{u.closeSync()}},t.prototype.populateIndex=function(){var e=this,o=this._eocd=t.getEOCD(this.data);if(o.diskNumber()!==o.cdDiskNumber())throw new p(h.EINVAL,"ZipFS does not support spanned zip files.");var a=o.cdOffset();if(a===4294967295)throw new p(h.EINVAL,"ZipFS does not support Zip64.");for(var u=a+o.cdSize();a<u;){var y=new Kt(e.data,e.data.slice(a));a+=y.totalSize(),t.addToIndex(y,e._index),e._directoryEntries.push(y)}},t}(rt);Gn.Name="ZipFS",Gn.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:C},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Gn.CompressionMethod=_r,Gn.RegisterDecompressionMethod(_r.DEFLATE,function(i,t,n){return zt(Xl(i.slice(0,t),{chunkSize:n}))}),Gn.RegisterDecompressionMethod(_r.STORED,function(i,t,n){return Bt(i,0,n)});var Yl="IEEE_P1282";function Xe(i,t,n){return i.toString("ascii",t,t+n).trim()}function Fo(i,t,n){if(n===1)return String.fromCharCode(i[t]);for(var e=Math.floor(n/2),o=new Array(e),a=0;a<e;a++){var u=t+(a<<1);o[a]=String.fromCharCode(i[u+1]|i[u]<<8)}return o.join("")}function pn(i,t){var n=parseInt(Xe(i,t,4),10),e=parseInt(Xe(i,t+4,2),10),o=parseInt(Xe(i,t+6,2),10),a=parseInt(Xe(i,t+8,2),10),u=parseInt(Xe(i,t+10,2),10),y=parseInt(Xe(i,t+12,2),10),x=parseInt(Xe(i,t+14,2),10);return new Date(n,e,o,a,u,y,x*100)}function Qn(i,t){var n=i[t],e=i[t+1],o=i[t+2],a=i[t+3],u=i[t+4],y=i[t+5];return new Date(n,e-1,o,a,u,y)}function Zl(i,t){var n=i.slice(t),e=new me(n);switch(e.signatureWord()){case 17221:return new pa(n);case 20548:return new Jl(n);case 21328:return new ya(n);case 21332:return new va(n);case 17746:return new ga(n);case 17747:return new Gl(n);case 20568:return new _a(n);case 20558:return new Ql(n);case 21324:return new Io(n);case 20045:return new wa(n);case 17228:return new Oo(n);case 20556:return new $l(n);case 21061:return new Sa(n);case 21574:return new Ea(n);case 21318:return new tf(n);case 21074:return new ma(n);default:return e}}function la(i,t,n,e){n=n-4;for(var o=new Array;t<n;){var a=Zl(i,t),u=a.length();if(u===0)return o;if(t+=u,a instanceof va)break;a instanceof pa?o=o.concat(a.getEntries(e)):o.push(a)}return o}var wr=function(t){this._data=t};wr.prototype.type=function(){return this._data[0]},wr.prototype.standardIdentifier=function(){return Xe(this._data,1,5)},wr.prototype.version=function(){return this._data[6]},wr.prototype.data=function(){return this._data.slice(7,2048)};var fa=function(i){function t(n){i.call(this,n),this._root=null}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.systemIdentifier=function(){return this._getString32(8)},t.prototype.volumeIdentifier=function(){return this._getString32(40)},t.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},t.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},t.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},t.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},t.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},t.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},t.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},t.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},t.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},t.prototype.rootDirectoryEntry=function(e){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(e)),this._root},t.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},t.prototype.publisherIdentifier=function(){return this._getString(318,128)},t.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},t.prototype.applicationIdentifier=function(){return this._getString(574,128)},t.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},t.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},t.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},t.prototype.volumeCreationDate=function(){return pn(this._data,813)},t.prototype.volumeModificationDate=function(){return pn(this._data,830)},t.prototype.volumeExpirationDate=function(){return pn(this._data,847)},t.prototype.volumeEffectiveDate=function(){return pn(this._data,864)},t.prototype.fileStructureVersion=function(){return this._data[881]},t.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},t.prototype.reserved=function(){return this._data.slice(1395,1395+653)},t.prototype._getString32=function(e){return this._getString(e,32)},t}(wr),Kl=function(i){function t(n){if(i.call(this,n),this.type()!==1)throw new p(h.EIO,"Invalid primary volume descriptor.")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"ISO9660"},t.prototype._constructRootDirectoryRecord=function(e){return new ha(e,-1)},t.prototype._getString=function(e,o){return this._getString(e,o)},t}(fa),ql=function(i){function t(n){if(i.call(this,n),this.type()!==2)throw new p(h.EIO,"Invalid supplementary volume descriptor.");var e=this.escapeSequence(),o=e[2];if(e[0]!==37||e[1]!==47||o!==64&&o!==67&&o!==69)throw new p(h.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+e.toString())}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"Joliet"},t.prototype.escapeSequence=function(){return this._data.slice(88,120)},t.prototype._constructRootDirectoryRecord=function(e){return new da(e,-1)},t.prototype._getString=function(e,o){return Fo(this._data,e,o)},t}(fa),oe=function(t,n){this._suEntries=null,this._fileOrDir=null,this._data=t,this._rockRidgeOffset=n};oe.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},oe.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},oe.prototype.rootCheckForRockRidge=function(t){var n=this.getDirectory(t);this._rockRidgeOffset=n.getDotEntry(t)._getRockRidgeOffset(t),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},oe.prototype.length=function(){return this._data[0]},oe.prototype.extendedAttributeRecordLength=function(){return this._data[1]},oe.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},oe.prototype.dataLength=function(){return this._data.readUInt32LE(10)},oe.prototype.recordingDate=function(){return Qn(this._data,18)},oe.prototype.fileFlags=function(){return this._data[25]},oe.prototype.fileUnitSize=function(){return this._data[26]},oe.prototype.interleaveGapSize=function(){return this._data[27]},oe.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},oe.prototype.identifier=function(){return this._getString(33,this._data[32])},oe.prototype.fileName=function(t){if(this.hasRockRidge()){var n=this._rockRidgeFilename(t);if(n!==null)return n}var e=this.identifier();if(this.isDirectory(t))return e;var o=e.indexOf(";");return o===-1?e:e[o-1]==="."?e.slice(0,o-1):e.slice(0,o)},oe.prototype.isDirectory=function(t){var n=!!(this.fileFlags()&2);return!n&&this.hasRockRidge()&&(n=this.getSUEntries(t).filter(function(e){return e instanceof Oo}).length>0),n},oe.prototype.isSymlink=function(t){return this.hasRockRidge()&&this.getSUEntries(t).filter(function(n){return n instanceof Io}).length>0},oe.prototype.getSymlinkPath=function(t){for(var n="",e=this.getSUEntries(t),o=this._getGetString(),a=0,u=e;a<u.length;a+=1){var y=u[a];if(y instanceof Io){for(var x=y.componentRecords(),F=0,U=x;F<U.length;F+=1){var H=U[F],nt=H.flags();nt&2?n+="./":nt&4?n+="../":nt&8?n+="/":(n+=H.content(o),nt&1||(n+="/"))}if(!y.continueFlag())break}}return n.length>1&&n[n.length-1]==="/"?n.slice(0,n.length-1):n},oe.prototype.getFile=function(t){if(this.isDirectory(t))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=t.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},oe.prototype.getDirectory=function(t){if(!this.isDirectory(t))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(t)),this._fileOrDir},oe.prototype.getSUEntries=function(t){return this._suEntries||this._constructSUEntries(t),this._suEntries},oe.prototype._rockRidgeFilename=function(t){var n=this.getSUEntries(t).filter(function(x){return x instanceof wa});if(n.length===0||n[0].flags()&6)return null;for(var e="",o=this._getGetString(),a=0,u=n;a<u.length;a+=1){var y=u[a];if(e+=y.name(o),!(y.flags()&1))break}return e},oe.prototype._constructSUEntries=function(t){var n=33+this._data[32];n%2===1&&n++,n+=this._rockRidgeOffset,this._suEntries=la(this._data,n,this.length(),t)},oe.prototype._getRockRidgeOffset=function(t){this._rockRidgeOffset=0;var n=this.getSUEntries(t);if(n.length>0){var e=n[0];if(e instanceof ya&&e.checkBytesPass())for(var o=1;o<n.length;o++){var a=n[o];if(a instanceof ma||a instanceof ga&&a.extensionIdentifier()===Yl)return e.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var ha=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,o){return Xe(this._data,e,o)},t.prototype._constructDirectory=function(e){return new ef(this,e)},t.prototype._getGetString=function(){return Xe},t}(oe),da=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,o){return Fo(this._data,e,o)},t.prototype._constructDirectory=function(e){return new nf(this,e)},t.prototype._getGetString=function(){return Fo},t}(oe),me=function(t){this._data=t};me.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},me.prototype.signatureWordString=function(){return Xe(this._data,0,2)},me.prototype.length=function(){return this._data[2]},me.prototype.suVersion=function(){return this._data[3]};var pa=function(i){function t(n){i.call(this,n),this._entries=null}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},t.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},t.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},t.prototype.getEntries=function(e){if(!this._entries){var o=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=la(e,o,this.continuationLength(),e)}return this._entries},t}(me),Jl=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(me),ya=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},t.prototype.bytesSkipped=function(){return this._data[6]},t}(me),va=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(me),ga=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.identifierLength=function(){return this._data[4]},t.prototype.descriptorLength=function(){return this._data[5]},t.prototype.sourceLength=function(){return this._data[6]},t.prototype.extensionVersion=function(){return this._data[7]},t.prototype.extensionIdentifier=function(){return Xe(this._data,8,this.identifierLength())},t.prototype.extensionDescriptor=function(){return Xe(this._data,8+this.identifierLength(),this.descriptorLength())},t.prototype.extensionSource=function(){return Xe(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},t}(me),Gl=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.extensionSequence=function(){return this._data[4]},t}(me),ma=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(me),_a=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.mode=function(){return this._data.readUInt32LE(4)},t.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},t.prototype.uid=function(){return this._data.readUInt32LE(20)},t.prototype.gid=function(){return this._data.readUInt32LE(28)},t.prototype.inode=function(){return this._data.readUInt32LE(36)},t}(me),Ql=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},t.prototype.devTLow=function(){return this._data.readUInt32LE(12)},t}(me),Io=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.continueFlag=function(){return this.flags()&1},t.prototype.componentRecords=function(){for(var e=this,o=new Array,a=5;a<this.length();){var u=new Hr(e._data.slice(a));o.push(u),a+=u.length()}return o},t}(me),Hr=function(t){this._data=t};Hr.prototype.flags=function(){return this._data[0]},Hr.prototype.length=function(){return 2+this.componentLength()},Hr.prototype.componentLength=function(){return this._data[1]},Hr.prototype.content=function(t){return t(this._data,2,this.componentLength())};var wa=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.name=function(e){return e(this._data,5,this.length()-5)},t}(me),Oo=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},t}(me),$l=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},t}(me),Sa=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(me),Ea=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.creation=function(){return this.flags()&1?this._longFormDates()?pn(this._data,5):Qn(this._data,5):null},t.prototype.modify=function(){if(this.flags()&2){var e=this.flags()&1?1:0;return this._longFormDates?pn(this._data,5+e*17):Qn(this._data,5+e*7)}else return null},t.prototype.access=function(){if(this.flags()&4){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,this._longFormDates?pn(this._data,5+e*17):Qn(this._data,5+e*7)}else return null},t.prototype.backup=function(){if(this.flags()&16){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,this._longFormDates?pn(this._data,5+e*17):Qn(this._data,5+e*7)}else return null},t.prototype.expiration=function(){if(this.flags()&32){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,this._longFormDates?pn(this._data,5+e*17):Qn(this._data,5+e*7)}else return null},t.prototype.effective=function(){if(this.flags()&64){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,e+=this.flags()&32?1:0,this._longFormDates?pn(this._data,5+e*17):Qn(this._data,5+e*7)}else return null},t.prototype._longFormDates=function(){return!!this.flags()},t}(me),tf=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},t.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},t.prototype.tableDepth=function(){return this._data[20]},t}(me),Vr=function(t,n){var e=this;this._fileList=[],this._fileMap={},this._record=t;var o=t.lba(),a=o+t.dataLength();if(!(t.fileFlags()&2)){var u=t.getSUEntries(n).filter(function(U){return U instanceof Oo})[0];o=u.childDirectoryLba()*2048,a=1/0}for(;o<a;){var y=n[o];if(y===0){o++;continue}var x=e._constructDirectoryRecord(n.slice(o)),F=x.fileName(n);F!=="\0"&&F!==""?(!x.hasRockRidge()||x.getSUEntries(n).filter(function(U){return U instanceof Sa}).length===0)&&(e._fileMap[F]=x,e._fileList.push(F)):a===1/0&&(a=o+x.dataLength()),o+=x.length()}};Vr.prototype.getRecord=function(t){return this._fileMap[t]},Vr.prototype.getFileList=function(){return this._fileList},Vr.prototype.getDotEntry=function(t){return this._constructDirectoryRecord(t.slice(this._record.lba()))};var ef=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new ha(e,this._record.getRockRidgeOffset())},t}(Vr),nf=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new da(e,this._record.getRockRidgeOffset())},t}(Vr),ki=function(i){function t(n,e,o){var a=this;e===void 0&&(e=""),o===void 0&&(o=!0),i.call(this),this._data=n,_t(o,t.Name,{data:"ISO data as a Buffer",name:e});for(var u=!1,y=16*2048,x=new Array;!u;){var F=n.slice(y),U=new wr(F);switch(U.type()){case 1:x.push(new Kl(F));break;case 2:x.push(new ql(F));break;case 255:u=!0;break}y+=2048}if(x.length===0)throw new p(h.EIO,"Unable to find a suitable volume descriptor.");x.forEach(function(H){(!a._pvd||a._pvd.type()!==2)&&(a._pvd=H)}),this._root=this._pvd.rootDirectoryEntry(n),this._name=e}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a,u;try{a=new t(e.data,e.name,!1)}catch(y){y=y}finally{o(u,a)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){var e="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(e+="-RockRidge"),e},t.prototype.diskSpace=function(e,o){o(this._data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,o){var a=this._getDirectoryRecord(e);if(a===null)throw p.ENOENT(e);return this._getStats(e,a)},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new p(h.EPERM,e);var u=this._getDirectoryRecord(e);if(u){if(u.isSymlink(this._data))return this.openSync(v.resolve(e,u.getSymlinkPath(this._data)),o,a);if(u.isDirectory(this._data))throw p.EISDIR(e);var y=u.getFile(this._data),x=this._getStats(e,u);switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:throw p.EEXIST(e);case R.NOP:return new lt(this,e,o,x,y);default:throw new p(h.EINVAL,"Invalid FileMode object.")}}else throw p.ENOENT(e)},t.prototype.readdirSync=function(e){var o=this._getDirectoryRecord(e);if(o){if(o.isDirectory(this._data))return o.getDirectory(this._data).getFileList().slice(0);throw p.ENOTDIR(e)}else throw p.ENOENT(e)},t.prototype.readFileSync=function(e,o,a){var u=this.openSync(e,a,420);try{var y=u,x=y.getBuffer();return o===null?Bt(x):x.toString(o)}finally{u.closeSync()}},t.prototype._getDirectoryRecord=function(e){var o=this;if(e==="/")return this._root;for(var a=e.split("/").slice(1),u=this._root,y=0,x=a;y<x.length;y+=1){var F=x[y];if(u.isDirectory(o._data)){if(u=u.getDirectory(o._data).getRecord(F),!u)return null}else return null}return u},t.prototype._getStats=function(e,o){if(o.isSymlink(this._data)){var a=v.resolve(e,o.getSymlinkPath(this._data)),u=this._getDirectoryRecord(a);return u?this._getStats(a,u):null}else{var y=o.dataLength(),x=365,F=o.recordingDate(),U=F,H=F,nt=F;if(o.hasRockRidge())for(var ht=o.getSUEntries(this._data),yt=0,Nt=ht;yt<Nt.length;yt+=1){var At=Nt[yt];if(At instanceof _a)x=At.mode();else if(At instanceof Ea){var Wt=At.flags();Wt&4&&(U=At.access()),Wt&2&&(H=At.modify()),Wt&1&&(nt=At.creation())}}return x=x&365,new z(o.isDirectory(this._data)?M.DIRECTORY:M.FILE,y,x,U,H,nt)}},t}(rt);ki.Name="IsoFS",ki.Options={data:{type:"object",description:"The ISO file in a buffer",validator:C}},[k,di,pi,pr,vi,yr,Pr,ki,Ur,vr,zr,Ei,bi,Gn].forEach(function(i){var t=i.Create;i.Create=function(n,e){var o=typeof n=="function",a=o?n:e,u=o?{}:n;function y(x){x?a(x):t.call(i,u,a)}A(i,u,y)}});var Fi={AsyncMirror:k,Dropbox:di,Emscripten:pi,FolderAdapter:pr,HTML5FS:vi,InMemory:yr,IndexedDB:Pr,IsoFS:ki,LocalStorage:Ur,MountableFileSystem:vr,OverlayFS:zr,WorkerFS:Ei,XmlHttpRequest:bi,ZipFS:Gn};b.initializeTTYs&&b.initializeTTYs();function rf(i){i.Buffer=d,i.process=b;var t=i.require?i.require:null;i.require=function(n){var e=ba(n);return e||t.apply(null,Array.prototype.slice.call(arguments,0))}}function of(i,t){Fi[i]=t}function ba(i){switch(i){case"fs":return ft;case"path":return v;case"buffer":return S;case"process":return b;case"bfs_utils":return at;default:return Fi[i]}}function xa(i){return ft.initialize(i)}function sf(i,t){To(i,function(n,e){e?(xa(e),t()):t(n)})}function To(i,t){var n=i.fs;if(!n)return t(new p(h.EPERM,'Missing "fs" property on configuration object.'));var e=i.options,o=0,a=!1;function u(){if(!a){a=!0;var F=Fi[n];F?F.Create(e,t):t(new p(h.EPERM,"File system "+n+" is not available in BrowserFS."))}}if(e!==null&&typeof e=="object"){var y=!1,x=Object.keys(e).filter(function(F){return F!=="fs"});x.forEach(function(F){var U=e[F];U!==null&&typeof U=="object"&&U.fs&&(o++,To(U,function(H,nt){if(o--,H){if(a)return;a=!0,t(H)}else e[F]=nt,o===0&&y&&u()}))}),y=!0}o===0&&u()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(i){return function(t,n){return t<0&&(t=this.length+t),i.call(this,t,n)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(i,t){i===void 0&&(i=0),t===void 0&&(t=this.length);var n=this;return i<0&&(i=this.length+i,i<0&&(i=0)),t<0&&(t=this.length+t,t<0&&(t=0)),t<i&&(t=i),new Uint8Array(n.buffer,n.byteOffset+i,t-i)})),l.install=rf,l.registerFileSystem=of,l.BFSRequire=ba,l.initialize=xa,l.configure=sf,l.getFileSystem=To,l.EmscriptenFS=W,l.FileSystem=Fi,l.Errors=D,l.setImmediate=xo}).call(l,f(1),function(){return this}(),f(5)(c),f(6))},function(c,l,f){c.exports=f(2).Buffer},function(c,l,f){(function(h){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var w=f(3),_=f(4);l.Buffer=h,l.SlowBuffer=K,l.INSPECT_MAX_BYTES=50;var b=2147483647;l.kMaxLength=b,h.TYPED_ARRAY_SUPPORT=S(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function S(){try{var k=new Uint8Array(1);return k.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},k.foo()===42}catch{return!1}}function v(k){if(k>b)throw new RangeError("Invalid typed array length");var g=new Uint8Array(k);return g.__proto__=h.prototype,g}function h(k,g,m){if(typeof k=="number"){if(typeof g=="string")throw new Error("If encoding is specified then the first argument must be a string");return R(k)}return E(k,g,m)}typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192;function E(k,g,m){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return vt(k)?z(k,g,m):typeof k=="string"?N(k,g):J(k)}h.from=function(k,g,m){return E(k,g,m)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array;function p(k){if(typeof k!="number")throw new TypeError('"size" argument must be a number');if(k<0)throw new RangeError('"size" argument must not be negative')}function D(k,g,m){return p(k),k<=0?v(k):g!==void 0?typeof m=="string"?v(k).fill(g,m):v(k).fill(g):v(k)}h.alloc=function(k,g,m){return D(k,g,m)};function R(k){return p(k),v(k<0?0:V(k)|0)}h.allocUnsafe=function(k){return R(k)},h.allocUnsafeSlow=function(k){return R(k)};function N(k,g){if((typeof g!="string"||g==="")&&(g="utf8"),!h.isEncoding(g))throw new TypeError('"encoding" must be a valid string encoding');var m=gt(k,g)|0,O=v(m),j=O.write(k,g);return j!==m&&(O=O.slice(0,j)),O}function M(k){for(var g=k.length<0?0:V(k.length)|0,m=v(g),O=0;O<g;O+=1)m[O]=k[O]&255;return m}function z(k,g,m){if(g<0||k.byteLength<g)throw new RangeError("'offset' is out of bounds");if(k.byteLength<g+(m||0))throw new RangeError("'length' is out of bounds");var O;return g===void 0&&m===void 0?O=new Uint8Array(k):m===void 0?O=new Uint8Array(k,g):O=new Uint8Array(k,g,m),O.__proto__=h.prototype,O}function J(k){if(h.isBuffer(k)){var g=V(k.length)|0,m=v(g);return m.length===0||k.copy(m,0,0,g),m}if(k){if(lt(k)||"length"in k)return typeof k.length!="number"||pt(k.length)?v(0):M(k);if(k.type==="Buffer"&&Array.isArray(k.data))return M(k.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function V(k){if(k>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return k|0}function K(k){return+k!=k&&(k=0),h.alloc(+k)}h.isBuffer=function(g){return g!=null&&g._isBuffer===!0},h.compare=function(g,m){if(!h.isBuffer(g)||!h.isBuffer(m))throw new TypeError("Arguments must be Buffers");if(g===m)return 0;for(var O=g.length,j=m.length,Y=0,et=Math.min(O,j);Y<et;++Y)if(g[Y]!==m[Y]){O=g[Y],j=m[Y];break}return O<j?-1:j<O?1:0},h.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(g,m){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return h.alloc(0);var O;if(m===void 0)for(m=0,O=0;O<g.length;++O)m+=g[O].length;var j=h.allocUnsafe(m),Y=0;for(O=0;O<g.length;++O){var et=g[O];if(!h.isBuffer(et))throw new TypeError('"list" argument must be an Array of Buffers');et.copy(j,Y),Y+=et.length}return j};function gt(k,g){if(h.isBuffer(k))return k.length;if(lt(k)||vt(k))return k.byteLength;typeof k!="string"&&(k=""+k);var m=k.length;if(m===0)return 0;for(var O=!1;;)switch(g){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":case void 0:return P(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return rt(k).length;default:if(O)return P(k).length;g=(""+g).toLowerCase(),O=!0}}h.byteLength=gt;function G(k,g,m){var O=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,g>>>=0,m<=g))return"";for(k||(k="utf8");;)switch(k){case"hex":return zt(this,g,m);case"utf8":case"utf-8":return xt(this,g,m);case"ascii":return ct(this,g,m);case"latin1":case"binary":return kt(this,g,m);case"base64":return St(this,g,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pt(this,g,m);default:if(O)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),O=!0}}h.prototype._isBuffer=!0;function ut(k,g,m){var O=k[g];k[g]=k[m],k[m]=O}h.prototype.swap16=function(){var g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<g;m+=2)ut(this,m,m+1);return this},h.prototype.swap32=function(){var g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<g;m+=4)ut(this,m,m+3),ut(this,m+1,m+2);return this},h.prototype.swap64=function(){var g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<g;m+=8)ut(this,m,m+7),ut(this,m+1,m+6),ut(this,m+2,m+5),ut(this,m+3,m+4);return this},h.prototype.toString=function(){var g=this.length;return g===0?"":arguments.length===0?xt(this,0,g):G.apply(this,arguments)},h.prototype.equals=function(g){if(!h.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:h.compare(this,g)===0},h.prototype.inspect=function(){var g="",m=l.INSPECT_MAX_BYTES;return this.length>0&&(g=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(g+=" ... ")),"<Buffer "+g+">"},h.prototype.compare=function(g,m,O,j,Y){if(!h.isBuffer(g))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),O===void 0&&(O=g?g.length:0),j===void 0&&(j=0),Y===void 0&&(Y=this.length),m<0||O>g.length||j<0||Y>this.length)throw new RangeError("out of range index");if(j>=Y&&m>=O)return 0;if(j>=Y)return-1;if(m>=O)return 1;if(m>>>=0,O>>>=0,j>>>=0,Y>>>=0,this===g)return 0;for(var et=Y-j,It=O-m,Ct=Math.min(et,It),Vt=this.slice(j,Y),$t=g.slice(m,O),Xt=0;Xt<Ct;++Xt)if(Vt[Xt]!==$t[Xt]){et=Vt[Xt],It=$t[Xt];break}return et<It?-1:It<et?1:0};function mt(k,g,m,O,j){if(k.length===0)return-1;if(typeof m=="string"?(O=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,pt(m)&&(m=j?0:k.length-1),m<0&&(m=k.length+m),m>=k.length){if(j)return-1;m=k.length-1}else if(m<0)if(j)m=0;else return-1;if(typeof g=="string"&&(g=h.from(g,O)),h.isBuffer(g))return g.length===0?-1:Z(k,g,m,O,j);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(k,g,m):Uint8Array.prototype.lastIndexOf.call(k,g,m):Z(k,[g],m,O,j);throw new TypeError("val must be string, number or Buffer")}function Z(k,g,m,O,j){var Y=1,et=k.length,It=g.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(k.length<2||g.length<2)return-1;Y=2,et/=2,It/=2,m/=2}function Ct(En,ye){return Y===1?En[ye]:En.readUInt16BE(ye*Y)}var Vt;if(j){var $t=-1;for(Vt=m;Vt<et;Vt++)if(Ct(k,Vt)===Ct(g,$t===-1?0:Vt-$t)){if($t===-1&&($t=Vt),Vt-$t+1===It)return $t*Y}else $t!==-1&&(Vt-=Vt-$t),$t=-1}else for(m+It>et&&(m=et-It),Vt=m;Vt>=0;Vt--){for(var Xt=!0,Te=0;Te<It;Te++)if(Ct(k,Vt+Te)!==Ct(g,Te)){Xt=!1;break}if(Xt)return Vt}return-1}h.prototype.includes=function(g,m,O){return this.indexOf(g,m,O)!==-1},h.prototype.indexOf=function(g,m,O){return mt(this,g,m,O,!0)},h.prototype.lastIndexOf=function(g,m,O){return mt(this,g,m,O,!1)};function st(k,g,m,O){m=Number(m)||0;var j=k.length-m;O?(O=Number(O),O>j&&(O=j)):O=j;var Y=g.length;if(Y%2!==0)throw new TypeError("Invalid hex string");O>Y/2&&(O=Y/2);for(var et=0;et<O;++et){var It=parseInt(g.substr(et*2,2),16);if(pt(It))return et;k[m+et]=It}return et}function ft(k,g,m,O){return Q(P(g,k.length-m),k,m,O)}function dt(k,g,m,O){return Q(W(g),k,m,O)}function tt(k,g,m,O){return dt(k,g,m,O)}function Ft(k,g,m,O){return Q(rt(g),k,m,O)}function _t(k,g,m,O){return Q(B(g,k.length-m),k,m,O)}h.prototype.write=function(g,m,O,j){if(m===void 0)j="utf8",O=this.length,m=0;else if(O===void 0&&typeof m=="string")j=m,O=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(O)?(O=O>>>0,j===void 0&&(j="utf8")):(j=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Y=this.length-m;if((O===void 0||O>Y)&&(O=Y),g.length>0&&(O<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");for(var et=!1;;)switch(j){case"hex":return st(this,g,m,O);case"utf8":case"utf-8":return ft(this,g,m,O);case"ascii":return dt(this,g,m,O);case"latin1":case"binary":return tt(this,g,m,O);case"base64":return Ft(this,g,m,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _t(this,g,m,O);default:if(et)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),et=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function St(k,g,m){return g===0&&m===k.length?w.fromByteArray(k):w.fromByteArray(k.slice(g,m))}function xt(k,g,m){m=Math.min(k.length,m);for(var O=[],j=g;j<m;){var Y=k[j],et=null,It=Y>239?4:Y>223?3:Y>191?2:1;if(j+It<=m){var Ct,Vt,$t,Xt;switch(It){case 1:Y<128&&(et=Y);break;case 2:Ct=k[j+1],(Ct&192)===128&&(Xt=(Y&31)<<6|Ct&63,Xt>127&&(et=Xt));break;case 3:Ct=k[j+1],Vt=k[j+2],(Ct&192)===128&&(Vt&192)===128&&(Xt=(Y&15)<<12|(Ct&63)<<6|Vt&63,Xt>2047&&(Xt<55296||Xt>57343)&&(et=Xt));break;case 4:Ct=k[j+1],Vt=k[j+2],$t=k[j+3],(Ct&192)===128&&(Vt&192)===128&&($t&192)===128&&(Xt=(Y&15)<<18|(Ct&63)<<12|(Vt&63)<<6|$t&63,Xt>65535&&Xt<1114112&&(et=Xt))}}et===null?(et=65533,It=1):et>65535&&(et-=65536,O.push(et>>>10&1023|55296),et=56320|et&1023),O.push(et),j+=It}return q(O)}var X=4096;function q(k){var g=k.length;if(g<=X)return String.fromCharCode.apply(String,k);for(var m="",O=0;O<g;)m+=String.fromCharCode.apply(String,k.slice(O,O+=X));return m}function ct(k,g,m){var O="";m=Math.min(k.length,m);for(var j=g;j<m;++j)O+=String.fromCharCode(k[j]&127);return O}function kt(k,g,m){var O="";m=Math.min(k.length,m);for(var j=g;j<m;++j)O+=String.fromCharCode(k[j]);return O}function zt(k,g,m){var O=k.length;(!g||g<0)&&(g=0),(!m||m<0||m>O)&&(m=O);for(var j="",Y=g;Y<m;++Y)j+=T(k[Y]);return j}function Pt(k,g,m){for(var O=k.slice(g,m),j="",Y=0;Y<O.length;Y+=2)j+=String.fromCharCode(O[Y]+O[Y+1]*256);return j}h.prototype.slice=function(g,m){var O=this.length;g=~~g,m=m===void 0?O:~~m,g<0?(g+=O,g<0&&(g=0)):g>O&&(g=O),m<0?(m+=O,m<0&&(m=0)):m>O&&(m=O),m<g&&(m=g);var j=this.subarray(g,m);return j.__proto__=h.prototype,j};function Mt(k,g,m){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+g>m)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function(g,m,O){g=g>>>0,m=m>>>0,O||Mt(g,m,this.length);for(var j=this[g],Y=1,et=0;++et<m&&(Y*=256);)j+=this[g+et]*Y;return j},h.prototype.readUIntBE=function(g,m,O){g=g>>>0,m=m>>>0,O||Mt(g,m,this.length);for(var j=this[g+--m],Y=1;m>0&&(Y*=256);)j+=this[g+--m]*Y;return j},h.prototype.readUInt8=function(g,m){return g=g>>>0,m||Mt(g,1,this.length),this[g]},h.prototype.readUInt16LE=function(g,m){return g=g>>>0,m||Mt(g,2,this.length),this[g]|this[g+1]<<8},h.prototype.readUInt16BE=function(g,m){return g=g>>>0,m||Mt(g,2,this.length),this[g]<<8|this[g+1]},h.prototype.readUInt32LE=function(g,m){return g=g>>>0,m||Mt(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},h.prototype.readUInt32BE=function(g,m){return g=g>>>0,m||Mt(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},h.prototype.readIntLE=function(g,m,O){g=g>>>0,m=m>>>0,O||Mt(g,m,this.length);for(var j=this[g],Y=1,et=0;++et<m&&(Y*=256);)j+=this[g+et]*Y;return Y*=128,j>=Y&&(j-=Math.pow(2,8*m)),j},h.prototype.readIntBE=function(g,m,O){g=g>>>0,m=m>>>0,O||Mt(g,m,this.length);for(var j=m,Y=1,et=this[g+--j];j>0&&(Y*=256);)et+=this[g+--j]*Y;return Y*=128,et>=Y&&(et-=Math.pow(2,8*m)),et},h.prototype.readInt8=function(g,m){return g=g>>>0,m||Mt(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},h.prototype.readInt16LE=function(g,m){g=g>>>0,m||Mt(g,2,this.length);var O=this[g]|this[g+1]<<8;return O&32768?O|4294901760:O},h.prototype.readInt16BE=function(g,m){g=g>>>0,m||Mt(g,2,this.length);var O=this[g+1]|this[g]<<8;return O&32768?O|4294901760:O},h.prototype.readInt32LE=function(g,m){return g=g>>>0,m||Mt(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},h.prototype.readInt32BE=function(g,m){return g=g>>>0,m||Mt(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},h.prototype.readFloatLE=function(g,m){return g=g>>>0,m||Mt(g,4,this.length),_.read(this,g,!0,23,4)},h.prototype.readFloatBE=function(g,m){return g=g>>>0,m||Mt(g,4,this.length),_.read(this,g,!1,23,4)},h.prototype.readDoubleLE=function(g,m){return g=g>>>0,m||Mt(g,8,this.length),_.read(this,g,!0,52,8)},h.prototype.readDoubleBE=function(g,m){return g=g>>>0,m||Mt(g,8,this.length),_.read(this,g,!1,52,8)};function Bt(k,g,m,O,j,Y){if(!h.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>j||g<Y)throw new RangeError('"value" argument is out of bounds');if(m+O>k.length)throw new RangeError("Index out of range")}h.prototype.writeUIntLE=function(g,m,O,j){if(g=+g,m=m>>>0,O=O>>>0,!j){var Y=Math.pow(2,8*O)-1;Bt(this,g,m,O,Y,0)}var et=1,It=0;for(this[m]=g&255;++It<O&&(et*=256);)this[m+It]=g/et&255;return m+O},h.prototype.writeUIntBE=function(g,m,O,j){if(g=+g,m=m>>>0,O=O>>>0,!j){var Y=Math.pow(2,8*O)-1;Bt(this,g,m,O,Y,0)}var et=O-1,It=1;for(this[m+et]=g&255;--et>=0&&(It*=256);)this[m+et]=g/It&255;return m+O},h.prototype.writeUInt8=function(g,m,O){return g=+g,m=m>>>0,O||Bt(this,g,m,1,255,0),this[m]=g&255,m+1},h.prototype.writeUInt16LE=function(g,m,O){return g=+g,m=m>>>0,O||Bt(this,g,m,2,65535,0),this[m]=g&255,this[m+1]=g>>>8,m+2},h.prototype.writeUInt16BE=function(g,m,O){return g=+g,m=m>>>0,O||Bt(this,g,m,2,65535,0),this[m]=g>>>8,this[m+1]=g&255,m+2},h.prototype.writeUInt32LE=function(g,m,O){return g=+g,m=m>>>0,O||Bt(this,g,m,4,4294967295,0),this[m+3]=g>>>24,this[m+2]=g>>>16,this[m+1]=g>>>8,this[m]=g&255,m+4},h.prototype.writeUInt32BE=function(g,m,O){return g=+g,m=m>>>0,O||Bt(this,g,m,4,4294967295,0),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4},h.prototype.writeIntLE=function(g,m,O,j){if(g=+g,m=m>>>0,!j){var Y=Math.pow(2,8*O-1);Bt(this,g,m,O,Y-1,-Y)}var et=0,It=1,Ct=0;for(this[m]=g&255;++et<O&&(It*=256);)g<0&&Ct===0&&this[m+et-1]!==0&&(Ct=1),this[m+et]=(g/It>>0)-Ct&255;return m+O},h.prototype.writeIntBE=function(g,m,O,j){if(g=+g,m=m>>>0,!j){var Y=Math.pow(2,8*O-1);Bt(this,g,m,O,Y-1,-Y)}var et=O-1,It=1,Ct=0;for(this[m+et]=g&255;--et>=0&&(It*=256);)g<0&&Ct===0&&this[m+et+1]!==0&&(Ct=1),this[m+et]=(g/It>>0)-Ct&255;return m+O},h.prototype.writeInt8=function(g,m,O){return g=+g,m=m>>>0,O||Bt(this,g,m,1,127,-128),g<0&&(g=255+g+1),this[m]=g&255,m+1},h.prototype.writeInt16LE=function(g,m,O){return g=+g,m=m>>>0,O||Bt(this,g,m,2,32767,-32768),this[m]=g&255,this[m+1]=g>>>8,m+2},h.prototype.writeInt16BE=function(g,m,O){return g=+g,m=m>>>0,O||Bt(this,g,m,2,32767,-32768),this[m]=g>>>8,this[m+1]=g&255,m+2},h.prototype.writeInt32LE=function(g,m,O){return g=+g,m=m>>>0,O||Bt(this,g,m,4,2147483647,-2147483648),this[m]=g&255,this[m+1]=g>>>8,this[m+2]=g>>>16,this[m+3]=g>>>24,m+4},h.prototype.writeInt32BE=function(g,m,O){return g=+g,m=m>>>0,O||Bt(this,g,m,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4};function Qt(k,g,m,O,j,Y){if(m+O>k.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function Yt(k,g,m,O,j){return g=+g,m=m>>>0,j||Qt(k,g,m,4),_.write(k,g,m,O,23,4),m+4}h.prototype.writeFloatLE=function(g,m,O){return Yt(this,g,m,!0,O)},h.prototype.writeFloatBE=function(g,m,O){return Yt(this,g,m,!1,O)};function C(k,g,m,O,j){return g=+g,m=m>>>0,j||Qt(k,g,m,8),_.write(k,g,m,O,52,8),m+8}h.prototype.writeDoubleLE=function(g,m,O){return C(this,g,m,!0,O)},h.prototype.writeDoubleBE=function(g,m,O){return C(this,g,m,!1,O)},h.prototype.copy=function(g,m,O,j){if(O||(O=0),!j&&j!==0&&(j=this.length),m>=g.length&&(m=g.length),m||(m=0),j>0&&j<O&&(j=O),j===O||g.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("sourceStart out of bounds");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),g.length-m<j-O&&(j=g.length-m+O);var Y=j-O,et;if(this===g&&O<m&&m<j)for(et=Y-1;et>=0;--et)g[et+m]=this[et+O];else if(Y<1e3)for(et=0;et<Y;++et)g[et+m]=this[et+O];else Uint8Array.prototype.set.call(g,this.subarray(O,O+Y),m);return Y},h.prototype.fill=function(g,m,O,j){if(typeof g=="string"){if(typeof m=="string"?(j=m,m=0,O=this.length):typeof O=="string"&&(j=O,O=this.length),g.length===1){var Y=g.charCodeAt(0);Y<256&&(g=Y)}if(j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!h.isEncoding(j))throw new TypeError("Unknown encoding: "+j)}else typeof g=="number"&&(g=g&255);if(m<0||this.length<m||this.length<O)throw new RangeError("Out of range index");if(O<=m)return this;m=m>>>0,O=O===void 0?this.length:O>>>0,g||(g=0);var et;if(typeof g=="number")for(et=m;et<O;++et)this[et]=g;else{var It=h.isBuffer(g)?g:new h(g,j),Ct=It.length;for(et=0;et<O-m;++et)this[et+m]=It[et%Ct]}return this};var A=/[^+/0-9A-Za-z-_]/g;function at(k){if(k=k.trim().replace(A,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function T(k){return k<16?"0"+k.toString(16):k.toString(16)}function P(k,g){g=g||1/0;for(var m,O=k.length,j=null,Y=[],et=0;et<O;++et){if(m=k.charCodeAt(et),m>55295&&m<57344){if(!j){if(m>56319){(g-=3)>-1&&Y.push(239,191,189);continue}else if(et+1===O){(g-=3)>-1&&Y.push(239,191,189);continue}j=m;continue}if(m<56320){(g-=3)>-1&&Y.push(239,191,189),j=m;continue}m=(j-55296<<10|m-56320)+65536}else j&&(g-=3)>-1&&Y.push(239,191,189);if(j=null,m<128){if((g-=1)<0)break;Y.push(m)}else if(m<2048){if((g-=2)<0)break;Y.push(m>>6|192,m&63|128)}else if(m<65536){if((g-=3)<0)break;Y.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((g-=4)<0)break;Y.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return Y}function W(k){for(var g=[],m=0;m<k.length;++m)g.push(k.charCodeAt(m)&255);return g}function B(k,g){for(var m,O,j,Y=[],et=0;et<k.length&&!((g-=2)<0);++et)m=k.charCodeAt(et),O=m>>8,j=m%256,Y.push(j),Y.push(O);return Y}function rt(k){return w.toByteArray(at(k))}function Q(k,g,m,O){for(var j=0;j<O&&!(j+m>=g.length||j>=k.length);++j)g[j+m]=k[j];return j}function vt(k){return k instanceof ArrayBuffer||k!=null&&k.constructor!=null&&k.constructor.name==="ArrayBuffer"&&typeof k.byteLength=="number"}function lt(k){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(k)}function pt(k){return k!==k}}).call(l,f(1))},function(c,l){l.byteLength=h,l.toByteArray=E,l.fromByteArray=R;for(var f=[],d=[],w=typeof Uint8Array<"u"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,S=_.length;b<S;++b)f[b]=_[b],d[_.charCodeAt(b)]=b;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63;function v(N){var M=N.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return N[M-2]==="="?2:N[M-1]==="="?1:0}function h(N){return N.length*3/4-v(N)}function E(N){var M,z,J,V,K,gt,G=N.length;K=v(N),gt=new w(G*3/4-K),J=K>0?G-4:G;var ut=0;for(M=0,z=0;M<J;M+=4,z+=3)V=d[N.charCodeAt(M)]<<18|d[N.charCodeAt(M+1)]<<12|d[N.charCodeAt(M+2)]<<6|d[N.charCodeAt(M+3)],gt[ut++]=V>>16&255,gt[ut++]=V>>8&255,gt[ut++]=V&255;return K===2?(V=d[N.charCodeAt(M)]<<2|d[N.charCodeAt(M+1)]>>4,gt[ut++]=V&255):K===1&&(V=d[N.charCodeAt(M)]<<10|d[N.charCodeAt(M+1)]<<4|d[N.charCodeAt(M+2)]>>2,gt[ut++]=V>>8&255,gt[ut++]=V&255),gt}function p(N){return f[N>>18&63]+f[N>>12&63]+f[N>>6&63]+f[N&63]}function D(N,M,z){for(var J,V=[],K=M;K<z;K+=3)J=(N[K]<<16)+(N[K+1]<<8)+N[K+2],V.push(p(J));return V.join("")}function R(N){for(var M,z=N.length,J=z%3,V="",K=[],gt=16383,G=0,ut=z-J;G<ut;G+=gt)K.push(D(N,G,G+gt>ut?ut:G+gt));return J===1?(M=N[z-1],V+=f[M>>2],V+=f[M<<4&63],V+="=="):J===2&&(M=(N[z-2]<<8)+N[z-1],V+=f[M>>10],V+=f[M>>4&63],V+=f[M<<2&63],V+="="),K.push(V),K.join("")}},function(c,l){l.read=function(f,d,w,_,b){var S,v,h=b*8-_-1,E=(1<<h)-1,p=E>>1,D=-7,R=w?b-1:0,N=w?-1:1,M=f[d+R];for(R+=N,S=M&(1<<-D)-1,M>>=-D,D+=h;D>0;S=S*256+f[d+R],R+=N,D-=8);for(v=S&(1<<-D)-1,S>>=-D,D+=_;D>0;v=v*256+f[d+R],R+=N,D-=8);if(S===0)S=1-p;else{if(S===E)return v?NaN:(M?-1:1)*(1/0);v=v+Math.pow(2,_),S=S-p}return(M?-1:1)*v*Math.pow(2,S-_)},l.write=function(f,d,w,_,b,S){var v,h,E,p=S*8-b-1,D=(1<<p)-1,R=D>>1,N=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=_?0:S-1,z=_?1:-1,J=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(h=isNaN(d)?1:0,v=D):(v=Math.floor(Math.log(d)/Math.LN2),d*(E=Math.pow(2,-v))<1&&(v--,E*=2),v+R>=1?d+=N/E:d+=N*Math.pow(2,1-R),d*E>=2&&(v++,E/=2),v+R>=D?(h=0,v=D):v+R>=1?(h=(d*E-1)*Math.pow(2,b),v=v+R):(h=d*Math.pow(2,R-1)*Math.pow(2,b),v=0));b>=8;f[w+M]=h&255,M+=z,h/=256,b-=8);for(v=v<<b|h,p+=b;p>0;f[w+M]=v&255,M+=z,v/=256,p-=8);f[w+M-z]|=J*128}},function(c,l){c.exports=function(f){return f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children=[],f.webpackPolyfill=1),f}},function(c,l,f){var d=f(7),w=new d,_={};function b(v){_[v]||(typeof w[v]=="function"?_[v]=function(){return w[v].apply(w,arguments)}:_[v]=w[v])}for(var S in w)b(S);_.initializeTTYs=function(){w.stdin===null&&(w.initializeTTYs(),_.stdin=w.stdin,_.stdout=w.stdout,_.stderr=w.stderr)},w.nextTick(function(){_.initializeTTYs()}),c.exports=_},function(c,l,f){(function(d){var w=this&&this.__extends||function(E,p){for(var D in p)p.hasOwnProperty(D)&&(E[D]=p[D]);function R(){this.constructor=E}E.prototype=p===null?Object.create(p):(R.prototype=p.prototype,new R)},_=f(8),b=null,S=function(){function E(p,D){this.fun=p,this.array=D}return E.prototype.run=function(){this.fun.apply(null,this.array)},E}(),v=function(){function E(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return E.prototype.push=function(p){var D=this;this._queue.push(p)===1&&!this._draining&&setTimeout(function(){return D._drainQueue()},0)},E.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},E.prototype._drainQueue=function(){var p=this;if(!this._draining){var D=setTimeout(function(){return p._cleanUpNextTick()});this._draining=!0;for(var R=this._queue.length;R;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<R;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,R=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(D)}},E}(),h=function(E){w(p,E);function p(){E.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new v,this.execPath=d,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return p.prototype.chdir=function(D){b===null&&(b=f(9)),this._cwd=b.resolve(D)},p.prototype.cwd=function(){return this._cwd},p.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},p.prototype.nextTick=function(D){for(var R=[],N=1;N<arguments.length;N++)R[N-1]=arguments[N];this._queue.push(new S(D,R))},p.prototype.abort=function(){this.emit("abort")},p.prototype.exit=function(D){this.exitCode=D,this.emit("exit",[D])},p.prototype.getgid=function(){return this._gid},p.prototype.setgid=function(D){typeof D=="number"?this._gid=D:this._gid=1},p.prototype.getuid=function(){return this._uid},p.prototype.setuid=function(D){typeof D=="number"?this._uid=D:this._uid=1},p.prototype.kill=function(D,R){this.emit("kill",[D,R])},p.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},p.prototype.umask=function(D){D===void 0&&(D=this._mask);var R=this._mask;return this._mask=D,this.emit("umask",[D]),R},p.prototype.hrtime=function(){var D;typeof performance<"u"?D=performance.now():Date.now?D=Date.now():D=new Date().getTime();var R=D/1e3|0;return D-=R*1e3,D=D*1e6|0,[R,D]},p.prototype.initializeTTYs=function(){if(this.stdout===null){var D=f(10);this.stdout=new D,this.stderr=new D,this.stdin=new D}},p.prototype.disconnect=function(){},p}(_.EventEmitter);c.exports=h}).call(l,"/")},function(c,l){function f(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}c.exports=f,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._maxListeners=void 0,f.defaultMaxListeners=10,f.prototype.setMaxListeners=function(S){if(!w(S)||S<0||isNaN(S))throw TypeError("n must be a positive number");return this._maxListeners=S,this},f.prototype.emit=function(S){var v,h,E,p,D,R;if(this._events||(this._events={}),S==="error"&&(!this._events.error||_(this._events.error)&&!this._events.error.length)){if(v=arguments[1],v instanceof Error)throw v;var N=new Error('Uncaught, unspecified "error" event. ('+v+")");throw N.context=v,N}if(h=this._events[S],b(h))return!1;if(d(h))switch(arguments.length){case 1:h.call(this);break;case 2:h.call(this,arguments[1]);break;case 3:h.call(this,arguments[1],arguments[2]);break;default:p=Array.prototype.slice.call(arguments,1),h.apply(this,p)}else if(_(h))for(p=Array.prototype.slice.call(arguments,1),R=h.slice(),E=R.length,D=0;D<E;D++)R[D].apply(this,p);return!0},f.prototype.addListener=function(S,v){var h;if(!d(v))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",S,d(v.listener)?v.listener:v),this._events[S]?_(this._events[S])?this._events[S].push(v):this._events[S]=[this._events[S],v]:this._events[S]=v,_(this._events[S])&&!this._events[S].warned&&(b(this._maxListeners)?h=f.defaultMaxListeners:h=this._maxListeners,h&&h>0&&this._events[S].length>h&&(this._events[S].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[S].length),typeof console.trace=="function"&&console.trace())),this},f.prototype.on=f.prototype.addListener,f.prototype.once=function(S,v){if(!d(v))throw TypeError("listener must be a function");var h=!1;function E(){this.removeListener(S,E),h||(h=!0,v.apply(this,arguments))}return E.listener=v,this.on(S,E),this},f.prototype.removeListener=function(S,v){var h,E,p,D;if(!d(v))throw TypeError("listener must be a function");if(!this._events||!this._events[S])return this;if(h=this._events[S],p=h.length,E=-1,h===v||d(h.listener)&&h.listener===v)delete this._events[S],this._events.removeListener&&this.emit("removeListener",S,v);else if(_(h)){for(D=p;D-- >0;)if(h[D]===v||h[D].listener&&h[D].listener===v){E=D;break}if(E<0)return this;h.length===1?(h.length=0,delete this._events[S]):h.splice(E,1),this._events.removeListener&&this.emit("removeListener",S,v)}return this},f.prototype.removeAllListeners=function(S){var v,h;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[S]&&delete this._events[S],this;if(arguments.length===0){for(v in this._events)v!=="removeListener"&&this.removeAllListeners(v);return this.removeAllListeners("removeListener"),this._events={},this}if(h=this._events[S],d(h))this.removeListener(S,h);else if(h)for(;h.length;)this.removeListener(S,h[h.length-1]);return delete this._events[S],this},f.prototype.listeners=function(S){var v;return!this._events||!this._events[S]?v=[]:d(this._events[S])?v=[this._events[S]]:v=this._events[S].slice(),v},f.prototype.listenerCount=function(S){if(this._events){var v=this._events[S];if(d(v))return 1;if(v)return v.length}return 0},f.listenerCount=function(S,v){return S.listenerCount(v)};function d(S){return typeof S=="function"}function w(S){return typeof S=="number"}function _(S){return typeof S=="object"&&S!==null}function b(S){return S===void 0}},function(c,l,f){(function(d){var w=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function _(S){var v=w.exec(S);return v.shift(),v}var b=function(){function S(){}return S.normalize=function(v){v===""&&(v=".");var h=v.charAt(0)===S.sep;v=S._removeDuplicateSeps(v);for(var E=v.split(S.sep),p=[],D=0;D<E.length;D++){var R=E[D];R!=="."&&(R===".."&&(h||!h&&p.length>0&&p[0]!=="..")?p.pop():p.push(R))}if(!h&&p.length<2)switch(p.length){case 1:p[0]===""&&p.unshift(".");break;default:p.push(".")}return v=p.join(S.sep),h&&v.charAt(0)!==S.sep&&(v=S.sep+v),v},S.join=function(){for(var v=[],h=0;h<arguments.length;h++)v[h-0]=arguments[h];for(var E=[],p=0;p<v.length;p++){var D=v[p];if(typeof D!="string")throw new TypeError("Invalid argument type to path.join: "+typeof D);D!==""&&E.push(D)}return S.normalize(E.join(S.sep))},S.resolve=function(){for(var v=[],h=0;h<arguments.length;h++)v[h-0]=arguments[h];for(var E=[],p=0;p<v.length;p++){var D=v[p];if(typeof D!="string")throw new TypeError("Invalid argument type to path.join: "+typeof D);D!==""&&(D.charAt(0)===S.sep&&(E=[]),E.push(D))}var R=S.normalize(E.join(S.sep));if(R.length>1&&R.charAt(R.length-1)===S.sep)return R.substr(0,R.length-1);if(R.charAt(0)!==S.sep){R.charAt(0)==="."&&(R.length===1||R.charAt(1)===S.sep)&&(R=R.length===1?"":R.substr(2));var N=d.cwd();R!==""?R=this.normalize(N+(N!=="/"?S.sep:"")+R):R=N}return R},S.relative=function(v,h){var E;v=S.resolve(v),h=S.resolve(h);var p=v.split(S.sep),D=h.split(S.sep);D.shift(),p.shift();var R=0,N=[];for(E=0;E<p.length;E++){var M=p[E];if(M!==D[E]){R=p.length-E;break}}N=D.slice(E),p.length===1&&p[0]===""&&(R=0),R>p.length&&(R=p.length);var z="";for(E=0;E<R;E++)z+="../";return z+=N.join(S.sep),z.length>1&&z.charAt(z.length-1)===S.sep&&(z=z.substr(0,z.length-1)),z},S.dirname=function(v){v=S._removeDuplicateSeps(v);var h=v.charAt(0)===S.sep,E=v.split(S.sep);return E.pop()===""&&E.length>0&&E.pop(),E.length>1||E.length===1&&!h?E.join(S.sep):h?S.sep:"."},S.basename=function(v,h){if(h===void 0&&(h=""),v==="")return v;v=S.normalize(v);var E=v.split(S.sep),p=E[E.length-1];if(p===""&&E.length>1)return E[E.length-2];if(h.length>0){var D=p.substr(p.length-h.length);if(D===h)return p.substr(0,p.length-h.length)}return p},S.extname=function(v){v=S.normalize(v);var h=v.split(S.sep);if(v=h.pop(),v===""&&h.length>0&&(v=h.pop()),v==="..")return"";var E=v.lastIndexOf(".");return E===-1||E===0?"":v.substr(E)},S.isAbsolute=function(v){return v.length>0&&v.charAt(0)===S.sep},S._makeLong=function(v){return v},S.parse=function(v){var h=_(v);return{root:h[0],dir:h[0]+h[1].slice(0,-1),base:h[2],ext:h[3],name:h[2].slice(0,h[2].length-h[3].length)}},S.format=function(v){if(v===null||typeof v!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof v);var h=v.root||"";if(typeof h!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof v.root);var E=v.dir?v.dir+S.sep:"",p=v.base||"";return E+p},S._removeDuplicateSeps=function(v){return v=v.replace(this._replaceRegex,this.sep),v},S.sep="/",S._replaceRegex=new RegExp("//+","g"),S.delimiter=":",S.posix=S,S.win32=S,S}();c.exports=b}).call(l,f(6))},function(c,l,f){(function(d){var w=this&&this.__extends||function(S,v){for(var h in v)v.hasOwnProperty(h)&&(S[h]=v[h]);function E(){this.constructor=S}S.prototype=v===null?Object.create(v):(E.prototype=v.prototype,new E)},_=f(11),b=function(S){w(v,S);function v(){S.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return v.prototype.setRawMode=function(h){this.isRaw!==h&&(this.isRaw=h,this.emit("modeChange"))},v.prototype.changeColumns=function(h){h!==this.columns&&(this.columns=h,this.emit("resize"))},v.prototype.changeRows=function(h){h!==this.rows&&(this.rows=h,this.emit("resize"))},v.isatty=function(h){return h&&h instanceof v},v.prototype._write=function(h,E,p){var D;try{var R;typeof h=="string"?R=new d(h,E):R=h,this._bufferedWrites.push(R),this._waitingForWrites&&this._read(1024)}catch(N){D=N}finally{p(D)}},v.prototype._read=function(h){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},v}(_.Duplex);c.exports=b}).call(l,f(1))},function(c,l,f){c.exports=_;var d=f(8).EventEmitter,w=f(12);w(_,d),_.Readable=f(13),_.Writable=f(27),_.Duplex=f(28),_.Transform=f(29),_.PassThrough=f(30),_.Stream=_;function _(){d.call(this)}_.prototype.pipe=function(b,S){var v=this;function h(z){b.writable&&b.write(z)===!1&&v.pause&&v.pause()}v.on("data",h);function E(){v.readable&&v.resume&&v.resume()}b.on("drain",E),!b._isStdio&&(!S||S.end!==!1)&&(v.on("end",D),v.on("close",R));var p=!1;function D(){p||(p=!0,b.end())}function R(){p||(p=!0,typeof b.destroy=="function"&&b.destroy())}function N(z){if(M(),d.listenerCount(this,"error")===0)throw z}v.on("error",N),b.on("error",N);function M(){v.removeListener("data",h),b.removeListener("drain",E),v.removeListener("end",D),v.removeListener("close",R),v.removeListener("error",N),b.removeListener("error",N),v.removeListener("end",M),v.removeListener("close",M),b.removeListener("close",M)}return v.on("end",M),v.on("close",M),b.on("close",M),b.emit("pipe",v),b}},function(c,l){typeof Object.create=="function"?c.exports=function(d,w){d.super_=w,d.prototype=Object.create(w.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:c.exports=function(d,w){d.super_=w;var _=function(){};_.prototype=w.prototype,d.prototype=new _,d.prototype.constructor=d}},function(c,l,f){(function(d){var w=function(){try{return f(11)}catch{}}();l=c.exports=f(14),l.Stream=w||l,l.Readable=l,l.Writable=f(22),l.Duplex=f(21),l.Transform=f(25),l.PassThrough=f(26),!d.browser&&{}.READABLE_STREAM==="disable"&&w&&(c.exports=w)}).call(l,f(6))},function(c,l,f){(function(d){c.exports=V;var w=f(15),_=f(16),b;V.ReadableState=J,f(8).EventEmitter;var S=function(C,A){return C.listeners(A).length},v;(function(){try{v=f(11)}catch{}finally{v||(v=f(8).EventEmitter)}})();var h=f(2).Buffer,E=f(17),p=f(18);p.inherits=f(12);var D=f(19),R=void 0;D&&D.debuglog?R=D.debuglog("stream"):R=function(){};var N=f(20),M;p.inherits(V,v);function z(C,A,at){if(typeof C.prependListener=="function")return C.prependListener(A,at);!C._events||!C._events[A]?C.on(A,at):_(C._events[A])?C._events[A].unshift(at):C._events[A]=[at,C._events[A]]}function J(C,A){b=b||f(21),C=C||{},this.objectMode=!!C.objectMode,A instanceof b&&(this.objectMode=this.objectMode||!!C.readableObjectMode);var at=C.highWaterMark,T=this.objectMode?16:16*1024;this.highWaterMark=at||at===0?at:T,this.highWaterMark=~~this.highWaterMark,this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(M||(M=f(24).StringDecoder),this.decoder=new M(C.encoding),this.encoding=C.encoding)}function V(C){if(b=b||f(21),!(this instanceof V))return new V(C);this._readableState=new J(C,this),this.readable=!0,C&&typeof C.read=="function"&&(this._read=C.read),v.call(this)}V.prototype.push=function(C,A){var at=this._readableState;return!at.objectMode&&typeof C=="string"&&(A=A||at.defaultEncoding,A!==at.encoding&&(C=E.from(C,A),A="")),K(this,at,C,A,!1)},V.prototype.unshift=function(C){var A=this._readableState;return K(this,A,C,"",!0)},V.prototype.isPaused=function(){return this._readableState.flowing===!1};function K(C,A,at,T,P){var W=Z(A,at);if(W)C.emit("error",W);else if(at===null)A.reading=!1,st(C,A);else if(A.objectMode||at&&at.length>0)if(A.ended&&!P){var B=new Error("stream.push() after EOF");C.emit("error",B)}else if(A.endEmitted&&P){var rt=new Error("stream.unshift() after end event");C.emit("error",rt)}else{var Q;A.decoder&&!P&&!T&&(at=A.decoder.write(at),Q=!A.objectMode&&at.length===0),P||(A.reading=!1),Q||(A.flowing&&A.length===0&&!A.sync?(C.emit("data",at),C.read(0)):(A.length+=A.objectMode?1:at.length,P?A.buffer.unshift(at):A.buffer.push(at),A.needReadable&&ft(C))),tt(C,A)}else P||(A.reading=!1);return gt(A)}function gt(C){return!C.ended&&(C.needReadable||C.length<C.highWaterMark||C.length===0)}V.prototype.setEncoding=function(C){return M||(M=f(24).StringDecoder),this._readableState.decoder=new M(C),this._readableState.encoding=C,this};var G=8388608;function ut(C){return C>=G?C=G:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function mt(C,A){return C<=0||A.length===0&&A.ended?0:A.objectMode?1:C!==C?A.flowing&&A.length?A.buffer.head.data.length:A.length:(C>A.highWaterMark&&(A.highWaterMark=ut(C)),C<=A.length?C:A.ended?A.length:(A.needReadable=!0,0))}V.prototype.read=function(C){R("read",C),C=parseInt(C,10);var A=this._readableState,at=C;if(C!==0&&(A.emittedReadable=!1),C===0&&A.needReadable&&(A.length>=A.highWaterMark||A.ended))return R("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?Mt(this):ft(this),null;if(C=mt(C,A),C===0&&A.ended)return A.length===0&&Mt(this),null;var T=A.needReadable;R("need readable",T),(A.length===0||A.length-C<A.highWaterMark)&&(T=!0,R("length less than watermark",T)),A.ended||A.reading?(T=!1,R("reading or ended",T)):T&&(R("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(C=mt(at,A)));var P;return C>0?P=ct(C,A):P=null,P===null?(A.needReadable=!0,C=0):A.length-=C,A.length===0&&(A.ended||(A.needReadable=!0),at!==C&&A.ended&&Mt(this)),P!==null&&this.emit("data",P),P};function Z(C,A){var at=null;return!h.isBuffer(A)&&typeof A!="string"&&A!==null&&A!==void 0&&!C.objectMode&&(at=new TypeError("Invalid non-string/buffer chunk")),at}function st(C,A){if(!A.ended){if(A.decoder){var at=A.decoder.end();at&&at.length&&(A.buffer.push(at),A.length+=A.objectMode?1:at.length)}A.ended=!0,ft(C)}}function ft(C){var A=C._readableState;A.needReadable=!1,A.emittedReadable||(R("emitReadable",A.flowing),A.emittedReadable=!0,A.sync?w(dt,C):dt(C))}function dt(C){R("emit readable"),C.emit("readable"),q(C)}function tt(C,A){A.readingMore||(A.readingMore=!0,w(Ft,C,A))}function Ft(C,A){for(var at=A.length;!A.reading&&!A.flowing&&!A.ended&&A.length<A.highWaterMark&&(R("maybeReadMore read 0"),C.read(0),at!==A.length);)at=A.length;A.readingMore=!1}V.prototype._read=function(C){this.emit("error",new Error("_read() is not implemented"))},V.prototype.pipe=function(C,A){var at=this,T=this._readableState;switch(T.pipesCount){case 0:T.pipes=C;break;case 1:T.pipes=[T.pipes,C];break;default:T.pipes.push(C);break}T.pipesCount+=1,R("pipe count=%d opts=%j",T.pipesCount,A);var P=(!A||A.end!==!1)&&C!==d.stdout&&C!==d.stderr,W=P?rt:lt;T.endEmitted?w(W):at.once("end",W),C.on("unpipe",B);function B(Y){R("onunpipe"),Y===at&&lt()}function rt(){R("onend"),C.end()}var Q=_t(at);C.on("drain",Q);var vt=!1;function lt(){R("cleanup"),C.removeListener("close",m),C.removeListener("finish",O),C.removeListener("drain",Q),C.removeListener("error",g),C.removeListener("unpipe",B),at.removeListener("end",rt),at.removeListener("end",lt),at.removeListener("data",k),vt=!0,T.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&Q()}var pt=!1;at.on("data",k);function k(Y){R("ondata"),pt=!1;var et=C.write(Y);et===!1&&!pt&&((T.pipesCount===1&&T.pipes===C||T.pipesCount>1&&Yt(T.pipes,C)!==-1)&&!vt&&(R("false write response, pause",at._readableState.awaitDrain),at._readableState.awaitDrain++,pt=!0),at.pause())}function g(Y){R("onerror",Y),j(),C.removeListener("error",g),S(C,"error")===0&&C.emit("error",Y)}z(C,"error",g);function m(){C.removeListener("finish",O),j()}C.once("close",m);function O(){R("onfinish"),C.removeListener("close",m),j()}C.once("finish",O);function j(){R("unpipe"),at.unpipe(C)}return C.emit("pipe",at),T.flowing||(R("pipe resume"),at.resume()),C};function _t(C){return function(){var A=C._readableState;R("pipeOnDrain",A.awaitDrain),A.awaitDrain&&A.awaitDrain--,A.awaitDrain===0&&S(C,"data")&&(A.flowing=!0,q(C))}}V.prototype.unpipe=function(C){var A=this._readableState;if(A.pipesCount===0)return this;if(A.pipesCount===1)return C&&C!==A.pipes?this:(C||(C=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,C&&C.emit("unpipe",this),this);if(!C){var at=A.pipes,T=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var P=0;P<T;P++)at[P].emit("unpipe",this);return this}var W=Yt(A.pipes,C);return W===-1?this:(A.pipes.splice(W,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),C.emit("unpipe",this),this)},V.prototype.on=function(C,A){var at=v.prototype.on.call(this,C,A);if(C==="data")this._readableState.flowing!==!1&&this.resume();else if(C==="readable"){var T=this._readableState;!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.emittedReadable=!1,T.reading?T.length&&ft(this):w(St,this))}return at},V.prototype.addListener=V.prototype.on;function St(C){R("readable nexttick read 0"),C.read(0)}V.prototype.resume=function(){var C=this._readableState;return C.flowing||(R("resume"),C.flowing=!0,xt(this,C)),this};function xt(C,A){A.resumeScheduled||(A.resumeScheduled=!0,w(X,C,A))}function X(C,A){A.reading||(R("resume read 0"),C.read(0)),A.resumeScheduled=!1,A.awaitDrain=0,C.emit("resume"),q(C),A.flowing&&!A.reading&&C.read(0)}V.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function q(C){var A=C._readableState;for(R("flow",A.flowing);A.flowing&&C.read()!==null;);}V.prototype.wrap=function(C){var A=this._readableState,at=!1,T=this;C.on("end",function(){if(R("wrapped end"),A.decoder&&!A.ended){var B=A.decoder.end();B&&B.length&&T.push(B)}T.push(null)}),C.on("data",function(B){if(R("wrapped data"),A.decoder&&(B=A.decoder.write(B)),!(A.objectMode&&B==null)&&!(!A.objectMode&&(!B||!B.length))){var rt=T.push(B);rt||(at=!0,C.pause())}});for(var P in C)this[P]===void 0&&typeof C[P]=="function"&&(this[P]=function(B){return function(){return C[B].apply(C,arguments)}}(P));var W=["error","close","destroy","pause","resume"];return Qt(W,function(B){C.on(B,T.emit.bind(T,B))}),T._read=function(B){R("wrapped _read",B),at&&(at=!1,C.resume())},T},V._fromList=ct;function ct(C,A){if(A.length===0)return null;var at;return A.objectMode?at=A.buffer.shift():!C||C>=A.length?(A.decoder?at=A.buffer.join(""):A.buffer.length===1?at=A.buffer.head.data:at=A.buffer.concat(A.length),A.buffer.clear()):at=kt(C,A.buffer,A.decoder),at}function kt(C,A,at){var T;return C<A.head.data.length?(T=A.head.data.slice(0,C),A.head.data=A.head.data.slice(C)):C===A.head.data.length?T=A.shift():T=at?zt(C,A):Pt(C,A),T}function zt(C,A){var at=A.head,T=1,P=at.data;for(C-=P.length;at=at.next;){var W=at.data,B=C>W.length?W.length:C;if(B===W.length?P+=W:P+=W.slice(0,C),C-=B,C===0){B===W.length?(++T,at.next?A.head=at.next:A.head=A.tail=null):(A.head=at,at.data=W.slice(B));break}++T}return A.length-=T,P}function Pt(C,A){var at=E.allocUnsafe(C),T=A.head,P=1;for(T.data.copy(at),C-=T.data.length;T=T.next;){var W=T.data,B=C>W.length?W.length:C;if(W.copy(at,at.length-C,0,B),C-=B,C===0){B===W.length?(++P,T.next?A.head=T.next:A.head=A.tail=null):(A.head=T,T.data=W.slice(B));break}++P}return A.length-=P,at}function Mt(C){var A=C._readableState;if(A.length>0)throw new Error('"endReadable()" called on non-empty stream');A.endEmitted||(A.ended=!0,w(Bt,A,C))}function Bt(C,A){!C.endEmitted&&C.length===0&&(C.endEmitted=!0,A.readable=!1,A.emit("end"))}function Qt(C,A){for(var at=0,T=C.length;at<T;at++)A(C[at],at)}function Yt(C,A){for(var at=0,T=C.length;at<T;at++)if(C[at]===A)return at;return-1}}).call(l,f(6))},function(c,l,f){(function(d){!d.version||d.version.indexOf("v0.")===0||d.version.indexOf("v1.")===0&&d.version.indexOf("v1.8.")!==0?c.exports=w:c.exports=d.nextTick;function w(_,b,S,v){if(typeof _!="function")throw new TypeError('"callback" argument must be a function');var h=arguments.length,E,p;switch(h){case 0:case 1:return d.nextTick(_);case 2:return d.nextTick(function(){_.call(null,b)});case 3:return d.nextTick(function(){_.call(null,b,S)});case 4:return d.nextTick(function(){_.call(null,b,S,v)});default:for(E=new Array(h-1),p=0;p<E.length;)E[p++]=arguments[p];return d.nextTick(function(){_.apply(null,E)})}}}).call(l,f(6))},function(c,l){var f={}.toString;c.exports=Array.isArray||function(d){return f.call(d)=="[object Array]"}},function(c,l,f){(function(d){var w=f(2),_=w.Buffer,b=w.SlowBuffer,S=w.kMaxLength||2147483647;l.alloc=function(h,E,p){if(typeof _.alloc=="function")return _.alloc(h,E,p);if(typeof p=="number")throw new TypeError("encoding must not be number");if(typeof h!="number")throw new TypeError("size must be a number");if(h>S)throw new RangeError("size is too large");var D=p,R=E;R===void 0&&(D=void 0,R=0);var N=new _(h);if(typeof R=="string")for(var M=new _(R,D),z=M.length,J=-1;++J<h;)N[J]=M[J%z];else N.fill(R);return N},l.allocUnsafe=function(h){if(typeof _.allocUnsafe=="function")return _.allocUnsafe(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>S)throw new RangeError("size is too large");return new _(h)},l.from=function(h,E,p){if(typeof _.from=="function"&&(!d.Uint8Array||Uint8Array.from!==_.from))return _.from(h,E,p);if(typeof h=="number")throw new TypeError('"value" argument must not be a number');if(typeof h=="string")return new _(h,E);if(typeof ArrayBuffer<"u"&&h instanceof ArrayBuffer){var D=E;if(arguments.length===1)return new _(h);typeof D>"u"&&(D=0);var R=p;if(typeof R>"u"&&(R=h.byteLength-D),D>=h.byteLength)throw new RangeError("'offset' is out of bounds");if(R>h.byteLength-D)throw new RangeError("'length' is out of bounds");return new _(h.slice(D,D+R))}if(_.isBuffer(h)){var N=new _(h.length);return h.copy(N,0,0,h.length),N}if(h){if(Array.isArray(h)||typeof ArrayBuffer<"u"&&h.buffer instanceof ArrayBuffer||"length"in h)return new _(h);if(h.type==="Buffer"&&Array.isArray(h.data))return new _(h.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},l.allocUnsafeSlow=function(h){if(typeof _.allocUnsafeSlow=="function")return _.allocUnsafeSlow(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>=S)throw new RangeError("size is too large");return new b(h)}}).call(l,function(){return this}())},function(c,l,f){(function(d){function w(K){return Array.isArray?Array.isArray(K):V(K)==="[object Array]"}l.isArray=w;function _(K){return typeof K=="boolean"}l.isBoolean=_;function b(K){return K===null}l.isNull=b;function S(K){return K==null}l.isNullOrUndefined=S;function v(K){return typeof K=="number"}l.isNumber=v;function h(K){return typeof K=="string"}l.isString=h;function E(K){return typeof K=="symbol"}l.isSymbol=E;function p(K){return K===void 0}l.isUndefined=p;function D(K){return V(K)==="[object RegExp]"}l.isRegExp=D;function R(K){return typeof K=="object"&&K!==null}l.isObject=R;function N(K){return V(K)==="[object Date]"}l.isDate=N;function M(K){return V(K)==="[object Error]"||K instanceof Error}l.isError=M;function z(K){return typeof K=="function"}l.isFunction=z;function J(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||typeof K=="symbol"||typeof K>"u"}l.isPrimitive=J,l.isBuffer=d.isBuffer;function V(K){return Object.prototype.toString.call(K)}}).call(l,f(1))},function(c,l){},function(c,l,f){f(2).Buffer;var d=f(17);c.exports=w;function w(){this.head=null,this.tail=null,this.length=0}w.prototype.push=function(_){var b={data:_,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},w.prototype.unshift=function(_){var b={data:_,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length},w.prototype.shift=function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}},w.prototype.clear=function(){this.head=this.tail=null,this.length=0},w.prototype.join=function(_){if(this.length===0)return"";for(var b=this.head,S=""+b.data;b=b.next;)S+=_+b.data;return S},w.prototype.concat=function(_){if(this.length===0)return d.alloc(0);if(this.length===1)return this.head.data;for(var b=d.allocUnsafe(_>>>0),S=this.head,v=0;S;)S.data.copy(b,v),v+=S.data.length,S=S.next;return b}},function(c,l,f){var d=Object.keys||function(N){var M=[];for(var z in N)M.push(z);return M};c.exports=p;var w=f(15),_=f(18);_.inherits=f(12);var b=f(14),S=f(22);_.inherits(p,b);for(var v=d(S.prototype),h=0;h<v.length;h++){var E=v[h];p.prototype[E]||(p.prototype[E]=S.prototype[E])}function p(N){if(!(this instanceof p))return new p(N);b.call(this,N),S.call(this,N),N&&N.readable===!1&&(this.readable=!1),N&&N.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,N&&N.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",D)}function D(){this.allowHalfOpen||this._writableState.ended||w(R,this)}function R(N){N.end()}},function(c,l,f){(function(d){c.exports=z;var w=f(15),_=!d.browser&&["v0.10","v0.9."].indexOf(d.version.slice(0,5))>-1?setImmediate:w,b;z.WritableState=N;var S=f(18);S.inherits=f(12);var v={deprecate:f(23)},h;(function(){try{h=f(11)}catch{}finally{h||(h=f(8).EventEmitter)}})();var E=f(2).Buffer,p=f(17);S.inherits(z,h);function D(){}function R(X,q,ct){this.chunk=X,this.encoding=q,this.callback=ct,this.next=null}function N(X,q){b=b||f(21),X=X||{},this.objectMode=!!X.objectMode,q instanceof b&&(this.objectMode=this.objectMode||!!X.writableObjectMode);var ct=X.highWaterMark,kt=this.objectMode?16:16*1024;this.highWaterMark=ct||ct===0?ct:kt,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var zt=X.decodeStrings===!1;this.decodeStrings=!zt,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pt){Z(q,Pt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new xt(this)}N.prototype.getBuffer=function(){for(var q=this.bufferedRequest,ct=[];q;)ct.push(q),q=q.next;return ct},function(){try{Object.defineProperty(N.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(X){return M.call(this,X)?!0:X&&X._writableState instanceof N}})):M=function(X){return X instanceof this};function z(X){if(b=b||f(21),!M.call(z,this)&&!(this instanceof b))return new z(X);this._writableState=new N(X,this),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev)),h.call(this)}z.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function J(X,q){var ct=new Error("write after end");X.emit("error",ct),w(q,ct)}function V(X,q,ct,kt){var zt=!0,Pt=!1;return ct===null?Pt=new TypeError("May not write null values to stream"):typeof ct!="string"&&ct!==void 0&&!q.objectMode&&(Pt=new TypeError("Invalid non-string/buffer chunk")),Pt&&(X.emit("error",Pt),w(kt,Pt),zt=!1),zt}z.prototype.write=function(X,q,ct){var kt=this._writableState,zt=!1,Pt=E.isBuffer(X);return typeof q=="function"&&(ct=q,q=null),Pt?q="buffer":q||(q=kt.defaultEncoding),typeof ct!="function"&&(ct=D),kt.ended?J(this,ct):(Pt||V(this,kt,X,ct))&&(kt.pendingcb++,zt=gt(this,kt,Pt,X,q,ct)),zt},z.prototype.cork=function(){var X=this._writableState;X.corked++},z.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.finished&&!X.bufferProcessing&&X.bufferedRequest&&dt(this,X))},z.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((q+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+q);return this._writableState.defaultEncoding=q,this};function K(X,q,ct){return!X.objectMode&&X.decodeStrings!==!1&&typeof q=="string"&&(q=p.from(q,ct)),q}function gt(X,q,ct,kt,zt,Pt){ct||(kt=K(q,kt,zt),E.isBuffer(kt)&&(zt="buffer"));var Mt=q.objectMode?1:kt.length;q.length+=Mt;var Bt=q.length<q.highWaterMark;if(Bt||(q.needDrain=!0),q.writing||q.corked){var Qt=q.lastBufferedRequest;q.lastBufferedRequest=new R(kt,zt,Pt),Qt?Qt.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else G(X,q,!1,Mt,kt,zt,Pt);return Bt}function G(X,q,ct,kt,zt,Pt,Mt){q.writelen=kt,q.writecb=Mt,q.writing=!0,q.sync=!0,ct?X._writev(zt,q.onwrite):X._write(zt,Pt,q.onwrite),q.sync=!1}function ut(X,q,ct,kt,zt){--q.pendingcb,ct?w(zt,kt):zt(kt),X._writableState.errorEmitted=!0,X.emit("error",kt)}function mt(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function Z(X,q){var ct=X._writableState,kt=ct.sync,zt=ct.writecb;if(mt(ct),q)ut(X,ct,kt,q,zt);else{var Pt=tt(ct);!Pt&&!ct.corked&&!ct.bufferProcessing&&ct.bufferedRequest&&dt(X,ct),kt?_(st,X,ct,Pt,zt):st(X,ct,Pt,zt)}}function st(X,q,ct,kt){ct||ft(X,q),q.pendingcb--,kt(),_t(X,q)}function ft(X,q){q.length===0&&q.needDrain&&(q.needDrain=!1,X.emit("drain"))}function dt(X,q){q.bufferProcessing=!0;var ct=q.bufferedRequest;if(X._writev&&ct&&ct.next){var kt=q.bufferedRequestCount,zt=new Array(kt),Pt=q.corkedRequestsFree;Pt.entry=ct;for(var Mt=0;ct;)zt[Mt]=ct,ct=ct.next,Mt+=1;G(X,q,!0,q.length,zt,"",Pt.finish),q.pendingcb++,q.lastBufferedRequest=null,Pt.next?(q.corkedRequestsFree=Pt.next,Pt.next=null):q.corkedRequestsFree=new xt(q)}else{for(;ct;){var Bt=ct.chunk,Qt=ct.encoding,Yt=ct.callback,C=q.objectMode?1:Bt.length;if(G(X,q,!1,C,Bt,Qt,Yt),ct=ct.next,q.writing)break}ct===null&&(q.lastBufferedRequest=null)}q.bufferedRequestCount=0,q.bufferedRequest=ct,q.bufferProcessing=!1}z.prototype._write=function(X,q,ct){ct(new Error("_write() is not implemented"))},z.prototype._writev=null,z.prototype.end=function(X,q,ct){var kt=this._writableState;typeof X=="function"?(ct=X,X=null,q=null):typeof q=="function"&&(ct=q,q=null),X!=null&&this.write(X,q),kt.corked&&(kt.corked=1,this.uncork()),!kt.ending&&!kt.finished&&St(this,kt,ct)};function tt(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function Ft(X,q){q.prefinished||(q.prefinished=!0,X.emit("prefinish"))}function _t(X,q){var ct=tt(q);return ct&&(q.pendingcb===0?(Ft(X,q),q.finished=!0,X.emit("finish")):Ft(X,q)),ct}function St(X,q,ct){q.ending=!0,_t(X,q),ct&&(q.finished?w(ct):X.once("finish",ct)),q.ended=!0,X.writable=!1}function xt(X){var q=this;this.next=null,this.entry=null,this.finish=function(ct){var kt=q.entry;for(q.entry=null;kt;){var zt=kt.callback;X.pendingcb--,zt(ct),kt=kt.next}X.corkedRequestsFree?X.corkedRequestsFree.next=q:X.corkedRequestsFree=q}}}).call(l,f(6))},function(c,l){(function(f){c.exports=d;function d(_,b){if(w("noDeprecation"))return _;var S=!1;function v(){if(!S){if(w("throwDeprecation"))throw new Error(b);w("traceDeprecation")?console.trace(b):console.warn(b),S=!0}return _.apply(this,arguments)}return v}function w(_){try{if(!f.localStorage)return!1}catch{return!1}var b=f.localStorage[_];return b==null?!1:String(b).toLowerCase()==="true"}}).call(l,function(){return this}())},function(c,l,f){var d=f(2).Buffer,w=d.isEncoding||function(E){switch(E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _(E){if(E&&!w(E))throw new Error("Unknown encoding: "+E)}var b=l.StringDecoder=function(E){switch(this.encoding=(E||"utf8").toLowerCase().replace(/[-_]/,""),_(E),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=v;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=h;break;default:this.write=S;return}this.charBuffer=new d(6),this.charReceived=0,this.charLength=0};b.prototype.write=function(E){for(var p="";this.charLength;){var D=E.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:E.length;if(E.copy(this.charBuffer,this.charReceived,0,D),this.charReceived+=D,this.charReceived<this.charLength)return"";E=E.slice(D,E.length),p=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var N=p.charCodeAt(p.length-1);if(N>=55296&&N<=56319){this.charLength+=this.surrogateSize,p="";continue}if(this.charReceived=this.charLength=0,E.length===0)return p;break}this.detectIncompleteChar(E);var R=E.length;this.charLength&&(E.copy(this.charBuffer,0,E.length-this.charReceived,R),R-=this.charReceived),p+=E.toString(this.encoding,0,R);var R=p.length-1,N=p.charCodeAt(R);if(N>=55296&&N<=56319){var M=this.surrogateSize;return this.charLength+=M,this.charReceived+=M,this.charBuffer.copy(this.charBuffer,M,0,M),E.copy(this.charBuffer,0,0,M),p.substring(0,R)}return p},b.prototype.detectIncompleteChar=function(E){for(var p=E.length>=3?3:E.length;p>0;p--){var D=E[E.length-p];if(p==1&&D>>5==6){this.charLength=2;break}if(p<=2&&D>>4==14){this.charLength=3;break}if(p<=3&&D>>3==30){this.charLength=4;break}}this.charReceived=p},b.prototype.end=function(E){var p="";if(E&&E.length&&(p=this.write(E)),this.charReceived){var D=this.charReceived,R=this.charBuffer,N=this.encoding;p+=R.slice(0,D).toString(N)}return p};function S(E){return E.toString(this.encoding)}function v(E){this.charReceived=E.length%2,this.charLength=this.charReceived?2:0}function h(E){this.charReceived=E.length%3,this.charLength=this.charReceived?3:0}},function(c,l,f){c.exports=S;var d=f(21),w=f(18);w.inherits=f(12),w.inherits(S,d);function _(h){this.afterTransform=function(E,p){return b(h,E,p)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function b(h,E,p){var D=h._transformState;D.transforming=!1;var R=D.writecb;if(!R)return h.emit("error",new Error("no writecb in Transform class"));D.writechunk=null,D.writecb=null,p!=null&&h.push(p),R(E);var N=h._readableState;N.reading=!1,(N.needReadable||N.length<N.highWaterMark)&&h._read(N.highWaterMark)}function S(h){if(!(this instanceof S))return new S(h);d.call(this,h),this._transformState=new _(this);var E=this;this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(p,D){v(E,p,D)}):v(E)})}S.prototype.push=function(h,E){return this._transformState.needTransform=!1,d.prototype.push.call(this,h,E)},S.prototype._transform=function(h,E,p){throw new Error("_transform() is not implemented")},S.prototype._write=function(h,E,p){var D=this._transformState;if(D.writecb=p,D.writechunk=h,D.writeencoding=E,!D.transforming){var R=this._readableState;(D.needTransform||R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}},S.prototype._read=function(h){var E=this._transformState;E.writechunk!==null&&E.writecb&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0};function v(h,E,p){if(E)return h.emit("error",E);p!=null&&h.push(p);var D=h._writableState,R=h._transformState;if(D.length)throw new Error("Calling transform done when ws.length != 0");if(R.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}},function(c,l,f){c.exports=_;var d=f(25),w=f(18);w.inherits=f(12),w.inherits(_,d);function _(b){if(!(this instanceof _))return new _(b);d.call(this,b)}_.prototype._transform=function(b,S,v){v(null,b)}},function(c,l,f){c.exports=f(22)},function(c,l,f){c.exports=f(21)},function(c,l,f){c.exports=f(25)},function(c,l,f){c.exports=f(26)},function(c,l,f){var d=f(32),w=f(33),_=f(38),b=f(39),S=f(40),v=f(41),h=f(42),E=Object.prototype.toString;function p(N){if(!(this instanceof p))return new p(N);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},N||{});var M=this.options;M.raw&&M.windowBits>=0&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),M.windowBits>=0&&M.windowBits<16&&!(N&&N.windowBits)&&(M.windowBits+=32),M.windowBits>15&&M.windowBits<48&&(M.windowBits&15||(M.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var z=d.inflateInit2(this.strm,M.windowBits);if(z!==b.Z_OK)throw new Error(S[z]);this.header=new h,d.inflateGetHeader(this.strm,this.header)}p.prototype.push=function(N,M){var z=this.strm,J=this.options.chunkSize,V=this.options.dictionary,K,gt,G,ut,mt,Z,st=!1;if(this.ended)return!1;gt=M===~~M?M:M===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof N=="string"?z.input=_.binstring2buf(N):E.call(N)==="[object ArrayBuffer]"?z.input=new Uint8Array(N):z.input=N,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new w.Buf8(J),z.next_out=0,z.avail_out=J),K=d.inflate(z,b.Z_NO_FLUSH),K===b.Z_NEED_DICT&&V&&(typeof V=="string"?Z=_.string2buf(V):E.call(V)==="[object ArrayBuffer]"?Z=new Uint8Array(V):Z=V,K=d.inflateSetDictionary(this.strm,Z)),K===b.Z_BUF_ERROR&&st===!0&&(K=b.Z_OK,st=!1),K!==b.Z_STREAM_END&&K!==b.Z_OK)return this.onEnd(K),this.ended=!0,!1;z.next_out&&(z.avail_out===0||K===b.Z_STREAM_END||z.avail_in===0&&(gt===b.Z_FINISH||gt===b.Z_SYNC_FLUSH))&&(this.options.to==="string"?(G=_.utf8border(z.output,z.next_out),ut=z.next_out-G,mt=_.buf2string(z.output,G),z.next_out=ut,z.avail_out=J-ut,ut&&w.arraySet(z.output,z.output,G,ut,0),this.onData(mt)):this.onData(w.shrinkBuf(z.output,z.next_out))),z.avail_in===0&&z.avail_out===0&&(st=!0)}while((z.avail_in>0||z.avail_out===0)&&K!==b.Z_STREAM_END);return K===b.Z_STREAM_END&&(gt=b.Z_FINISH),gt===b.Z_FINISH?(K=d.inflateEnd(this.strm),this.onEnd(K),this.ended=!0,K===b.Z_OK):(gt===b.Z_SYNC_FLUSH&&(this.onEnd(b.Z_OK),z.avail_out=0),!0)},p.prototype.onData=function(N){this.chunks.push(N)},p.prototype.onEnd=function(N){N===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg};function D(N,M){var z=new p(M);if(z.push(N,!0),z.err)throw z.msg||S[z.err];return z.result}function R(N,M){return M=M||{},M.raw=!0,D(N,M)}l.Inflate=p,l.inflate=D,l.inflateRaw=R,l.ungzip=D},function(c,l,f){var d=f(33),w=f(34),_=f(35),b=f(36),S=f(37),v=0,h=1,E=2,p=4,D=5,R=6,N=0,M=1,z=2,J=-2,V=-3,K=-4,gt=-5,G=8,ut=1,mt=2,Z=3,st=4,ft=5,dt=6,tt=7,Ft=8,_t=9,St=10,xt=11,X=12,q=13,ct=14,kt=15,zt=16,Pt=17,Mt=18,Bt=19,Qt=20,Yt=21,C=22,A=23,at=24,T=25,P=26,W=27,B=28,rt=29,Q=30,vt=31,lt=32,pt=852,k=592,g=15,m=g;function O($){return($>>>24&255)+($>>>8&65280)+(($&65280)<<8)+(($&255)<<24)}function j(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Y($){var bt;return!$||!$.state?J:(bt=$.state,$.total_in=$.total_out=bt.total=0,$.msg="",bt.wrap&&($.adler=bt.wrap&1),bt.mode=ut,bt.last=0,bt.havedict=0,bt.dmax=32768,bt.head=null,bt.hold=0,bt.bits=0,bt.lencode=bt.lendyn=new d.Buf32(pt),bt.distcode=bt.distdyn=new d.Buf32(k),bt.sane=1,bt.back=-1,N)}function et($){var bt;return!$||!$.state?J:(bt=$.state,bt.wsize=0,bt.whave=0,bt.wnext=0,Y($))}function It($,bt){var I,Rt;return!$||!$.state||(Rt=$.state,bt<0?(I=0,bt=-bt):(I=(bt>>4)+1,bt<48&&(bt&=15)),bt&&(bt<8||bt>15))?J:(Rt.window!==null&&Rt.wbits!==bt&&(Rt.window=null),Rt.wrap=I,Rt.wbits=bt,et($))}function Ct($,bt){var I,Rt;return $?(Rt=new j,$.state=Rt,Rt.window=null,I=It($,bt),I!==N&&($.state=null),I):J}function Vt($){return Ct($,m)}var $t=!0,Xt,Te;function En($){if($t){var bt;for(Xt=new d.Buf32(512),Te=new d.Buf32(32),bt=0;bt<144;)$.lens[bt++]=8;for(;bt<256;)$.lens[bt++]=9;for(;bt<280;)$.lens[bt++]=7;for(;bt<288;)$.lens[bt++]=8;for(S(h,$.lens,0,288,Xt,0,$.work,{bits:9}),bt=0;bt<32;)$.lens[bt++]=5;S(E,$.lens,0,32,Te,0,$.work,{bits:5}),$t=!1}$.lencode=Xt,$.lenbits=9,$.distcode=Te,$.distbits=5}function ye($,bt,I,Rt){var ee,Et=$.state;return Et.window===null&&(Et.wsize=1<<Et.wbits,Et.wnext=0,Et.whave=0,Et.window=new d.Buf8(Et.wsize)),Rt>=Et.wsize?(d.arraySet(Et.window,bt,I-Et.wsize,Et.wsize,0),Et.wnext=0,Et.whave=Et.wsize):(ee=Et.wsize-Et.wnext,ee>Rt&&(ee=Rt),d.arraySet(Et.window,bt,I-Rt,ee,Et.wnext),Rt-=ee,Rt?(d.arraySet(Et.window,bt,I-Rt,Rt,0),Et.wnext=Rt,Et.whave=Et.wsize):(Et.wnext+=ee,Et.wnext===Et.wsize&&(Et.wnext=0),Et.whave<Et.wsize&&(Et.whave+=ee))),0}function ke($,bt){var I,Rt,ee,Et,Be,Tt,ve,ot,it,hr,re,Lt,Vn,bn,ce=0,Zt,Fe,Ae,Ie,dr,Xn,fe,ze,xe=new d.Buf8(4),an,tn,li=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return J;I=$.state,I.mode===X&&(I.mode=q),Be=$.next_out,ee=$.output,ve=$.avail_out,Et=$.next_in,Rt=$.input,Tt=$.avail_in,ot=I.hold,it=I.bits,hr=Tt,re=ve,ze=N;t:for(;;)switch(I.mode){case ut:if(I.wrap===0){I.mode=q;break}for(;it<16;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}if(I.wrap&2&&ot===35615){I.check=0,xe[0]=ot&255,xe[1]=ot>>>8&255,I.check=_(I.check,xe,2,0),ot=0,it=0,I.mode=mt;break}if(I.flags=0,I.head&&(I.head.done=!1),!(I.wrap&1)||(((ot&255)<<8)+(ot>>8))%31){$.msg="incorrect header check",I.mode=Q;break}if((ot&15)!==G){$.msg="unknown compression method",I.mode=Q;break}if(ot>>>=4,it-=4,fe=(ot&15)+8,I.wbits===0)I.wbits=fe;else if(fe>I.wbits){$.msg="invalid window size",I.mode=Q;break}I.dmax=1<<fe,$.adler=I.check=1,I.mode=ot&512?St:X,ot=0,it=0;break;case mt:for(;it<16;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}if(I.flags=ot,(I.flags&255)!==G){$.msg="unknown compression method",I.mode=Q;break}if(I.flags&57344){$.msg="unknown header flags set",I.mode=Q;break}I.head&&(I.head.text=ot>>8&1),I.flags&512&&(xe[0]=ot&255,xe[1]=ot>>>8&255,I.check=_(I.check,xe,2,0)),ot=0,it=0,I.mode=Z;case Z:for(;it<32;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}I.head&&(I.head.time=ot),I.flags&512&&(xe[0]=ot&255,xe[1]=ot>>>8&255,xe[2]=ot>>>16&255,xe[3]=ot>>>24&255,I.check=_(I.check,xe,4,0)),ot=0,it=0,I.mode=st;case st:for(;it<16;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}I.head&&(I.head.xflags=ot&255,I.head.os=ot>>8),I.flags&512&&(xe[0]=ot&255,xe[1]=ot>>>8&255,I.check=_(I.check,xe,2,0)),ot=0,it=0,I.mode=ft;case ft:if(I.flags&1024){for(;it<16;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}I.length=ot,I.head&&(I.head.extra_len=ot),I.flags&512&&(xe[0]=ot&255,xe[1]=ot>>>8&255,I.check=_(I.check,xe,2,0)),ot=0,it=0}else I.head&&(I.head.extra=null);I.mode=dt;case dt:if(I.flags&1024&&(Lt=I.length,Lt>Tt&&(Lt=Tt),Lt&&(I.head&&(fe=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),d.arraySet(I.head.extra,Rt,Et,Lt,fe)),I.flags&512&&(I.check=_(I.check,Rt,Lt,Et)),Tt-=Lt,Et+=Lt,I.length-=Lt),I.length))break t;I.length=0,I.mode=tt;case tt:if(I.flags&2048){if(Tt===0)break t;Lt=0;do fe=Rt[Et+Lt++],I.head&&fe&&I.length<65536&&(I.head.name+=String.fromCharCode(fe));while(fe&&Lt<Tt);if(I.flags&512&&(I.check=_(I.check,Rt,Lt,Et)),Tt-=Lt,Et+=Lt,fe)break t}else I.head&&(I.head.name=null);I.length=0,I.mode=Ft;case Ft:if(I.flags&4096){if(Tt===0)break t;Lt=0;do fe=Rt[Et+Lt++],I.head&&fe&&I.length<65536&&(I.head.comment+=String.fromCharCode(fe));while(fe&&Lt<Tt);if(I.flags&512&&(I.check=_(I.check,Rt,Lt,Et)),Tt-=Lt,Et+=Lt,fe)break t}else I.head&&(I.head.comment=null);I.mode=_t;case _t:if(I.flags&512){for(;it<16;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}if(ot!==(I.check&65535)){$.msg="header crc mismatch",I.mode=Q;break}ot=0,it=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),$.adler=I.check=0,I.mode=X;break;case St:for(;it<32;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}$.adler=I.check=O(ot),ot=0,it=0,I.mode=xt;case xt:if(I.havedict===0)return $.next_out=Be,$.avail_out=ve,$.next_in=Et,$.avail_in=Tt,I.hold=ot,I.bits=it,z;$.adler=I.check=1,I.mode=X;case X:if(bt===D||bt===R)break t;case q:if(I.last){ot>>>=it&7,it-=it&7,I.mode=W;break}for(;it<3;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}switch(I.last=ot&1,ot>>>=1,it-=1,ot&3){case 0:I.mode=ct;break;case 1:if(En(I),I.mode=Qt,bt===R){ot>>>=2,it-=2;break t}break;case 2:I.mode=Pt;break;case 3:$.msg="invalid block type",I.mode=Q}ot>>>=2,it-=2;break;case ct:for(ot>>>=it&7,it-=it&7;it<32;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}if((ot&65535)!==(ot>>>16^65535)){$.msg="invalid stored block lengths",I.mode=Q;break}if(I.length=ot&65535,ot=0,it=0,I.mode=kt,bt===R)break t;case kt:I.mode=zt;case zt:if(Lt=I.length,Lt){if(Lt>Tt&&(Lt=Tt),Lt>ve&&(Lt=ve),Lt===0)break t;d.arraySet(ee,Rt,Et,Lt,Be),Tt-=Lt,Et+=Lt,ve-=Lt,Be+=Lt,I.length-=Lt;break}I.mode=X;break;case Pt:for(;it<14;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}if(I.nlen=(ot&31)+257,ot>>>=5,it-=5,I.ndist=(ot&31)+1,ot>>>=5,it-=5,I.ncode=(ot&15)+4,ot>>>=4,it-=4,I.nlen>286||I.ndist>30){$.msg="too many length or distance symbols",I.mode=Q;break}I.have=0,I.mode=Mt;case Mt:for(;I.have<I.ncode;){for(;it<3;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}I.lens[li[I.have++]]=ot&7,ot>>>=3,it-=3}for(;I.have<19;)I.lens[li[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,an={bits:I.lenbits},ze=S(v,I.lens,0,19,I.lencode,0,I.work,an),I.lenbits=an.bits,ze){$.msg="invalid code lengths set",I.mode=Q;break}I.have=0,I.mode=Bt;case Bt:for(;I.have<I.nlen+I.ndist;){for(;ce=I.lencode[ot&(1<<I.lenbits)-1],Zt=ce>>>24,Fe=ce>>>16&255,Ae=ce&65535,!(Zt<=it);){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}if(Ae<16)ot>>>=Zt,it-=Zt,I.lens[I.have++]=Ae;else{if(Ae===16){for(tn=Zt+2;it<tn;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}if(ot>>>=Zt,it-=Zt,I.have===0){$.msg="invalid bit length repeat",I.mode=Q;break}fe=I.lens[I.have-1],Lt=3+(ot&3),ot>>>=2,it-=2}else if(Ae===17){for(tn=Zt+3;it<tn;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}ot>>>=Zt,it-=Zt,fe=0,Lt=3+(ot&7),ot>>>=3,it-=3}else{for(tn=Zt+7;it<tn;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}ot>>>=Zt,it-=Zt,fe=0,Lt=11+(ot&127),ot>>>=7,it-=7}if(I.have+Lt>I.nlen+I.ndist){$.msg="invalid bit length repeat",I.mode=Q;break}for(;Lt--;)I.lens[I.have++]=fe}}if(I.mode===Q)break;if(I.lens[256]===0){$.msg="invalid code -- missing end-of-block",I.mode=Q;break}if(I.lenbits=9,an={bits:I.lenbits},ze=S(h,I.lens,0,I.nlen,I.lencode,0,I.work,an),I.lenbits=an.bits,ze){$.msg="invalid literal/lengths set",I.mode=Q;break}if(I.distbits=6,I.distcode=I.distdyn,an={bits:I.distbits},ze=S(E,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,an),I.distbits=an.bits,ze){$.msg="invalid distances set",I.mode=Q;break}if(I.mode=Qt,bt===R)break t;case Qt:I.mode=Yt;case Yt:if(Tt>=6&&ve>=258){$.next_out=Be,$.avail_out=ve,$.next_in=Et,$.avail_in=Tt,I.hold=ot,I.bits=it,b($,re),Be=$.next_out,ee=$.output,ve=$.avail_out,Et=$.next_in,Rt=$.input,Tt=$.avail_in,ot=I.hold,it=I.bits,I.mode===X&&(I.back=-1);break}for(I.back=0;ce=I.lencode[ot&(1<<I.lenbits)-1],Zt=ce>>>24,Fe=ce>>>16&255,Ae=ce&65535,!(Zt<=it);){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}if(Fe&&!(Fe&240)){for(Ie=Zt,dr=Fe,Xn=Ae;ce=I.lencode[Xn+((ot&(1<<Ie+dr)-1)>>Ie)],Zt=ce>>>24,Fe=ce>>>16&255,Ae=ce&65535,!(Ie+Zt<=it);){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}ot>>>=Ie,it-=Ie,I.back+=Ie}if(ot>>>=Zt,it-=Zt,I.back+=Zt,I.length=Ae,Fe===0){I.mode=P;break}if(Fe&32){I.back=-1,I.mode=X;break}if(Fe&64){$.msg="invalid literal/length code",I.mode=Q;break}I.extra=Fe&15,I.mode=C;case C:if(I.extra){for(tn=I.extra;it<tn;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}I.length+=ot&(1<<I.extra)-1,ot>>>=I.extra,it-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=A;case A:for(;ce=I.distcode[ot&(1<<I.distbits)-1],Zt=ce>>>24,Fe=ce>>>16&255,Ae=ce&65535,!(Zt<=it);){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}if(!(Fe&240)){for(Ie=Zt,dr=Fe,Xn=Ae;ce=I.distcode[Xn+((ot&(1<<Ie+dr)-1)>>Ie)],Zt=ce>>>24,Fe=ce>>>16&255,Ae=ce&65535,!(Ie+Zt<=it);){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}ot>>>=Ie,it-=Ie,I.back+=Ie}if(ot>>>=Zt,it-=Zt,I.back+=Zt,Fe&64){$.msg="invalid distance code",I.mode=Q;break}I.offset=Ae,I.extra=Fe&15,I.mode=at;case at:if(I.extra){for(tn=I.extra;it<tn;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}I.offset+=ot&(1<<I.extra)-1,ot>>>=I.extra,it-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){$.msg="invalid distance too far back",I.mode=Q;break}I.mode=T;case T:if(ve===0)break t;if(Lt=re-ve,I.offset>Lt){if(Lt=I.offset-Lt,Lt>I.whave&&I.sane){$.msg="invalid distance too far back",I.mode=Q;break}Lt>I.wnext?(Lt-=I.wnext,Vn=I.wsize-Lt):Vn=I.wnext-Lt,Lt>I.length&&(Lt=I.length),bn=I.window}else bn=ee,Vn=Be-I.offset,Lt=I.length;Lt>ve&&(Lt=ve),ve-=Lt,I.length-=Lt;do ee[Be++]=bn[Vn++];while(--Lt);I.length===0&&(I.mode=Yt);break;case P:if(ve===0)break t;ee[Be++]=I.length,ve--,I.mode=Yt;break;case W:if(I.wrap){for(;it<32;){if(Tt===0)break t;Tt--,ot|=Rt[Et++]<<it,it+=8}if(re-=ve,$.total_out+=re,I.total+=re,re&&($.adler=I.check=I.flags?_(I.check,ee,re,Be-re):w(I.check,ee,re,Be-re)),re=ve,(I.flags?ot:O(ot))!==I.check){$.msg="incorrect data check",I.mode=Q;break}ot=0,it=0}I.mode=B;case B:if(I.wrap&&I.flags){for(;it<32;){if(Tt===0)break t;Tt--,ot+=Rt[Et++]<<it,it+=8}if(ot!==(I.total&4294967295)){$.msg="incorrect length check",I.mode=Q;break}ot=0,it=0}I.mode=rt;case rt:ze=M;break t;case Q:ze=V;break t;case vt:return K;case lt:default:return J}return $.next_out=Be,$.avail_out=ve,$.next_in=Et,$.avail_in=Tt,I.hold=ot,I.bits=it,(I.wsize||re!==$.avail_out&&I.mode<Q&&(I.mode<W||bt!==p))&&ye($,$.output,$.next_out,re-$.avail_out),hr-=$.avail_in,re-=$.avail_out,$.total_in+=hr,$.total_out+=re,I.total+=re,I.wrap&&re&&($.adler=I.check=I.flags?_(I.check,ee,re,$.next_out-re):w(I.check,ee,re,$.next_out-re)),$.data_type=I.bits+(I.last?64:0)+(I.mode===X?128:0)+(I.mode===Qt||I.mode===kt?256:0),(hr===0&&re===0||bt===p)&&ze===N&&(ze=gt),ze}function fr($){if(!$||!$.state)return J;var bt=$.state;return bt.window&&(bt.window=null),$.state=null,N}function ho($,bt){var I;return!$||!$.state||(I=$.state,!(I.wrap&2))?J:(I.head=bt,bt.done=!1,N)}function po($,bt){var I=bt.length,Rt,ee,Et;return!$||!$.state||(Rt=$.state,Rt.wrap!==0&&Rt.mode!==xt)?J:Rt.mode===xt&&(ee=1,ee=w(ee,bt,I,0),ee!==Rt.check)?V:(Et=ye($,bt,I,I),Et?(Rt.mode=vt,K):(Rt.havedict=1,N))}l.inflateReset=et,l.inflateReset2=It,l.inflateResetKeep=Y,l.inflateInit=Vt,l.inflateInit2=Ct,l.inflate=ke,l.inflateEnd=fr,l.inflateGetHeader=ho,l.inflateSetDictionary=po,l.inflateInfo="pako inflate (from Nodeca project)"},function(c,l){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(_){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var S=b.shift();if(S){if(typeof S!="object")throw new TypeError(S+"must be non-object");for(var v in S)S.hasOwnProperty(v)&&(_[v]=S[v])}}return _},l.shrinkBuf=function(_,b){return _.length===b?_:_.subarray?_.subarray(0,b):(_.length=b,_)};var d={arraySet:function(_,b,S,v,h){if(b.subarray&&_.subarray){_.set(b.subarray(S,S+v),h);return}for(var E=0;E<v;E++)_[h+E]=b[S+E]},flattenChunks:function(_){var b,S,v,h,E,p;for(v=0,b=0,S=_.length;b<S;b++)v+=_[b].length;for(p=new Uint8Array(v),h=0,b=0,S=_.length;b<S;b++)E=_[b],p.set(E,h),h+=E.length;return p}},w={arraySet:function(_,b,S,v,h){for(var E=0;E<v;E++)_[h+E]=b[S+E]},flattenChunks:function(_){return[].concat.apply([],_)}};l.setTyped=function(_){_?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,d)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,w))},l.setTyped(f)},function(c,l){function f(d,w,_,b){for(var S=d&65535|0,v=d>>>16&65535|0,h=0;_!==0;){h=_>2e3?2e3:_,_-=h;do S=S+w[b++]|0,v=v+S|0;while(--h);S%=65521,v%=65521}return S|v<<16|0}c.exports=f},function(c,l){function f(){for(var _,b=[],S=0;S<256;S++){_=S;for(var v=0;v<8;v++)_=_&1?3988292384^_>>>1:_>>>1;b[S]=_}return b}var d=f();function w(_,b,S,v){var h=d,E=v+S;_^=-1;for(var p=v;p<E;p++)_=_>>>8^h[(_^b[p])&255];return _^-1}c.exports=w},function(c,l){var f=30,d=12;c.exports=function(_,b){var S,v,h,E,p,D,R,N,M,z,J,V,K,gt,G,ut,mt,Z,st,ft,dt,tt,Ft,_t,St;S=_.state,v=_.next_in,_t=_.input,h=v+(_.avail_in-5),E=_.next_out,St=_.output,p=E-(b-_.avail_out),D=E+(_.avail_out-257),R=S.dmax,N=S.wsize,M=S.whave,z=S.wnext,J=S.window,V=S.hold,K=S.bits,gt=S.lencode,G=S.distcode,ut=(1<<S.lenbits)-1,mt=(1<<S.distbits)-1;t:do{K<15&&(V+=_t[v++]<<K,K+=8,V+=_t[v++]<<K,K+=8),Z=gt[V&ut];e:for(;;){if(st=Z>>>24,V>>>=st,K-=st,st=Z>>>16&255,st===0)St[E++]=Z&65535;else if(st&16){ft=Z&65535,st&=15,st&&(K<st&&(V+=_t[v++]<<K,K+=8),ft+=V&(1<<st)-1,V>>>=st,K-=st),K<15&&(V+=_t[v++]<<K,K+=8,V+=_t[v++]<<K,K+=8),Z=G[V&mt];n:for(;;){if(st=Z>>>24,V>>>=st,K-=st,st=Z>>>16&255,st&16){if(dt=Z&65535,st&=15,K<st&&(V+=_t[v++]<<K,K+=8,K<st&&(V+=_t[v++]<<K,K+=8)),dt+=V&(1<<st)-1,dt>R){_.msg="invalid distance too far back",S.mode=f;break t}if(V>>>=st,K-=st,st=E-p,dt>st){if(st=dt-st,st>M&&S.sane){_.msg="invalid distance too far back",S.mode=f;break t}if(tt=0,Ft=J,z===0){if(tt+=N-st,st<ft){ft-=st;do St[E++]=J[tt++];while(--st);tt=E-dt,Ft=St}}else if(z<st){if(tt+=N+z-st,st-=z,st<ft){ft-=st;do St[E++]=J[tt++];while(--st);if(tt=0,z<ft){st=z,ft-=st;do St[E++]=J[tt++];while(--st);tt=E-dt,Ft=St}}}else if(tt+=z-st,st<ft){ft-=st;do St[E++]=J[tt++];while(--st);tt=E-dt,Ft=St}for(;ft>2;)St[E++]=Ft[tt++],St[E++]=Ft[tt++],St[E++]=Ft[tt++],ft-=3;ft&&(St[E++]=Ft[tt++],ft>1&&(St[E++]=Ft[tt++]))}else{tt=E-dt;do St[E++]=St[tt++],St[E++]=St[tt++],St[E++]=St[tt++],ft-=3;while(ft>2);ft&&(St[E++]=St[tt++],ft>1&&(St[E++]=St[tt++]))}}else if(st&64){_.msg="invalid distance code",S.mode=f;break t}else{Z=G[(Z&65535)+(V&(1<<st)-1)];continue n}break}}else if(st&64)if(st&32){S.mode=d;break t}else{_.msg="invalid literal/length code",S.mode=f;break t}else{Z=gt[(Z&65535)+(V&(1<<st)-1)];continue e}break}}while(v<h&&E<D);ft=K>>3,v-=ft,K-=ft<<3,V&=(1<<K)-1,_.next_in=v,_.next_out=E,_.avail_in=v<h?5+(h-v):5-(v-h),_.avail_out=E<D?257+(D-E):257-(E-D),S.hold=V,S.bits=K}},function(c,l,f){var d=f(33),w=15,_=852,b=592,S=0,v=1,h=2,E=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],D=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],R=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(M,z,J,V,K,gt,G,ut){var mt=ut.bits,Z=0,st=0,ft=0,dt=0,tt=0,Ft=0,_t=0,St=0,xt=0,X=0,q,ct,kt,zt,Pt,Mt=null,Bt=0,Qt,Yt=new d.Buf16(w+1),C=new d.Buf16(w+1),A=null,at=0,T,P,W;for(Z=0;Z<=w;Z++)Yt[Z]=0;for(st=0;st<V;st++)Yt[z[J+st]]++;for(tt=mt,dt=w;dt>=1&&Yt[dt]===0;dt--);if(tt>dt&&(tt=dt),dt===0)return K[gt++]=1<<24|64<<16|0,K[gt++]=1<<24|64<<16|0,ut.bits=1,0;for(ft=1;ft<dt&&Yt[ft]===0;ft++);for(tt<ft&&(tt=ft),St=1,Z=1;Z<=w;Z++)if(St<<=1,St-=Yt[Z],St<0)return-1;if(St>0&&(M===S||dt!==1))return-1;for(C[1]=0,Z=1;Z<w;Z++)C[Z+1]=C[Z]+Yt[Z];for(st=0;st<V;st++)z[J+st]!==0&&(G[C[z[J+st]]++]=st);if(M===S?(Mt=A=G,Qt=19):M===v?(Mt=E,Bt-=257,A=p,at-=257,Qt=256):(Mt=D,A=R,Qt=-1),X=0,st=0,Z=ft,Pt=gt,Ft=tt,_t=0,kt=-1,xt=1<<tt,zt=xt-1,M===v&&xt>_||M===h&&xt>b)return 1;for(;;){T=Z-_t,G[st]<Qt?(P=0,W=G[st]):G[st]>Qt?(P=A[at+G[st]],W=Mt[Bt+G[st]]):(P=32+64,W=0),q=1<<Z-_t,ct=1<<Ft,ft=ct;do ct-=q,K[Pt+(X>>_t)+ct]=T<<24|P<<16|W|0;while(ct!==0);for(q=1<<Z-1;X&q;)q>>=1;if(q!==0?(X&=q-1,X+=q):X=0,st++,--Yt[Z]===0){if(Z===dt)break;Z=z[J+G[st]]}if(Z>tt&&(X&zt)!==kt){for(_t===0&&(_t=tt),Pt+=ft,Ft=Z-_t,St=1<<Ft;Ft+_t<dt&&(St-=Yt[Ft+_t],!(St<=0));)Ft++,St<<=1;if(xt+=1<<Ft,M===v&&xt>_||M===h&&xt>b)return 1;kt=X&zt,K[kt]=tt<<24|Ft<<16|Pt-gt|0}}return X!==0&&(K[Pt+X]=Z-_t<<24|64<<16|0),ut.bits=tt,0}},function(c,l,f){var d=f(33),w=!0,_=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_=!1}for(var b=new d.Buf8(256),S=0;S<256;S++)b[S]=S>=252?6:S>=248?5:S>=240?4:S>=224?3:S>=192?2:1;b[254]=b[254]=1,l.string2buf=function(h){var E,p,D,R,N,M=h.length,z=0;for(R=0;R<M;R++)p=h.charCodeAt(R),(p&64512)===55296&&R+1<M&&(D=h.charCodeAt(R+1),(D&64512)===56320&&(p=65536+(p-55296<<10)+(D-56320),R++)),z+=p<128?1:p<2048?2:p<65536?3:4;for(E=new d.Buf8(z),N=0,R=0;N<z;R++)p=h.charCodeAt(R),(p&64512)===55296&&R+1<M&&(D=h.charCodeAt(R+1),(D&64512)===56320&&(p=65536+(p-55296<<10)+(D-56320),R++)),p<128?E[N++]=p:p<2048?(E[N++]=192|p>>>6,E[N++]=128|p&63):p<65536?(E[N++]=224|p>>>12,E[N++]=128|p>>>6&63,E[N++]=128|p&63):(E[N++]=240|p>>>18,E[N++]=128|p>>>12&63,E[N++]=128|p>>>6&63,E[N++]=128|p&63);return E};function v(h,E){if(E<65537&&(h.subarray&&_||!h.subarray&&w))return String.fromCharCode.apply(null,d.shrinkBuf(h,E));for(var p="",D=0;D<E;D++)p+=String.fromCharCode(h[D]);return p}l.buf2binstring=function(h){return v(h,h.length)},l.binstring2buf=function(h){for(var E=new d.Buf8(h.length),p=0,D=E.length;p<D;p++)E[p]=h.charCodeAt(p);return E},l.buf2string=function(h,E){var p,D,R,N,M=E||h.length,z=new Array(M*2);for(D=0,p=0;p<M;){if(R=h[p++],R<128){z[D++]=R;continue}if(N=b[R],N>4){z[D++]=65533,p+=N-1;continue}for(R&=N===2?31:N===3?15:7;N>1&&p<M;)R=R<<6|h[p++]&63,N--;if(N>1){z[D++]=65533;continue}R<65536?z[D++]=R:(R-=65536,z[D++]=55296|R>>10&1023,z[D++]=56320|R&1023)}return v(z,D)},l.utf8border=function(h,E){var p;for(E=E||h.length,E>h.length&&(E=h.length),p=E-1;p>=0&&(h[p]&192)===128;)p--;return p<0||p===0?E:p+b[h[p]]>E?p:E}},function(c,l){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(c,l){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(c,l){function f(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}c.exports=f},function(c,l){function f(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}c.exports=f}])})})(Zd);class cu{constructor(){Ne(this,"_fs");Ne(this,"_cwd","/");const s=Ce();this._fs=s==null?void 0:s.appContext.config.globalProperties.$fs}setFs(s){this._fs=s}init(){let s=["/bin","/boot","/dev","/lib","/lib32","/lib64","/proc","/sbin","/run","/usr","/sys","/etc","/opt","/home","/root","/var","/var/log","/tmp"];for(let c=0;c<s.length;c++){const l=s[c];this._fs.existsSync(l)||this._fs.mkdirSync(l)}}joinPath(...s){const[c,l,f]=[0,s.length-1,"/"],d=new RegExp("^"+f),w=new RegExp(f+"$");return s=s.map(function(_,b){return b===c&&_==="file://"||(b>c&&(_=_.replace(d,"")),b<l&&(_=_.replace(w,""))),_}),s.join(f)}getClient(){return this._fs}getCurrentDirectory(){return this._cwd}isDir(s){return s.startsWith("/")||(s=this.joinPath(this._cwd,s)),this._fs.existsSync(s)&&this._fs.lstatSync(s).isDirectory()===!0}emptyPath(s){return s==null&&(s=this._cwd),s}list(s){return this._fs.readdirSync(s)}cd(s){if(s===".."&&this._cwd!=="/"){let c=this._cwd.split("/");c.pop(),this._cwd=c.join("/"),this._cwd===""&&(this._cwd="/");return}else if(s===".."&&this._cwd==="/")return;if(s.startsWith("/")||(s=this.joinPath(this._cwd,s)),this.isDir(s))this._cwd=s,this._cwd.startsWith("/")||(this._cwd="/"+this._cwd);else throw new Error("directory does not exist: "+this.joinPath(this._cwd,s))}mkdir(s,c){s.startsWith("/")||(s=this.joinPath(this._cwd,s)),this._fs.mkdirSync(s)}rm(s){if(!s.startsWith("/")&&!s.startsWith("./")?s=this.joinPath(this._cwd,s):s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),this.isDir(s))this._fs.rmdirSync(s);else if(this._fs.existsSync(s))this._fs.unlinkSync(s);else throw new Error("no file or directory found: "+s)}writeFile(s,c){s.startsWith("/")||(s=this.joinPath(this._cwd,s)),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),console.log("write data: ",c),this._fs.writeFileSync(s,c)}exists(s){return s.startsWith("/")||this.joinPath(this._cwd,s),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),this._fs.existsSync(s)}read(s){return s.startsWith("/")||(s=this.joinPath(this._cwd,s)),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),this._fs.readFileSync(s).toString()}}const lr=co("settings",()=>{const r=wt({wallpaperUrl:"https://i.imgur.com/HDcIZPC.jpg",wallpaperSelection:["https://i.imgur.com/HDcIZPC.jpg","https://i.imgur.com/8yn4TO9.jpg","https://i.imgur.com/vCJcTtY.jpg","https://i.imgur.com/DlVPevy.jpg","https://i.imgur.com/zwbJWzN.jpg","https://i.imgur.com/Mw6VoCx.jpg","https://i.imgur.com/yqRhpS4.png"],programs:[{id:"terminal",name:"Terminal",program:"terminal",installed:!0,showOnDesktop:!0},{id:"firefox",name:"Firefox",program:"firefox",installed:!1,showOnDesktop:!0},{id:"python",name:"Python",program:"python",installed:!1,showOnDesktop:!1},{id:"xsscan",name:"XsScan",program:"xsscan",installed:!1,showOnDesktop:!1},{id:"aes-msg",name:"AES Messaging",program:"aes-msg",installed:!1,showOnDesktop:!0}]});function s(_){r.value=_}function c(){return r.value.programs.filter(_=>_.installed===!0&&_.showOnDesktop===!0)}function l(_){return r.value.programs.filter(S=>S.id===_).length>0}function f(_){return r.value.programs.filter(S=>S.id===_&&S.installed===!0).length>0}function d(_){for(let b=0;b<r.value.programs.length;b++){const S=r.value.programs[b];_===S.id&&(r.value.programs[b].installed=!0)}}async function w(){const _={method:"POST",body:JSON.stringify(r.value),headers:{"Content-Type":"application/json"}},b=await fetch("https://qb-laptop/SaveSettings",_);console.log("save response: ",b)}return{settings:r,setSettings:s,getInstalledPrograms:c,isInstallable:l,alreadyInstalled:f,installProgram:d,save:w}}),je=r=>(Dn("data-v-97917d5d"),r=r(),Nn(),r),Kd={id:"toolbar"},qd=je(()=>L("div",{class:"linuxmenu item explorer"},[L("img",{src:"https://i.imgur.com/hHTNHTV.png"})],-1)),Jd=[qd],Gd=je(()=>L("div",{class:"dividor"},null,-1)),Qd=je(()=>L("div",{class:"item"},[L("img",{src:"https://i.imgur.com/T8dFIIZ.png","data-action":"explorer"})],-1)),$d=[Qd],tp=je(()=>L("div",{class:"item"},[L("img",{src:"https://i.imgur.com/3hn6fsJ.png","data-action":"terminal"})],-1)),ep=[tp],np=je(()=>L("div",{class:"dividor"},null,-1)),rp={id:"openWindows"},ip=["onClick"],op=je(()=>L("img",{src:"https://i.imgur.com/3hn6fsJ.png",class:"item-logo"},null,-1)),sp=je(()=>L("span",{class:"item-label"},"Terminal",-1)),ap=[op,sp],cp=je(()=>L("img",{src:"https://i.imgur.com/T8dFIIZ.png",class:"item-logo"},null,-1)),up=je(()=>L("span",{class:"item-label"},"Explorer",-1)),lp=[cp,up],fp=je(()=>L("img",{src:"https://i.imgur.com/CwYZABb.png",class:"item-logo"},null,-1)),hp=je(()=>L("span",{class:"item-label"},"Firefox",-1)),dp=[fp,hp],pp=je(()=>L("img",{src:"https://i.imgur.com/govaedU.png",class:"item-logo"},null,-1)),yp=je(()=>L("span",{class:"item-label"},"AES Messaging",-1)),vp=[pp,yp],gp=je(()=>L("img",{src:"https://i.imgur.com/66vqfGw.png",class:"item-logo"},null,-1)),mp=je(()=>L("span",{class:"item-label"},"Paramètres",-1)),_p=[gp,mp],wp=Ue({__name:"Toolbar",setup(r){const s=Ce(),c=s==null?void 0:s.appContext.config.globalProperties.$emitter,l=lr(),f=Lr({}),d=wt(),w=wt(!1);function _(){w.value=!w.value}function b(D){w.value=!1;let R=D.target.getAttribute("data-action");R!=null&&c.emit("desktop/openwindow",R)}function S(D){w.value=!1,d.value=D}function v(D){f[D.id]=D,d.value=D.id}function h(D){delete f[D]}function E(){c.on("window/focus",S),c.on("toolbar/openwindow",v),c.on("toolbar/closewindow",h)}function p(D){w.value=!1,c.emit("window/focus",D)}return on(()=>{E()}),(D,R)=>(Ot(),Dt(pe,null,[L("div",Kd,[L("div",{class:"toolbar-item",onClick:_,"data-action":"linuxmenu"},Jd),Gd,L("div",{class:"toolbar-item",onClick:b,"data-action":"explorer"},$d),L("div",{class:"toolbar-item",onClick:b,"data-action":"terminal"},ep),np,L("div",rp,[(Ot(!0),Dt(pe,null,$e(f,N=>(Ot(),Dt("div",{onClick:M=>p(N.id),key:N.id,class:Oe(["toolbar-window-tab",{active:N.id==d.value}])},te(N.type),11,ip))),128))])]),L("div",{class:Oe(["linuxmenu",{active:w.value}]),id:"linuxmenu"},[L("div",{class:"linuxmenu-item",onClick:b,"data-action":"terminal"},ap),L("div",{class:"linuxmenu-item",onClick:b,"data-action":"explorer"},lp),L("div",{class:"linuxmenu-item",onClick:b,"data-action":"firefox"},dp),ne(l).alreadyInstalled("aes-msg")?(Ot(),Dt("div",{key:0,class:"linuxmenu-item",onClick:b,"data-action":"aes-msg"},vp)):Gt("",!0),L("div",{class:"linuxmenu-item",onClick:b,"data-action":"settings"},_p)],2)],64))}});const sn=(r,s)=>{const c=r.__vccOpts||r;for(const[l,f]of s)c[l]=f;return c},Sp=sn(wp,[["__scopeId","data-v-97917d5d"]]),uo=co("state",()=>{const r=wt({turnedOn:!1,open:!1,user:null});function s(c){r.value=c}return{state:r,setState:s}});class oc{static random(s,c){return Math.floor(s+Math.random()*(c-s+1))}}const br=class{constructor(){Ne(this,"_outputcallback");Ne(this,"_settingsStore");this._settingsStore=lr()}setOutputCallback(s){this._outputcallback=s}handleCommand(s,c){let l=s.split(" ");l[1];let f=l[2];if(c!=="sudo"){this.noSudo();return}if(f==="update")(async()=>{for(let d=0;d<br.APT_UPDATE.length;d++){const w=br.APT_UPDATE[d];this._outputcallback(w),await new Promise(_=>setTimeout(_,oc.random(50,100)))}})();else if(f==="install"){let d=l[3];if(d==null||d==""){this._outputcallback(`apt install requires a 3rd parameter
example: apt install firefox`);return}if(!this._settingsStore.isInstallable(d)){this._outputcallback(`Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
E: Unable to locate package ${d}`);return}if(this._settingsStore.alreadyInstalled(d)){this._outputcallback(`Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
${d} is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.`);return}(async()=>{for(let w=0;w<br.APT_INSTALL.length;w++){let _=br.APT_INSTALL[w];_=_.replace(/{{program}}/gi,d),this._outputcallback(_),await new Promise(b=>setTimeout(b,oc.random(10,50)))}this._settingsStore.installProgram(d)})()}}noSudo(){this._outputcallback(`Reading package lists... Done
E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)
E: Unable to lock directory /var/lib/apt/lists/`)}};let Zr=br;Ne(Zr,"APT_UPDATE",["Get:1 http://archive-4.kali.org/kali kali-rolling InRelease [30.6 kB]","Get:2 http://archive-4.kali.org/kali kali-rolling/non-free amd64 Packages [222 kB]","Get:3 http://archive-4.kali.org/kali kali-rolling/main amd64 Packages [19.5 MB]","Get:4 http://archive-4.kali.org/kali kali-rolling/contrib amd64 Packages [116 kB]","Fetched 19.8 MB in 2s (8031 kB/s)","Reading package lists... Done","Building dependency tree... Done","Reading state information... Done","2 packages can be upgraded. Run 'apt list --upgradable' to see them."]),Ne(Zr,"APT_INSTALL",["Get:1 http://archive-4.kali.org/kali kali-rolling/main amd64 libncursesw6 amd64 6.4-2 [134 kB]","Get:2 http://archive-4.kali.org/kali kali-rolling/main amd64 {{program}} amd64 [689 kB]","Get:3 http://http.kali.org/kali kali-rolling/main amd64 libgpm2 amd64 1.20.7-10+b1 [14.2 kB]","Fetched 837 kB in 1s (1304 kB/s)","Selecting previously unselected package libncursesw6:amd64.","(Reading database ... 6125 files and directories currently installed.)","Preparing to unpack .../libncursesw6_6.4-2_amd64.deb ...","Unpacking libncursesw6:amd64 (6.4-2) ...","Selecting previously unselected package {{program}}.","Preparing to unpack .../archives/{{program}}_amd64.deb ...","Unpacking {{program}} ...","Selecting previously unselected package libgpm2:amd64.","Preparing to unpack .../libgpm2_1.20.7-10+b1_amd64.deb ...","Unpacking libgpm2:amd64 (1.20.7-10+b1) ...","Setting up libgpm2:amd64 (1.20.7-10+b1) ...","Setting up libncursesw6:amd64 (6.4-2) ...","Setting up {{program}} ...","update-alternatives: using /bin/{{program}} to provide /usr/bin/editor (editor) in auto mode","update-alternatives: using /bin/{{program}} to provide /usr/bin/pico (pico) in auto mode","Processing triggers for libc-bin (2.36-8) ..."]);class Ep{constructor(s){Ne(this,"_outputCallback");Ne(this,"_settingsStore");Ne(this,"_fs");this._fs=s,this._settingsStore=lr(),this._init()}setOutputCallback(s){this._outputCallback=s}handleCommand(s,c){if(!this._settingsStore.alreadyInstalled("python")){this._outputCallback("Python is not installed on your system.\nRun `sudo apt install python` if you want to install it.");return}let l=s.split(" ");l[0];let f=l[1];if(f==null||f==""){this._outputCallback("Error: no execute file provided.");return}if(!this._fs.exists(f)){this._outputCallback(`file "${f}" not found.`);return}let d=this._fs.read(f);this._runPy(d)}_output(s){console.log("oout: ",this._outputCallback),this._outputCallback(s)}_init(){function s(c){if(Sk.builtinFiles===void 0||Sk.builtinFiles.files[c]===void 0)throw"File not found: '"+c+"'";return Sk.builtinFiles.files[c]}Sk.configure({output:c=>this._outputCallback(c,!1,!1),read:s})}async _runPy(s){try{await Sk.misceval.asyncToPromise(()=>Sk.importMainWithBody("<stdin>",!1,s))}catch(c){this._outputCallback(`Error: ${c}`)}}}const ps=class{constructor(){Ne(this,"_fs");Ne(this,"_apt");Ne(this,"_python");Ne(this,"_history");Ne(this,"_outputcallback");this._fs=new cu,this._apt=new Zr,this._python=new Ep(this._fs),this._history=[],this._outputcallback=null}setFs(s){this._fs.setFs(s)}setOutputCallback(s){this._outputcallback=s,this._apt.setOutputCallback(s),this._python.setOutputCallback(s)}execute(s){return this.handleCommand(s)}_updateHistory(s){this._history.includes(s)||this._history.push(s),this._history.length>20&&this._history.shift()}getLastCommand(){return this._history[this._history.length-1]}async handleCommand(s){let c=s.split(" ");c=c.map(f=>f.trim()),s=c.join(" ");let l=c[0];if(l==null||l==""){this._outputcallback(" ");return}if(this._updateHistory(s),l==="ls"){let d=new RegExp(ps.REGEX.ls).exec(s.trim());if(d!=null){let w=this.list(d[3]);this._outputcallback(w);return}}else if(l==="cd"){let d=s.trim().split(" ")[1],w=this.cd(d);w!=null&&this._outputcallback(w);return}else if(l==="whereami"){this._outputcallback(this._fs.getCurrentDirectory());return}else if(l==="mkdir"){let f=c[1];if(f==null||f===""){this._outputcallback(`invalid command: need to provide directory.
Example: mkdir /tmp/newFolder`);return}let d=this.mkdir(f,null);d!=null&&this._outputcallback(d);return}else if(l==="rm"){let f=s.trim().split(" "),d;if(f.length==2?d=f[1]:d=f[2],d==null||d==""){this._outputcallback("rm: missing operand");return}let w=this.rm(d);w!=null&&this._outputcallback(w);return}else if(l==="cat"){let d=s.trim().split(" ")[1];if(d==null){this._outputcallback("command incorrect, path argument required.");return}let w=this.read(d);this._outputcallback(w);return}else if(c.includes("apt")){this._apt.handleCommand(s,l);return}else if(l==="python"||l==="python3"){this._python.handleCommand(s,l);return}this._outputcallback(`command not found: ${l}`)}whereami(){return this._fs.getCurrentDirectory()}list(s){if(s=this._fs.emptyPath(s),s!=null&&!this._fs.isDir(s))return"directory does not exist: "+s;let c=this._fs.list(s),l="";return c.length>0&&(l=c.join("<br>")),l}cd(s){if(s==null&&(s="/"),!this._fs.isDir(s))return"directory does not exist: "+this._fs.joinPath(this._fs.getCurrentDirectory(),s);try{this._fs.cd(s)}catch(c){return c.toString()}}mkdir(s,c){if(s=s.trim(),!(s=="/"||s=="")){if(this._fs.isDir(s))return"mkdir: cannot create directory ‘"+s+"’: File exists";this._fs.mkdir(s,c)}}rm(s){if(s=s.trim(),!(s=="/"||s==""))try{this._fs.rm(s);return}catch(c){return c.toString()}}cat(s){return this.exists(s)&&!this._fs.isDir(s)?this.read(s):"file not found: "+s}writeFile(s,c){this._fs.writeFile(s,c)}exists(s){return this._fs.exists(s)}read(s){return this._fs.read(s)}explorer(){let s=[],c=this._fs.getCurrentDirectory(),l=this._fs.list(c);for(let f=0;f<l.length;f++){const d=l[f];let w={filename:d,path:c,fullPath:this._fs.joinPath(c,d),type:"dir"};this.exists(w.fullPath)&&(this._fs.isDir(w.fullPath)||(w.type="file"),s.push(w))}return s}};let Qr=ps;Ne(Qr,"REGEX",{ls:/^(\w+)\s*(-\w+)*\s*(\/?(\w+(\/\w+)*\/?)|\/|(\w+(\.\w+)?)?)?$/gi,mkdir:/^(mkdir)\s+(-p\s+)?([\.\/a-z1-9]+)/gi});const uu=r=>(Dn("data-v-883ba006"),r=r(),Nn(),r),bp=uu(()=>L("div",{class:"logo"},[L("img",{src:"https://i.imgur.com/3hn6fsJ.png",class:"window-logo"})],-1)),xp=uu(()=>L("div",{class:"window-action window-action-minimize"},null,-1)),kp={key:0,class:"content"},Fp=["innerHTML"],Ip={class:"prompt-zone"},Op={class:"prompt-user"},Tp=["onKeydown"],Rp={key:1,class:"content"},Dp={class:"prompt-zone"},Np=["onKeydown"],Lp={key:0,class:"nano-message"},Cp=Ue({__name:"TerminalWindow",props:["id","focus"],setup(r){const s=r,c=new Qr,l=wt(s.focus),f=wt("bash"),d=wt(),w=wt({x:0,y:0,movementX:0,movementY:0}),_=wt("root@kali"),b=wt("/"),S=wt(""),v=wt(""),h=wt(),E=wt(),p=wt(""),D=wt(""),R=wt(""),N=uo(),M=Ce(),z=M==null?void 0:M.appContext.config.globalProperties.$emitter;on(()=>{N.state.user!=null&&(_.value=N.state.user+"@kali$",V(),z.emit("window/focus",s.id)),c.setFs(M==null?void 0:M.appContext.config.globalProperties.$fs),c.setOutputCallback(G),b.value=c.whereami()});function J(xt){xt===s.id?l.value=!0:l.value=!1}function V(){z.on("window/focus",J)}function K(){z.emit("desktop/closeWindow",s.id)}function gt(xt){xt.preventDefault();let X=c.getLastCommand();X!=null&&(v.value=X)}function G(xt,X=!1,q=!0){X&&(S.value=""),S.value+=xt,q&&(S.value+=`
`),setTimeout(()=>{let ct=document.querySelector(".content");ct.scrollTop=ct.scrollHeight-ct.clientHeight},20)}async function ut(xt){if(xt.preventDefault(),v.value=v.value.trim(),v.value==="exit"){K();return}if(["clear","cls"].includes(v.value)){S.value="",v.value="";return}if(S.value+=`<span style="color: rgb(78, 122, 255);">${_.value}:${b.value}</span> ${v.value}`,v.value!=""&&(S.value+="<br>"),v.value.includes("nano ")){mt();return}await c.execute(v.value),v.value="",b.value=c.whereami()}function mt(){let X=v.value.split(" ")[1].trim();D.value=X;try{c.exists(X)||c.writeFile(X,""),c.exists(X)&&(p.value=c.read(X))}catch(q){S.value+=q.toString()+" <br>";return}v.value="",b.value=c.whereami(),f.value="nano",setTimeout(St,200),setTimeout(st,100)}function Z(){h.value!=null&&h.value.focus(),l.value||z.emit("window/focus",s.id)}function st(){f.value==="nano"&&E.value.focus()}function ft(xt){xt.preventDefault(),w.value.movementX=w.value.x-xt.clientX,w.value.movementY=w.value.y-xt.clientY,w.value.x=xt.clientX,w.value.y=xt.clientY,d.value.style.top=d.value.offsetTop-w.value.movementY+"px",d.value.style.left=d.value.offsetLeft-w.value.movementX+"px"}function dt(){document.onmouseup=null,document.onmousemove=null}function tt(xt){w.value.x=xt.clientX,w.value.y=xt.clientY,document.onmousemove=ft,document.onmouseup=dt}function Ft(xt){xt.preventDefault(),c.writeFile(D.value,p.value)}function _t(){D.value="",p.value="",f.value="bash",setTimeout(Z,100)}function St(){var q;let xt=document.querySelector(".prompt.nano"),X=(q=document.querySelector(".content"))==null?void 0:q.clientHeight;X&&(xt.style.height=X+"px")}return(xt,X)=>(Ot(),Dt("div",{ref_key:"containerElem",ref:d,class:Oe(["window terminal-window resizable",{"window-focused":l.value}]),onClick:Z},[L("div",{class:"window-header",onMousedown:tt},[bp,L("div",{class:"header-action-buttons"},[xp,L("div",{class:"window-action window-action-close",onClick:K})])],32),f.value=="bash"?(Ot(),Dt("div",kp,[L("div",{class:"output",innerHTML:S.value},null,8,Fp),L("div",Ip,[L("div",Op,te(_.value)+":"+te(b.value),1),de(L("textarea",{ref_key:"promptField",ref:h,"onUpdate:modelValue":X[0]||(X[0]=q=>v.value=q),onKeydown:[wn(ut,["enter"]),wn(gt,["up"])],class:"prompt",rows:"3"},null,40,Tp),[[_e,v.value]])])])):Gt("",!0),f.value=="nano"?(Ot(),Dt("div",Rp,[L("div",Dp,[de(L("textarea",{ref_key:"nanoField",ref:E,onKeydown:[wn(nc(Ft,["ctrl"]),["s"]),wn(nc(_t,["ctrl"]),["x"])],"onUpdate:modelValue":X[1]||(X[1]=q=>p.value=q),class:"prompt nano",onInput:St,rows:"3"},null,40,Np),[[_e,p.value]])]),R.value!=""?(Ot(),Dt("div",Lp,te(R.value),1)):Gt("",!0)])):Gt("",!0)],2))}});const Ap=sn(Cp,[["__scopeId","data-v-883ba006"]]),hs=r=>(Dn("data-v-e69e8ffa"),r=r(),Nn(),r),Pp=hs(()=>L("div",{class:"logo"},[L("img",{src:"https://i.imgur.com/T8dFIIZ.png",class:"window-logo"}),L("div",{class:"title"},"Explorer")],-1)),Mp=hs(()=>L("div",{class:"window-action window-action-minimize"},null,-1)),Up={class:"content"},jp={class:"explorer-toolbar"},Bp=hs(()=>L("div",{class:"next"},">",-1)),zp={class:"path"},Wp={class:"explorer-content"},Hp={class:"directory-content"},Vp=["data-type","data-dir-path"],Xp=["data-type","data-dir-path"],Yp=["data-type","data-dir-path"],Zp=["data-type","data-dir-path"],Kp=Ue({__name:"ExplorerWindow",props:["id","focus"],setup(r){const s=r,c=new Qr,l=wt(s.focus),f=wt(),d=wt({x:0,y:0,movementX:0,movementY:0}),w=Ce(),_=w==null?void 0:w.appContext.config.globalProperties.$emitter,b=wt(""),S=wt();function v(gt){gt===s.id?l.value=!0:l.value=!1}function h(){_.emit("window/focus",s.id)}function E(){_.on("window/focus",v)}on(()=>{c.setFs(w==null?void 0:w.appContext.config.globalProperties.$fs),b.value=c.whereami(),S.value=c.explorer(),E()});const p=wt([c.whereami()]),D=wt(p.value.length-1);function R(gt){c.cd(gt),b.value=c.whereami(),S.value=c.explorer(),p.value.includes(gt)||(p.value.push(gt),D.value=p.value.length-1)}function N(){let gt=p.value.length-2;if(gt>=0&&p.value[gt]!=null){let G=p.value[gt];R(G)}}function M(gt){let G=gt.target;if(G!=null){let ut=G.getAttribute("data-type"),mt=G.getAttribute("data-dir-path");if(ut!=="dir")return;R(mt)}}function z(gt){gt.preventDefault(),d.value.movementX=d.value.x-gt.clientX,d.value.movementY=d.value.y-gt.clientY,d.value.x=gt.clientX,d.value.y=gt.clientY,f.value.style.top=f.value.offsetTop-d.value.movementY+"px",f.value.style.left=f.value.offsetLeft-d.value.movementX+"px"}function J(){document.onmouseup=null,document.onmousemove=null}function V(gt){d.value.x=gt.clientX,d.value.y=gt.clientY,document.onmousemove=z,document.onmouseup=J}function K(){_.emit("desktop/closeWindow",s.id)}return(gt,G)=>(Ot(),Dt("div",{ref_key:"containerElem",ref:f,onClick:h,class:Oe(["window explorer-window resizable",{"window-focused":l.value}])},[L("div",{class:"window-header",onMousedown:V},[Pp,L("div",{class:"header-action-buttons"},[Mp,L("div",{class:"window-action window-action-close",onClick:K})])],32),L("div",Up,[L("div",jp,[L("div",{onClick:N,class:"prev"},te("<")),Bp,L("div",zp,[de(L("input",{onKeyup:G[0]||(G[0]=wn(ut=>R(b.value),["enter"])),"onUpdate:modelValue":G[1]||(G[1]=ut=>b.value=ut),type:"text",placeholder:"/home/user/"},null,544),[[_e,b.value]])])]),L("div",Wp,[L("div",Hp,[(Ot(!0),Dt(pe,null,$e(S.value,ut=>(Ot(),Dt("div",{class:"item",onClick:M,"data-type":ut.type,"data-dir-path":ut.fullPath},[ut.type=="dir"?(Ot(),Dt("img",{key:0,"data-type":ut.type,"data-dir-path":ut.fullPath,src:"https://i.imgur.com/T8dFIIZ.png"},null,8,Xp)):Gt("",!0),ut.type=="file"?(Ot(),Dt("img",{key:1,"data-type":ut.type,"data-dir-path":ut.fullPath,src:"https://i.imgur.com/bDpDN9T.png"},null,8,Yp)):Gt("",!0),L("div",{"data-type":ut.type,"data-dir-path":ut.fullPath,class:"label"},te(ut.filename),9,Zp)],8,Vp))),256))])])])],2))}});const qp=sn(Kp,[["__scopeId","data-v-e69e8ffa"]]),ui=r=>(Dn("data-v-99207b83"),r=r(),Nn(),r),Jp=ui(()=>L("div",{class:"logo"},[L("img",{src:"https://i.imgur.com/66vqfGw.png",class:"window-logo"}),L("div",{class:"title"},"Paramètres")],-1)),Gp=ui(()=>L("div",{class:"window-action window-action-minimize"},null,-1)),Qp={class:"content"},$p={class:"content-container"},ty=ui(()=>L("div",{class:"sidebar"},[L("div",{class:"sidebar-item"},[L("img",{src:"https://i.imgur.com/zBP5xIL.png",class:"logo"}),L("div",{class:"label"},"Fond d'écran")])],-1)),ey={class:"main-content"},ny={key:0,class:"background-settings"},ry={class:"preview-zone"},iy=["src"],oy=ui(()=>L("br",null,null,-1)),sy=ui(()=>L("div",{class:"w-100"},[L("div",{class:"h-dividor"})],-1)),ay={class:"background-images"},cy=["onClick"],uy=["src"],ly={class:"custom-background"},fy=Ue({__name:"SettingsWindow",props:["id","focus"],setup(r){const s=r,c=wt(s.focus),l=lr(),f=wt("background"),d=wt(""),w=wt(),_=wt({x:0,y:0,movementX:0,movementY:0}),b=Ce(),S=b==null?void 0:b.appContext.config.globalProperties.$emitter;function v(J){J===s.id?c.value=!0:c.value=!1}function h(){S.emit("window/focus",s.id)}function E(){S.on("window/focus",v)}on(()=>{E()});function p(J){l.settings.wallpaperUrl=J}function D(){try{new URL(d.value),l.settings.wallpaperUrl=d.value}catch{}}function R(J){J.preventDefault(),_.value.movementX=_.value.x-J.clientX,_.value.movementY=_.value.y-J.clientY,_.value.x=J.clientX,_.value.y=J.clientY,w.value.style.top=w.value.offsetTop-_.value.movementY+"px",w.value.style.left=w.value.offsetLeft-_.value.movementX+"px"}function N(){document.onmouseup=null,document.onmousemove=null}function M(J){_.value.x=J.clientX,_.value.y=J.clientY,document.onmousemove=R,document.onmouseup=N}function z(){S.emit("desktop/closeWindow",s.id)}return(J,V)=>(Ot(),Dt("div",{ref_key:"containerElem",ref:w,onClick:h,class:Oe(["window explorer-window resizable",{"window-focused":c.value}])},[L("div",{class:"window-header",onMousedown:M},[Jp,L("div",{class:"header-action-buttons"},[Gp,L("div",{class:"window-action window-action-close",onClick:z})])],32),L("div",Qp,[L("div",$p,[ty,L("div",ey,[f.value=="background"?(Ot(),Dt("div",ny,[L("div",ry,[L("img",{draggable:"false",src:ne(l).settings.wallpaperUrl,alt:"",class:"preview-img"},null,8,iy)]),oy,sy,L("div",ay,[(Ot(!0),Dt(pe,null,$e(ne(l).settings.wallpaperSelection,K=>(Ot(),Dt("div",{onClick:gt=>p(K),class:"img-item"},[L("img",{src:K,draggable:"false"},null,8,uy)],8,cy))),256))]),L("div",ly,[de(L("input",{"onUpdate:modelValue":V[0]||(V[0]=K=>d.value=K),type:"text",placeholder:"URL..."},null,512),[[_e,d.value]]),L("button",{onClick:D},"Télécharger")])])):Gt("",!0)])])])],2))}});const hy=sn(fy,[["__scopeId","data-v-99207b83"]]),dy=r=>(Dn("data-v-54998ae0"),r=r(),Nn(),r),py={class:"container"},yy={class:"center"},vy=dy(()=>L("h2",null,"Hum, nous ne parvenons pas à trouver ce site.",-1)),gy={class:"sub"},my={class:"strong"},_y=Ue({__name:"NotFound",props:["data"],setup(r){const s=r,c=wt();c.value=s.data.url;const l=Ce(),f=l==null?void 0:l.appContext.config.globalProperties.$emitter;return on(()=>{f.on("firefox/url/set",d=>{c.value=d})}),(d,w)=>(Ot(),Dt("div",py,[L("div",yy,[vy,L("div",gy,[ls("Verifiez l'URL pour une erreur: "),L("span",my,te(c.value),1)])])]))}});const wy=sn(_y,[["__scopeId","data-v-54998ae0"]]),lu=co("darknet",()=>{const r=wt({auth:!1,user:null,posts:[]});function s(E){r.value.posts=E}async function c(E={}){const p={method:"POST",body:JSON.stringify(E),headers:{"Content-Type":"application/json"}},D=await fetch("https://qb-laptop/GetDarknetPosts",p);D.ok&&(r.value.posts=await D.json())}async function l(E){r.value.user!=null&&(E.user_id=r.value.user.id);const p={method:"POST",body:JSON.stringify(E),headers:{"Content-Type":"application/json"}};if((await(await fetch("https://qb-laptop/CreateDarknetPost",p)).json()).success===!0)return!0}async function f(E){const p={method:"POST",body:JSON.stringify(E),headers:{"Content-Type":"application/json"}},R=await(await fetch("https://qb-laptop/RegisterDarknetUser",p)).json();return R.success?(r.value.user=R.user,r.value.auth=!0,!0):R}async function d(E,p){const D={method:"POST",body:JSON.stringify({username:E,password:p}),headers:{"Content-Type":"application/json"}},N=await(await fetch("https://qb-laptop/AuthenticateUser",D)).json();return N.success?(r.value.user=N.user,r.value.auth=!0,!0):N}async function w(E){const p={username:r.value.user.username,profilePictureUrl:E},D={method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json"}};await fetch("https://qb-laptop/DarknetEditProfile",D)}function _(){r.value.user=null,r.value.auth=!1}function b(E){for(let p=0;p<r.value.posts.length;p++){const D=r.value.posts[p];if(E==D.id)return D}return null}function S(E,p){for(let D=0;D<r.value.posts.length;D++){const R=r.value.posts[D];R.id==E&&(R.replies=p)}}async function v(E){const p={method:"POST",body:JSON.stringify(E),headers:{"Content-Type":"application/json"}};await fetch("https://qb-laptop/DarknetPostComment",p)}function h(E){r.value.user=E}return{darknet:r,SetPosts:s,GetPosts:c,CreatePost:l,RegisterUser:f,authenticateUser:d,editProfile:w,logout:_,getPostById:b,setRepliesForPost:S,postComment:v,SetUser:h}}),Cn=r=>(Dn("data-v-74d8da34"),r=r(),Nn(),r),Sy={class:"website"},Ey={class:"navbar"},by={class:"container flex justify-content-space-between"},xy=Cn(()=>L("div",{class:"brand-logo"},[L("img",{src:"https://i.imgur.com/ycfxccx.png"})],-1)),ky=Cn(()=>L("div",{class:"brand"},[ls("Shadow"),L("span",{class:"highlight"},"NET")],-1)),Fy=[xy,ky],Iy={key:0,class:"nav-menu"},Oy={key:0,class:"nav-item"},Ty={key:1,class:"nav-item"},Ry={key:2,class:"nav-item"},Dy={key:3,class:"nav-item"},Ny={key:0,class:"maincontent"},Ly={class:"filters"},Cy={class:"flex"},Ay={class:"category-filter-wrapper"},Py=Cn(()=>L("option",{value:""},"Catégorie de posts",-1)),My=["value"],Uy={class:"search-filter-wrapper"},jy=["onKeydown"],By={class:"create-post-wrapper"},zy={class:"posts"},Wy=["onClick"],Hy={class:"post"},Vy={class:"post-title"},Xy={class:"post-metadata"},Yy={class:"user-handle"},Zy={class:"category"},Ky={class:"post-descrition-part"},qy={key:1,class:"createform"},Jy={class:"form-content"},Gy=Cn(()=>L("div",{class:"breadcrumb-wrapper"},null,-1)),Qy={class:"form-wrapper"},$y={class:"title-wrapper"},tv={class:"metadata-wrapper"},ev={class:"category"},nv=Cn(()=>L("option",{value:""},"Catégorie",-1)),rv=["value"],iv={class:"description-wrapper"},ov={key:2,class:"loginpage"},sv={class:"container"},av={class:"loginform form"},cv=Cn(()=>L("div",{class:"header"},"Connexion",-1)),uv={class:"form-field usernamefield"},lv={class:"form-field passwordfield"},fv={key:0,class:"form-errors"},hv={key:3,class:"registerpage"},dv={class:"container"},pv={class:"loginform form"},yv=Cn(()=>L("div",{class:"header"},"Inscription",-1)),vv={class:"form-field usernamefield"},gv={class:"form-field passwordfield"},mv={class:"form-field passwordfield"},_v={key:0,class:"form-errors"},wv={key:4,class:"showpostpage"},Sv={class:"container"},Ev={class:"post-display-wrapper"},bv={class:"post-display"},xv={class:"post-author-zone"},kv={class:"author-img-zone"},Fv=["src"],Iv={class:"author-name-zone"},Ov={class:"post-content-zone"},Tv=Cn(()=>L("div",{class:"post-content-date-zone"},null,-1)),Rv={class:"post-content-description-zone"},Dv={class:"post-comment"},Nv={class:"comment-author"},Lv=["src"],Cv={class:"comment-content"},Av={class:"comment-content-description"},Pv={key:0,class:"post-comment post-new-comment"},Mv={class:"comment-author"},Uv={class:"comment-author-img"},jv=["src"],Bv={key:0,class:"comment-author-name"},zv={class:"comment-content"},Wv=["onKeyup"],Hv={key:5,class:"profilepage"},Vv={class:"container"},Xv={class:"profile-form"},Yv={class:"picture-display"},Zv=["src"],Kv={class:"picture-url-form-group"},qv=Cn(()=>L("label",{for:"profilepicture"},"Photo profil:",-1)),Jv=Ue({__name:"DarknetWebsite",setup(r){const s=lu(),c=wt("homepage"),l=wt({hacking:"Hacking",drugs:"Drogues",guns:"Armes"}),f=wt(""),d=wt(""),w=wt(""),_=wt(""),b=wt(""),S=wt(""),v=wt(""),h=wt(""),E=wt(""),p=wt(""),D=wt(""),R=wt(""),N=wt("https://i.imgur.com/UugXIxP.png");s.darknet.user!=null&&s.darknet.user.profile_picture_url!=null&&(N.value=s.darknet.user.profile_picture_url);const M=wt(),z=wt("");function J(){let ft=[];return w.value=w.value.trim(),w.value.length<5&&ft.push({field:"title",error:"Le titre doit avoir 5 caracteres minimum."}),b.value=b.value.trim(),b.value.length<10&&ft.push({field:"description",error:"la description doit faire au moins 10 caracteres."}),ft}async function V(){if(J().length>0)return;const dt={title:w.value,category:_.value,description:b.value};await s.CreatePost(dt)===!0&&(mt("homepage"),w.value="",b.value="",_.value="")}async function K(){let ft=await s.authenticateUser(S.value,v.value);ft===!0?mt("homepage"):h.value=ft.message}async function gt(){let ft=[];if(E.value.length<3&&ft.push({field:"userHandle",error:"l'alias doit avoir 3 caracteres minimum."}),p.value!==D.value&&ft.push({field:"password",error:"Le 2eme mot de passe n'est pas identique au 1er."}),ft.length>0)return;const dt={username:E.value,password:p.value};let tt=await s.RegisterUser(dt);tt===!0?mt("homepage"):tt.success===!1&&(R.value=tt.message)}async function G(){await s.editProfile(N.value)}async function ut(){let ft=null,dt=null;f.value!=""&&(ft=f.value),d.value!=""&&(dt=d.value),await s.GetPosts({category:ft,search:dt})}function mt(ft){c.value=ft,ft=="create"&&!s.darknet.auth&&(c.value="login")}function Z(ft){M.value=s.getPostById(ft),mt("showpost")}async function st(){if(s.darknet.user==null)return;let ft={post_id:M.value.id,user_id:s.darknet.user.id,username:s.darknet.user.username,comment:z.value};await s.postComment(ft),z.value=""}return on(()=>{s.GetPosts()}),(ft,dt)=>(Ot(),Dt("div",Sy,[L("div",Ey,[L("div",by,[L("div",{class:"brand-container",onClick:dt[0]||(dt[0]=tt=>mt("homepage"))},Fy),ne(s)!=null?(Ot(),Dt("div",Iy,[ne(s).darknet.auth?Gt("",!0):(Ot(),Dt("div",Oy,[L("button",{onClick:dt[1]||(dt[1]=tt=>mt("login"))},"Connexion")])),ne(s).darknet.auth?Gt("",!0):(Ot(),Dt("div",Ty,[L("button",{onClick:dt[2]||(dt[2]=tt=>mt("register"))},"Inscription")])),ne(s).darknet.auth?(Ot(),Dt("div",Ry,[L("button",{onClick:dt[3]||(dt[3]=tt=>mt("profile"))},"Profil")])):Gt("",!0),ne(s).darknet.auth?(Ot(),Dt("div",Dy,[L("button",{onClick:dt[4]||(dt[4]=(...tt)=>ne(s).logout&&ne(s).logout(...tt))},"Déconnexion")])):Gt("",!0)])):Gt("",!0)])]),c.value=="homepage"?(Ot(),Dt("div",Ny,[L("div",Ly,[L("div",Cy,[L("div",Ay,[de(L("select",{onChange:ut,"onUpdate:modelValue":dt[5]||(dt[5]=tt=>f.value=tt),class:"category-filter"},[Py,(Ot(!0),Dt(pe,null,$e(l.value,(tt,Ft,_t)=>(Ot(),Dt("option",{value:Ft},te(tt),9,My))),256))],544),[[tc,f.value]])]),L("div",Uy,[de(L("input",{onKeydown:wn(ut,["enter"]),"onUpdate:modelValue":dt[6]||(dt[6]=tt=>d.value=tt),type:"text",class:"search-filter",placeholder:"Recherche..."},null,40,jy),[[_e,d.value]])]),L("div",{class:"submit-btn-wrapper"},[L("button",{onClick:ut,class:"submit"},"Rechercher")])]),L("div",By,[L("button",{onClick:dt[7]||(dt[7]=tt=>mt("create")),class:"create-post"},"Créer Post")])]),L("div",zy,[(Ot(!0),Dt(pe,null,$e(ne(s).darknet.posts,tt=>(Ot(),Dt("div",{onClick:Ft=>Z(tt.id),class:"post-wrapper"},[L("div",Hy,[L("div",Vy,te(tt.title),1),L("div",Xy,[L("span",Yy,te(tt.userHandle),1),L("span",Zy,te(l.value[tt.category]),1)]),L("div",Ky,te(tt.description),1)])],8,Wy))),256))])])):Gt("",!0),c.value=="create"?(Ot(),Dt("div",qy,[L("div",Jy,[Gy,L("div",Qy,[L("div",$y,[de(L("input",{"onUpdate:modelValue":dt[8]||(dt[8]=tt=>w.value=tt),type:"text",placeholder:"Titre..."},null,512),[[_e,w.value]])]),L("div",tv,[L("div",ev,[de(L("select",{"onUpdate:modelValue":dt[9]||(dt[9]=tt=>_.value=tt),class:"category-filter"},[nv,(Ot(!0),Dt(pe,null,$e(l.value,(tt,Ft,_t)=>(Ot(),Dt("option",{value:Ft},te(tt),9,rv))),256))],512),[[tc,_.value]])])]),L("div",iv,[de(L("textarea",{"onUpdate:modelValue":dt[10]||(dt[10]=tt=>b.value=tt),rows:"10",class:"description",placeholder:"Contenu de votre post..."},null,512),[[_e,b.value]])]),L("div",{class:"submit-form-wrapper"},[L("button",{onClick:V},"Valider")])])])])):Gt("",!0),c.value=="login"?(Ot(),Dt("div",ov,[L("div",sv,[L("div",av,[cv,L("div",uv,[de(L("input",{"onUpdate:modelValue":dt[11]||(dt[11]=tt=>S.value=tt),type:"text",placeholder:"Alias"},null,512),[[_e,S.value]])]),L("div",lv,[de(L("input",{"onUpdate:modelValue":dt[12]||(dt[12]=tt=>v.value=tt),type:"password",placeholder:"Mot de passe..."},null,512),[[_e,v.value]])]),L("div",{class:"form-submit"},[L("button",{onClick:K},"Connexion")]),h.value!=""?(Ot(),Dt("div",fv,te(h.value),1)):Gt("",!0)])])])):Gt("",!0),c.value=="register"?(Ot(),Dt("div",hv,[L("div",dv,[L("div",pv,[yv,L("div",vv,[de(L("input",{"onUpdate:modelValue":dt[13]||(dt[13]=tt=>E.value=tt),type:"text",placeholder:"Alias"},null,512),[[_e,E.value]])]),L("div",gv,[de(L("input",{"onUpdate:modelValue":dt[14]||(dt[14]=tt=>p.value=tt),type:"password",placeholder:"Mot de passe"},null,512),[[_e,p.value]])]),L("div",mv,[de(L("input",{"onUpdate:modelValue":dt[15]||(dt[15]=tt=>D.value=tt),type:"password",placeholder:"Confirmation mot de passe"},null,512),[[_e,D.value]])]),L("div",{class:"form-submit"},[L("button",{onClick:gt},"Inscription")]),R.value!=""?(Ot(),Dt("div",_v,te(R.value),1)):Gt("",!0)])])])):Gt("",!0),c.value=="showpost"?(Ot(),Dt("div",wv,[L("div",Sv,[L("div",Ev,[L("div",bv,[L("div",xv,[L("div",kv,[L("img",{src:M.value.user.profile_picture_url,alt:"anonymous-user-placeholder"},null,8,Fv)]),L("div",Iv,te(M.value.userHandle),1)]),L("div",Ov,[Tv,L("div",Rv,te(M.value.description),1)])])]),(Ot(!0),Dt(pe,null,$e(M.value.replies,tt=>(Ot(),Dt("div",Dv,[L("div",Nv,[L("div",{class:Oe(["comment-author-img",{owner:tt.user_id==M.value.user_id}])},[L("img",{src:tt.user.profile_picture_url,alt:"anonymous-user-placeholder"},null,8,Lv)],2),L("div",{class:Oe(["comment-author-name",{owner:tt.user_id==M.value.user_id}])},te(tt.username),3)]),L("div",Cv,[L("div",Av,te(tt.comment),1)])]))),256)),ne(s).darknet.auth?(Ot(),Dt("div",Pv,[L("div",Mv,[L("div",Uv,[L("img",{src:ne(s).darknet.user.profile_picture_url||"https://i.imgur.com/1M5IK1E.jpg",alt:"anonymous-user-placeholder"},null,8,jv)]),ne(s).darknet.user?(Ot(),Dt("div",Bv,te(ne(s).darknet.user.username),1)):Gt("",!0)]),L("div",zv,[de(L("textarea",{"onUpdate:modelValue":dt[16]||(dt[16]=tt=>z.value=tt),onKeyup:wn(st,["enter"]),cols:"30",rows:"8",placeholder:"Votre commentaire..."},null,40,Wv),[[_e,z.value]]),L("div",{class:"w-100 text-right"},[L("button",{onClick:st,class:"post-comment-btn"},"Commenter")])])])):Gt("",!0)])])):Gt("",!0),c.value=="profile"?(Ot(),Dt("div",Hv,[L("div",Vv,[L("div",Xv,[L("div",Yv,[L("img",{src:N.value},null,8,Zv)]),L("div",Kv,[qv,de(L("input",{"onUpdate:modelValue":dt[17]||(dt[17]=tt=>N.value=tt),type:"text",id:"profilepicture",placeholder:"URL de la photo"},null,512),[[_e,N.value]])])]),L("div",{class:"profile-form-submit"},[L("button",{onClick:G},"Sauvegarder")])])])):Gt("",!0)]))}});const Gv=sn(Jv,[["__scopeId","data-v-74d8da34"]]),Qv=["src"],$v=Ue({__name:"IframeProvider",props:["data"],setup(r){const s=r,{url:c}=s.data;return(l,f)=>ne(c)!=null?(Ot(),Dt("iframe",{key:0,src:ne(c),frameborder:"0"},null,8,Qv)):Gt("",!0)}});const tg=sn($v,[["__scopeId","data-v-ad3eb437"]]),eg=r=>(Dn("data-v-9ab7198a"),r=r(),Nn(),r),ng={class:"website"},rg={key:0,class:"search-page"},ig={class:"search-form"},og=eg(()=>L("div",{class:"google-brand"},[L("div",{class:"brand"},"Google")],-1)),sg={class:"search-field-group"},ag=["onKeydown"],cg={key:1,class:"results-page"},ug={class:"header"},lg={class:"search-field-group"},fg=["onKeydown"],hg={class:"results-content"},dg=["onClick"],pg={class:"title"},yg={class:"url"},vg={class:"description"},gg=Ue({__name:"GoogleWebsite",setup(r){const s=Ce(),c=s==null?void 0:s.appContext.config.globalProperties.$emitter,l=wt("search"),f=wt(""),d=wt();function w(v){let h=v.split(" ");return h=h.map(E=>E.trim()),h}function _(){l.value="results";let v=[];for(let h=0;h<Yi.length;h++){let E=Yi[h];if(E.description==null)continue;let p=w(f.value);for(let D=0;D<p.length;D++){let R=p[D];if(E.name.includes(R)){v.push(E);break}if(E.description.includes(R)){v.push(E);break}}}d.value=v}function b(v){l.value=v}function S(v){c.emit("firefox/navigate",v)}return(v,h)=>(Ot(),Dt("div",ng,[l.value=="search"?(Ot(),Dt("div",rg,[L("div",ig,[og,L("div",sg,[de(L("input",{"onUpdate:modelValue":h[0]||(h[0]=E=>f.value=E),onKeydown:wn(_,["enter"]),type:"text",placeholder:"Recherche..."},null,40,ag),[[_e,f.value]])]),L("div",{class:"search-button-group"},[L("button",{onClick:_,class:"search"},"Google Search")])])])):Gt("",!0),l.value=="results"?(Ot(),Dt("div",cg,[L("div",ug,[L("div",{onClick:h[2]||(h[2]=E=>b("search")),class:"google-brand"},[L("div",{onClick:h[1]||(h[1]=E=>b("search")),class:"brand"},"Google")]),L("div",lg,[de(L("input",{"onUpdate:modelValue":h[3]||(h[3]=E=>f.value=E),onKeydown:wn(_,["enter"]),type:"text",placeholder:"Recherche..."},null,40,fg),[[_e,f.value]])])]),L("div",hg,[(Ot(!0),Dt(pe,null,$e(d.value,E=>(Ot(),Dt("div",{onClick:p=>S(E.url),class:"result"},[L("div",pg,te(E.name),1),L("div",yg,te(E.url),1),L("div",vg,te(E.description),1)],8,dg))),256))])])):Gt("",!0)]))}});const mg=sn(gg,[["__scopeId","data-v-9ab7198a"]]),Yi=[{name:"Google",url:"https://www.google.com",component:mg,matches:["google.com","google.fr","www.google.com","www.google.fr","http://www.google.fr","https://www.google.fr","https://www.google.com"]},{name:"ShadowNET",url:"tor://shadownet.onion",component:Gv,matches:["shadownet.onion","tor://shadownet.onion"]},{name:"Nerko NFT",description:`Join Nerko NFT in building the biggest DAO for crypto holders.
Checkout our whitepaper on our site.`,url:"https://nerko.io",component:tg,props:{url:"https://websites.cyberrp.fr/themegenix.net-775881f17d1b4965cb9fb56f7344ab75/"},matches:["nerkonft.io","https://nerko.io","http://nerkonft.io","https://nerkonft.io"]}],_g=Ue({__name:"WebsiteProvider",props:["website"],setup(r){const c=wt(r.website),l=Ce(),f=l==null?void 0:l.appContext.config.globalProperties.$emitter,d=wt();function w(S){for(let v=0;v<Yi.length;v++){const h=Yi[v];if(h.matches.includes(S))return h}return null}function _(){if(c==null)return null;let S=w(c.value);return S!=null?(f.emit("firefox/url/set",S.url),d.value=S,S.component):(d.value={name:"Could not find website",url:c,props:{url:c}},f.emit("firefox/url/set",d.value.url),wy)}function b(S){c.value=S,_()}return on(()=>{f.on("firefox/navigate",b)}),(S,v)=>d.value!=null?(Ot(),ci(as(_()),{key:0,data:d.value.props},null,8,["data"])):Gt("",!0)}}),ds=r=>(Dn("data-v-deac4475"),r=r(),Nn(),r),wg=ds(()=>L("div",{class:"logo"},null,-1)),Sg=ds(()=>L("div",{class:"window-action window-action-minimize"},null,-1)),Eg={class:"content"},bg={class:"content-header"},xg=ds(()=>L("div",{class:"actions"},[L("div",{class:"prev"},te("<")),L("div",{class:"next"},">")],-1)),kg={class:"urlbar"},Fg=["onKeydown"],Ig={class:"web-content"},Og=Ue({__name:"FirefoxWindow",props:["id","focus"],setup(r){const s=r,c=wt(s.focus),l=Ce(),f=l==null?void 0:l.appContext.config.globalProperties.$emitter,d=wt("");wt([]);function w(){f.emit("firefox/navigate",d.value),console.log("emit url: ",d.value)}const _=wt(),b=wt({x:0,y:0,movementX:0,movementY:0});function S(){f.emit("window/focus",s.id)}function v(M){M.preventDefault(),b.value.movementX=b.value.x-M.clientX,b.value.movementY=b.value.y-M.clientY,b.value.x=M.clientX,b.value.y=M.clientY,_.value.style.top=_.value.offsetTop-b.value.movementY+"px",_.value.style.left=_.value.offsetLeft-b.value.movementX+"px"}function h(){document.onmouseup=null,document.onmousemove=null}function E(M){b.value.x=M.clientX,b.value.y=M.clientY,document.onmousemove=v,document.onmouseup=h}function p(M){M===s.id?c.value=!0:c.value=!1}function D(M){d.value=M}function R(){f.on("window/focus",p),f.on("firefox/url/set",D)}on(()=>{R()});function N(){f.emit("desktop/closeWindow",s.id)}return(M,z)=>(Ot(),Dt("div",{ref_key:"containerElem",ref:_,onClick:S,class:Oe(["window explorer-window resizable",{"window-focused":c.value}])},[L("div",{class:"window-header",onMousedown:E},[wg,L("div",{class:"header-action-buttons"},[Sg,L("div",{class:"window-action window-action-close",onClick:N})])],32),L("div",Eg,[L("div",bg,[xg,L("div",kg,[de(L("input",{"onUpdate:modelValue":z[0]||(z[0]=J=>d.value=J),onKeydown:wn(w,["enter"]),type:"text",placeholder:"Enter URL..."},null,40,Fg),[[_e,d.value]])])]),L("div",Ig,[rn(_g)])])],2))}});const Tg=sn(Og,[["__scopeId","data-v-deac4475"]]),fu=co("aes-message",()=>{const r=wt("hash@0000000000000"),s=wt({});function c(v){r.value=v}function l(v){s.value[v.discussionId]=v}function f(v,h){s.value[v]!=null&&s.value[v].messages.push(h)}function d(v){return s.value[v]}function w(v){let h=Object.values(s.value);for(let E=0;E<h.length;E++){const p=h[E];if(p.from===r.value&&p.to===v)return p}return null}async function _(v,h){const E={method:"POST",body:JSON.stringify({to:v,from:r.value,messages:[{from:r.value,to:v,content:h}]}),headers:{"Content-Type":"application/json"}};await fetch("https://qb-laptop/AESNewDiscussion",E)}async function b(v,h){const E={method:"POST",body:JSON.stringify({discussionId:v,from:r.value,message:h}),headers:{"Content-Type":"application/json"}};await fetch("https://qb-laptop/AESSendMessage",E)}function S(v){const h={},E=Object.values(s.value);for(let p=0;p<E.length;p++){const D=E[p];try{if(D.from.includes(v)){h[D.discussionId]=D;continue}if(D.to.includes(v)){h[D.discussionId]=D;continue}D.messages.filter(N=>N.content.includes(v)).length>0&&(h[D.discussionId]=D)}catch{}}return h}return{address:r,discussions:s,setAddress:c,setDiscussion:l,receiveMessage:f,getDiscussion:d,getStartedDiscussion:w,newDiscussion:_,sendMessage:b,searchDiscussion:S}}),lo=r=>(Dn("data-v-37bd4a24"),r=r(),Nn(),r),Rg=lo(()=>L("div",{class:"logo"},[L("img",{src:"https://i.imgur.com/govaedU.png",class:"window-logo"}),L("div",{class:"title"},"AES Messaging")],-1)),Dg=lo(()=>L("div",{class:"window-action window-action-minimize"},null,-1)),Ng={class:"content"},Lg={class:"content-container"},Cg={class:"header"},Ag={class:"search-group"},Pg={class:"search-field"},Mg={class:"address-group"},Ug={class:"main-content-container"},jg={class:"sidebar"},Bg=["onClick"],zg={class:"address"},Wg=["onClick"],Hg={class:"address"},Vg={key:0,class:"conversation-tab"},Xg=lo(()=>L("div",{class:"center"},[L("h5",null,"No discussion selected")],-1)),Yg=[Xg],Zg={key:1,class:"conversation-tab"},Kg={class:"recipient-address"},qg=lo(()=>L("div",{class:"message-history empty"},null,-1)),Jg={class:"compose"},Gg={key:2,class:"conversation-tab"},Qg={class:"message-history"},$g={class:"message-box"},tm={class:"compose"},em=Ue({__name:"AesMessagingWindow",props:["id","focus"],setup(r){const s=r,c=wt(s.focus),l=Ce(),f=l==null?void 0:l.appContext.config.globalProperties.$emitter,d=fu(),w=wt(!1),_=wt({}),b=wt(""),S=wt(!1),v=wt(),h=wt(""),E=wt(""),p=wt(""),D=wt(!1);async function R(){if(p.value=p.value.trim(),p.value===""){D.value=!0;return}D.value=!1,await d.sendMessage(v.value.discussionId,p.value),p.value=""}async function N(){if(h.value=h.value.trim(),E.value=E.value.trim(),E.value===""){D.value=!0;return}D.value=!1,await d.newDiscussion(h.value,E.value);const tt=h.value;for(S.value=!1,E.value="",h.value="";v.value==null;)await new Promise(Ft=>setTimeout(Ft,100)),v.value=d.getStartedDiscussion(tt)}function M(){v.value=null,S.value=!0}function z(tt){S.value=!1,v.value=d.getDiscussion(tt)}function J(){b.value===""?(_.value=[],w.value=!1):(_.value=d.searchDiscussion(b.value),w.value=!0)}function V(){const tt=d.address,Ft=document.createElement("textarea");Ft.value=tt,document.body.appendChild(Ft),Ft.select(),document.execCommand("copy"),document.body.removeChild(Ft)}function K(){f.emit("window/focus",s.id)}const gt=wt(),G=wt({x:0,y:0,movementX:0,movementY:0});function ut(tt){tt.preventDefault(),G.value.movementX=G.value.x-tt.clientX,G.value.movementY=G.value.y-tt.clientY,G.value.x=tt.clientX,G.value.y=tt.clientY,gt.value.style.top=gt.value.offsetTop-G.value.movementY+"px",gt.value.style.left=gt.value.offsetLeft-G.value.movementX+"px"}function mt(){document.onmouseup=null,document.onmousemove=null}function Z(tt){G.value.x=tt.clientX,G.value.y=tt.clientY,document.onmousemove=ut,document.onmouseup=mt}function st(tt){tt===s.id?c.value=!0:c.value=!1}function ft(){f.on("window/focus",st)}on(()=>{ft()});function dt(){f.emit("desktop/closeWindow",s.id)}return(tt,Ft)=>(Ot(),Dt("div",{ref_key:"containerElem",ref:gt,onClick:K,class:Oe(["window aes-messaging-window resizable",{"window-focused":c.value}])},[L("div",{class:"window-header",onMousedown:Z},[Rg,L("div",{class:"header-action-buttons"},[Dg,L("div",{class:"window-action window-action-close",onClick:dt})])],32),L("div",Ng,[L("div",Lg,[L("div",Cg,[L("div",Ag,[L("div",Pg,[de(L("input",{"onUpdate:modelValue":Ft[0]||(Ft[0]=_t=>b.value=_t),onKeyup:J,type:"text",class:"form-control",placeholder:"Search..."},null,544),[[_e,b.value]])]),L("div",{class:"new-discussion-btn"},[L("button",{onClick:M},"+")])]),L("div",Mg,[L("div",{onClick:V,class:"address-label"},"My Address:"),L("div",{onClick:V,class:"address-value"},te(ne(d).address),1)])]),L("div",Ug,[L("div",jg,[w.value===!1?(Ot(!0),Dt(pe,{key:0},$e(Object.keys(ne(d).discussions),_t=>(Ot(),Dt("div",{onClick:St=>z(_t),class:Oe(["conversation",{active:v.value!=null&&_t==v.value.discussionId}])},[L("div",zg,te(_t),1)],10,Bg))),256)):Gt("",!0),w.value===!0?(Ot(!0),Dt(pe,{key:1},$e(Object.keys(_.value),_t=>(Ot(),Dt("div",{onClick:St=>z(_t),class:Oe(["conversation",{active:v.value!=null&&_t==v.value.discussionId}])},[L("div",Hg,te(_t),1)],10,Wg))),256)):Gt("",!0)]),v.value==null&&S.value===!1?(Ot(),Dt("div",Vg,Yg)):Gt("",!0),S.value===!0?(Ot(),Dt("div",Zg,[L("div",Kg,[de(L("input",{"onUpdate:modelValue":Ft[1]||(Ft[1]=_t=>h.value=_t),type:"text",placeholder:"Recipient address"},null,512),[[_e,h.value]])]),qg,L("div",Jg,[de(L("textarea",{"onUpdate:modelValue":Ft[2]||(Ft[2]=_t=>E.value=_t),class:Oe({error:D.value}),placeholder:"Message..."},null,2),[[_e,E.value]]),L("button",{onClick:N},"Send")])])):Gt("",!0),v.value!=null?(Ot(),Dt("div",Gg,[L("div",Qg,[(Ot(!0),Dt(pe,null,$e(v.value.messages,_t=>(Ot(),Dt("div",{class:Oe(["message",{received:_t.from!==ne(d).address,sent:_t.from===ne(d).address}])},[L("div",$g,te(_t.content),1)],2))),256))]),L("div",tm,[de(L("textarea",{"onUpdate:modelValue":Ft[3]||(Ft[3]=_t=>p.value=_t),class:Oe({error:D.value}),placeholder:"Message..."},null,2),[[_e,p.value]]),L("button",{onClick:R},"Send")])])):Gt("",!0)])])])],2))}});const nm=sn(em,[["__scopeId","data-v-37bd4a24"]]),rm=Ue({__name:"DesktopWindows",setup(r){lr(),uo();const s=Lr({});wt();const c=Ce(),l=c==null?void 0:c.appContext.config.globalProperties.$emitter,f=function(){return Date.now().toString(36)+Math.random().toString(36).substr(2)};function d(v){return v=="terminal"?Ap:v=="explorer"?qp:v=="settings"?hy:v=="firefox"?Tg:v=="aes-msg"?nm:null}function w(v){var p;let h={type:v,component:()=>d(v),id:"window-"+f(),render:!0};if(v==="aes-msg"){let D=Object.values(s),R=D.filter(N=>N.type===v);if(console.log("values: ",D),console.log("matches: ",R),R.length>0)return}s[h.id]=h,l.emit("toolbar/openwindow",{id:h.id,type:h.type});let E=Ce();(p=E==null?void 0:E.proxy)==null||p.$forceUpdate()}function _(v){var E;delete s[v],l.emit("toolbar/closewindow",v);let h=Ce();(E=h==null?void 0:h.proxy)==null||E.$forceUpdate()}function b(){var v;(v=c==null?void 0:c.proxy)==null||v.$forceUpdate()}function S(){l.on("desktop/openwindow",w),l.on("desktop/closeWindow",_),l.on("desktop/refresh",b)}return on(()=>{S()}),(v,h)=>(Ot(!0),Dt(pe,null,$e(s,(E,p)=>(Ot(),ci(as(E.component()),{key:p,id:E.id,focus:!0},null,8,["id"]))),128))}});const im={class:"logo-container"},om=["src"],sm={class:"program-name"},am=Ue({__name:"ProgramIcon",props:["id","program","name","focus"],setup(r){const s=r,l={firefox:"https://i.imgur.com/CwYZABb.png",terminal:"https://i.imgur.com/zyNd2Cc.png",explorer:"https://i.imgur.com/T8dFIIZ.png","aes-msg":"https://i.imgur.com/govaedU.png"}[s.program],f=Ce(),d=f==null?void 0:f.appContext.config.globalProperties.$emitter;function w(){d.emit("desktop/openwindow",s.program)}return(_,b)=>(Ot(),Dt("div",{class:"desktop-program-icon",onDblclick:w},[L("div",im,[L("img",{src:ne(l)},null,8,om)]),L("div",sm,te(s.name),1)],32))}});function cm(r){const s=uo(),c=lr();switch(r.data.action){case"settings/set":c.setSettings(r.data.settings);break;case"turnon":s.state.open=!0,s.state.user=r.data.user;break;case"turnoff":s.state.open=!1;break}}function um(r){const s=lu();switch(r.data.action){case"darknet/post/replies/set":s.setRepliesForPost(r.data.postId,r.data.replies);break;case"darknet/posts/set":s.SetPosts(r.data.posts);break;case"darknet/user/set":s.SetUser(r.data.user);break}}function lm(r){const s=fu();switch(r.data.action){case"aes-messaging/address/set":s.setAddress(r.data.AESAddress);break;case"aes-messaging/discussion/set":s.setDiscussion(r.data.discussion);break;case"aes-messaging/receive":s.receiveMessage(r.data.discussionId,r.data.discussionMessage);break}}function sc(r){if(!(r==null||r.data==null||r.data.action==null))switch(r.data.action){case"settings/set":case"turnon":case"turnoff":cm(r);break;case"darknet/post/replies/set":case"darknet/posts/set":case"darknet/user/set":um(r);break;case"aes-messaging/address/set":case"aes-messaging/discussion/set":case"aes-messaging/receive":lm(r);break;default:throw new Error(`Unsupported action: ${r.data.action}`)}}const fm={id:"programs"},hm=Ue({__name:"Desktop",setup(r){const s=Ce();s==null||s.appContext.config.globalProperties.$fs;const c=lr(),l=uo();on(()=>{window.addEventListener("message",sc),document.addEventListener("keydown",function(d){d.keyCode===27&&f().then(w=>null)})}),zc(()=>{window.removeEventListener("message",sc)});async function f(){l.state.open&&(await c.save(),await fetch("https://qb-laptop/TurnOffLaptop",{method:"POST"}),l.state.open=!1)}return(d,w)=>(Ot(),Dt("div",{id:"laptop-desktop",class:Oe({open:ne(l).state.open}),style:Zi(ne(l).state.open?{background:`url(${ne(c).settings.wallpaperUrl}) center no-repeat`}:{})},[rn(Sp),rn(rm),L("div",fm,[(Ot(!0),Dt(pe,null,$e(ne(c).getInstalledPrograms(),_=>(Ot(),ci(as(am),{key:_.id,id:_.id,name:_.name,program:_.id,focus:!0},null,8,["id","name","program"]))),128))])],6))}});const dm=sn(hm,[["__scopeId","data-v-fbb1af41"]]),pm=Ue({__name:"App",setup(r){return(s,c)=>(Ot(),ci(dm))}});const ym=sn(pm,[["__scopeId","data-v-a7df78f6"]]);si.install(window);si.configure({fs:"LocalStorage",options:null},r=>{if(r)throw r});const hu=si.BFSRequire("fs"),du=new cu;du.setFs(hu);du.init();const vm=Xd(),fo=Md(ym);fo.use(Bd());fo.config.globalProperties.$emitter=vm;fo.config.globalProperties.$fs=hu;fo.mount("#app");
