var nf=Object.defineProperty;var rf=(r,s,c)=>s in r?nf(r,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):r[s]=c;var Ge=(r,s,c)=>(rf(r,typeof s!="symbol"?s+"":s,c),c);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const w of h.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&l(w)}).observe(document,{childList:!0,subtree:!0});function c(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerpolicy&&(h.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?h.credentials="include":f.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(f){if(f.ep)return;f.ep=!0;const h=c(f);fetch(f.href,h)}})();function Yo(r,s){const c=Object.create(null),l=r.split(",");for(let f=0;f<l.length;f++)c[l[f]]=!0;return s?f=>!!c[f.toLowerCase()]:f=>!!c[f]}function Ki(r){if(Pt(r)){const s={};for(let c=0;c<r.length;c++){const l=r[c],f=ge(l)?uf(l):Ki(l);if(f)for(const h in f)s[h]=f[h]}return s}else{if(ge(r))return r;if(ie(r))return r}}const of=/;(?![^(]*\))/g,sf=/:([^]+)/,af=/\/\*.*?\*\//gs;function uf(r){const s={};return r.replace(af,"").split(of).forEach(c=>{if(c){const l=c.split(sf);l.length>1&&(s[l[0].trim()]=l[1].trim())}}),s}function vn(r){let s="";if(ge(r))s=r;else if(Pt(r))for(let c=0;c<r.length;c++){const l=vn(r[c]);l&&(s+=l+" ")}else if(ie(r))for(const c in r)r[c]&&(s+=c+" ");return s.trim()}const cf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lf=Yo(cf);function ru(r){return!!r||r===""}function ff(r,s){if(r.length!==s.length)return!1;let c=!0;for(let l=0;c&&l<r.length;l++)c=qi(r[l],s[l]);return c}function qi(r,s){if(r===s)return!0;let c=Ea(r),l=Ea(s);if(c||l)return c&&l?r.getTime()===s.getTime():!1;if(c=Jr(r),l=Jr(s),c||l)return r===s;if(c=Pt(r),l=Pt(s),c||l)return c&&l?ff(r,s):!1;if(c=ie(r),l=ie(s),c||l){if(!c||!l)return!1;const f=Object.keys(r).length,h=Object.keys(s).length;if(f!==h)return!1;for(const w in r){const m=r.hasOwnProperty(w),E=s.hasOwnProperty(w);if(m&&!E||!m&&E||!qi(r[w],s[w]))return!1}}return String(r)===String(s)}function hf(r,s){return r.findIndex(c=>qi(c,s))}const yn=r=>ge(r)?r:r==null?"":Pt(r)||ie(r)&&(r.toString===su||!zt(r.toString))?JSON.stringify(r,iu,2):String(r),iu=(r,s)=>s&&s.__v_isRef?iu(r,s.value):Er(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((c,[l,f])=>(c[`${l} =>`]=f,c),{})}:Gi(s)?{[`Set(${s.size})`]:[...s.values()]}:ie(s)&&!Pt(s)&&!au(s)?String(s):s,re={},Sr=[],nn=()=>{},df=()=>!1,pf=/^on[^a-z]/,Ji=r=>pf.test(r),Zo=r=>r.startsWith("onUpdate:"),Re=Object.assign,Ko=(r,s)=>{const c=r.indexOf(s);c>-1&&r.splice(c,1)},yf=Object.prototype.hasOwnProperty,Kt=(r,s)=>yf.call(r,s),Pt=Array.isArray,Er=r=>ii(r)==="[object Map]",Gi=r=>ii(r)==="[object Set]",Ea=r=>ii(r)==="[object Date]",zt=r=>typeof r=="function",ge=r=>typeof r=="string",Jr=r=>typeof r=="symbol",ie=r=>r!==null&&typeof r=="object",ou=r=>ie(r)&&zt(r.then)&&zt(r.catch),su=Object.prototype.toString,ii=r=>su.call(r),vf=r=>ii(r).slice(8,-1),au=r=>ii(r)==="[object Object]",qo=r=>ge(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Li=Yo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qi=r=>{const s=Object.create(null);return c=>s[c]||(s[c]=r(c))},gf=/-(\w)/g,gn=Qi(r=>r.replace(gf,(s,c)=>c?c.toUpperCase():"")),mf=/\B([A-Z])/g,or=Qi(r=>r.replace(mf,"-$1").toLowerCase()),$i=Qi(r=>r.charAt(0).toUpperCase()+r.slice(1)),To=Qi(r=>r?`on${$i(r)}`:""),Gr=(r,s)=>!Object.is(r,s),Ci=(r,s)=>{for(let c=0;c<r.length;c++)r[c](s)},Bi=(r,s,c)=>{Object.defineProperty(r,s,{configurable:!0,enumerable:!1,value:c})},ji=r=>{const s=parseFloat(r);return isNaN(s)?r:s};let xa;const _f=()=>xa||(xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ve;class uu{constructor(s=!1){this.detached=s,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ve,!s&&Ve&&(this.index=(Ve.scopes||(Ve.scopes=[])).push(this)-1)}get active(){return this._active}run(s){if(this._active){const c=Ve;try{return Ve=this,s()}finally{Ve=c}}}on(){Ve=this}off(){Ve=this.parent}stop(s){if(this._active){let c,l;for(c=0,l=this.effects.length;c<l;c++)this.effects[c].stop();for(c=0,l=this.cleanups.length;c<l;c++)this.cleanups[c]();if(this.scopes)for(c=0,l=this.scopes.length;c<l;c++)this.scopes[c].stop(!0);if(!this.detached&&this.parent&&!s){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this._active=!1}}}function cu(r){return new uu(r)}function wf(r,s=Ve){s&&s.active&&s.effects.push(r)}function lu(){return Ve}function Sf(r){Ve&&Ve.cleanups.push(r)}const Jo=r=>{const s=new Set(r);return s.w=0,s.n=0,s},fu=r=>(r.w&Mn)>0,hu=r=>(r.n&Mn)>0,Ef=({deps:r})=>{if(r.length)for(let s=0;s<r.length;s++)r[s].w|=Mn},xf=r=>{const{deps:s}=r;if(s.length){let c=0;for(let l=0;l<s.length;l++){const f=s[l];fu(f)&&!hu(f)?f.delete(r):s[c++]=f,f.w&=~Mn,f.n&=~Mn}s.length=c}},zi=new WeakMap;let Hr=0,Mn=1;const Co=30;let $e;const er=Symbol(""),Ao=Symbol("");class Go{constructor(s,c=null,l){this.fn=s,this.scheduler=c,this.active=!0,this.deps=[],this.parent=void 0,wf(this,l)}run(){if(!this.active)return this.fn();let s=$e,c=Cn;for(;s;){if(s===this)return;s=s.parent}try{return this.parent=$e,$e=this,Cn=!0,Mn=1<<++Hr,Hr<=Co?Ef(this):ba(this),this.fn()}finally{Hr<=Co&&xf(this),Mn=1<<--Hr,$e=this.parent,Cn=c,this.parent=void 0,this.deferStop&&this.stop()}}stop(){$e===this?this.deferStop=!0:this.active&&(ba(this),this.onStop&&this.onStop(),this.active=!1)}}function ba(r){const{deps:s}=r;if(s.length){for(let c=0;c<s.length;c++)s[c].delete(r);s.length=0}}let Cn=!0;const du=[];function Or(){du.push(Cn),Cn=!1}function Tr(){const r=du.pop();Cn=r===void 0?!0:r}function je(r,s,c){if(Cn&&$e){let l=zi.get(r);l||zi.set(r,l=new Map);let f=l.get(c);f||l.set(c,f=Jo()),pu(f)}}function pu(r,s){let c=!1;Hr<=Co?hu(r)||(r.n|=Mn,c=!fu(r)):c=!r.has($e),c&&(r.add($e),$e.deps.push(r))}function kn(r,s,c,l,f,h){const w=zi.get(r);if(!w)return;let m=[];if(s==="clear")m=[...w.values()];else if(c==="length"&&Pt(r)){const E=Number(l);w.forEach((x,_)=>{(_==="length"||_>=E)&&m.push(x)})}else switch(c!==void 0&&m.push(w.get(c)),s){case"add":Pt(r)?qo(c)&&m.push(w.get("length")):(m.push(w.get(er)),Er(r)&&m.push(w.get(Ao)));break;case"delete":Pt(r)||(m.push(w.get(er)),Er(r)&&m.push(w.get(Ao)));break;case"set":Er(r)&&m.push(w.get(er));break}if(m.length===1)m[0]&&Po(m[0]);else{const E=[];for(const x of m)x&&E.push(...x);Po(Jo(E))}}function Po(r,s){const c=Pt(r)?r:[...r];for(const l of c)l.computed&&Fa(l);for(const l of c)l.computed||Fa(l)}function Fa(r,s){(r!==$e||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}function bf(r,s){var c;return(c=zi.get(r))===null||c===void 0?void 0:c.get(s)}const Ff=Yo("__proto__,__v_isRef,__isVue"),yu=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Jr)),If=Qo(),kf=Qo(!1,!0),Of=Qo(!0),Ia=Tf();function Tf(){const r={};return["includes","indexOf","lastIndexOf"].forEach(s=>{r[s]=function(...c){const l=Jt(this);for(let h=0,w=this.length;h<w;h++)je(l,"get",h+"");const f=l[s](...c);return f===-1||f===!1?l[s](...c.map(Jt)):f}}),["push","pop","shift","unshift","splice"].forEach(s=>{r[s]=function(...c){Or();const l=Jt(this)[s].apply(this,c);return Tr(),l}}),r}function Rf(r){const s=Jt(this);return je(s,"has",r),s.hasOwnProperty(r)}function Qo(r=!1,s=!1){return function(l,f,h){if(f==="__v_isReactive")return!r;if(f==="__v_isReadonly")return r;if(f==="__v_isShallow")return s;if(f==="__v_raw"&&h===(r?s?Yf:wu:s?_u:mu).get(l))return l;const w=Pt(l);if(!r){if(w&&Kt(Ia,f))return Reflect.get(Ia,f,h);if(f==="hasOwnProperty")return Rf}const m=Reflect.get(l,f,h);return(Jr(f)?yu.has(f):Ff(f))||(r||je(l,"get",f),s)?m:ye(m)?w&&qo(f)?m:m.value:ie(m)?r?Su(m):Rr(m):m}}const Nf=vu(),Df=vu(!0);function vu(r=!1){return function(c,l,f,h){let w=c[l];if(br(w)&&ye(w)&&!ye(f))return!1;if(!r&&(!Wi(f)&&!br(f)&&(w=Jt(w),f=Jt(f)),!Pt(c)&&ye(w)&&!ye(f)))return w.value=f,!0;const m=Pt(c)&&qo(l)?Number(l)<c.length:Kt(c,l),E=Reflect.set(c,l,f,h);return c===Jt(h)&&(m?Gr(f,w)&&kn(c,"set",l,f):kn(c,"add",l,f)),E}}function Lf(r,s){const c=Kt(r,s);r[s];const l=Reflect.deleteProperty(r,s);return l&&c&&kn(r,"delete",s,void 0),l}function Cf(r,s){const c=Reflect.has(r,s);return(!Jr(s)||!yu.has(s))&&je(r,"has",s),c}function Af(r){return je(r,"iterate",Pt(r)?"length":er),Reflect.ownKeys(r)}const gu={get:If,set:Nf,deleteProperty:Lf,has:Cf,ownKeys:Af},Pf={get:Of,set(r,s){return!0},deleteProperty(r,s){return!0}},Mf=Re({},gu,{get:kf,set:Df}),$o=r=>r,to=r=>Reflect.getPrototypeOf(r);function ki(r,s,c=!1,l=!1){r=r.__v_raw;const f=Jt(r),h=Jt(s);c||(s!==h&&je(f,"get",s),je(f,"get",h));const{has:w}=to(f),m=l?$o:c?ns:Qr;if(w.call(f,s))return m(r.get(s));if(w.call(f,h))return m(r.get(h));r!==f&&r.get(s)}function Oi(r,s=!1){const c=this.__v_raw,l=Jt(c),f=Jt(r);return s||(r!==f&&je(l,"has",r),je(l,"has",f)),r===f?c.has(r):c.has(r)||c.has(f)}function Ti(r,s=!1){return r=r.__v_raw,!s&&je(Jt(r),"iterate",er),Reflect.get(r,"size",r)}function ka(r){r=Jt(r);const s=Jt(this);return to(s).has.call(s,r)||(s.add(r),kn(s,"add",r,r)),this}function Oa(r,s){s=Jt(s);const c=Jt(this),{has:l,get:f}=to(c);let h=l.call(c,r);h||(r=Jt(r),h=l.call(c,r));const w=f.call(c,r);return c.set(r,s),h?Gr(s,w)&&kn(c,"set",r,s):kn(c,"add",r,s),this}function Ta(r){const s=Jt(this),{has:c,get:l}=to(s);let f=c.call(s,r);f||(r=Jt(r),f=c.call(s,r)),l&&l.call(s,r);const h=s.delete(r);return f&&kn(s,"delete",r,void 0),h}function Ra(){const r=Jt(this),s=r.size!==0,c=r.clear();return s&&kn(r,"clear",void 0,void 0),c}function Ri(r,s){return function(l,f){const h=this,w=h.__v_raw,m=Jt(w),E=s?$o:r?ns:Qr;return!r&&je(m,"iterate",er),w.forEach((x,_)=>l.call(f,E(x),E(_),h))}}function Ni(r,s,c){return function(...l){const f=this.__v_raw,h=Jt(f),w=Er(h),m=r==="entries"||r===Symbol.iterator&&w,E=r==="keys"&&w,x=f[r](...l),_=c?$o:s?ns:Qr;return!s&&je(h,"iterate",E?Ao:er),{next(){const{value:d,done:b}=x.next();return b?{value:d,done:b}:{value:m?[_(d[0]),_(d[1])]:_(d),done:b}},[Symbol.iterator](){return this}}}}function Nn(r){return function(...s){return r==="delete"?!1:this}}function Uf(){const r={get(h){return ki(this,h)},get size(){return Ti(this)},has:Oi,add:ka,set:Oa,delete:Ta,clear:Ra,forEach:Ri(!1,!1)},s={get(h){return ki(this,h,!1,!0)},get size(){return Ti(this)},has:Oi,add:ka,set:Oa,delete:Ta,clear:Ra,forEach:Ri(!1,!0)},c={get(h){return ki(this,h,!0)},get size(){return Ti(this,!0)},has(h){return Oi.call(this,h,!0)},add:Nn("add"),set:Nn("set"),delete:Nn("delete"),clear:Nn("clear"),forEach:Ri(!0,!1)},l={get(h){return ki(this,h,!0,!0)},get size(){return Ti(this,!0)},has(h){return Oi.call(this,h,!0)},add:Nn("add"),set:Nn("set"),delete:Nn("delete"),clear:Nn("clear"),forEach:Ri(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{r[h]=Ni(h,!1,!1),c[h]=Ni(h,!0,!1),s[h]=Ni(h,!1,!0),l[h]=Ni(h,!0,!0)}),[r,c,s,l]}const[Bf,jf,zf,Wf]=Uf();function ts(r,s){const c=s?r?Wf:zf:r?jf:Bf;return(l,f,h)=>f==="__v_isReactive"?!r:f==="__v_isReadonly"?r:f==="__v_raw"?l:Reflect.get(Kt(c,f)&&f in l?c:l,f,h)}const Hf={get:ts(!1,!1)},Vf={get:ts(!1,!0)},Xf={get:ts(!0,!1)},mu=new WeakMap,_u=new WeakMap,wu=new WeakMap,Yf=new WeakMap;function Zf(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kf(r){return r.__v_skip||!Object.isExtensible(r)?0:Zf(vf(r))}function Rr(r){return br(r)?r:es(r,!1,gu,Hf,mu)}function qf(r){return es(r,!1,Mf,Vf,_u)}function Su(r){return es(r,!0,Pf,Xf,wu)}function es(r,s,c,l,f){if(!ie(r)||r.__v_raw&&!(s&&r.__v_isReactive))return r;const h=f.get(r);if(h)return h;const w=Kf(r);if(w===0)return r;const m=new Proxy(r,w===2?l:c);return f.set(r,m),m}function An(r){return br(r)?An(r.__v_raw):!!(r&&r.__v_isReactive)}function br(r){return!!(r&&r.__v_isReadonly)}function Wi(r){return!!(r&&r.__v_isShallow)}function Eu(r){return An(r)||br(r)}function Jt(r){const s=r&&r.__v_raw;return s?Jt(s):r}function Fr(r){return Bi(r,"__v_skip",!0),r}const Qr=r=>ie(r)?Rr(r):r,ns=r=>ie(r)?Su(r):r;function xu(r){Cn&&$e&&(r=Jt(r),pu(r.dep||(r.dep=Jo())))}function bu(r,s){r=Jt(r);const c=r.dep;c&&Po(c)}function ye(r){return!!(r&&r.__v_isRef===!0)}function Rt(r){return Jf(r,!1)}function Jf(r,s){return ye(r)?r:new Gf(r,s)}class Gf{constructor(s,c){this.__v_isShallow=c,this.dep=void 0,this.__v_isRef=!0,this._rawValue=c?s:Jt(s),this._value=c?s:Qr(s)}get value(){return xu(this),this._value}set value(s){const c=this.__v_isShallow||Wi(s)||br(s);s=c?s:Jt(s),Gr(s,this._rawValue)&&(this._rawValue=s,this._value=c?s:Qr(s),bu(this))}}function tn(r){return ye(r)?r.value:r}const Qf={get:(r,s,c)=>tn(Reflect.get(r,s,c)),set:(r,s,c,l)=>{const f=r[s];return ye(f)&&!ye(c)?(f.value=c,!0):Reflect.set(r,s,c,l)}};function Fu(r){return An(r)?r:new Proxy(r,Qf)}function $f(r){const s=Pt(r)?new Array(r.length):{};for(const c in r)s[c]=eh(r,c);return s}class th{constructor(s,c,l){this._object=s,this._key=c,this._defaultValue=l,this.__v_isRef=!0}get value(){const s=this._object[this._key];return s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return bf(Jt(this._object),this._key)}}function eh(r,s,c){const l=r[s];return ye(l)?l:new th(r,s,c)}var Iu;class nh{constructor(s,c,l,f){this._setter=c,this.dep=void 0,this.__v_isRef=!0,this[Iu]=!1,this._dirty=!0,this.effect=new Go(s,()=>{this._dirty||(this._dirty=!0,bu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=l}get value(){const s=Jt(this);return xu(s),(s._dirty||!s._cacheable)&&(s._dirty=!1,s._value=s.effect.run()),s._value}set value(s){this._setter(s)}}Iu="__v_isReadonly";function rh(r,s,c=!1){let l,f;const h=zt(r);return h?(l=r,f=nn):(l=r.get,f=r.set),new nh(l,f,h||!f,c)}function Pn(r,s,c,l){let f;try{f=l?r(...l):r()}catch(h){eo(h,s,c)}return f}function rn(r,s,c,l){if(zt(r)){const h=Pn(r,s,c,l);return h&&ou(h)&&h.catch(w=>{eo(w,s,c)}),h}const f=[];for(let h=0;h<r.length;h++)f.push(rn(r[h],s,c,l));return f}function eo(r,s,c,l=!0){const f=s?s.vnode:null;if(s){let h=s.parent;const w=s.proxy,m=c;for(;h;){const x=h.ec;if(x){for(let _=0;_<x.length;_++)if(x[_](r,w,m)===!1)return}h=h.parent}const E=s.appContext.config.errorHandler;if(E){Pn(E,null,10,[r,w,m]);return}}ih(r,c,f,l)}function ih(r,s,c,l=!0){console.error(r)}let $r=!1,Mo=!1;const ke=[];let pn=0;const xr=[];let In=null,Jn=0;const ku=Promise.resolve();let rs=null;function Ou(r){const s=rs||ku;return r?s.then(this?r.bind(this):r):s}function oh(r){let s=pn+1,c=ke.length;for(;s<c;){const l=s+c>>>1;ti(ke[l])<r?s=l+1:c=l}return s}function is(r){(!ke.length||!ke.includes(r,$r&&r.allowRecurse?pn+1:pn))&&(r.id==null?ke.push(r):ke.splice(oh(r.id),0,r),Tu())}function Tu(){!$r&&!Mo&&(Mo=!0,rs=ku.then(Nu))}function sh(r){const s=ke.indexOf(r);s>pn&&ke.splice(s,1)}function ah(r){Pt(r)?xr.push(...r):(!In||!In.includes(r,r.allowRecurse?Jn+1:Jn))&&xr.push(r),Tu()}function Na(r,s=$r?pn+1:0){for(;s<ke.length;s++){const c=ke[s];c&&c.pre&&(ke.splice(s,1),s--,c())}}function Ru(r){if(xr.length){const s=[...new Set(xr)];if(xr.length=0,In){In.push(...s);return}for(In=s,In.sort((c,l)=>ti(c)-ti(l)),Jn=0;Jn<In.length;Jn++)In[Jn]();In=null,Jn=0}}const ti=r=>r.id==null?1/0:r.id,uh=(r,s)=>{const c=ti(r)-ti(s);if(c===0){if(r.pre&&!s.pre)return-1;if(s.pre&&!r.pre)return 1}return c};function Nu(r){Mo=!1,$r=!0,ke.sort(uh);const s=nn;try{for(pn=0;pn<ke.length;pn++){const c=ke[pn];c&&c.active!==!1&&Pn(c,null,14)}}finally{pn=0,ke.length=0,Ru(),$r=!1,rs=null,(ke.length||xr.length)&&Nu()}}function ch(r,s,...c){if(r.isUnmounted)return;const l=r.vnode.props||re;let f=c;const h=s.startsWith("update:"),w=h&&s.slice(7);if(w&&w in l){const _=`${w==="modelValue"?"model":w}Modifiers`,{number:d,trim:b}=l[_]||re;b&&(f=c.map(p=>ge(p)?p.trim():p)),d&&(f=c.map(ji))}let m,E=l[m=To(s)]||l[m=To(gn(s))];!E&&h&&(E=l[m=To(or(s))]),E&&rn(E,r,6,f);const x=l[m+"Once"];if(x){if(!r.emitted)r.emitted={};else if(r.emitted[m])return;r.emitted[m]=!0,rn(x,r,6,f)}}function Du(r,s,c=!1){const l=s.emitsCache,f=l.get(r);if(f!==void 0)return f;const h=r.emits;let w={},m=!1;if(!zt(r)){const E=x=>{const _=Du(x,s,!0);_&&(m=!0,Re(w,_))};!c&&s.mixins.length&&s.mixins.forEach(E),r.extends&&E(r.extends),r.mixins&&r.mixins.forEach(E)}return!h&&!m?(ie(r)&&l.set(r,null),null):(Pt(h)?h.forEach(E=>w[E]=null):Re(w,h),ie(r)&&l.set(r,w),w)}function no(r,s){return!r||!Ji(s)?!1:(s=s.slice(2).replace(/Once$/,""),Kt(r,s[0].toLowerCase()+s.slice(1))||Kt(r,or(s))||Kt(r,s))}let Xe=null,ro=null;function Hi(r){const s=Xe;return Xe=r,ro=r&&r.type.__scopeId||null,s}function oi(r){ro=r}function si(){ro=null}function lh(r,s=Xe,c){if(!s||r._n)return r;const l=(...f)=>{l._d&&ja(-1);const h=Hi(s);let w;try{w=r(...f)}finally{Hi(h),l._d&&ja(1)}return w};return l._n=!0,l._c=!0,l._d=!0,l}function Ro(r){const{type:s,vnode:c,proxy:l,withProxy:f,props:h,propsOptions:[w],slots:m,attrs:E,emit:x,render:_,renderCache:d,data:b,setupState:p,ctx:C,inheritAttrs:R}=r;let D,M;const j=Hi(r);try{if(c.shapeFlag&4){const V=f||l;D=dn(_.call(V,V,d,h,p,b,C)),M=E}else{const V=s;D=dn(V.length>1?V(h,{attrs:E,slots:m,emit:x}):V(h,null)),M=s.props?E:fh(E)}}catch(V){Zr.length=0,eo(V,r,1),D=Ye(ir)}let q=D;if(M&&R!==!1){const V=Object.keys(M),{shapeFlag:z}=q;V.length&&z&7&&(w&&V.some(Zo)&&(M=hh(M,w)),q=Ir(q,M))}return c.dirs&&(q=Ir(q),q.dirs=q.dirs?q.dirs.concat(c.dirs):c.dirs),c.transition&&(q.transition=c.transition),D=q,Hi(j),D}const fh=r=>{let s;for(const c in r)(c==="class"||c==="style"||Ji(c))&&((s||(s={}))[c]=r[c]);return s},hh=(r,s)=>{const c={};for(const l in r)(!Zo(l)||!(l.slice(9)in s))&&(c[l]=r[l]);return c};function dh(r,s,c){const{props:l,children:f,component:h}=r,{props:w,children:m,patchFlag:E}=s,x=h.emitsOptions;if(s.dirs||s.transition)return!0;if(c&&E>=0){if(E&1024)return!0;if(E&16)return l?Da(l,w,x):!!w;if(E&8){const _=s.dynamicProps;for(let d=0;d<_.length;d++){const b=_[d];if(w[b]!==l[b]&&!no(x,b))return!0}}}else return(f||m)&&(!m||!m.$stable)?!0:l===w?!1:l?w?Da(l,w,x):!0:!!w;return!1}function Da(r,s,c){const l=Object.keys(s);if(l.length!==Object.keys(r).length)return!0;for(let f=0;f<l.length;f++){const h=l[f];if(s[h]!==r[h]&&!no(c,h))return!0}return!1}function ph({vnode:r,parent:s},c){for(;s&&s.subTree===r;)(r=s.vnode).el=c,s=s.parent}const yh=r=>r.__isSuspense;function vh(r,s){s&&s.pendingBranch?Pt(r)?s.effects.push(...r):s.effects.push(r):ah(r)}function gh(r,s){if(pe){let c=pe.provides;const l=pe.parent&&pe.parent.provides;l===c&&(c=pe.provides=Object.create(l)),c[r]=s}}function Xr(r,s,c=!1){const l=pe||Xe;if(l){const f=l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides;if(f&&r in f)return f[r];if(arguments.length>1)return c&&zt(s)?s.call(l.proxy):s}}const Di={};function Ai(r,s,c){return Lu(r,s,c)}function Lu(r,s,{immediate:c,deep:l,flush:f,onTrack:h,onTrigger:w}=re){const m=lu()===(pe==null?void 0:pe.scope)?pe:null;let E,x=!1,_=!1;if(ye(r)?(E=()=>r.value,x=Wi(r)):An(r)?(E=()=>r,l=!0):Pt(r)?(_=!0,x=r.some(q=>An(q)||Wi(q)),E=()=>r.map(q=>{if(ye(q))return q.value;if(An(q))return $n(q);if(zt(q))return Pn(q,m,2)})):zt(r)?s?E=()=>Pn(r,m,2):E=()=>{if(!(m&&m.isUnmounted))return d&&d(),rn(r,m,3,[b])}:E=nn,s&&l){const q=E;E=()=>$n(q())}let d,b=q=>{d=M.onStop=()=>{Pn(q,m,4)}},p;if(ni)if(b=nn,s?c&&rn(s,m,3,[E(),_?[]:void 0,b]):E(),f==="sync"){const q=cd();p=q.__watcherHandles||(q.__watcherHandles=[])}else return nn;let C=_?new Array(r.length).fill(Di):Di;const R=()=>{if(M.active)if(s){const q=M.run();(l||x||(_?q.some((V,z)=>Gr(V,C[z])):Gr(q,C)))&&(d&&d(),rn(s,m,3,[q,C===Di?void 0:_&&C[0]===Di?[]:C,b]),C=q)}else M.run()};R.allowRecurse=!!s;let D;f==="sync"?D=R:f==="post"?D=()=>Me(R,m&&m.suspense):(R.pre=!0,m&&(R.id=m.uid),D=()=>is(R));const M=new Go(E,D);s?c?R():C=M.run():f==="post"?Me(M.run.bind(M),m&&m.suspense):M.run();const j=()=>{M.stop(),m&&m.scope&&Ko(m.scope.effects,M)};return p&&p.push(j),j}function mh(r,s,c){const l=this.proxy,f=ge(r)?r.includes(".")?Cu(l,r):()=>l[r]:r.bind(l,l);let h;zt(s)?h=s:(h=s.handler,c=s);const w=pe;kr(this);const m=Lu(f,h.bind(l),c);return w?kr(w):nr(),m}function Cu(r,s){const c=s.split(".");return()=>{let l=r;for(let f=0;f<c.length&&l;f++)l=l[c[f]];return l}}function $n(r,s){if(!ie(r)||r.__v_skip||(s=s||new Set,s.has(r)))return r;if(s.add(r),ye(r))$n(r.value,s);else if(Pt(r))for(let c=0;c<r.length;c++)$n(r[c],s);else if(Gi(r)||Er(r))r.forEach(c=>{$n(c,s)});else if(au(r))for(const c in r)$n(r[c],s);return r}function on(r){return zt(r)?{setup:r,name:r.name}:r}const Pi=r=>!!r.type.__asyncLoader,Au=r=>r.type.__isKeepAlive;function _h(r,s){Pu(r,"a",s)}function wh(r,s){Pu(r,"da",s)}function Pu(r,s,c=pe){const l=r.__wdc||(r.__wdc=()=>{let f=c;for(;f;){if(f.isDeactivated)return;f=f.parent}return r()});if(io(s,l,c),c){let f=c.parent;for(;f&&f.parent;)Au(f.parent.vnode)&&Sh(l,s,c,f),f=f.parent}}function Sh(r,s,c,l){const f=io(s,r,l,!0);Uu(()=>{Ko(l[s],f)},c)}function io(r,s,c=pe,l=!1){if(c){const f=c[r]||(c[r]=[]),h=s.__weh||(s.__weh=(...w)=>{if(c.isUnmounted)return;Or(),kr(c);const m=rn(s,c,r,w);return nr(),Tr(),m});return l?f.unshift(h):f.push(h),h}}const On=r=>(s,c=pe)=>(!ni||r==="sp")&&io(r,(...l)=>s(...l),c),Eh=On("bm"),mn=On("m"),xh=On("bu"),bh=On("u"),Mu=On("bum"),Uu=On("um"),Fh=On("sp"),Ih=On("rtg"),kh=On("rtc");function Oh(r,s=pe){io("ec",r,s)}function Ie(r,s){const c=Xe;if(c===null)return r;const l=ao(c)||c.proxy,f=r.dirs||(r.dirs=[]);for(let h=0;h<s.length;h++){let[w,m,E,x=re]=s[h];w&&(zt(w)&&(w={mounted:w,updated:w}),w.deep&&$n(m),f.push({dir:w,instance:l,value:m,oldValue:void 0,arg:E,modifiers:x}))}return r}function Zn(r,s,c,l){const f=r.dirs,h=s&&s.dirs;for(let w=0;w<f.length;w++){const m=f[w];h&&(m.oldValue=h[w].value);let E=m.dir[l];E&&(Or(),rn(E,c,8,[r.el,m,r,s]),Tr())}}const Bu="components",ju=Symbol();function os(r){return ge(r)?Th(Bu,r,!1)||r:r||ju}function Th(r,s,c=!0,l=!1){const f=Xe||pe;if(f){const h=f.type;if(r===Bu){const m=sd(h,!1);if(m&&(m===s||m===gn(s)||m===$i(gn(s))))return h}const w=La(f[r]||h[r],s)||La(f.appContext[r],s);return!w&&l?h:w}}function La(r,s){return r&&(r[s]||r[gn(s)]||r[$i(gn(s))])}function rr(r,s,c,l){let f;const h=c&&c[l];if(Pt(r)||ge(r)){f=new Array(r.length);for(let w=0,m=r.length;w<m;w++)f[w]=s(r[w],w,void 0,h&&h[w])}else if(typeof r=="number"){f=new Array(r);for(let w=0;w<r;w++)f[w]=s(w+1,w,void 0,h&&h[w])}else if(ie(r))if(r[Symbol.iterator])f=Array.from(r,(w,m)=>s(w,m,void 0,h&&h[m]));else{const w=Object.keys(r);f=new Array(w.length);for(let m=0,E=w.length;m<E;m++){const x=w[m];f[m]=s(r[x],x,m,h&&h[m])}}else f=[];return c&&(c[l]=f),f}const Uo=r=>r?Qu(r)?ao(r)||r.proxy:Uo(r.parent):null,Yr=Re(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Uo(r.parent),$root:r=>Uo(r.root),$emit:r=>r.emit,$options:r=>ss(r),$forceUpdate:r=>r.f||(r.f=()=>is(r.update)),$nextTick:r=>r.n||(r.n=Ou.bind(r.proxy)),$watch:r=>mh.bind(r)}),No=(r,s)=>r!==re&&!r.__isScriptSetup&&Kt(r,s),Rh={get({_:r},s){const{ctx:c,setupState:l,data:f,props:h,accessCache:w,type:m,appContext:E}=r;let x;if(s[0]!=="$"){const p=w[s];if(p!==void 0)switch(p){case 1:return l[s];case 2:return f[s];case 4:return c[s];case 3:return h[s]}else{if(No(l,s))return w[s]=1,l[s];if(f!==re&&Kt(f,s))return w[s]=2,f[s];if((x=r.propsOptions[0])&&Kt(x,s))return w[s]=3,h[s];if(c!==re&&Kt(c,s))return w[s]=4,c[s];Bo&&(w[s]=0)}}const _=Yr[s];let d,b;if(_)return s==="$attrs"&&je(r,"get",s),_(r);if((d=m.__cssModules)&&(d=d[s]))return d;if(c!==re&&Kt(c,s))return w[s]=4,c[s];if(b=E.config.globalProperties,Kt(b,s))return b[s]},set({_:r},s,c){const{data:l,setupState:f,ctx:h}=r;return No(f,s)?(f[s]=c,!0):l!==re&&Kt(l,s)?(l[s]=c,!0):Kt(r.props,s)||s[0]==="$"&&s.slice(1)in r?!1:(h[s]=c,!0)},has({_:{data:r,setupState:s,accessCache:c,ctx:l,appContext:f,propsOptions:h}},w){let m;return!!c[w]||r!==re&&Kt(r,w)||No(s,w)||(m=h[0])&&Kt(m,w)||Kt(l,w)||Kt(Yr,w)||Kt(f.config.globalProperties,w)},defineProperty(r,s,c){return c.get!=null?r._.accessCache[s]=0:Kt(c,"value")&&this.set(r,s,c.value,null),Reflect.defineProperty(r,s,c)}};let Bo=!0;function Nh(r){const s=ss(r),c=r.proxy,l=r.ctx;Bo=!1,s.beforeCreate&&Ca(s.beforeCreate,r,"bc");const{data:f,computed:h,methods:w,watch:m,provide:E,inject:x,created:_,beforeMount:d,mounted:b,beforeUpdate:p,updated:C,activated:R,deactivated:D,beforeDestroy:M,beforeUnmount:j,destroyed:q,unmounted:V,render:z,renderTracked:rt,renderTriggered:X,errorCaptured:ct,serverPrefetch:St,expose:Z,inheritAttrs:at,components:mt,directives:Ut,filters:Ft}=s;if(x&&Dh(x,l,null,r.appContext.config.unwrapInjectedRef),w)for(const ft in w){const _t=w[ft];zt(_t)&&(l[ft]=_t.bind(c))}if(f){const ft=f.call(c,c);ie(ft)&&(r.data=Rr(ft))}if(Bo=!0,h)for(const ft in h){const _t=h[ft],K=zt(_t)?_t.bind(c,c):zt(_t.get)?_t.get.bind(c,c):nn,G=!zt(_t)&&zt(_t.set)?_t.set.bind(c):nn,ut=tc({get:K,set:G});Object.defineProperty(l,ft,{enumerable:!0,configurable:!0,get:()=>ut.value,set:wt=>ut.value=wt})}if(m)for(const ft in m)zu(m[ft],l,c,ft);if(E){const ft=zt(E)?E.call(c):E;Reflect.ownKeys(ft).forEach(_t=>{gh(_t,ft[_t])})}_&&Ca(_,r,"c");function Ot(ft,_t){Pt(_t)?_t.forEach(K=>ft(K.bind(c))):_t&&ft(_t.bind(c))}if(Ot(Eh,d),Ot(mn,b),Ot(xh,p),Ot(bh,C),Ot(_h,R),Ot(wh,D),Ot(Oh,ct),Ot(kh,rt),Ot(Ih,X),Ot(Mu,j),Ot(Uu,V),Ot(Fh,St),Pt(Z))if(Z.length){const ft=r.exposed||(r.exposed={});Z.forEach(_t=>{Object.defineProperty(ft,_t,{get:()=>c[_t],set:K=>c[_t]=K})})}else r.exposed||(r.exposed={});z&&r.render===nn&&(r.render=z),at!=null&&(r.inheritAttrs=at),mt&&(r.components=mt),Ut&&(r.directives=Ut)}function Dh(r,s,c=nn,l=!1){Pt(r)&&(r=jo(r));for(const f in r){const h=r[f];let w;ie(h)?"default"in h?w=Xr(h.from||f,h.default,!0):w=Xr(h.from||f):w=Xr(h),ye(w)&&l?Object.defineProperty(s,f,{enumerable:!0,configurable:!0,get:()=>w.value,set:m=>w.value=m}):s[f]=w}}function Ca(r,s,c){rn(Pt(r)?r.map(l=>l.bind(s.proxy)):r.bind(s.proxy),s,c)}function zu(r,s,c,l){const f=l.includes(".")?Cu(c,l):()=>c[l];if(ge(r)){const h=s[r];zt(h)&&Ai(f,h)}else if(zt(r))Ai(f,r.bind(c));else if(ie(r))if(Pt(r))r.forEach(h=>zu(h,s,c,l));else{const h=zt(r.handler)?r.handler.bind(c):s[r.handler];zt(h)&&Ai(f,h,r)}}function ss(r){const s=r.type,{mixins:c,extends:l}=s,{mixins:f,optionsCache:h,config:{optionMergeStrategies:w}}=r.appContext,m=h.get(s);let E;return m?E=m:!f.length&&!c&&!l?E=s:(E={},f.length&&f.forEach(x=>Vi(E,x,w,!0)),Vi(E,s,w)),ie(s)&&h.set(s,E),E}function Vi(r,s,c,l=!1){const{mixins:f,extends:h}=s;h&&Vi(r,h,c,!0),f&&f.forEach(w=>Vi(r,w,c,!0));for(const w in s)if(!(l&&w==="expose")){const m=Lh[w]||c&&c[w];r[w]=m?m(r[w],s[w]):s[w]}return r}const Lh={data:Aa,props:qn,emits:qn,methods:qn,computed:qn,beforeCreate:Te,created:Te,beforeMount:Te,mounted:Te,beforeUpdate:Te,updated:Te,beforeDestroy:Te,beforeUnmount:Te,destroyed:Te,unmounted:Te,activated:Te,deactivated:Te,errorCaptured:Te,serverPrefetch:Te,components:qn,directives:qn,watch:Ah,provide:Aa,inject:Ch};function Aa(r,s){return s?r?function(){return Re(zt(r)?r.call(this,this):r,zt(s)?s.call(this,this):s)}:s:r}function Ch(r,s){return qn(jo(r),jo(s))}function jo(r){if(Pt(r)){const s={};for(let c=0;c<r.length;c++)s[r[c]]=r[c];return s}return r}function Te(r,s){return r?[...new Set([].concat(r,s))]:s}function qn(r,s){return r?Re(Re(Object.create(null),r),s):s}function Ah(r,s){if(!r)return s;if(!s)return r;const c=Re(Object.create(null),r);for(const l in s)c[l]=Te(r[l],s[l]);return c}function Ph(r,s,c,l=!1){const f={},h={};Bi(h,so,1),r.propsDefaults=Object.create(null),Wu(r,s,f,h);for(const w in r.propsOptions[0])w in f||(f[w]=void 0);c?r.props=l?f:qf(f):r.type.props?r.props=f:r.props=h,r.attrs=h}function Mh(r,s,c,l){const{props:f,attrs:h,vnode:{patchFlag:w}}=r,m=Jt(f),[E]=r.propsOptions;let x=!1;if((l||w>0)&&!(w&16)){if(w&8){const _=r.vnode.dynamicProps;for(let d=0;d<_.length;d++){let b=_[d];if(no(r.emitsOptions,b))continue;const p=s[b];if(E)if(Kt(h,b))p!==h[b]&&(h[b]=p,x=!0);else{const C=gn(b);f[C]=zo(E,m,C,p,r,!1)}else p!==h[b]&&(h[b]=p,x=!0)}}}else{Wu(r,s,f,h)&&(x=!0);let _;for(const d in m)(!s||!Kt(s,d)&&((_=or(d))===d||!Kt(s,_)))&&(E?c&&(c[d]!==void 0||c[_]!==void 0)&&(f[d]=zo(E,m,d,void 0,r,!0)):delete f[d]);if(h!==m)for(const d in h)(!s||!Kt(s,d))&&(delete h[d],x=!0)}x&&kn(r,"set","$attrs")}function Wu(r,s,c,l){const[f,h]=r.propsOptions;let w=!1,m;if(s)for(let E in s){if(Li(E))continue;const x=s[E];let _;f&&Kt(f,_=gn(E))?!h||!h.includes(_)?c[_]=x:(m||(m={}))[_]=x:no(r.emitsOptions,E)||(!(E in l)||x!==l[E])&&(l[E]=x,w=!0)}if(h){const E=Jt(c),x=m||re;for(let _=0;_<h.length;_++){const d=h[_];c[d]=zo(f,E,d,x[d],r,!Kt(x,d))}}return w}function zo(r,s,c,l,f,h){const w=r[c];if(w!=null){const m=Kt(w,"default");if(m&&l===void 0){const E=w.default;if(w.type!==Function&&zt(E)){const{propsDefaults:x}=f;c in x?l=x[c]:(kr(f),l=x[c]=E.call(null,s),nr())}else l=E}w[0]&&(h&&!m?l=!1:w[1]&&(l===""||l===or(c))&&(l=!0))}return l}function Hu(r,s,c=!1){const l=s.propsCache,f=l.get(r);if(f)return f;const h=r.props,w={},m=[];let E=!1;if(!zt(r)){const _=d=>{E=!0;const[b,p]=Hu(d,s,!0);Re(w,b),p&&m.push(...p)};!c&&s.mixins.length&&s.mixins.forEach(_),r.extends&&_(r.extends),r.mixins&&r.mixins.forEach(_)}if(!h&&!E)return ie(r)&&l.set(r,Sr),Sr;if(Pt(h))for(let _=0;_<h.length;_++){const d=gn(h[_]);Pa(d)&&(w[d]=re)}else if(h)for(const _ in h){const d=gn(_);if(Pa(d)){const b=h[_],p=w[d]=Pt(b)||zt(b)?{type:b}:Object.assign({},b);if(p){const C=Ba(Boolean,p.type),R=Ba(String,p.type);p[0]=C>-1,p[1]=R<0||C<R,(C>-1||Kt(p,"default"))&&m.push(d)}}}const x=[w,m];return ie(r)&&l.set(r,x),x}function Pa(r){return r[0]!=="$"}function Ma(r){const s=r&&r.toString().match(/^\s*(function|class) (\w+)/);return s?s[2]:r===null?"null":""}function Ua(r,s){return Ma(r)===Ma(s)}function Ba(r,s){return Pt(s)?s.findIndex(c=>Ua(c,r)):zt(s)&&Ua(s,r)?0:-1}const Vu=r=>r[0]==="_"||r==="$stable",as=r=>Pt(r)?r.map(dn):[dn(r)],Uh=(r,s,c)=>{if(s._n)return s;const l=lh((...f)=>as(s(...f)),c);return l._c=!1,l},Xu=(r,s,c)=>{const l=r._ctx;for(const f in r){if(Vu(f))continue;const h=r[f];if(zt(h))s[f]=Uh(f,h,l);else if(h!=null){const w=as(h);s[f]=()=>w}}},Yu=(r,s)=>{const c=as(s);r.slots.default=()=>c},Bh=(r,s)=>{if(r.vnode.shapeFlag&32){const c=s._;c?(r.slots=Jt(s),Bi(s,"_",c)):Xu(s,r.slots={})}else r.slots={},s&&Yu(r,s);Bi(r.slots,so,1)},jh=(r,s,c)=>{const{vnode:l,slots:f}=r;let h=!0,w=re;if(l.shapeFlag&32){const m=s._;m?c&&m===1?h=!1:(Re(f,s),!c&&m===1&&delete f._):(h=!s.$stable,Xu(s,f)),w=s}else s&&(Yu(r,s),w={default:1});if(h)for(const m in f)!Vu(m)&&!(m in w)&&delete f[m]};function Zu(){return{app:null,config:{isNativeTag:df,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zh=0;function Wh(r,s){return function(l,f=null){zt(l)||(l=Object.assign({},l)),f!=null&&!ie(f)&&(f=null);const h=Zu(),w=new Set;let m=!1;const E=h.app={_uid:zh++,_component:l,_props:f,_container:null,_context:h,_instance:null,version:ld,get config(){return h.config},set config(x){},use(x,..._){return w.has(x)||(x&&zt(x.install)?(w.add(x),x.install(E,..._)):zt(x)&&(w.add(x),x(E,..._))),E},mixin(x){return h.mixins.includes(x)||h.mixins.push(x),E},component(x,_){return _?(h.components[x]=_,E):h.components[x]},directive(x,_){return _?(h.directives[x]=_,E):h.directives[x]},mount(x,_,d){if(!m){const b=Ye(l,f);return b.appContext=h,_&&s?s(b,x):r(b,x,d),m=!0,E._container=x,x.__vue_app__=E,ao(b.component)||b.component.proxy}},unmount(){m&&(r(null,E._container),delete E._container.__vue_app__)},provide(x,_){return h.provides[x]=_,E}};return E}}function Wo(r,s,c,l,f=!1){if(Pt(r)){r.forEach((b,p)=>Wo(b,s&&(Pt(s)?s[p]:s),c,l,f));return}if(Pi(l)&&!f)return;const h=l.shapeFlag&4?ao(l.component)||l.component.proxy:l.el,w=f?null:h,{i:m,r:E}=r,x=s&&s.r,_=m.refs===re?m.refs={}:m.refs,d=m.setupState;if(x!=null&&x!==E&&(ge(x)?(_[x]=null,Kt(d,x)&&(d[x]=null)):ye(x)&&(x.value=null)),zt(E))Pn(E,m,12,[w,_]);else{const b=ge(E),p=ye(E);if(b||p){const C=()=>{if(r.f){const R=b?Kt(d,E)?d[E]:_[E]:E.value;f?Pt(R)&&Ko(R,h):Pt(R)?R.includes(h)||R.push(h):b?(_[E]=[h],Kt(d,E)&&(d[E]=_[E])):(E.value=[h],r.k&&(_[r.k]=E.value))}else b?(_[E]=w,Kt(d,E)&&(d[E]=w)):p&&(E.value=w,r.k&&(_[r.k]=w))};w?(C.id=-1,Me(C,c)):C()}}}const Me=vh;function Hh(r){return Vh(r)}function Vh(r,s){const c=_f();c.__VUE__=!0;const{insert:l,remove:f,patchProp:h,createElement:w,createText:m,createComment:E,setText:x,setElementText:_,parentNode:d,nextSibling:b,setScopeId:p=nn,insertStaticContent:C}=r,R=(T,A,W,B=null,nt=null,Q=null,yt=!1,lt=null,dt=!!A.dynamicChildren)=>{if(T===A)return;T&&!Wr(T,A)&&(B=Gt(T),wt(T,nt,Q,!0),T=null),A.patchFlag===-2&&(dt=!1,A.dynamicChildren=null);const{type:F,ref:v,shapeFlag:g}=A;switch(F){case oo:D(T,A,W,B);break;case ir:M(T,A,W,B);break;case Mi:T==null&&j(A,W,B,yt);break;case Fe:mt(T,A,W,B,nt,Q,yt,lt,dt);break;default:g&1?z(T,A,W,B,nt,Q,yt,lt,dt):g&6?Ut(T,A,W,B,nt,Q,yt,lt,dt):(g&64||g&128)&&F.process(T,A,W,B,nt,Q,yt,lt,dt,N)}v!=null&&nt&&Wo(v,T&&T.ref,Q,A||T,!A)},D=(T,A,W,B)=>{if(T==null)l(A.el=m(A.children),W,B);else{const nt=A.el=T.el;A.children!==T.children&&x(nt,A.children)}},M=(T,A,W,B)=>{T==null?l(A.el=E(A.children||""),W,B):A.el=T.el},j=(T,A,W,B)=>{[T.el,T.anchor]=C(T.children,A,W,B,T.el,T.anchor)},q=({el:T,anchor:A},W,B)=>{let nt;for(;T&&T!==A;)nt=b(T),l(T,W,B),T=nt;l(A,W,B)},V=({el:T,anchor:A})=>{let W;for(;T&&T!==A;)W=b(T),f(T),T=W;f(A)},z=(T,A,W,B,nt,Q,yt,lt,dt)=>{yt=yt||A.type==="svg",T==null?rt(A,W,B,nt,Q,yt,lt,dt):St(T,A,nt,Q,yt,lt,dt)},rt=(T,A,W,B,nt,Q,yt,lt)=>{let dt,F;const{type:v,props:g,shapeFlag:O,transition:U,dirs:Y}=T;if(dt=T.el=w(T.type,Q,g&&g.is,g),O&8?_(dt,T.children):O&16&&ct(T.children,dt,null,B,nt,Q&&v!=="foreignObject",yt,lt),Y&&Zn(T,null,B,"created"),X(dt,T,T.scopeId,yt,B),g){for(const Et in g)Et!=="value"&&!Li(Et)&&h(dt,Et,null,g[Et],Q,T.children,B,nt,Mt);"value"in g&&h(dt,"value",null,g.value),(F=g.onVnodeBeforeMount)&&hn(F,B,T)}Y&&Zn(T,null,B,"beforeMount");const tt=(!nt||nt&&!nt.pendingBranch)&&U&&!U.persisted;tt&&U.beforeEnter(dt),l(dt,A,W),((F=g&&g.onVnodeMounted)||tt||Y)&&Me(()=>{F&&hn(F,B,T),tt&&U.enter(dt),Y&&Zn(T,null,B,"mounted")},nt)},X=(T,A,W,B,nt)=>{if(W&&p(T,W),B)for(let Q=0;Q<B.length;Q++)p(T,B[Q]);if(nt){let Q=nt.subTree;if(A===Q){const yt=nt.vnode;X(T,yt,yt.scopeId,yt.slotScopeIds,nt.parent)}}},ct=(T,A,W,B,nt,Q,yt,lt,dt=0)=>{for(let F=dt;F<T.length;F++){const v=T[F]=lt?Dn(T[F]):dn(T[F]);R(null,v,A,W,B,nt,Q,yt,lt)}},St=(T,A,W,B,nt,Q,yt)=>{const lt=A.el=T.el;let{patchFlag:dt,dynamicChildren:F,dirs:v}=A;dt|=T.patchFlag&16;const g=T.props||re,O=A.props||re;let U;W&&Kn(W,!1),(U=O.onVnodeBeforeUpdate)&&hn(U,W,A,T),v&&Zn(A,T,W,"beforeUpdate"),W&&Kn(W,!0);const Y=nt&&A.type!=="foreignObject";if(F?Z(T.dynamicChildren,F,lt,W,B,Y,Q):yt||_t(T,A,lt,null,W,B,Y,Q,!1),dt>0){if(dt&16)at(lt,A,g,O,W,B,nt);else if(dt&2&&g.class!==O.class&&h(lt,"class",null,O.class,nt),dt&4&&h(lt,"style",g.style,O.style,nt),dt&8){const tt=A.dynamicProps;for(let Et=0;Et<tt.length;Et++){const Tt=tt[Et],Wt=g[Tt],Qt=O[Tt];(Qt!==Wt||Tt==="value")&&h(lt,Tt,Wt,Qt,nt,T.children,W,B,Mt)}}dt&1&&T.children!==A.children&&_(lt,A.children)}else!yt&&F==null&&at(lt,A,g,O,W,B,nt);((U=O.onVnodeUpdated)||v)&&Me(()=>{U&&hn(U,W,A,T),v&&Zn(A,T,W,"updated")},B)},Z=(T,A,W,B,nt,Q,yt)=>{for(let lt=0;lt<A.length;lt++){const dt=T[lt],F=A[lt],v=dt.el&&(dt.type===Fe||!Wr(dt,F)||dt.shapeFlag&70)?d(dt.el):W;R(dt,F,v,null,B,nt,Q,yt,!0)}},at=(T,A,W,B,nt,Q,yt)=>{if(W!==B){if(W!==re)for(const lt in W)!Li(lt)&&!(lt in B)&&h(T,lt,W[lt],null,yt,A.children,nt,Q,Mt);for(const lt in B){if(Li(lt))continue;const dt=B[lt],F=W[lt];dt!==F&&lt!=="value"&&h(T,lt,F,dt,yt,A.children,nt,Q,Mt)}"value"in B&&h(T,"value",W.value,B.value)}},mt=(T,A,W,B,nt,Q,yt,lt,dt)=>{const F=A.el=T?T.el:m(""),v=A.anchor=T?T.anchor:m("");let{patchFlag:g,dynamicChildren:O,slotScopeIds:U}=A;U&&(lt=lt?lt.concat(U):U),T==null?(l(F,W,B),l(v,W,B),ct(A.children,W,v,nt,Q,yt,lt,dt)):g>0&&g&64&&O&&T.dynamicChildren?(Z(T.dynamicChildren,O,W,nt,Q,yt,lt),(A.key!=null||nt&&A===nt.subTree)&&Ku(T,A,!0)):_t(T,A,W,v,nt,Q,yt,lt,dt)},Ut=(T,A,W,B,nt,Q,yt,lt,dt)=>{A.slotScopeIds=lt,T==null?A.shapeFlag&512?nt.ctx.activate(A,W,B,yt,dt):Ft(A,W,B,nt,Q,yt,dt):Dt(T,A,dt)},Ft=(T,A,W,B,nt,Q,yt)=>{const lt=T.component=ed(T,B,nt);if(Au(T)&&(lt.ctx.renderer=N),nd(lt),lt.asyncDep){if(nt&&nt.registerDep(lt,Ot),!T.el){const dt=lt.subTree=Ye(ir);M(null,dt,A,W)}return}Ot(lt,T,A,W,nt,Q,yt)},Dt=(T,A,W)=>{const B=A.component=T.component;if(dh(T,A,W))if(B.asyncDep&&!B.asyncResolved){ft(B,A,W);return}else B.next=A,sh(B.update),B.update();else A.el=T.el,B.vnode=A},Ot=(T,A,W,B,nt,Q,yt)=>{const lt=()=>{if(T.isMounted){let{next:v,bu:g,u:O,parent:U,vnode:Y}=T,tt=v,Et;Kn(T,!1),v?(v.el=Y.el,ft(T,v,yt)):v=Y,g&&Ci(g),(Et=v.props&&v.props.onVnodeBeforeUpdate)&&hn(Et,U,v,Y),Kn(T,!0);const Tt=Ro(T),Wt=T.subTree;T.subTree=Tt,R(Wt,Tt,d(Wt.el),Gt(Wt),T,nt,Q),v.el=Tt.el,tt===null&&ph(T,Tt.el),O&&Me(O,nt),(Et=v.props&&v.props.onVnodeUpdated)&&Me(()=>hn(Et,U,v,Y),nt)}else{let v;const{el:g,props:O}=A,{bm:U,m:Y,parent:tt}=T,Et=Pi(A);if(Kn(T,!1),U&&Ci(U),!Et&&(v=O&&O.onVnodeBeforeMount)&&hn(v,tt,A),Kn(T,!0),g&&st){const Tt=()=>{T.subTree=Ro(T),st(g,T.subTree,T,nt,null)};Et?A.type.__asyncLoader().then(()=>!T.isUnmounted&&Tt()):Tt()}else{const Tt=T.subTree=Ro(T);R(null,Tt,W,B,T,nt,Q),A.el=Tt.el}if(Y&&Me(Y,nt),!Et&&(v=O&&O.onVnodeMounted)){const Tt=A;Me(()=>hn(v,tt,Tt),nt)}(A.shapeFlag&256||tt&&Pi(tt.vnode)&&tt.vnode.shapeFlag&256)&&T.a&&Me(T.a,nt),T.isMounted=!0,A=W=B=null}},dt=T.effect=new Go(lt,()=>is(F),T.scope),F=T.update=()=>dt.run();F.id=T.uid,Kn(T,!0),F()},ft=(T,A,W)=>{A.component=T;const B=T.vnode.props;T.vnode=A,T.next=null,Mh(T,A.props,B,W),jh(T,A.children,W),Or(),Na(),Tr()},_t=(T,A,W,B,nt,Q,yt,lt,dt=!1)=>{const F=T&&T.children,v=T?T.shapeFlag:0,g=A.children,{patchFlag:O,shapeFlag:U}=A;if(O>0){if(O&128){G(F,g,W,B,nt,Q,yt,lt,dt);return}else if(O&256){K(F,g,W,B,nt,Q,yt,lt,dt);return}}U&8?(v&16&&Mt(F,nt,Q),g!==F&&_(W,g)):v&16?U&16?G(F,g,W,B,nt,Q,yt,lt,dt):Mt(F,nt,Q,!0):(v&8&&_(W,""),U&16&&ct(g,W,B,nt,Q,yt,lt,dt))},K=(T,A,W,B,nt,Q,yt,lt,dt)=>{T=T||Sr,A=A||Sr;const F=T.length,v=A.length,g=Math.min(F,v);let O;for(O=0;O<g;O++){const U=A[O]=dt?Dn(A[O]):dn(A[O]);R(T[O],U,W,null,nt,Q,yt,lt,dt)}F>v?Mt(T,nt,Q,!0,!1,g):ct(A,W,B,nt,Q,yt,lt,dt,g)},G=(T,A,W,B,nt,Q,yt,lt,dt)=>{let F=0;const v=A.length;let g=T.length-1,O=v-1;for(;F<=g&&F<=O;){const U=T[F],Y=A[F]=dt?Dn(A[F]):dn(A[F]);if(Wr(U,Y))R(U,Y,W,null,nt,Q,yt,lt,dt);else break;F++}for(;F<=g&&F<=O;){const U=T[g],Y=A[O]=dt?Dn(A[O]):dn(A[O]);if(Wr(U,Y))R(U,Y,W,null,nt,Q,yt,lt,dt);else break;g--,O--}if(F>g){if(F<=O){const U=O+1,Y=U<v?A[U].el:B;for(;F<=O;)R(null,A[F]=dt?Dn(A[F]):dn(A[F]),W,Y,nt,Q,yt,lt,dt),F++}}else if(F>O)for(;F<=g;)wt(T[F],nt,Q,!0),F++;else{const U=F,Y=F,tt=new Map;for(F=Y;F<=O;F++){const le=A[F]=dt?Dn(A[F]):dn(A[F]);le.key!=null&&tt.set(le.key,F)}let Et,Tt=0;const Wt=O-Y+1;let Qt=!1,Vt=0;const Ee=new Array(Wt);for(F=0;F<Wt;F++)Ee[F]=0;for(F=U;F<=g;F++){const le=T[F];if(Tt>=Wt){wt(le,nt,Q,!0);continue}let _e;if(le.key!=null)_e=tt.get(le.key);else for(Et=Y;Et<=O;Et++)if(Ee[Et-Y]===0&&Wr(le,A[Et])){_e=Et;break}_e===void 0?wt(le,nt,Q,!0):(Ee[_e-Y]=F+1,_e>=Vt?Vt=_e:Qt=!0,R(le,A[_e],W,null,nt,Q,yt,lt,dt),Tt++)}const _n=Qt?Xh(Ee):Sr;for(Et=_n.length-1,F=Wt-1;F>=0;F--){const le=Y+F,_e=A[le],ur=le+1<v?A[le+1].el:B;Ee[F]===0?R(null,_e,W,ur,nt,Q,yt,lt,dt):Qt&&(Et<0||F!==_n[Et]?ut(_e,W,ur,2):Et--)}}},ut=(T,A,W,B,nt=null)=>{const{el:Q,type:yt,transition:lt,children:dt,shapeFlag:F}=T;if(F&6){ut(T.component.subTree,A,W,B);return}if(F&128){T.suspense.move(A,W,B);return}if(F&64){yt.move(T,A,W,N);return}if(yt===Fe){l(Q,A,W);for(let g=0;g<dt.length;g++)ut(dt[g],A,W,B);l(T.anchor,A,W);return}if(yt===Mi){q(T,A,W);return}if(B!==2&&F&1&&lt)if(B===0)lt.beforeEnter(Q),l(Q,A,W),Me(()=>lt.enter(Q),nt);else{const{leave:g,delayLeave:O,afterLeave:U}=lt,Y=()=>l(Q,A,W),tt=()=>{g(Q,()=>{Y(),U&&U()})};O?O(Q,Y,tt):tt()}else l(Q,A,W)},wt=(T,A,W,B=!1,nt=!1)=>{const{type:Q,props:yt,ref:lt,children:dt,dynamicChildren:F,shapeFlag:v,patchFlag:g,dirs:O}=T;if(lt!=null&&Wo(lt,null,W,T,!0),v&256){A.ctx.deactivate(T);return}const U=v&1&&O,Y=!Pi(T);let tt;if(Y&&(tt=yt&&yt.onVnodeBeforeUnmount)&&hn(tt,A,T),v&6)Ct(T.component,W,B);else{if(v&128){T.suspense.unmount(W,B);return}U&&Zn(T,null,A,"beforeUnmount"),v&64?T.type.remove(T,A,W,nt,N,B):F&&(Q!==Fe||g>0&&g&64)?Mt(F,A,W,!1,!0):(Q===Fe&&g&384||!nt&&v&16)&&Mt(dt,A,W),B&&Bt(T)}(Y&&(tt=yt&&yt.onVnodeUnmounted)||U)&&Me(()=>{tt&&hn(tt,A,T),U&&Zn(T,null,A,"unmounted")},W)},Bt=T=>{const{type:A,el:W,anchor:B,transition:nt}=T;if(A===Fe){Lt(W,B);return}if(A===Mi){V(T);return}const Q=()=>{f(W),nt&&!nt.persisted&&nt.afterLeave&&nt.afterLeave()};if(T.shapeFlag&1&&nt&&!nt.persisted){const{leave:yt,delayLeave:lt}=nt,dt=()=>yt(W,Q);lt?lt(T.el,Q,dt):dt()}else Q()},Lt=(T,A)=>{let W;for(;T!==A;)W=b(T),f(T),T=W;f(A)},Ct=(T,A,W)=>{const{bum:B,scope:nt,update:Q,subTree:yt,um:lt}=T;B&&Ci(B),nt.stop(),Q&&(Q.active=!1,wt(yt,T,A,W)),lt&&Me(lt,A),Me(()=>{T.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},Mt=(T,A,W,B=!1,nt=!1,Q=0)=>{for(let yt=Q;yt<T.length;yt++)wt(T[yt],A,W,B,nt)},Gt=T=>T.shapeFlag&6?Gt(T.component.subTree):T.shapeFlag&128?T.suspense.next():b(T.anchor||T.el),Xt=(T,A,W)=>{T==null?A._vnode&&wt(A._vnode,null,null,!0):R(A._vnode||null,T,A,null,null,null,W),Na(),Ru(),A._vnode=T},N={p:R,um:wt,m:ut,r:Bt,mt:Ft,mc:ct,pc:_t,pbc:Z,n:Gt,o:r};let L,st;return s&&([L,st]=s(N)),{render:Xt,hydrate:L,createApp:Wh(Xt,L)}}function Kn({effect:r,update:s},c){r.allowRecurse=s.allowRecurse=c}function Ku(r,s,c=!1){const l=r.children,f=s.children;if(Pt(l)&&Pt(f))for(let h=0;h<l.length;h++){const w=l[h];let m=f[h];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=f[h]=Dn(f[h]),m.el=w.el),c||Ku(w,m)),m.type===oo&&(m.el=w.el)}}function Xh(r){const s=r.slice(),c=[0];let l,f,h,w,m;const E=r.length;for(l=0;l<E;l++){const x=r[l];if(x!==0){if(f=c[c.length-1],r[f]<x){s[l]=f,c.push(l);continue}for(h=0,w=c.length-1;h<w;)m=h+w>>1,r[c[m]]<x?h=m+1:w=m;x<r[c[h]]&&(h>0&&(s[l]=c[h-1]),c[h]=l)}}for(h=c.length,w=c[h-1];h-- >0;)c[h]=w,w=s[w];return c}const Yh=r=>r.__isTeleport,Fe=Symbol(void 0),oo=Symbol(void 0),ir=Symbol(void 0),Mi=Symbol(void 0),Zr=[];let en=null;function Ht(r=!1){Zr.push(en=r?null:[])}function Zh(){Zr.pop(),en=Zr[Zr.length-1]||null}let ei=1;function ja(r){ei+=r}function qu(r){return r.dynamicChildren=ei>0?en||Sr:null,Zh(),ei>0&&en&&en.push(r),r}function qt(r,s,c,l,f,h){return qu(J(r,s,c,l,f,h,!0))}function ai(r,s,c,l,f){return qu(Ye(r,s,c,l,f,!0))}function Kh(r){return r?r.__v_isVNode===!0:!1}function Wr(r,s){return r.type===s.type&&r.key===s.key}const so="__vInternal",Ju=({key:r})=>r??null,Ui=({ref:r,ref_key:s,ref_for:c})=>r!=null?ge(r)||ye(r)||zt(r)?{i:Xe,r,k:s,f:!!c}:r:null;function J(r,s=null,c=null,l=0,f=null,h=r===Fe?0:1,w=!1,m=!1){const E={__v_isVNode:!0,__v_skip:!0,type:r,props:s,key:s&&Ju(s),ref:s&&Ui(s),scopeId:ro,slotScopeIds:null,children:c,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:l,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:Xe};return m?(us(E,c),h&128&&r.normalize(E)):c&&(E.shapeFlag|=ge(c)?8:16),ei>0&&!w&&en&&(E.patchFlag>0||h&6)&&E.patchFlag!==32&&en.push(E),E}const Ye=qh;function qh(r,s=null,c=null,l=0,f=null,h=!1){if((!r||r===ju)&&(r=ir),Kh(r)){const m=Ir(r,s,!0);return c&&us(m,c),ei>0&&!h&&en&&(m.shapeFlag&6?en[en.indexOf(r)]=m:en.push(m)),m.patchFlag|=-2,m}if(ad(r)&&(r=r.__vccOpts),s){s=Jh(s);let{class:m,style:E}=s;m&&!ge(m)&&(s.class=vn(m)),ie(E)&&(Eu(E)&&!Pt(E)&&(E=Re({},E)),s.style=Ki(E))}const w=ge(r)?1:yh(r)?128:Yh(r)?64:ie(r)?4:zt(r)?2:0;return J(r,s,c,l,f,w,h,!0)}function Jh(r){return r?Eu(r)||so in r?Re({},r):r:null}function Ir(r,s,c=!1){const{props:l,ref:f,patchFlag:h,children:w}=r,m=s?Qh(l||{},s):l;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:m,key:m&&Ju(m),ref:s&&s.ref?c&&f?Pt(f)?f.concat(Ui(s)):[f,Ui(s)]:Ui(s):f,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:w,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:s&&r.type!==Fe?h===-1?16:h|16:h,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Ir(r.ssContent),ssFallback:r.ssFallback&&Ir(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce}}function Gu(r=" ",s=0){return Ye(oo,null,r,s)}function Gh(r,s){const c=Ye(Mi,null,r);return c.staticCount=s,c}function Be(r="",s=!1){return s?(Ht(),ai(ir,null,r)):Ye(ir,null,r)}function dn(r){return r==null||typeof r=="boolean"?Ye(ir):Pt(r)?Ye(Fe,null,r.slice()):typeof r=="object"?Dn(r):Ye(oo,null,String(r))}function Dn(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Ir(r)}function us(r,s){let c=0;const{shapeFlag:l}=r;if(s==null)s=null;else if(Pt(s))c=16;else if(typeof s=="object")if(l&65){const f=s.default;f&&(f._c&&(f._d=!1),us(r,f()),f._c&&(f._d=!0));return}else{c=32;const f=s._;!f&&!(so in s)?s._ctx=Xe:f===3&&Xe&&(Xe.slots._===1?s._=1:(s._=2,r.patchFlag|=1024))}else zt(s)?(s={default:s,_ctx:Xe},c=32):(s=String(s),l&64?(c=16,s=[Gu(s)]):c=8);r.children=s,r.shapeFlag|=c}function Qh(...r){const s={};for(let c=0;c<r.length;c++){const l=r[c];for(const f in l)if(f==="class")s.class!==l.class&&(s.class=vn([s.class,l.class]));else if(f==="style")s.style=Ki([s.style,l.style]);else if(Ji(f)){const h=s[f],w=l[f];w&&h!==w&&!(Pt(h)&&h.includes(w))&&(s[f]=h?[].concat(h,w):w)}else f!==""&&(s[f]=l[f])}return s}function hn(r,s,c,l=null){rn(r,s,7,[c,l])}const $h=Zu();let td=0;function ed(r,s,c){const l=r.type,f=(s?s.appContext:r.appContext)||$h,h={uid:td++,vnode:r,type:l,parent:s,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new uu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hu(l,f),emitsOptions:Du(l,f),emit:null,emitted:null,propsDefaults:re,inheritAttrs:l.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:c,suspenseId:c?c.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=s?s.root:h,h.emit=ch.bind(null,h),r.ce&&r.ce(h),h}let pe=null;const Ze=()=>pe||Xe,kr=r=>{pe=r,r.scope.on()},nr=()=>{pe&&pe.scope.off(),pe=null};function Qu(r){return r.vnode.shapeFlag&4}let ni=!1;function nd(r,s=!1){ni=s;const{props:c,children:l}=r.vnode,f=Qu(r);Ph(r,c,f,s),Bh(r,l);const h=f?rd(r,s):void 0;return ni=!1,h}function rd(r,s){const c=r.type;r.accessCache=Object.create(null),r.proxy=Fr(new Proxy(r.ctx,Rh));const{setup:l}=c;if(l){const f=r.setupContext=l.length>1?od(r):null;kr(r),Or();const h=Pn(l,r,0,[r.props,f]);if(Tr(),nr(),ou(h)){if(h.then(nr,nr),s)return h.then(w=>{za(r,w,s)}).catch(w=>{eo(w,r,0)});r.asyncDep=h}else za(r,h,s)}else $u(r,s)}function za(r,s,c){zt(s)?r.type.__ssrInlineRender?r.ssrRender=s:r.render=s:ie(s)&&(r.setupState=Fu(s)),$u(r,c)}let Wa;function $u(r,s,c){const l=r.type;if(!r.render){if(!s&&Wa&&!l.render){const f=l.template||ss(r).template;if(f){const{isCustomElement:h,compilerOptions:w}=r.appContext.config,{delimiters:m,compilerOptions:E}=l,x=Re(Re({isCustomElement:h,delimiters:m},w),E);l.render=Wa(f,x)}}r.render=l.render||nn}kr(r),Or(),Nh(r),Tr(),nr()}function id(r){return new Proxy(r.attrs,{get(s,c){return je(r,"get","$attrs"),s[c]}})}function od(r){const s=l=>{r.exposed=l||{}};let c;return{get attrs(){return c||(c=id(r))},slots:r.slots,emit:r.emit,expose:s}}function ao(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Fu(Fr(r.exposed)),{get(s,c){if(c in s)return s[c];if(c in Yr)return Yr[c](r)},has(s,c){return c in s||c in Yr}}))}function sd(r,s=!0){return zt(r)?r.displayName||r.name:r.name||s&&r.__name}function ad(r){return zt(r)&&"__vccOpts"in r}const tc=(r,s)=>rh(r,s,ni),ud=Symbol(""),cd=()=>Xr(ud),ld="3.2.47",fd="http://www.w3.org/2000/svg",Gn=typeof document<"u"?document:null,Ha=Gn&&Gn.createElement("template"),hd={insert:(r,s,c)=>{s.insertBefore(r,c||null)},remove:r=>{const s=r.parentNode;s&&s.removeChild(r)},createElement:(r,s,c,l)=>{const f=s?Gn.createElementNS(fd,r):Gn.createElement(r,c?{is:c}:void 0);return r==="select"&&l&&l.multiple!=null&&f.setAttribute("multiple",l.multiple),f},createText:r=>Gn.createTextNode(r),createComment:r=>Gn.createComment(r),setText:(r,s)=>{r.nodeValue=s},setElementText:(r,s)=>{r.textContent=s},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Gn.querySelector(r),setScopeId(r,s){r.setAttribute(s,"")},insertStaticContent(r,s,c,l,f,h){const w=c?c.previousSibling:s.lastChild;if(f&&(f===h||f.nextSibling))for(;s.insertBefore(f.cloneNode(!0),c),!(f===h||!(f=f.nextSibling)););else{Ha.innerHTML=l?`<svg>${r}</svg>`:r;const m=Ha.content;if(l){const E=m.firstChild;for(;E.firstChild;)m.appendChild(E.firstChild);m.removeChild(E)}s.insertBefore(m,c)}return[w?w.nextSibling:s.firstChild,c?c.previousSibling:s.lastChild]}};function dd(r,s,c){const l=r._vtc;l&&(s=(s?[s,...l]:[...l]).join(" ")),s==null?r.removeAttribute("class"):c?r.setAttribute("class",s):r.className=s}function pd(r,s,c){const l=r.style,f=ge(c);if(c&&!f){if(s&&!ge(s))for(const h in s)c[h]==null&&Ho(l,h,"");for(const h in c)Ho(l,h,c[h])}else{const h=l.display;f?s!==c&&(l.cssText=c):s&&r.removeAttribute("style"),"_vod"in r&&(l.display=h)}}const Va=/\s*!important$/;function Ho(r,s,c){if(Pt(c))c.forEach(l=>Ho(r,s,l));else if(c==null&&(c=""),s.startsWith("--"))r.setProperty(s,c);else{const l=yd(r,s);Va.test(c)?r.setProperty(or(l),c.replace(Va,""),"important"):r[l]=c}}const Xa=["Webkit","Moz","ms"],Do={};function yd(r,s){const c=Do[s];if(c)return c;let l=gn(s);if(l!=="filter"&&l in r)return Do[s]=l;l=$i(l);for(let f=0;f<Xa.length;f++){const h=Xa[f]+l;if(h in r)return Do[s]=h}return s}const Ya="http://www.w3.org/1999/xlink";function vd(r,s,c,l,f){if(l&&s.startsWith("xlink:"))c==null?r.removeAttributeNS(Ya,s.slice(6,s.length)):r.setAttributeNS(Ya,s,c);else{const h=lf(s);c==null||h&&!ru(c)?r.removeAttribute(s):r.setAttribute(s,h?"":c)}}function gd(r,s,c,l,f,h,w){if(s==="innerHTML"||s==="textContent"){l&&w(l,f,h),r[s]=c??"";return}if(s==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=c;const E=c??"";(r.value!==E||r.tagName==="OPTION")&&(r.value=E),c==null&&r.removeAttribute(s);return}let m=!1;if(c===""||c==null){const E=typeof r[s];E==="boolean"?c=ru(c):c==null&&E==="string"?(c="",m=!0):E==="number"&&(c=0,m=!0)}try{r[s]=c}catch{}m&&r.removeAttribute(s)}function Qn(r,s,c,l){r.addEventListener(s,c,l)}function md(r,s,c,l){r.removeEventListener(s,c,l)}function _d(r,s,c,l,f=null){const h=r._vei||(r._vei={}),w=h[s];if(l&&w)w.value=l;else{const[m,E]=wd(s);if(l){const x=h[s]=xd(l,f);Qn(r,m,x,E)}else w&&(md(r,m,w,E),h[s]=void 0)}}const Za=/(?:Once|Passive|Capture)$/;function wd(r){let s;if(Za.test(r)){s={};let l;for(;l=r.match(Za);)r=r.slice(0,r.length-l[0].length),s[l[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):or(r.slice(2)),s]}let Lo=0;const Sd=Promise.resolve(),Ed=()=>Lo||(Sd.then(()=>Lo=0),Lo=Date.now());function xd(r,s){const c=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=c.attached)return;rn(bd(l,c.value),s,5,[l])};return c.value=r,c.attached=Ed(),c}function bd(r,s){if(Pt(s)){const c=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{c.call(r),r._stopped=!0},s.map(l=>f=>!f._stopped&&l&&l(f))}else return s}const Ka=/^on[a-z]/,Fd=(r,s,c,l,f=!1,h,w,m,E)=>{s==="class"?dd(r,l,f):s==="style"?pd(r,c,l):Ji(s)?Zo(s)||_d(r,s,c,l,w):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Id(r,s,l,f))?gd(r,s,l,h,w,m,E):(s==="true-value"?r._trueValue=l:s==="false-value"&&(r._falseValue=l),vd(r,s,l,f))};function Id(r,s,c,l){return l?!!(s==="innerHTML"||s==="textContent"||s in r&&Ka.test(s)&&zt(c)):s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&r.tagName==="INPUT"||s==="type"&&r.tagName==="TEXTAREA"||Ka.test(s)&&ge(c)?!1:s in r}const Xi=r=>{const s=r.props["onUpdate:modelValue"]||!1;return Pt(s)?c=>Ci(s,c):s};function kd(r){r.target.composing=!0}function qa(r){const s=r.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const Ue={created(r,{modifiers:{lazy:s,trim:c,number:l}},f){r._assign=Xi(f);const h=l||f.props&&f.props.type==="number";Qn(r,s?"change":"input",w=>{if(w.target.composing)return;let m=r.value;c&&(m=m.trim()),h&&(m=ji(m)),r._assign(m)}),c&&Qn(r,"change",()=>{r.value=r.value.trim()}),s||(Qn(r,"compositionstart",kd),Qn(r,"compositionend",qa),Qn(r,"change",qa))},mounted(r,{value:s}){r.value=s??""},beforeUpdate(r,{value:s,modifiers:{lazy:c,trim:l,number:f}},h){if(r._assign=Xi(h),r.composing||document.activeElement===r&&r.type!=="range"&&(c||l&&r.value.trim()===s||(f||r.type==="number")&&ji(r.value)===s))return;const w=s??"";r.value!==w&&(r.value=w)}},Ja={deep:!0,created(r,{value:s,modifiers:{number:c}},l){const f=Gi(s);Qn(r,"change",()=>{const h=Array.prototype.filter.call(r.options,w=>w.selected).map(w=>c?ji(Yi(w)):Yi(w));r._assign(r.multiple?f?new Set(h):h:h[0])}),r._assign=Xi(l)},mounted(r,{value:s}){Ga(r,s)},beforeUpdate(r,s,c){r._assign=Xi(c)},updated(r,{value:s}){Ga(r,s)}};function Ga(r,s){const c=r.multiple;if(!(c&&!Pt(s)&&!Gi(s))){for(let l=0,f=r.options.length;l<f;l++){const h=r.options[l],w=Yi(h);if(c)Pt(s)?h.selected=hf(s,w)>-1:h.selected=s.has(w);else if(qi(Yi(h),s)){r.selectedIndex!==l&&(r.selectedIndex=l);return}}!c&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}}function Yi(r){return"_value"in r?r._value:r.value}const Od=["ctrl","shift","alt","meta"],Td={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,s)=>Od.some(c=>r[`${c}Key`]&&!s.includes(c))},Qa=(r,s)=>(c,...l)=>{for(let f=0;f<s.length;f++){const h=Td[s[f]];if(h&&h(c,s))return}return r(c,...l)},Rd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},tr=(r,s)=>c=>{if(!("key"in c))return;const l=or(c.key);if(s.some(f=>f===l||Rd[f]===l))return r(c)},Nd=Re({patchProp:Fd},hd);let $a;function Dd(){return $a||($a=Hh(Nd))}const Ld=(...r)=>{const s=Dd().createApp(...r),{mount:c}=s;return s.mount=l=>{const f=Cd(l);if(!f)return;const h=s._component;!zt(h)&&!h.render&&!h.template&&(h.template=f.innerHTML),f.innerHTML="";const w=c(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),w},s};function Cd(r){return ge(r)?document.querySelector(r):r}var Ad=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let ec;const uo=r=>ec=r,nc=Symbol();function Vo(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Kr;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Kr||(Kr={}));function Pd(){const r=cu(!0),s=r.run(()=>Rt({}));let c=[],l=[];const f=Fr({install(h){uo(f),f._a=h,h.provide(nc,f),h.config.globalProperties.$pinia=f,l.forEach(w=>c.push(w)),l=[]},use(h){return!this._a&&!Ad?l.push(h):c.push(h),this},_p:c,_a:null,_e:r,_s:new Map,state:s});return f}const rc=()=>{};function tu(r,s,c,l=rc){r.push(s);const f=()=>{const h=r.indexOf(s);h>-1&&(r.splice(h,1),l())};return!c&&lu()&&Sf(f),f}function _r(r,...s){r.slice().forEach(c=>{c(...s)})}function Xo(r,s){r instanceof Map&&s instanceof Map&&s.forEach((c,l)=>r.set(l,c)),r instanceof Set&&s instanceof Set&&s.forEach(r.add,r);for(const c in s){if(!s.hasOwnProperty(c))continue;const l=s[c],f=r[c];Vo(f)&&Vo(l)&&r.hasOwnProperty(c)&&!ye(l)&&!An(l)?r[c]=Xo(f,l):r[c]=l}return r}const Md=Symbol();function Ud(r){return!Vo(r)||!r.hasOwnProperty(Md)}const{assign:Ln}=Object;function Bd(r){return!!(ye(r)&&r.effect)}function jd(r,s,c,l){const{state:f,actions:h,getters:w}=s,m=c.state.value[r];let E;function x(){m||(c.state.value[r]=f?f():{});const _=$f(c.state.value[r]);return Ln(_,h,Object.keys(w||{}).reduce((d,b)=>(d[b]=Fr(tc(()=>{uo(c);const p=c._s.get(r);return w[b].call(p,p)})),d),{}))}return E=ic(r,x,s,c,l,!0),E.$reset=function(){const d=f?f():{};this.$patch(b=>{Ln(b,d)})},E}function ic(r,s,c={},l,f,h){let w;const m=Ln({actions:{}},c),E={deep:!0};let x,_,d=Fr([]),b=Fr([]),p;const C=l.state.value[r];!h&&!C&&(l.state.value[r]={}),Rt({});let R;function D(X){let ct;x=_=!1,typeof X=="function"?(X(l.state.value[r]),ct={type:Kr.patchFunction,storeId:r,events:p}):(Xo(l.state.value[r],X),ct={type:Kr.patchObject,payload:X,storeId:r,events:p});const St=R=Symbol();Ou().then(()=>{R===St&&(x=!0)}),_=!0,_r(d,ct,l.state.value[r])}const M=rc;function j(){w.stop(),d=[],b=[],l._s.delete(r)}function q(X,ct){return function(){uo(l);const St=Array.from(arguments),Z=[],at=[];function mt(Dt){Z.push(Dt)}function Ut(Dt){at.push(Dt)}_r(b,{args:St,name:X,store:z,after:mt,onError:Ut});let Ft;try{Ft=ct.apply(this&&this.$id===r?this:z,St)}catch(Dt){throw _r(at,Dt),Dt}return Ft instanceof Promise?Ft.then(Dt=>(_r(Z,Dt),Dt)).catch(Dt=>(_r(at,Dt),Promise.reject(Dt))):(_r(Z,Ft),Ft)}}const V={_p:l,$id:r,$onAction:tu.bind(null,b),$patch:D,$reset:M,$subscribe(X,ct={}){const St=tu(d,X,ct.detached,()=>Z()),Z=w.run(()=>Ai(()=>l.state.value[r],at=>{(ct.flush==="sync"?_:x)&&X({storeId:r,type:Kr.direct,events:p},at)},Ln({},E,ct)));return St},$dispose:j},z=Rr(V);l._s.set(r,z);const rt=l._e.run(()=>(w=cu(),w.run(()=>s())));for(const X in rt){const ct=rt[X];if(ye(ct)&&!Bd(ct)||An(ct))h||(C&&Ud(ct)&&(ye(ct)?ct.value=C[X]:Xo(ct,C[X])),l.state.value[r][X]=ct);else if(typeof ct=="function"){const St=q(X,ct);rt[X]=St,m.actions[X]=ct}}return Ln(z,rt),Ln(Jt(z),rt),Object.defineProperty(z,"$state",{get:()=>l.state.value[r],set:X=>{D(ct=>{Ln(ct,X)})}}),l._p.forEach(X=>{Ln(z,w.run(()=>X({store:z,app:l._a,pinia:l,options:m})))}),C&&h&&c.hydrate&&c.hydrate(z.$state,C),x=!0,_=!0,z}function cs(r,s,c){let l,f;const h=typeof s=="function";typeof r=="string"?(l=r,f=h?c:s):(f=r,l=r.id);function w(m,E){const x=Ze();return m=m||x&&Xr(nc,null),m&&uo(m),m=ec,m._s.has(l)||(h?ic(l,s,f,m):jd(l,f,m)),m._s.get(l)}return w.$id=l,w}function zd(r){return{all:r=r||new Map,on:function(s,c){var l=r.get(s);l?l.push(c):r.set(s,[c])},off:function(s,c){var l=r.get(s);l&&(c?l.splice(l.indexOf(c)>>>0,1):r.set(s,[]))},emit:function(s,c){var l=r.get(s);l&&l.slice().map(function(f){f(c)}),(l=r.get("*"))&&l.slice().map(function(f){f(s,c)})}}}var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ri={},Hd={get exports(){return ri},set exports(r){ri=r}};(function(r,s){(function(l,f){r.exports=f()})(Wd,function(){return function(c){var l={};function f(h){if(l[h])return l[h].exports;var w=l[h]={exports:{},id:h,loaded:!1};return c[h].call(w.exports,w,w.exports,f),w.loaded=!0,w.exports}return f.m=c,f.c=l,f.p="",f(0)}([function(c,l,f){(function(h,w,m,E){Object.defineProperty(l,"__esModule",{value:!0});var x=f(2),_=f(9),d;(function(i){i[i.EPERM=1]="EPERM",i[i.ENOENT=2]="ENOENT",i[i.EIO=5]="EIO",i[i.EBADF=9]="EBADF",i[i.EACCES=13]="EACCES",i[i.EBUSY=16]="EBUSY",i[i.EEXIST=17]="EEXIST",i[i.ENOTDIR=20]="ENOTDIR",i[i.EISDIR=21]="EISDIR",i[i.EINVAL=22]="EINVAL",i[i.EFBIG=27]="EFBIG",i[i.ENOSPC=28]="ENOSPC",i[i.EROFS=30]="EROFS",i[i.ENOTEMPTY=39]="ENOTEMPTY",i[i.ENOTSUP=95]="ENOTSUP"})(d||(d={}));var b={};b[d.EPERM]="Operation not permitted.",b[d.ENOENT]="No such file or directory.",b[d.EIO]="Input/output error.",b[d.EBADF]="Bad file descriptor.",b[d.EACCES]="Permission denied.",b[d.EBUSY]="Resource busy or locked.",b[d.EEXIST]="File exists.",b[d.ENOTDIR]="File is not a directory.",b[d.EISDIR]="File is a directory.",b[d.EINVAL]="Invalid argument.",b[d.EFBIG]="File is too big.",b[d.ENOSPC]="No space left on disk.",b[d.EROFS]="Cannot modify a read-only file system.",b[d.ENOTEMPTY]="Directory is not empty.",b[d.ENOTSUP]="Operation is not supported.";var p=function(i){function t(n,e,o){e===void 0&&(e=b[n]),i.call(this,e),this.syscall="",this.errno=n,this.code=d[n],this.path=o,this.stack=new i().stack,this.message="Error: "+this.code+": "+e+(this.path?", '"+this.path+"'":"")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.fromJSON=function(e){var o=new t(0);return o.errno=e.errno,o.code=e.code,o.path=e.path,o.stack=e.stack,o.message=e.message,o},t.fromBuffer=function(e,o){return o===void 0&&(o=0),t.fromJSON(JSON.parse(e.toString("utf8",o+4,o+4+e.readUInt32LE(o))))},t.FileError=function(e,o){return new t(e,b[e],o)},t.ENOENT=function(e){return this.FileError(d.ENOENT,e)},t.EEXIST=function(e){return this.FileError(d.EEXIST,e)},t.EISDIR=function(e){return this.FileError(d.EISDIR,e)},t.ENOTDIR=function(e){return this.FileError(d.ENOTDIR,e)},t.EPERM=function(e){return this.FileError(d.EPERM,e)},t.ENOTEMPTY=function(e){return this.FileError(d.ENOTEMPTY,e)},t.prototype.toString=function(){return this.message},t.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},t.prototype.writeToBuffer=function(e,o){e===void 0&&(e=h.alloc(this.bufferSize())),o===void 0&&(o=0);var a=e.write(JSON.stringify(this.toJSON()),o+4);return e.writeUInt32LE(a,o),e},t.prototype.bufferSize=function(){return 4+h.byteLength(JSON.stringify(this.toJSON()))},t}(Error),C=Object.freeze({get ErrorCode(){return d},ErrorStrings:b,ApiError:p}),R;(function(i){i[i.NOP=0]="NOP",i[i.THROW_EXCEPTION=1]="THROW_EXCEPTION",i[i.TRUNCATE_FILE=2]="TRUNCATE_FILE",i[i.CREATE_FILE=3]="CREATE_FILE"})(R||(R={}));var D=function i(t){if(this.flagStr=t,i.validFlagStrs.indexOf(t)<0)throw new p(d.EINVAL,"Invalid flag: "+t)};D.getFileFlag=function(t){return D.flagCache.hasOwnProperty(t)?D.flagCache[t]:D.flagCache[t]=new D(t)},D.prototype.getFlagString=function(){return this.flagStr},D.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},D.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},D.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},D.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},D.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},D.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},D.prototype.pathExistsAction=function(){return this.isExclusive()?R.THROW_EXCEPTION:this.isTruncating()?R.TRUNCATE_FILE:R.NOP},D.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?R.CREATE_FILE:R.THROW_EXCEPTION},D.flagCache={},D.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var M;(function(i){i[i.FILE=32768]="FILE",i[i.DIRECTORY=16384]="DIRECTORY",i[i.SYMLINK=40960]="SYMLINK"})(M||(M={}));var j=function(t,n,e,o,a,u){if(o===void 0&&(o=new Date),a===void 0&&(a=new Date),u===void 0&&(u=new Date),this.size=n,this.atime=o,this.mtime=a,this.ctime=u,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,e)this.mode=e;else switch(t){case M.FILE:this.mode=420;break;case M.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(n/512),this.mode<4096&&(this.mode|=t)};j.fromBuffer=function(t){var n=t.readUInt32LE(0),e=t.readUInt32LE(4),o=t.readDoubleLE(8),a=t.readDoubleLE(16),u=t.readDoubleLE(24);return new j(e&61440,n,e&4095,new Date(o),new Date(a),new Date(u))},j.prototype.toBuffer=function(){var t=h.alloc(32);return t.writeUInt32LE(this.size,0),t.writeUInt32LE(this.mode,4),t.writeDoubleLE(this.atime.getTime(),8),t.writeDoubleLE(this.mtime.getTime(),16),t.writeDoubleLE(this.ctime.getTime(),24),t},j.prototype.clone=function(){return new j(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},j.prototype.isFile=function(){return(this.mode&61440)===M.FILE},j.prototype.isDirectory=function(){return(this.mode&61440)===M.DIRECTORY},j.prototype.isSymbolicLink=function(){return(this.mode&61440)===M.SYMLINK},j.prototype.chmod=function(t){this.mode=this.mode&61440|t},j.prototype.isSocket=function(){return!1},j.prototype.isBlockDevice=function(){return!1},j.prototype.isCharacterDevice=function(){return!1},j.prototype.isFIFO=function(){return!1};var q=function(i,t){return i};function V(i){if(i)return i;throw new p(d.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function z(i,t){switch(typeof i){case"number":return i;case"string":var n=parseInt(i,8);return isNaN(n)?t:n;default:return t}}function rt(i){if(i instanceof Date)return i;if(typeof i=="number")return new Date(i*1e3);throw new p(d.EINVAL,"Invalid time.")}function X(i){if(i.indexOf("\0")>=0)throw new p(d.EINVAL,"Path must be a string without null bytes.");if(i==="")throw new p(d.EINVAL,"Path must not be empty.");return _.resolve(i)}function ct(i,t,n,e){switch(typeof i){case"object":return{encoding:typeof i.encoding<"u"?i.encoding:t,flag:typeof i.flag<"u"?i.flag:n,mode:z(i.mode,e)};case"string":return{encoding:i,flag:n,mode:e};default:return{encoding:t,flag:n,mode:e}}}function St(){}var Z=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};Z.prototype.initialize=function(t){if(!t.constructor.isAvailable())throw new p(d.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=t},Z.prototype._toUnixTimestamp=function(t){if(typeof t=="number")return t;if(t instanceof Date)return t.getTime()/1e3;throw new Error("Cannot parse time: "+t)},Z.prototype.getRootFS=function(){return this.root?this.root:null},Z.prototype.rename=function(t,n,e){e===void 0&&(e=St);var o=q(e,1);try{V(this.root).rename(X(t),X(n),o)}catch(a){o(a)}},Z.prototype.renameSync=function(t,n){V(this.root).renameSync(X(t),X(n))},Z.prototype.exists=function(t,n){n===void 0&&(n=St);var e=q(n,1);try{return V(this.root).exists(X(t),e)}catch{return e(!1)}},Z.prototype.existsSync=function(t){try{return V(this.root).existsSync(X(t))}catch{return!1}},Z.prototype.stat=function(t,n){n===void 0&&(n=St);var e=q(n,2);try{return V(this.root).stat(X(t),!1,e)}catch(o){return e(o)}},Z.prototype.statSync=function(t){return V(this.root).statSync(X(t),!1)},Z.prototype.lstat=function(t,n){n===void 0&&(n=St);var e=q(n,2);try{return V(this.root).stat(X(t),!0,e)}catch(o){return e(o)}},Z.prototype.lstatSync=function(t){return V(this.root).statSync(X(t),!0)},Z.prototype.truncate=function(t,n,e){n===void 0&&(n=0),e===void 0&&(e=St);var o=0;typeof n=="function"?e=n:typeof n=="number"&&(o=n);var a=q(e,1);try{if(o<0)throw new p(d.EINVAL);return V(this.root).truncate(X(t),o,a)}catch(u){return a(u)}},Z.prototype.truncateSync=function(t,n){if(n===void 0&&(n=0),n<0)throw new p(d.EINVAL);return V(this.root).truncateSync(X(t),n)},Z.prototype.unlink=function(t,n){n===void 0&&(n=St);var e=q(n,1);try{return V(this.root).unlink(X(t),e)}catch(o){return e(o)}},Z.prototype.unlinkSync=function(t){return V(this.root).unlinkSync(X(t))},Z.prototype.open=function(t,n,e,o){var a=this;o===void 0&&(o=St);var u=z(e,420);o=typeof e=="function"?e:o;var y=q(o,2);try{V(this.root).open(X(t),D.getFileFlag(n),u,function(S,I){I?y(S,a.getFdForFile(I)):y(S)})}catch(S){y(S)}},Z.prototype.openSync=function(t,n,e){return e===void 0&&(e=420),this.getFdForFile(V(this.root).openSync(X(t),D.getFileFlag(n),z(e,420)))},Z.prototype.readFile=function(t,n,e){n===void 0&&(n={}),e===void 0&&(e=St);var o=ct(n,null,"r",null);e=typeof n=="function"?n:e;var a=q(e,2);try{var u=D.getFileFlag(o.flag);return u.isReadable()?V(this.root).readFile(X(t),o.encoding,u,a):a(new p(d.EINVAL,"Flag passed to readFile must allow for reading."))}catch(y){return a(y)}},Z.prototype.readFileSync=function(t,n){n===void 0&&(n={});var e=ct(n,null,"r",null),o=D.getFileFlag(e.flag);if(!o.isReadable())throw new p(d.EINVAL,"Flag passed to readFile must allow for reading.");return V(this.root).readFileSync(X(t),e.encoding,o)},Z.prototype.writeFile=function(t,n,e,o){e===void 0&&(e={}),o===void 0&&(o=St);var a=ct(e,"utf8","w",420);o=typeof e=="function"?e:o;var u=q(o,1);try{var y=D.getFileFlag(a.flag);return y.isWriteable()?V(this.root).writeFile(X(t),n,a.encoding,y,a.mode,u):u(new p(d.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(S){return u(S)}},Z.prototype.writeFileSync=function(t,n,e){var o=ct(e,"utf8","w",420),a=D.getFileFlag(o.flag);if(!a.isWriteable())throw new p(d.EINVAL,"Flag passed to writeFile must allow for writing.");return V(this.root).writeFileSync(X(t),n,o.encoding,a,o.mode)},Z.prototype.appendFile=function(t,n,e,o){o===void 0&&(o=St);var a=ct(e,"utf8","a",420);o=typeof e=="function"?e:o;var u=q(o,1);try{var y=D.getFileFlag(a.flag);if(!y.isAppendable())return u(new p(d.EINVAL,"Flag passed to appendFile must allow for appending."));V(this.root).appendFile(X(t),n,a.encoding,y,a.mode,u)}catch(S){u(S)}},Z.prototype.appendFileSync=function(t,n,e){var o=ct(e,"utf8","a",420),a=D.getFileFlag(o.flag);if(!a.isAppendable())throw new p(d.EINVAL,"Flag passed to appendFile must allow for appending.");return V(this.root).appendFileSync(X(t),n,o.encoding,a,o.mode)},Z.prototype.fstat=function(t,n){n===void 0&&(n=St);var e=q(n,2);try{var o=this.fd2file(t);o.stat(e)}catch(a){e(a)}},Z.prototype.fstatSync=function(t){return this.fd2file(t).statSync()},Z.prototype.close=function(t,n){var e=this;n===void 0&&(n=St);var o=q(n,1);try{this.fd2file(t).close(function(a){a||e.closeFd(t),o(a)})}catch(a){o(a)}},Z.prototype.closeSync=function(t){this.fd2file(t).closeSync(),this.closeFd(t)},Z.prototype.ftruncate=function(t,n,e){e===void 0&&(e=St);var o=typeof n=="number"?n:0;e=typeof n=="function"?n:e;var a=q(e,1);try{var u=this.fd2file(t);if(o<0)throw new p(d.EINVAL);u.truncate(o,a)}catch(y){a(y)}},Z.prototype.ftruncateSync=function(t,n){n===void 0&&(n=0);var e=this.fd2file(t);if(n<0)throw new p(d.EINVAL);e.truncateSync(n)},Z.prototype.fsync=function(t,n){n===void 0&&(n=St);var e=q(n,1);try{this.fd2file(t).sync(e)}catch(o){e(o)}},Z.prototype.fsyncSync=function(t){this.fd2file(t).syncSync()},Z.prototype.fdatasync=function(t,n){n===void 0&&(n=St);var e=q(n,1);try{this.fd2file(t).datasync(e)}catch(o){e(o)}},Z.prototype.fdatasyncSync=function(t){this.fd2file(t).datasyncSync()},Z.prototype.write=function(t,n,e,o,a,u){u===void 0&&(u=St);var y,S,I,P=null;if(typeof n=="string"){var H="utf8";switch(typeof e){case"function":u=e;break;case"number":P=e,H=typeof o=="string"?o:"utf8",u=typeof a=="function"?a:u;break;default:return u=typeof o=="function"?o:typeof a=="function"?a:u,u(new p(d.EINVAL,"Invalid arguments."))}y=h.from(n,H),S=0,I=y.length}else y=n,S=e,I=o,P=typeof a=="number"?a:null,u=typeof a=="function"?a:u;var et=q(u,3);try{var ht=this.fd2file(t);P==null&&(P=ht.getPos()),ht.write(y,S,I,P,et)}catch(pt){et(pt)}},Z.prototype.writeSync=function(t,n,e,o,a){var u,y=0,S,I;if(typeof n=="string"){I=typeof e=="number"?e:null;var P=typeof o=="string"?o:"utf8";y=0,u=h.from(n,P),S=u.length}else u=n,y=e,S=o,I=typeof a=="number"?a:null;var H=this.fd2file(t);return I==null&&(I=H.getPos()),H.writeSync(u,y,S,I)},Z.prototype.read=function(t,n,e,o,a,u){u===void 0&&(u=St);var y,S,I,P,H;if(typeof n=="number"){I=n,y=e;var et=o;u=typeof a=="function"?a:u,S=0,P=h.alloc(I),H=q(function(pt,It,Nt){if(pt)return u(pt);u(pt,Nt.toString(et),It)},3)}else P=n,S=e,I=o,y=a,H=q(u,3);try{var ht=this.fd2file(t);y==null&&(y=ht.getPos()),ht.read(P,S,I,y,H)}catch(pt){H(pt)}},Z.prototype.readSync=function(t,n,e,o,a){var u=!1,y,S,I,P,H="utf8";typeof n=="number"?(I=n,P=e,H=o,S=0,y=h.alloc(I),u=!0):(y=n,S=e,I=o,P=a);var et=this.fd2file(t);P==null&&(P=et.getPos());var ht=et.readSync(y,S,I,P);return u?[y.toString(H),ht]:ht},Z.prototype.fchown=function(t,n,e,o){o===void 0&&(o=St);var a=q(o,1);try{this.fd2file(t).chown(n,e,a)}catch(u){a(u)}},Z.prototype.fchownSync=function(t,n,e){this.fd2file(t).chownSync(n,e)},Z.prototype.fchmod=function(t,n,e){var o=q(e,1);try{var a=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmod(a,o)}catch(u){o(u)}},Z.prototype.fchmodSync=function(t,n){var e=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmodSync(e)},Z.prototype.futimes=function(t,n,e,o){o===void 0&&(o=St);var a=q(o,1);try{var u=this.fd2file(t);typeof n=="number"&&(n=new Date(n*1e3)),typeof e=="number"&&(e=new Date(e*1e3)),u.utimes(n,e,a)}catch(y){a(y)}},Z.prototype.futimesSync=function(t,n,e){this.fd2file(t).utimesSync(rt(n),rt(e))},Z.prototype.rmdir=function(t,n){n===void 0&&(n=St);var e=q(n,1);try{t=X(t),V(this.root).rmdir(t,e)}catch(o){e(o)}},Z.prototype.rmdirSync=function(t){return t=X(t),V(this.root).rmdirSync(t)},Z.prototype.mkdir=function(t,n,e){e===void 0&&(e=St),typeof n=="function"&&(e=n,n=511);var o=q(e,1);try{t=X(t),V(this.root).mkdir(t,n,o)}catch(a){o(a)}},Z.prototype.mkdirSync=function(t,n){V(this.root).mkdirSync(X(t),z(n,511))},Z.prototype.readdir=function(t,n){n===void 0&&(n=St);var e=q(n,2);try{t=X(t),V(this.root).readdir(t,e)}catch(o){e(o)}},Z.prototype.readdirSync=function(t){return t=X(t),V(this.root).readdirSync(t)},Z.prototype.link=function(t,n,e){e===void 0&&(e=St);var o=q(e,1);try{t=X(t),n=X(n),V(this.root).link(t,n,o)}catch(a){o(a)}},Z.prototype.linkSync=function(t,n){return t=X(t),n=X(n),V(this.root).linkSync(t,n)},Z.prototype.symlink=function(t,n,e,o){o===void 0&&(o=St);var a=typeof e=="string"?e:"file";o=typeof e=="function"?e:o;var u=q(o,1);try{if(a!=="file"&&a!=="dir")return u(new p(d.EINVAL,"Invalid type: "+a));t=X(t),n=X(n),V(this.root).symlink(t,n,a,u)}catch(y){u(y)}},Z.prototype.symlinkSync=function(t,n,e){if(!e)e="file";else if(e!=="file"&&e!=="dir")throw new p(d.EINVAL,"Invalid type: "+e);return t=X(t),n=X(n),V(this.root).symlinkSync(t,n,e)},Z.prototype.readlink=function(t,n){n===void 0&&(n=St);var e=q(n,2);try{t=X(t),V(this.root).readlink(t,e)}catch(o){e(o)}},Z.prototype.readlinkSync=function(t){return t=X(t),V(this.root).readlinkSync(t)},Z.prototype.chown=function(t,n,e,o){o===void 0&&(o=St);var a=q(o,1);try{t=X(t),V(this.root).chown(t,!1,n,e,a)}catch(u){a(u)}},Z.prototype.chownSync=function(t,n,e){t=X(t),V(this.root).chownSync(t,!1,n,e)},Z.prototype.lchown=function(t,n,e,o){o===void 0&&(o=St);var a=q(o,1);try{t=X(t),V(this.root).chown(t,!0,n,e,a)}catch(u){a(u)}},Z.prototype.lchownSync=function(t,n,e){t=X(t),V(this.root).chownSync(t,!0,n,e)},Z.prototype.chmod=function(t,n,e){e===void 0&&(e=St);var o=q(e,1);try{var a=z(n,-1);if(a<0)throw new p(d.EINVAL,"Invalid mode.");V(this.root).chmod(X(t),!1,a,o)}catch(u){o(u)}},Z.prototype.chmodSync=function(t,n){var e=z(n,-1);if(e<0)throw new p(d.EINVAL,"Invalid mode.");t=X(t),V(this.root).chmodSync(t,!1,e)},Z.prototype.lchmod=function(t,n,e){e===void 0&&(e=St);var o=q(e,1);try{var a=z(n,-1);if(a<0)throw new p(d.EINVAL,"Invalid mode.");V(this.root).chmod(X(t),!0,a,o)}catch(u){o(u)}},Z.prototype.lchmodSync=function(t,n){var e=z(n,-1);if(e<1)throw new p(d.EINVAL,"Invalid mode.");V(this.root).chmodSync(X(t),!0,e)},Z.prototype.utimes=function(t,n,e,o){o===void 0&&(o=St);var a=q(o,1);try{V(this.root).utimes(X(t),rt(n),rt(e),a)}catch(u){a(u)}},Z.prototype.utimesSync=function(t,n,e){V(this.root).utimesSync(X(t),rt(n),rt(e))},Z.prototype.realpath=function(t,n,e){e===void 0&&(e=St);var o=typeof n=="object"?n:{};e=typeof n=="function"?n:St;var a=q(e,2);try{t=X(t),V(this.root).realpath(t,o,a)}catch(u){a(u)}},Z.prototype.realpathSync=function(t,n){return n===void 0&&(n={}),t=X(t),V(this.root).realpathSync(t,n)},Z.prototype.watchFile=function(t,n,e){throw new p(d.ENOTSUP)},Z.prototype.unwatchFile=function(t,n){throw new p(d.ENOTSUP)},Z.prototype.watch=function(t,n,e){throw new p(d.ENOTSUP)},Z.prototype.access=function(t,n,e){throw new p(d.ENOTSUP)},Z.prototype.accessSync=function(t,n){throw new p(d.ENOTSUP)},Z.prototype.createReadStream=function(t,n){throw new p(d.ENOTSUP)},Z.prototype.createWriteStream=function(t,n){throw new p(d.ENOTSUP)},Z.prototype.wrapCallbacks=function(t){q=t},Z.prototype.getFdForFile=function(t){var n=this.nextFd++;return this.fdMap[n]=t,n},Z.prototype.fd2file=function(t){var n=this.fdMap[t];if(n)return n;throw new p(d.EBADF,"Invalid file descriptor.")},Z.prototype.closeFd=function(t){delete this.fdMap[t]},Z.Stats=j;var at=new Z,mt={},Ut=Z.prototype;Object.keys(Ut).forEach(function(i){typeof at[i]=="function"?mt[i]=function(){return at[i].apply(at,arguments)}:mt[i]=at[i]}),mt.changeFSModule=function(i){at=i},mt.getFSModule=function(){return at},mt.FS=Z;function Ft(i,t,n,e,o){return i<t||n<t?i>n?n+1:i+1:e===o?t:t+1}function Dt(i,t){if(i===t)return 0;if(i.length>t.length){var n=i;i=t,t=n}for(var e=i.length,o=t.length;e>0&&i.charCodeAt(e-1)===t.charCodeAt(o-1);)e--,o--;for(var a=0;a<e&&i.charCodeAt(a)===t.charCodeAt(a);)a++;if(e-=a,o-=a,e===0||o===1)return o;for(var u=new Array(e<<1),y=0;y<e;)u[e+y]=i.charCodeAt(a+y),u[y]=++y;var S,I,P,H,et;for(S=0;S+3<o;)for(var ht=t.charCodeAt(a+(I=S)),pt=t.charCodeAt(a+(P=S+1)),It=t.charCodeAt(a+(H=S+2)),Nt=t.charCodeAt(a+(et=S+3)),jt=S+=4,ae=0;ae<e;){var be=u[e+ae],ln=u[ae];I=Ft(ln,I,P,ht,be),P=Ft(I,P,H,pt,be),H=Ft(P,H,et,It,be),jt=Ft(H,et,jt,Nt,be),u[ae++]=jt,et=H,H=P,P=I,I=ln}for(var fn=0;S<o;){var mr=t.charCodeAt(a+(I=S));fn=++S;for(var bn=0;bn<e;bn++){var Fn=u[bn];u[bn]=fn=Fn<I||fn<I?Fn>fn?fn+1:Fn+1:mr===u[e+bn]?I:I+1,I=Fn}}return fn}function Ot(i,t,n){i&&console.warn("["+t+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+t+".Create("+JSON.stringify(n)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var ft=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),_t=typeof window>"u";function K(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function G(i,t,n){n.existsSync(i)||(G(_.dirname(i),t,n),n.mkdirSync(i,t))}function ut(i){var t=wt(i),n=t.byteOffset,e=t.byteLength;return n===0&&e===t.buffer.byteLength?t.buffer:t.buffer.slice(n,n+e)}function wt(i){return i instanceof Uint8Array?i:new Uint8Array(i)}function Bt(i){return i instanceof h?i:i instanceof Uint8Array?Lt(i):h.from(i)}function Lt(i){return i instanceof h?i:i.byteOffset===0&&i.byteLength===i.buffer.byteLength?Ct(i.buffer):h.from(i.buffer,i.byteOffset,i.byteLength)}function Ct(i){return h.from(i)}function Mt(i,t,n){if(t===void 0&&(t=0),n===void 0&&(n=i.length),t<0||n<0||n>i.length||t>n)throw new TypeError("Invalid slice bounds on buffer of length "+i.length+": ["+t+", "+n+"]");if(i.length===0)return Xt();var e=wt(i),o=i[0],a=(o+1)%255;return i[0]=a,e[0]===a?(e[0]=o,Lt(e.slice(t,n))):(i[0]=o,Lt(e.subarray(t,n)))}var Gt=null;function Xt(){return Gt||(Gt=h.alloc(0))}function N(i,t){h.isBuffer(i)?t():t(new p(d.EINVAL,"option must be a Buffer."))}function L(i,t,n){var e=i.Options,o=i.Name,a=0,u=!1,y=!1;function S(et){u||(et&&(u=!0,n(et)),a--,a===0&&y&&n())}var I=function(et){if(e.hasOwnProperty(et)){var ht=e[et],pt=t[et];if(pt==null){if(!ht.optional){var It=Object.keys(t).filter(function(jt){return!(jt in e)}).map(function(jt){return{str:jt,distance:Dt(et,jt)}}).filter(function(jt){return jt.distance<5}).sort(function(jt,ae){return jt.distance-ae.distance});return u?{}:(u=!0,{v:n(new p(d.EINVAL,"["+o+"] Required option '"+et+"' not provided."+(It.length>0?" You provided unrecognized option '"+It[0].str+"'; perhaps you meant to type '"+et+"'.":"")+`
Option description: `+ht.description))})}}else{var Nt=!1;if(Array.isArray(ht.type)?Nt=ht.type.indexOf(typeof pt)!==-1:Nt=typeof pt===ht.type,Nt)ht.validator&&(a++,ht.validator(pt,S));else return u?{}:(u=!0,{v:n(new p(d.EINVAL,"["+o+"] Value provided for option "+et+" is not the proper type. Expected "+(Array.isArray(ht.type)?"one of {"+ht.type.join(", ")+"}":ht.type)+", but received "+typeof pt+`
Option description: `+ht.description))})}}};for(var P in e){var H=I(P);if(H)return H.v}y=!0,a===0&&!u&&n()}var st=Object.freeze({deprecationMessage:Ot,isIE:ft,isWebWorker:_t,fail:K,mkdirpSync:G,buffer2ArrayBuffer:ut,buffer2Uint8array:wt,arrayish2Buffer:Bt,uint8Array2Buffer:Lt,arrayBuffer2Buffer:Ct,copyingSlice:Mt,emptyBuffer:Xt,bufferValidator:N,checkOptions:L}),T=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};T.prototype.open=function(t){var n=this.fs.realPath(t.node),e=this.FS;try{e.isFile(t.node.mode)&&(t.nfd=this.nodefs.openSync(n,this.fs.flagsToPermissionString(t.flags)))}catch(o){throw o.code?new e.ErrnoError(this.ERRNO_CODES[o.code]):o}},T.prototype.close=function(t){var n=this.FS;try{n.isFile(t.node.mode)&&t.nfd&&this.nodefs.closeSync(t.nfd)}catch(e){throw e.code?new n.ErrnoError(this.ERRNO_CODES[e.code]):e}},T.prototype.read=function(t,n,e,o,a){try{return this.nodefs.readSync(t.nfd,Lt(n),e,o,a)}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}},T.prototype.write=function(t,n,e,o,a){try{return this.nodefs.writeSync(t.nfd,Lt(n),e,o,a)}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}},T.prototype.llseek=function(t,n,e){var o=n;if(e===1)o+=t.position;else if(e===2&&this.FS.isFile(t.node.mode))try{var a=this.nodefs.fstatSync(t.nfd);o+=a.size}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}if(o<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return t.position=o,o};var A=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};A.prototype.getattr=function(t){var n=this.fs.realPath(t),e;try{e=this.nodefs.lstatSync(n)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}return{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},A.prototype.setattr=function(t,n){var e=this.fs.realPath(t);try{if(n.mode!==void 0&&(this.nodefs.chmodSync(e,n.mode),t.mode=n.mode),n.timestamp!==void 0){var o=new Date(n.timestamp);this.nodefs.utimesSync(e,o,o)}}catch(a){if(!a.code)throw a;if(a.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[a.code])}if(n.size!==void 0)try{this.nodefs.truncateSync(e,n.size)}catch(a){throw a.code?new this.FS.ErrnoError(this.ERRNO_CODES[a.code]):a}},A.prototype.lookup=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n),o=this.fs.getMode(e);return this.fs.createNode(t,n,o)},A.prototype.mknod=function(t,n,e,o){var a=this.fs.createNode(t,n,e,o),u=this.fs.realPath(a);try{this.FS.isDir(a.mode)?this.nodefs.mkdirSync(u,a.mode):this.nodefs.writeFileSync(u,"",{mode:a.mode})}catch(y){throw y.code?new this.FS.ErrnoError(this.ERRNO_CODES[y.code]):y}return a},A.prototype.rename=function(t,n,e){var o=this.fs.realPath(t),a=this.PATH.join2(this.fs.realPath(n),e);try{this.nodefs.renameSync(o,a),t.name=e,t.parent=n}catch(u){throw u.code?new this.FS.ErrnoError(this.ERRNO_CODES[u.code]):u}},A.prototype.unlink=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.unlinkSync(e)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},A.prototype.rmdir=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.rmdirSync(e)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},A.prototype.readdir=function(t){var n=this.fs.realPath(t);try{var e=this.nodefs.readdirSync(n);return e.push(".",".."),e}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},A.prototype.symlink=function(t,n,e){var o=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.symlinkSync(e,o)}catch(a){throw a.code?new this.FS.ErrnoError(this.ERRNO_CODES[a.code]):a}},A.prototype.readlink=function(t){var n=this.fs.realPath(t);try{return this.nodefs.readlinkSync(n)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}};var W=function(t,n,e,o){t===void 0&&(t=self.FS),n===void 0&&(n=self.PATH),e===void 0&&(e=self.ERRNO_CODES),o===void 0&&(o=mt),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=o,this.FS=t,this.PATH=n,this.ERRNO_CODES=e,this.node_ops=new A(this),this.stream_ops=new T(this)};W.prototype.mount=function(t){return this.createNode(null,"/",this.getMode(t.opts.root),0)},W.prototype.createNode=function(t,n,e,o){var a=this.FS;if(!a.isDir(e)&&!a.isFile(e)&&!a.isLink(e))throw new a.ErrnoError(this.ERRNO_CODES.EINVAL);var u=a.createNode(t,n,e);return u.node_ops=this.node_ops,u.stream_ops=this.stream_ops,u},W.prototype.getMode=function(t){var n;try{n=this.nodefs.lstatSync(t)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}return n.mode},W.prototype.realPath=function(t){for(var n=[];t.parent!==t;)n.push(t.name),t=t.parent;return n.push(t.mount.opts.root),n.reverse(),this.PATH.join.apply(null,n)},W.prototype.flagsToPermissionString=function(t){var n=typeof t=="string"?parseInt(t,10):t;return n&=8191,n in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[n]:t},W.prototype.getNodeFS=function(){return this.nodefs},W.prototype.getFS=function(){return this.FS},W.prototype.getPATH=function(){return this.PATH},W.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var B=function(){};B.prototype.supportsLinks=function(){return!1},B.prototype.diskSpace=function(t,n){n(0,0)},B.prototype.openFile=function(t,n,e){throw new p(d.ENOTSUP)},B.prototype.createFile=function(t,n,e,o){throw new p(d.ENOTSUP)},B.prototype.open=function(t,n,e,o){var a=this,u=function(y,S){if(y)switch(n.pathNotExistsAction()){case R.CREATE_FILE:return a.stat(_.dirname(t),!1,function(I,P){I?o(I):P&&!P.isDirectory()?o(p.ENOTDIR(_.dirname(t))):a.createFile(t,n,e,o)});case R.THROW_EXCEPTION:return o(p.ENOENT(t));default:return o(new p(d.EINVAL,"Invalid FileFlag object."))}else{if(S&&S.isDirectory())return o(p.EISDIR(t));switch(n.pathExistsAction()){case R.THROW_EXCEPTION:return o(p.EEXIST(t));case R.TRUNCATE_FILE:return a.openFile(t,n,function(I,P){I?o(I):P?P.truncate(0,function(){P.sync(function(){o(null,P)})}):K()});case R.NOP:return a.openFile(t,n,o);default:return o(new p(d.EINVAL,"Invalid FileFlag object."))}}};this.stat(t,!1,u)},B.prototype.rename=function(t,n,e){e(new p(d.ENOTSUP))},B.prototype.renameSync=function(t,n){throw new p(d.ENOTSUP)},B.prototype.stat=function(t,n,e){e(new p(d.ENOTSUP))},B.prototype.statSync=function(t,n){throw new p(d.ENOTSUP)},B.prototype.openFileSync=function(t,n,e){throw new p(d.ENOTSUP)},B.prototype.createFileSync=function(t,n,e){throw new p(d.ENOTSUP)},B.prototype.openSync=function(t,n,e){var o;try{o=this.statSync(t,!1)}catch{switch(n.pathNotExistsAction()){case R.CREATE_FILE:var a=this.statSync(_.dirname(t),!1);if(!a.isDirectory())throw p.ENOTDIR(_.dirname(t));return this.createFileSync(t,n,e);case R.THROW_EXCEPTION:throw p.ENOENT(t);default:throw new p(d.EINVAL,"Invalid FileFlag object.")}}if(o.isDirectory())throw p.EISDIR(t);switch(n.pathExistsAction()){case R.THROW_EXCEPTION:throw p.EEXIST(t);case R.TRUNCATE_FILE:return this.unlinkSync(t),this.createFileSync(t,n,o.mode);case R.NOP:return this.openFileSync(t,n,e);default:throw new p(d.EINVAL,"Invalid FileFlag object.")}},B.prototype.unlink=function(t,n){n(new p(d.ENOTSUP))},B.prototype.unlinkSync=function(t){throw new p(d.ENOTSUP)},B.prototype.rmdir=function(t,n){n(new p(d.ENOTSUP))},B.prototype.rmdirSync=function(t){throw new p(d.ENOTSUP)},B.prototype.mkdir=function(t,n,e){e(new p(d.ENOTSUP))},B.prototype.mkdirSync=function(t,n){throw new p(d.ENOTSUP)},B.prototype.readdir=function(t,n){n(new p(d.ENOTSUP))},B.prototype.readdirSync=function(t){throw new p(d.ENOTSUP)},B.prototype.exists=function(t,n){this.stat(t,null,function(e){n(!e)})},B.prototype.existsSync=function(t){try{return this.statSync(t,!0),!0}catch{return!1}},B.prototype.realpath=function(t,n,e){if(this.supportsLinks())for(var o=t.split(_.sep),a=0;a<o.length;a++){var u=o.slice(0,a+1);o[a]=_.join.apply(null,u)}else this.exists(t,function(y){y?e(null,t):e(p.ENOENT(t))})},B.prototype.realpathSync=function(t,n){if(this.supportsLinks()){for(var e=t.split(_.sep),o=0;o<e.length;o++){var a=e.slice(0,o+1);e[o]=_.join.apply(_,a)}return e.join(_.sep)}else{if(this.existsSync(t))return t;throw p.ENOENT(t)}},B.prototype.truncate=function(t,n,e){this.open(t,D.getFileFlag("r+"),420,function(o,a){if(o)return e(o);a.truncate(n,function(u){a.close(function(y){e(u||y)})})})},B.prototype.truncateSync=function(t,n){var e=this.openSync(t,D.getFileFlag("r+"),420);try{e.truncateSync(n)}catch(o){throw o}finally{e.closeSync()}},B.prototype.readFile=function(t,n,e,o){var a=o;this.open(t,e,420,function(u,y){if(u)return o(u);o=function(S,I){y.close(function(P){return S||(S=P),a(S,I)})},y.stat(function(S,I){if(S)return o(S);var P=h.alloc(I.size);y.read(P,0,I.size,0,function(H){if(H)return o(H);if(n===null)return o(H,P);try{o(null,P.toString(n))}catch(et){o(et)}})})})},B.prototype.readFileSync=function(t,n,e){var o=this.openSync(t,e,420);try{var a=o.statSync(),u=h.alloc(a.size);return o.readSync(u,0,a.size,0),o.closeSync(),n===null?u:u.toString(n)}finally{o.closeSync()}},B.prototype.writeFile=function(t,n,e,o,a,u){var y=u;this.open(t,o,420,function(S,I){if(S)return u(S);u=function(P){I.close(function(H){y(P||H)})};try{typeof n=="string"&&(n=h.from(n,e))}catch(P){return u(P)}I.write(n,0,n.length,0,u)})},B.prototype.writeFileSync=function(t,n,e,o,a){var u=this.openSync(t,o,a);try{typeof n=="string"&&(n=h.from(n,e)),u.writeSync(n,0,n.length,0)}finally{u.closeSync()}},B.prototype.appendFile=function(t,n,e,o,a,u){var y=u;this.open(t,o,a,function(S,I){if(S)return u(S);u=function(P){I.close(function(H){y(P||H)})},typeof n=="string"&&(n=h.from(n,e)),I.write(n,0,n.length,null,u)})},B.prototype.appendFileSync=function(t,n,e,o,a){var u=this.openSync(t,o,a);try{typeof n=="string"&&(n=h.from(n,e)),u.writeSync(n,0,n.length,null)}finally{u.closeSync()}},B.prototype.chmod=function(t,n,e,o){o(new p(d.ENOTSUP))},B.prototype.chmodSync=function(t,n,e){throw new p(d.ENOTSUP)},B.prototype.chown=function(t,n,e,o,a){a(new p(d.ENOTSUP))},B.prototype.chownSync=function(t,n,e,o){throw new p(d.ENOTSUP)},B.prototype.utimes=function(t,n,e,o){o(new p(d.ENOTSUP))},B.prototype.utimesSync=function(t,n,e){throw new p(d.ENOTSUP)},B.prototype.link=function(t,n,e){e(new p(d.ENOTSUP))},B.prototype.linkSync=function(t,n){throw new p(d.ENOTSUP)},B.prototype.symlink=function(t,n,e,o){o(new p(d.ENOTSUP))},B.prototype.symlinkSync=function(t,n,e){throw new p(d.ENOTSUP)},B.prototype.readlink=function(t,n){n(new p(d.ENOTSUP))},B.prototype.readlinkSync=function(t){throw new p(d.ENOTSUP)};var nt=function(i){function t(){i.apply(this,arguments)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.supportsSynch=function(){return!0},t.prototype.rename=function(e,o,a){try{this.renameSync(e,o),a()}catch(u){a(u)}},t.prototype.stat=function(e,o,a){try{a(null,this.statSync(e,o))}catch(u){a(u)}},t.prototype.open=function(e,o,a,u){try{u(null,this.openSync(e,o,a))}catch(y){u(y)}},t.prototype.unlink=function(e,o){try{this.unlinkSync(e),o()}catch(a){o(a)}},t.prototype.rmdir=function(e,o){try{this.rmdirSync(e),o()}catch(a){o(a)}},t.prototype.mkdir=function(e,o,a){try{this.mkdirSync(e,o),a()}catch(u){a(u)}},t.prototype.readdir=function(e,o){try{o(null,this.readdirSync(e))}catch(a){o(a)}},t.prototype.chmod=function(e,o,a,u){try{this.chmodSync(e,o,a),u()}catch(y){u(y)}},t.prototype.chown=function(e,o,a,u,y){try{this.chownSync(e,o,a,u),y()}catch(S){y(S)}},t.prototype.utimes=function(e,o,a,u){try{this.utimesSync(e,o,a),u()}catch(y){u(y)}},t.prototype.link=function(e,o,a){try{this.linkSync(e,o),a()}catch(u){a(u)}},t.prototype.symlink=function(e,o,a,u){try{this.symlinkSync(e,o,a),u()}catch(y){u(y)}},t.prototype.readlink=function(e,o){try{o(null,this.readlinkSync(e))}catch(a){o(a)}},t}(B),Q=function(){};Q.prototype.sync=function(t){t(new p(d.ENOTSUP))},Q.prototype.syncSync=function(){throw new p(d.ENOTSUP)},Q.prototype.datasync=function(t){this.sync(t)},Q.prototype.datasyncSync=function(){return this.syncSync()},Q.prototype.chown=function(t,n,e){e(new p(d.ENOTSUP))},Q.prototype.chownSync=function(t,n){throw new p(d.ENOTSUP)},Q.prototype.chmod=function(t,n){n(new p(d.ENOTSUP))},Q.prototype.chmodSync=function(t){throw new p(d.ENOTSUP)},Q.prototype.utimes=function(t,n,e){e(new p(d.ENOTSUP))},Q.prototype.utimesSync=function(t,n){throw new p(d.ENOTSUP)};var yt=function(i){function t(n,e,o,a,u){if(i.call(this),this._pos=0,this._dirty=!1,this._fs=n,this._path=e,this._flag=o,this._stat=a,u?this._buffer=u:this._buffer=Xt(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.getBuffer=function(){return this._buffer},t.prototype.getStats=function(){return this._stat},t.prototype.getFlag=function(){return this._flag},t.prototype.getPath=function(){return this._path},t.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},t.prototype.advancePos=function(e){return this._pos+=e},t.prototype.setPos=function(e){return this._pos=e},t.prototype.sync=function(e){try{this.syncSync(),e()}catch(o){e(o)}},t.prototype.syncSync=function(){throw new p(d.ENOTSUP)},t.prototype.close=function(e){try{this.closeSync(),e()}catch(o){e(o)}},t.prototype.closeSync=function(){throw new p(d.ENOTSUP)},t.prototype.stat=function(e){try{e(null,this._stat.clone())}catch(o){e(o)}},t.prototype.statSync=function(){return this._stat.clone()},t.prototype.truncate=function(e,o){try{this.truncateSync(e),this._flag.isSynchronous()&&!mt.getRootFS().supportsSynch()&&this.sync(o),o()}catch(a){return o(a)}},t.prototype.truncateSync=function(e){if(this._dirty=!0,!this._flag.isWriteable())throw new p(d.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,e>this._buffer.length){var o=h.alloc(e-this._buffer.length,0);this.writeSync(o,0,o.length,this._buffer.length),this._flag.isSynchronous()&&mt.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=e;var a=h.alloc(e);this._buffer.copy(a,0,0,e),this._buffer=a,this._flag.isSynchronous()&&mt.getRootFS().supportsSynch()&&this.syncSync()},t.prototype.write=function(e,o,a,u,y){try{y(null,this.writeSync(e,o,a,u),e)}catch(S){y(S)}},t.prototype.writeSync=function(e,o,a,u){if(this._dirty=!0,u==null&&(u=this.getPos()),!this._flag.isWriteable())throw new p(d.EPERM,"File not opened with a writeable mode.");var y=u+a;if(y>this._stat.size&&(this._stat.size=y,y>this._buffer.length)){var S=h.alloc(y);this._buffer.copy(S),this._buffer=S}var I=e.copy(this._buffer,u,o,o+a);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),I):(this.setPos(u+I),I)},t.prototype.read=function(e,o,a,u,y){try{y(null,this.readSync(e,o,a,u),e)}catch(S){y(S)}},t.prototype.readSync=function(e,o,a,u){if(!this._flag.isReadable())throw new p(d.EPERM,"File not opened with a readable mode.");u==null&&(u=this.getPos());var y=u+a;y>this._stat.size&&(a=this._stat.size-u);var S=this._buffer.copy(e,o,u,u+a);return this._stat.atime=new Date,this._pos=u+a,S},t.prototype.chmod=function(e,o){try{this.chmodSync(e),o()}catch(a){o(a)}},t.prototype.chmodSync=function(e){if(!this._fs.supportsProps())throw new p(d.ENOTSUP);this._dirty=!0,this._stat.chmod(e),this.syncSync()},t.prototype.isDirty=function(){return this._dirty},t.prototype.resetDirty=function(){this._dirty=!1},t}(Q),lt=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.close=function(e){e()},t.prototype.closeSync=function(){},t}(yt),dt=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t}(yt),F=function(i){function t(n,e,o){if(o===void 0&&(o=!0),i.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=n,this._async=e,!n.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Ot(o,t.Name,{sync:"sync file system instance",async:"async file system instance"})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{var a=new t(e.sync,e.async,!1);a.initialize(function(u){u?o(u):o(null,a)},!1)}catch(u){o(u)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){return t.Name},t.prototype._syncSync=function(e){this._sync.writeFileSync(e.getPath(),e.getBuffer(),null,D.getFileFlag("w"),e.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[e.getPath(),e.getBuffer(),null,e.getFlag(),e.getStats().mode]})},t.prototype.initialize=function(e,o){var a=this;o===void 0&&(o=!0),o&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var u=this._initializeCallbacks,y=function(H){a._isInitialized=!H,a._initializeCallbacks=[],u.forEach(function(et){return et(H)})};if(this._isInitialized)e();else if(u.push(e)===1){var S=function(H,et,ht){H!=="/"&&a._sync.mkdirSync(H,et),a._async.readdir(H,function(pt,It){var Nt=0;function jt(ae){ae?ht(ae):Nt<It.length?(P(_.join(H,It[Nt]),jt),Nt++):ht()}pt?ht(pt):jt()})},I=function(H,et,ht){a._async.readFile(H,null,D.getFileFlag("r"),function(pt,It){if(pt)ht(pt);else try{a._sync.writeFileSync(H,It,null,D.getFileFlag("w"),et)}catch(Nt){pt=Nt}finally{ht(pt)}})},P=function(H,et){a._async.stat(H,!1,function(ht,pt){ht?et(ht):pt.isDirectory()?S(H,pt.mode,et):I(H,pt.mode,et)})};S("/",0,y)}},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},t.prototype.renameSync=function(e,o){this.checkInitialized(),this._sync.renameSync(e,o),this.enqueueOp({apiMethod:"rename",arguments:[e,o]})},t.prototype.statSync=function(e,o){return this.checkInitialized(),this._sync.statSync(e,o)},t.prototype.openSync=function(e,o,a){this.checkInitialized();var u=this._sync.openSync(e,o,a);return u.closeSync(),new dt(this,e,o,this._sync.statSync(e,!1),this._sync.readFileSync(e,null,D.getFileFlag("r")))},t.prototype.unlinkSync=function(e){this.checkInitialized(),this._sync.unlinkSync(e),this.enqueueOp({apiMethod:"unlink",arguments:[e]})},t.prototype.rmdirSync=function(e){this.checkInitialized(),this._sync.rmdirSync(e),this.enqueueOp({apiMethod:"rmdir",arguments:[e]})},t.prototype.mkdirSync=function(e,o){this.checkInitialized(),this._sync.mkdirSync(e,o),this.enqueueOp({apiMethod:"mkdir",arguments:[e,o]})},t.prototype.readdirSync=function(e){return this.checkInitialized(),this._sync.readdirSync(e)},t.prototype.existsSync=function(e){return this.checkInitialized(),this._sync.existsSync(e)},t.prototype.chmodSync=function(e,o,a){this.checkInitialized(),this._sync.chmodSync(e,o,a),this.enqueueOp({apiMethod:"chmod",arguments:[e,o,a]})},t.prototype.chownSync=function(e,o,a,u){this.checkInitialized(),this._sync.chownSync(e,o,a,u),this.enqueueOp({apiMethod:"chown",arguments:[e,o,a,u]})},t.prototype.utimesSync=function(e,o,a){this.checkInitialized(),this._sync.utimesSync(e,o,a),this.enqueueOp({apiMethod:"utimes",arguments:[e,o,a]})},t.prototype.checkInitialized=function(){if(!this._isInitialized)throw new p(d.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},t.prototype.enqueueOp=function(e){var o=this;if(this._queue.push(e),!this._queueRunning){this._queueRunning=!0;var a=function(u){if(u&&console.error("WARNING: File system has desynchronized. Received following error: "+u+`
$`),o._queue.length>0){var y=o._queue.shift(),S=y.arguments;S.push(a),o._async[y.apiMethod].apply(o._async,S)}else o._queueRunning=!1};a()}},t}(nt);F.Name="AsyncMirror",F.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function v(i,t,n){switch(n.length){case 0:return i.call(t);case 1:return i.call(t,n[0]);case 2:return i.call(t,n[0],n[1]);case 3:return i.call(t,n[0],n[1],n[2])}return i.apply(t,n)}var g=Math.max;function O(i,t,n){return t=g(t===void 0?i.length-1:t,0),function(){for(var e=arguments,o=-1,a=g(e.length-t,0),u=Array(a);++o<a;)u[o]=e[t+o];o=-1;for(var y=Array(t+1);++o<t;)y[o]=e[o];return y[t]=n(u),v(i,this,y)}}function U(i){return i}function Y(i,t){return O(i,t,U)}var tt=function(i){return Y(function(t){var n=t.pop();i.call(this,t,n)})};function Et(i){return Y(function(t,n){var e=tt(function(o,a){var u=this;return i(t,function(y,S){y.apply(u,o.concat(S))},a)});return n.length?e.apply(this,n):e})}var Tt=typeof w=="object"&&w&&w.Object===Object&&w,Wt=typeof self=="object"&&self&&self.Object===Object&&self,Qt=Tt||Wt||Function("return this")(),Vt=Qt.Symbol,Ee=Object.prototype,_n=Ee.hasOwnProperty,le=Ee.toString,_e=Vt?Vt.toStringTag:void 0;function ur(i){var t=_n.call(i,_e),n=i[_e];try{i[_e]=void 0;var e=!0}catch{}var o=le.call(i);return e&&(t?i[_e]=n:delete i[_e]),o}var fo=Object.prototype,ho=fo.toString;function $(i){return ho.call(i)}var gt="[object Null]",k="[object Undefined]",bt=Vt?Vt.toStringTag:void 0;function $t(i){return i==null?i===void 0?k:gt:bt&&bt in Object(i)?ur(i):$(i)}function vt(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}var Ne="[object AsyncFunction]",xt="[object Function]",fe="[object GeneratorFunction]",ot="[object Proxy]";function it(i){if(!vt(i))return!1;var t=$t(i);return t==xt||t==fe||t==Ne||t==ot}var cr=9007199254740991;function te(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=cr}function kt(i){return i!=null&&te(i.length)&&!it(i)}var Un={};function wn(){}function oe(i){return function(){if(i!==null){var t=i;i=null,t.apply(this,arguments)}}}var Yt=typeof Symbol=="function"&&Symbol.iterator,we=function(i){return Yt&&i[Yt]&&i[Yt]()};function Oe(i,t){for(var n=-1,e=Array(i);++n<i;)e[n]=t(n);return e}function Se(i){return i!=null&&typeof i=="object"}var lr="[object Arguments]";function Bn(i){return Se(i)&&$t(i)==lr}var ue=Object.prototype,De=ue.hasOwnProperty,me=ue.propertyIsEnumerable,Qe=Bn(function(){return arguments}())?Bn:function(i){return Se(i)&&De.call(i,"callee")&&!me.call(i,"callee")},Ke=Array.isArray;function li(){return!1}var fs=typeof l=="object"&&l&&!l.nodeType&&l,hs=fs&&typeof m=="object"&&m&&!m.nodeType&&m,cc=hs&&hs.exports===fs,ds=cc?Qt.Buffer:void 0,lc=ds?ds.isBuffer:void 0,fc=lc||li,hc=9007199254740991,dc=/^(?:0|[1-9]\d*)$/;function pc(i,t){return t=t??hc,!!t&&(typeof i=="number"||dc.test(i))&&i>-1&&i%1==0&&i<t}var yc="[object Arguments]",vc="[object Array]",gc="[object Boolean]",mc="[object Date]",_c="[object Error]",wc="[object Function]",Sc="[object Map]",Ec="[object Number]",xc="[object Object]",bc="[object RegExp]",Fc="[object Set]",Ic="[object String]",kc="[object WeakMap]",Oc="[object ArrayBuffer]",Tc="[object DataView]",Rc="[object Float32Array]",Nc="[object Float64Array]",Dc="[object Int8Array]",Lc="[object Int16Array]",Cc="[object Int32Array]",Ac="[object Uint8Array]",Pc="[object Uint8ClampedArray]",Mc="[object Uint16Array]",Uc="[object Uint32Array]",ee={};ee[Rc]=ee[Nc]=ee[Dc]=ee[Lc]=ee[Cc]=ee[Ac]=ee[Pc]=ee[Mc]=ee[Uc]=!0,ee[yc]=ee[vc]=ee[Oc]=ee[gc]=ee[Tc]=ee[mc]=ee[_c]=ee[wc]=ee[Sc]=ee[Ec]=ee[xc]=ee[bc]=ee[Fc]=ee[Ic]=ee[kc]=!1;function Bc(i){return Se(i)&&te(i.length)&&!!ee[$t(i)]}function jc(i){return function(t){return i(t)}}var ps=typeof l=="object"&&l&&!l.nodeType&&l,ys=ps&&typeof m=="object"&&m&&!m.nodeType&&m,zc=ys&&ys.exports===ps,po=zc&&Tt.process,vs=function(){try{return po&&po.binding&&po.binding("util")}catch{}}(),gs=vs&&vs.isTypedArray,Wc=gs?jc(gs):Bc,Hc=Object.prototype,Vc=Hc.hasOwnProperty;function Xc(i,t){var n=Ke(i),e=!n&&Qe(i),o=!n&&!e&&fc(i),a=!n&&!e&&!o&&Wc(i),u=n||e||o||a,y=u?Oe(i.length,String):[],S=y.length;for(var I in i)(t||Vc.call(i,I))&&!(u&&(I=="length"||o&&(I=="offset"||I=="parent")||a&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||pc(I,S)))&&y.push(I);return y}var Yc=Object.prototype;function Zc(i){var t=i&&i.constructor,n=typeof t=="function"&&t.prototype||Yc;return i===n}function Kc(i,t){return function(n){return i(t(n))}}var qc=Kc(Object.keys,Object),Jc=Object.prototype,Gc=Jc.hasOwnProperty;function Qc(i){if(!Zc(i))return qc(i);var t=[];for(var n in Object(i))Gc.call(i,n)&&n!="constructor"&&t.push(n);return t}function $c(i){return kt(i)?Xc(i):Qc(i)}function tl(i){var t=-1,n=i.length;return function(){return++t<n?{value:i[t],key:t}:null}}function el(i){var t=-1;return function(){var e=i.next();return e.done?null:(t++,{value:e.value,key:t})}}function nl(i){var t=$c(i),n=-1,e=t.length;return function(){var a=t[++n];return n<e?{value:i[a],key:a}:null}}function rl(i){if(kt(i))return tl(i);var t=we(i);return t?el(t):nl(i)}function ms(i){return function(){if(i===null)throw new Error("Callback was already called.");var t=i;i=null,t.apply(this,arguments)}}function _s(i){return function(t,n,e){if(e=oe(e||wn),i<=0||!t)return e(null);var o=rl(t),a=!1,u=0;function y(I,P){if(u-=1,I)a=!0,e(I);else{if(P===Un||a&&u<=0)return a=!0,e(null);S()}}function S(){for(;u<i&&!a;){var I=o();if(I===null){a=!0,u<=0&&e(null);return}u+=1,n(I.value,I.key,ms(y))}}S()}}function ws(i,t,n,e){_s(t)(i,n,e)}function yo(i,t){return function(n,e,o){return i(n,t,e,o)}}function il(i,t,n){n=oe(n||wn);var e=0,o=0,a=i.length;a===0&&n(null);function u(y,S){y?n(y):(++o===a||S===Un)&&n(null)}for(;e<a;e++)t(i[e],e,ms(u))}var ol=yo(ws,1/0),Ss=function(i,t,n){var e=kt(i)?il:ol;e(i,t,n)};function sl(i){return function(t,n,e){return i(Ss,t,n,e)}}function Es(i,t,n,e){e=e||wn,t=t||[];var o=[],a=0;i(t,function(u,y,S){var I=a++;n(u,function(P,H){o[I]=H,S(P)})},function(u){e(u,o)})}var al=sl(Es);Et(al);function ul(i){return function(t,n,e,o){return i(_s(n),t,e,o)}}var cl=ul(Es),ll=yo(cl,1);Et(ll),Y(function(i,t){return Y(function(n){return i.apply(null,t.concat(n))})});function fl(i,t){for(var n=-1,e=i==null?0:i.length;++n<e&&t(i[n],n,i)!==!1;);return i}var xs=typeof setImmediate=="function"&&setImmediate,bs=typeof E=="object"&&typeof E.nextTick=="function";function Fs(i){setTimeout(i,0)}function Is(i){return Y(function(t,n){i(function(){t.apply(null,n)})})}var fi;xs?fi=setImmediate:bs?fi=E.nextTick:fi=Fs,Is(fi);var hl=yo(ws,1);function dl(i,t,n,e){e=oe(e||wn),hl(i,function(o,a,u){n(t,o,function(y,S){t=S,u(y)})},function(o){e(o,t)})}var pl=Y(function(t){return Y(function(n){var e=this,o=n[n.length-1];typeof o=="function"?n.pop():o=wn,dl(t,n,function(a,u,y){u.apply(e,a.concat(Y(function(S,I){y(S,I)})))},function(a,u){o.apply(e,[a].concat(u))})})});Y(function(i){return pl.apply(null,i.reverse())}),Y(function(i){var t=[null].concat(i);return tt(function(n,e){return e.apply(this,t)})});function ks(i){return Y(function(t,n){t.apply(null,n.concat(Y(function(e,o){typeof console=="object"&&(e?console.error&&console.error(e):console[i]&&fl(o,function(a){console[i](a)}))})))})}ks("dir");function yl(i){return function(t,n,e){return i(t,e)}}function Os(i,t,n){Ss(i,yl(t),n)}ks("log");var hi;bs?hi=E.nextTick:xs?hi=setImmediate:hi=Fs,Is(hi);var Le;function vl(){Le||(Le={},Le[Dropbox.ApiError.NETWORK_ERROR]=d.EIO,Le[Dropbox.ApiError.INVALID_PARAM]=d.EINVAL,Le[Dropbox.ApiError.INVALID_TOKEN]=d.EPERM,Le[Dropbox.ApiError.OAUTH_ERROR]=d.EPERM,Le[Dropbox.ApiError.NOT_FOUND]=d.ENOENT,Le[Dropbox.ApiError.INVALID_METHOD]=d.EINVAL,Le[Dropbox.ApiError.NOT_ACCEPTABLE]=d.EINVAL,Le[Dropbox.ApiError.CONFLICT]=d.EINVAL,Le[Dropbox.ApiError.RATE_LIMITED]=d.EBUSY,Le[Dropbox.ApiError.SERVER_ERROR]=d.EBUSY,Le[Dropbox.ApiError.OVER_QUOTA]=d.ENOSPC)}function gl(i){return i&&i.stat.isFile}function ml(i){return i&&i.stat.isFolder}function _l(i){return i==null||typeof i=="object"&&typeof i.byteLength=="number"}var xe=function(t){this._cache={},this._client=t};xe.prototype.readdir=function(t,n){var e=this,o=this.getCachedDirInfo(t);this._wrap(function(a){o!==null&&o.contents?e._client.readdir(t,{contentHash:o.stat.contentHash},a):e._client.readdir(t,a)},function(a,u,y,S){a?a.status===Dropbox.ApiError.NO_CONTENT&&o!==null?n(null,o.contents.slice(0)):n(a):(e.updateCachedDirInfo(t,y,u.slice(0)),S.forEach(function(I){e.updateCachedInfo(_.join(t,I.name),I)}),n(null,u))})},xe.prototype.remove=function(t,n){var e=this;this._wrap(function(o){e._client.remove(t,o)},function(o,a){o||e.updateCachedInfo(t,a),n(o)})},xe.prototype.move=function(t,n,e){var o=this;this._wrap(function(a){o._client.move(t,n,a)},function(a,u){a||(o.deleteCachedInfo(t),o.updateCachedInfo(n,u)),e(a)})},xe.prototype.stat=function(t,n){var e=this;this._wrap(function(o){e._client.stat(t,o)},function(o,a){o||e.updateCachedInfo(t,a),n(o,a)})},xe.prototype.readFile=function(t,n){var e=this,o=this.getCachedFileInfo(t);o!==null&&o.contents!==null?this.stat(t,function(a,u){a?n(a):u.contentHash===o.stat.contentHash?n(a,o.contents.slice(0),o.stat):e.readFile(t,n)}):this._wrap(function(a){e._client.readFile(t,{arrayBuffer:!0},a)},function(a,u,y){a||e.updateCachedInfo(t,y,u.slice(0)),n(a,u,y)})},xe.prototype.writeFile=function(t,n,e){var o=this;this._wrap(function(a){o._client.writeFile(t,n,a)},function(a,u){a||o.updateCachedInfo(t,u,n.slice(0)),e(a,u)})},xe.prototype.mkdir=function(t,n){var e=this;this._wrap(function(o){e._client.mkdir(t,o)},function(o,a){o||e.updateCachedInfo(t,a,[]),n(o)})},xe.prototype._wrap=function(t,n){var e=0,o=function(a){var u=2;if(a&&3>++e)switch(a.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){t(o)},u*1e3);break;default:n.apply(null,arguments);break}else n.apply(null,arguments)};t(o)},xe.prototype.getCachedInfo=function(t){return this._cache[t.toLowerCase()]},xe.prototype.putCachedInfo=function(t,n){this._cache[t.toLowerCase()]=n},xe.prototype.deleteCachedInfo=function(t){delete this._cache[t.toLowerCase()]},xe.prototype.getCachedDirInfo=function(t){var n=this.getCachedInfo(t);return ml(n)?n:null},xe.prototype.getCachedFileInfo=function(t){var n=this.getCachedInfo(t);return gl(n)?n:null},xe.prototype.updateCachedDirInfo=function(t,n,e){e===void 0&&(e=null);var o=this.getCachedInfo(t);n.contentHash!==null&&(o===void 0||o.stat.contentHash!==n.contentHash)&&this.putCachedInfo(t,{stat:n,contents:e})},xe.prototype.updateCachedFileInfo=function(t,n,e){e===void 0&&(e=null);var o=this.getCachedInfo(t);n.versionTag!==null&&(o===void 0||o.stat.versionTag!==n.versionTag)&&this.putCachedInfo(t,{stat:n,contents:e})},xe.prototype.updateCachedInfo=function(t,n,e){e===void 0&&(e=null),n.isFile&&_l(e)?this.updateCachedFileInfo(t,n,e):n.isFolder&&Array.isArray(e)&&this.updateCachedDirInfo(t,n,e)};var wl=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(this.isDirty()){var a=this.getBuffer(),u=ut(a);this._fs._writeFileStrict(this.getPath(),u,function(y){y||o.resetDirty(),e(y)})}else e()},t.prototype.close=function(e){this.sync(e)},t}(yt),di=function(i){function t(n,e){e===void 0&&(e=!0),i.call(this),this._client=new xe(n),Ot(e,t.Name,{client:"authenticated dropbox client instance"}),vl()}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.client,!1))},t.isAvailable=function(){return typeof Dropbox<"u"},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var o=this;this._client.readdir("/",function(a,u){if(a)e(o.convert(a,"/"));else{var y=function(I,P){var H=_.join("/",I);o._client.remove(H,function(et){P(et?o.convert(et,H):null)})},S=function(I){I?e(I):e()};Os(u,y,S)}})},t.prototype.rename=function(e,o,a){var u=this;this._client.move(e,o,function(y){y?u._client.stat(o,function(S,I){if(S||I.isFolder){var P=y.response.error.indexOf(e)>-1?e:o;a(u.convert(y,P))}else u._client.remove(o,function(H){H?a(u.convert(H,o)):u.rename(e,o,a)})}):a()})},t.prototype.stat=function(e,o,a){var u=this;this._client.stat(e,function(y,S){if(y)a(u.convert(y,e));else if(S&&S.isRemoved)a(p.FileError(d.ENOENT,e));else{var I=new j(u._statType(S),S.size);return a(null,I)}})},t.prototype.open=function(e,o,a,u){var y=this;this._client.readFile(e,function(S,I,P){if(S)if(o.isReadable())u(y.convert(S,e));else switch(S.status){case Dropbox.ApiError.NOT_FOUND:var H=new ArrayBuffer(0);return y._writeFileStrict(e,H,function(pt,It){if(pt)u(pt);else{var Nt=y._makeFile(e,o,It,Ct(H));u(null,Nt)}});default:return u(y.convert(S,e))}else{var et;I===null?et=Xt():et=Ct(I);var ht=y._makeFile(e,o,P,et);return u(null,ht)}})},t.prototype._writeFileStrict=function(e,o,a){var u=this,y=_.dirname(e);this.stat(y,!1,function(S,I){S?a(p.FileError(d.ENOENT,y)):u._client.writeFile(e,o,function(P,H){P?a(u.convert(P,e)):a(null,H)})})},t.prototype._statType=function(e){return e.isFile?M.FILE:M.DIRECTORY},t.prototype._makeFile=function(e,o,a,u){var y=this._statType(a),S=new j(y,a.size);return new wl(this,e,o,S,u)},t.prototype._remove=function(e,o,a){var u=this;this._client.stat(e,function(y,S){y?o(u.convert(y,e)):S.isFile&&!a?o(p.FileError(d.ENOTDIR,e)):!S.isFile&&a?o(p.FileError(d.EISDIR,e)):u._client.remove(e,function(I){o(I?u.convert(I,e):null)})})},t.prototype.unlink=function(e,o){this._remove(e,o,!0)},t.prototype.rmdir=function(e,o){this._remove(e,o,!1)},t.prototype.mkdir=function(e,o,a){var u=this,y=_.dirname(e);this._client.stat(y,function(S,I){S?a(u.convert(S,y)):u._client.mkdir(e,function(P){a(P?p.FileError(d.EEXIST,e):null)})})},t.prototype.readdir=function(e,o){var a=this;this._client.readdir(e,function(u,y){return u?o(a.convert(u)):o(null,y)})},t.prototype.convert=function(e,o){o===void 0&&(o=null);var a=Le[e.status];return a===void 0&&(a=d.EIO),o?p.FileError(a,o):new p(a)},t}(B);di.Name="Dropbox",di.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(i,t){i.isAuthenticated&&i.isAuthenticated()?t():t(new p(d.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function ce(i,t){t===void 0&&(t="");for(var n=i.errno,e=i.node,o=[];e&&(o.unshift(e.name),e!==e.parent);)e=e.parent;return new p(n,b[n],o.length>0?"/"+o.join("/"):t)}var Sl=function(i){function t(n,e,o,a){i.call(this),this._fs=n,this._FS=e,this._path=o,this._stream=a}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.getPos=function(){},t.prototype.close=function(e){var o=null;try{this.closeSync()}catch(a){o=a}finally{e(o)}},t.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(e){throw ce(e,this._path)}},t.prototype.stat=function(e){try{e(null,this.statSync())}catch(o){e(o)}},t.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(e){throw ce(e,this._path)}},t.prototype.truncate=function(e,o){var a=null;try{this.truncateSync(e)}catch(u){a=u}finally{o(a)}},t.prototype.truncateSync=function(e){try{this._FS.ftruncate(this._stream.fd,e)}catch(o){throw ce(o,this._path)}},t.prototype.write=function(e,o,a,u,y){try{y(null,this.writeSync(e,o,a,u),e)}catch(S){y(S)}},t.prototype.writeSync=function(e,o,a,u){try{var y=wt(e),S=u===null?void 0:u;return this._FS.write(this._stream,y,o,a,S)}catch(I){throw ce(I,this._path)}},t.prototype.read=function(e,o,a,u,y){try{y(null,this.readSync(e,o,a,u),e)}catch(S){y(S)}},t.prototype.readSync=function(e,o,a,u){try{var y=wt(e),S=u===null?void 0:u;return this._FS.read(this._stream,y,o,a,S)}catch(I){throw ce(I,this._path)}},t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.chown=function(e,o,a){var u=null;try{this.chownSync(e,o)}catch(y){u=y}finally{a(u)}},t.prototype.chownSync=function(e,o){try{this._FS.fchown(this._stream.fd,e,o)}catch(a){throw ce(a,this._path)}},t.prototype.chmod=function(e,o){var a=null;try{this.chmodSync(e)}catch(u){a=u}finally{o(a)}},t.prototype.chmodSync=function(e){try{this._FS.fchmod(this._stream.fd,e)}catch(o){throw ce(o,this._path)}},t.prototype.utimes=function(e,o,a){var u=null;try{this.utimesSync(e,o)}catch(y){u=y}finally{a(u)}},t.prototype.utimesSync=function(e,o){this._fs.utimesSync(this._path,e,o)},t}(Q),pi=function(i){function t(n){i.call(this),this._FS=n}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.FS))},t.isAvailable=function(){return!0},t.prototype.getName=function(){return this._FS.DB_NAME()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!0},t.prototype.supportsProps=function(){return!0},t.prototype.supportsSynch=function(){return!0},t.prototype.renameSync=function(e,o){try{this._FS.rename(e,o)}catch(a){throw a.errno===d.ENOENT?ce(a,this.existsSync(e)?o:e):ce(a)}},t.prototype.statSync=function(e,o){try{var a=o?this._FS.lstat(e):this._FS.stat(e),u=this.modeToFileType(a.mode);return new j(u,a.size,a.mode,a.atime,a.mtime,a.ctime)}catch(y){throw ce(y,e)}},t.prototype.openSync=function(e,o,a){try{var u=this._FS.open(e,o.getFlagString(),a);if(this._FS.isDir(u.node.mode))throw this._FS.close(u),p.EISDIR(e);return new Sl(this,this._FS,e,u)}catch(y){throw ce(y,e)}},t.prototype.unlinkSync=function(e){try{this._FS.unlink(e)}catch(o){throw ce(o,e)}},t.prototype.rmdirSync=function(e){try{this._FS.rmdir(e)}catch(o){throw ce(o,e)}},t.prototype.mkdirSync=function(e,o){try{this._FS.mkdir(e,o)}catch(a){throw ce(a,e)}},t.prototype.readdirSync=function(e){try{return this._FS.readdir(e).filter(function(o){return o!=="."&&o!==".."})}catch(o){throw ce(o,e)}},t.prototype.truncateSync=function(e,o){try{this._FS.truncate(e,o)}catch(a){throw ce(a,e)}},t.prototype.readFileSync=function(e,o,a){try{var u=this._FS.readFile(e,{flags:a.getFlagString()}),y=Lt(u);return o?y.toString(o):y}catch(S){throw ce(S,e)}},t.prototype.writeFileSync=function(e,o,a,u,y){try{a&&(o=h.from(o,a));var S=wt(o);this._FS.writeFile(e,S,{flags:u.getFlagString(),encoding:"binary"}),this._FS.chmod(e,y)}catch(I){throw ce(I,e)}},t.prototype.chmodSync=function(e,o,a){try{o?this._FS.lchmod(e,a):this._FS.chmod(e,a)}catch(u){throw ce(u,e)}},t.prototype.chownSync=function(e,o,a,u){try{o?this._FS.lchown(e,a,u):this._FS.chown(e,a,u)}catch(y){throw ce(y,e)}},t.prototype.symlinkSync=function(e,o,a){try{this._FS.symlink(e,o)}catch(u){throw ce(u)}},t.prototype.readlinkSync=function(e){try{return this._FS.readlink(e)}catch(o){throw ce(o,e)}},t.prototype.utimesSync=function(e,o,a){try{this._FS.utime(e,o.getTime(),a.getTime())}catch(u){throw ce(u,e)}},t.prototype.modeToFileType=function(e){if(this._FS.isDir(e))return M.DIRECTORY;if(this._FS.isFile(e))return M.FILE;if(this._FS.isLink(e))return M.SYMLINK;throw p.EPERM("Invalid mode: "+e)},t}(nt);pi.Name="EmscriptenFileSystem",pi.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var fr=function(i){function t(n,e){i.call(this),this._folder=n,this._wrapped=e}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.folder,e.wrapped))},t.isAvailable=function(){return!0},t.prototype.initialize=function(e){var o=this;this._wrapped.exists(this._folder,function(a){a?e():o._wrapped.isReadOnly()?e(p.ENOENT(o._folder)):o._wrapped.mkdir(o._folder,511,e)})},t.prototype.getName=function(){return this._wrapped.getName()},t.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},t.prototype.supportsProps=function(){return this._wrapped.supportsProps()},t.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t}(B);fr.Name="FolderAdapter",fr.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function Ts(i,t){if(t!==null&&typeof t=="object"){var n=t,e=n.path;e&&(e="/"+_.relative(i,e),n.message=n.message.replace(n.path,e),n.path=e)}return t}function El(i,t){return typeof t=="function"?function(n){arguments.length>0&&(arguments[0]=Ts(i,n)),t.apply(null,arguments)}:t}function Rs(i,t,n){return i.slice(i.length-4)!=="Sync"?function(){return arguments.length>0&&(t&&(arguments[0]=_.join(this._folder,arguments[0])),n&&(arguments[1]=_.join(this._folder,arguments[1])),arguments[arguments.length-1]=El(this._folder,arguments[arguments.length-1])),this._wrapped[i].apply(this._wrapped,arguments)}:function(){try{return t&&(arguments[0]=_.join(this._folder,arguments[0])),n&&(arguments[1]=_.join(this._folder,arguments[1])),this._wrapped[i].apply(this._wrapped,arguments)}catch(e){throw Ts(this._folder,e)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(i){fr.prototype[i]=Rs(i,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(i){fr.prototype[i]=Rs(i,!0,!0)});var yi;typeof window<"u"?yi=window:typeof self<"u"?yi=self:yi=w;var he=yi;function xl(i){return i.isDirectory}var vo=he.webkitRequestFileSystem||he.requestFileSystem||null;function bl(i,t,n,e){if(typeof navigator.webkitPersistentStorage<"u")switch(i){case he.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(t,n,e);break;case he.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(t,n,e);break;default:e(new TypeError("Invalid storage type: "+i));break}else he.webkitStorageInfo.requestQuota(i,t,n,e)}function Fl(i){return Array.prototype.slice.call(i||[],0)}function an(i,t,n){switch(i.name){case"PathExistsError":return p.EEXIST(t);case"QuotaExceededError":return p.FileError(d.ENOSPC,t);case"NotFoundError":return p.ENOENT(t);case"SecurityError":return p.FileError(d.EACCES,t);case"InvalidModificationError":return p.FileError(d.EPERM,t);case"TypeMismatchError":return p.FileError(n?d.ENOTDIR:d.EISDIR,t);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return p.FileError(d.EINVAL,t)}}var Il=function(i){function t(n,e,o,a,u,y){i.call(this,n,o,a,u,y),this._entry=e}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(!this.isDirty())return e();this._entry.createWriter(function(a){var u=o.getBuffer(),y=new Blob([ut(u)]),S=y.size;a.onwriteend=function(I){a.onwriteend=null,a.onerror=null,a.truncate(S),o.resetDirty(),e()},a.onerror=function(I){e(an(I,o.getPath(),!1))},a.write(y)})},t.prototype.close=function(e){this.sync(e)},t}(yt),vi=function(i){function t(n,e,o){n===void 0&&(n=5),e===void 0&&(e=he.PERSISTENT),o===void 0&&(o=!0),i.call(this),this.size=1024*1024*n,this.type=e,Ot(o,t.Name,{size:n,type:e})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t(e.size,e.type,!1);a.allocate(function(u){return u?o(u):o(null,a)},!1)},t.isAvailable=function(){return!!vo},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.allocate=function(e,o){var a=this;e===void 0&&(e=function(){}),o===void 0&&(o=!0),o&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var u=function(S){a.fs=S,e()},y=function(S){e(an(S,"/",!0))};this.type===he.PERSISTENT?bl(this.type,this.size,function(S){vo(a.type,S,u,y)},y):vo(this.type,this.size,u,y)},t.prototype.empty=function(e){this._readdir("/",function(o,a){if(o)console.error("Failed to empty FS"),e(o);else{var u=function(S){o?(console.error("Failed to empty FS"),e(o)):e()},y=function(S,I){var P=function(){I()},H=function(et){I(an(et,S.fullPath,!S.isDirectory))};xl(S)?S.removeRecursively(P,H):S.remove(P,H)};Os(a,y,u)}})},t.prototype.rename=function(e,o,a){var u=this,y=2,S=0,I=this.fs.root,P=e,H=function(ht){--y<=0&&a(an(ht,P,!1))},et=function(ht){if(++S===2)return a(new p(d.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(e===o)return a();P=_.dirname(o),I.getDirectory(P,{},function(pt){P=_.basename(o),ht.moveTo(pt,P,function(It){a()},function(It){ht.isDirectory?(P=o,u.unlink(o,function(Nt){Nt?H(It):u.rename(e,o,a)})):H(It)})},H)};I.getFile(e,{},et,H),I.getDirectory(e,{},et,H)},t.prototype.stat=function(e,o,a){var u=this,y={create:!1},S=function(et){var ht=function(pt){var It=new j(M.FILE,pt.size);a(null,It)};et.file(ht,P)},I=function(et){var ht=4096,pt=new j(M.DIRECTORY,ht);a(null,pt)},P=function(et){a(an(et,e,!1))},H=function(){u.fs.root.getDirectory(e,y,I,P)};this.fs.root.getFile(e,y,S,H)},t.prototype.open=function(e,o,a,u){var y=this,S=function(I){I.name==="InvalidModificationError"&&o.isExclusive()?u(p.EEXIST(e)):u(an(I,e,!1))};this.fs.root.getFile(e,{create:o.pathNotExistsAction()===R.CREATE_FILE,exclusive:o.isExclusive()},function(I){I.file(function(P){var H=new FileReader;H.onloadend=function(et){var ht=y._makeFile(e,I,o,P,H.result);u(null,ht)},H.onerror=function(et){S(H.error)},H.readAsArrayBuffer(P)},S)},S)},t.prototype.unlink=function(e,o){this._remove(e,o,!0)},t.prototype.rmdir=function(e,o){var a=this;this.readdir(e,function(u,y){u?o(u):y.length>0?o(p.ENOTEMPTY(e)):a._remove(e,o,!1)})},t.prototype.mkdir=function(e,o,a){var u={create:!0,exclusive:!0},y=function(I){a()},S=function(I){a(an(I,e,!0))};this.fs.root.getDirectory(e,u,y,S)},t.prototype.readdir=function(e,o){this._readdir(e,function(a,u){if(u){for(var y=[],S=0,I=u;S<I.length;S+=1){var P=I[S];y.push(P.name)}o(null,y)}else return o(a)})},t.prototype._makeFile=function(e,o,a,u,y){y===void 0&&(y=new ArrayBuffer(0));var S=new j(M.FILE,u.size),I=Ct(y);return new Il(this,o,e,a,S,I)},t.prototype._readdir=function(e,o){var a=function(u){o(an(u,e,!0))};this.fs.root.getDirectory(e,{create:!1},function(u){var y=u.createReader(),S=[],I=function(){y.readEntries(function(P){P.length?(S=S.concat(Fl(P)),I()):o(null,S)},a)};I()},a)},t.prototype._remove=function(e,o,a){var u=function(I){var P=function(){o()},H=function(et){o(an(et,e,!a))};I.remove(P,H)},y=function(I){o(an(I,e,!a))},S={create:!1};a?this.fs.root.getFile(e,S,u,y):this.fs.root.getDirectory(e,S,u,y)},t}(B);vi.Name="HTML5FS",vi.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Ce=function(t,n,e,o,a,u){this.id=t,this.size=n,this.mode=e,this.atime=o,this.mtime=a,this.ctime=u};Ce.fromBuffer=function(t){if(t===void 0)throw new Error("NO");return new Ce(t.toString("ascii",30),t.readUInt32LE(0),t.readUInt16LE(4),t.readDoubleLE(6),t.readDoubleLE(14),t.readDoubleLE(22))},Ce.prototype.toStats=function(){return new j((this.mode&61440)===M.DIRECTORY?M.DIRECTORY:M.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Ce.prototype.getSize=function(){return 30+this.id.length},Ce.prototype.toBuffer=function(t){return t===void 0&&(t=h.alloc(this.getSize())),t.writeUInt32LE(this.size,0),t.writeUInt16LE(this.mode,4),t.writeDoubleLE(this.atime,6),t.writeDoubleLE(this.mtime,14),t.writeDoubleLE(this.ctime,22),t.write(this.id,30,this.id.length,"ascii"),t},Ce.prototype.update=function(t){var n=!1;this.size!==t.size&&(this.size=t.size,n=!0),this.mode!==t.mode&&(this.mode=t.mode,n=!0);var e=t.atime.getTime();this.atime!==e&&(this.atime=e,n=!0);var o=t.mtime.getTime();this.mtime!==o&&(this.mtime=o,n=!0);var a=t.ctime.getTime();return this.ctime!==a&&(this.ctime=a,n=!0),n},Ce.prototype.isFile=function(){return(this.mode&61440)===M.FILE},Ce.prototype.isDirectory=function(){return(this.mode&61440)===M.DIRECTORY};var Tn="/",go=null;function Ns(){return go||(go=h.from("{}"))}function gi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var t=Math.random()*16|0,n=i==="x"?t:t&3|8;return n.toString(16)})}function ze(i,t){return i?(t(i),!1):!0}function ve(i,t,n){return i?(t.abort(function(){n(i)}),!1):!0}var Sn=function(t){this.store=t,this.originalData={},this.modifiedKeys=[]};Sn.prototype.get=function(t){var n=this.store.get(t);return this.stashOldValue(t,n),n},Sn.prototype.put=function(t,n,e){return this.markModified(t),this.store.put(t,n,e)},Sn.prototype.del=function(t){this.markModified(t),this.store.del(t)},Sn.prototype.commit=function(){},Sn.prototype.abort=function(){for(var t=this,n=0,e=t.modifiedKeys;n<e.length;n+=1){var o=e[n],a=t.originalData[o];a?t.store.put(o,a,!0):t.store.del(o)}},Sn.prototype.stashOldValue=function(t,n){this.originalData.hasOwnProperty(t)||(this.originalData[t]=n)},Sn.prototype.markModified=function(t){this.modifiedKeys.indexOf(t)===-1&&(this.modifiedKeys.push(t),this.originalData.hasOwnProperty(t)||(this.originalData[t]=this.store.get(t)))};var Ds=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t}(yt),Ls=function(i){function t(n){i.call(this),this.store=n.store,this.makeRootDirectory()}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},t.prototype.renameSync=function(e,o){var a=this.store.beginTransaction("readwrite"),u=_.dirname(e),y=_.basename(e),S=_.dirname(o),I=_.basename(o),P=this.findINode(a,u),H=this.getDirListing(a,u,P);if(!H[y])throw p.ENOENT(e);var et=H[y];if(delete H[y],(S+"/").indexOf(e+"/")===0)throw new p(d.EBUSY,u);var ht,pt;if(S===u?(ht=P,pt=H):(ht=this.findINode(a,S),pt=this.getDirListing(a,S,ht)),pt[I]){var It=this.getINode(a,o,pt[I]);if(It.isFile())try{a.del(It.id),a.del(pt[I])}catch(Nt){throw a.abort(),Nt}else throw p.EPERM(o)}pt[I]=et;try{a.put(P.id,h.from(JSON.stringify(H)),!0),a.put(ht.id,h.from(JSON.stringify(pt)),!0)}catch(Nt){throw a.abort(),Nt}a.commit()},t.prototype.statSync=function(e,o){return this.findINode(this.store.beginTransaction("readonly"),e).toStats()},t.prototype.createFileSync=function(e,o,a){var u=this.store.beginTransaction("readwrite"),y=Xt(),S=this.commitNewFile(u,e,M.FILE,a,y);return new Ds(this,e,o,S.toStats(),y)},t.prototype.openFileSync=function(e,o){var a=this.store.beginTransaction("readonly"),u=this.findINode(a,e),y=a.get(u.id);if(y===void 0)throw p.ENOENT(e);return new Ds(this,e,o,u.toStats(),y)},t.prototype.unlinkSync=function(e){this.removeEntry(e,!1)},t.prototype.rmdirSync=function(e){if(this.readdirSync(e).length>0)throw p.ENOTEMPTY(e);this.removeEntry(e,!0)},t.prototype.mkdirSync=function(e,o){var a=this.store.beginTransaction("readwrite"),u=h.from("{}");this.commitNewFile(a,e,M.DIRECTORY,o,u)},t.prototype.readdirSync=function(e){var o=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(o,e,this.findINode(o,e)))},t.prototype._syncSync=function(e,o,a){var u=this.store.beginTransaction("readwrite"),y=this._findINode(u,_.dirname(e),_.basename(e)),S=this.getINode(u,e,y),I=S.update(a);try{u.put(S.id,o,!0),I&&u.put(y,S.toBuffer(),!0)}catch(P){throw u.abort(),P}u.commit()},t.prototype.makeRootDirectory=function(){var e=this.store.beginTransaction("readwrite");if(e.get(Tn)===void 0){var o=new Date().getTime(),a=new Ce(gi(),4096,511|M.DIRECTORY,o,o,o);e.put(a.id,Ns(),!1),e.put(Tn,a.toBuffer(),!1),e.commit()}},t.prototype._findINode=function(e,o,a){var u=this,y=function(S){var I=u.getDirListing(e,o,S);if(I[a])return I[a];throw p.ENOENT(_.resolve(o,a))};return o==="/"?a===""?Tn:y(this.getINode(e,o,Tn)):y(this.getINode(e,o+_.sep+a,this._findINode(e,_.dirname(o),_.basename(o))))},t.prototype.findINode=function(e,o){return this.getINode(e,o,this._findINode(e,_.dirname(o),_.basename(o)))},t.prototype.getINode=function(e,o,a){var u=e.get(a);if(u===void 0)throw p.ENOENT(o);return Ce.fromBuffer(u)},t.prototype.getDirListing=function(e,o,a){if(!a.isDirectory())throw p.ENOTDIR(o);var u=e.get(a.id);if(u===void 0)throw p.ENOENT(o);return JSON.parse(u.toString())},t.prototype.addNewNode=function(e,o){for(var a=0,u;a<5;)try{return u=gi(),e.put(u,o,!1),u}catch{}throw new p(d.EIO,"Unable to commit data to key-value store.")},t.prototype.commitNewFile=function(e,o,a,u,y){var S=_.dirname(o),I=_.basename(o),P=this.findINode(e,S),H=this.getDirListing(e,S,P),et=new Date().getTime();if(o==="/"||H[I])throw p.EEXIST(o);var ht;try{var pt=this.addNewNode(e,y);ht=new Ce(pt,y.length,u|a,et,et,et);var It=this.addNewNode(e,ht.toBuffer());H[I]=It,e.put(P.id,h.from(JSON.stringify(H)),!0)}catch(Nt){throw e.abort(),Nt}return e.commit(),ht},t.prototype.removeEntry=function(e,o){var a=this.store.beginTransaction("readwrite"),u=_.dirname(e),y=this.findINode(a,u),S=this.getDirListing(a,u,y),I=_.basename(e);if(!S[I])throw p.ENOENT(e);var P=S[I];delete S[I];var H=this.getINode(a,e,P);if(!o&&H.isDirectory())throw p.EISDIR(e);if(o&&!H.isDirectory())throw p.ENOTDIR(e);try{a.del(H.id),a.del(P),a.put(y.id,h.from(JSON.stringify(S)),!0)}catch(et){throw a.abort(),et}a.commit()},t}(nt),Cs=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(a){a||o.resetDirty(),e(a)}):e()},t.prototype.close=function(e){this.sync(e)},t}(yt),kl=function(i){function t(){i.apply(this,arguments)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.init=function(e,o){this.store=e,this.makeRootDirectory(o)},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var o=this;this.store.clear(function(a){ze(a,e)&&o.makeRootDirectory(e)})},t.prototype.rename=function(e,o,a){var u=this,y=this.store.beginTransaction("readwrite"),S=_.dirname(e),I=_.basename(e),P=_.dirname(o),H=_.basename(o),et={},ht={},pt=!1;if((P+"/").indexOf(e+"/")===0)return a(new p(d.EBUSY,S));var It=function(){if(!(pt||!ht.hasOwnProperty(S)||!ht.hasOwnProperty(P))){var jt=ht[S],ae=et[S],be=ht[P],ln=et[P];if(!jt[I])a(p.ENOENT(e));else{var fn=jt[I];delete jt[I];var mr=function(){be[H]=fn,y.put(ae.id,h.from(JSON.stringify(jt)),!0,function(bn){ve(bn,y,a)&&(S===P?y.commit(a):y.put(ln.id,h.from(JSON.stringify(be)),!0,function(Fn){ve(Fn,y,a)&&y.commit(a)}))})};be[H]?u.getINode(y,o,be[H],function(bn,Fn){ve(bn,y,a)&&(Fn.isFile()?y.del(Fn.id,function(Sa){ve(Sa,y,a)&&y.del(be[H],function(ef){ve(ef,y,a)&&mr()})}):y.abort(function(Sa){a(p.EPERM(o))}))}):mr()}}},Nt=function(jt){u.findINodeAndDirListing(y,jt,function(ae,be,ln){ae?pt||(pt=!0,y.abort(function(){a(ae)})):(et[jt]=be,ht[jt]=ln,It())})};Nt(S),S!==P&&Nt(P)},t.prototype.stat=function(e,o,a){var u=this.store.beginTransaction("readonly");this.findINode(u,e,function(y,S){ze(y,a)&&a(null,S.toStats())})},t.prototype.createFile=function(e,o,a,u){var y=this,S=this.store.beginTransaction("readwrite"),I=Xt();this.commitNewFile(S,e,M.FILE,a,I,function(P,H){ze(P,u)&&u(null,new Cs(y,e,o,H.toStats(),I))})},t.prototype.openFile=function(e,o,a){var u=this,y=this.store.beginTransaction("readonly");this.findINode(y,e,function(S,I){ze(S,a)&&y.get(I.id,function(P,H){ze(P,a)&&(H===void 0?a(p.ENOENT(e)):a(null,new Cs(u,e,o,I.toStats(),H)))})})},t.prototype.unlink=function(e,o){this.removeEntry(e,!1,o)},t.prototype.rmdir=function(e,o){var a=this;this.readdir(e,function(u,y){u?o(u):y.length>0?o(p.ENOTEMPTY(e)):a.removeEntry(e,!0,o)})},t.prototype.mkdir=function(e,o,a){var u=this.store.beginTransaction("readwrite"),y=h.from("{}");this.commitNewFile(u,e,M.DIRECTORY,o,y,a)},t.prototype.readdir=function(e,o){var a=this,u=this.store.beginTransaction("readonly");this.findINode(u,e,function(y,S){ze(y,o)&&a.getDirListing(u,e,S,function(I,P){ze(I,o)&&o(null,Object.keys(P))})})},t.prototype._sync=function(e,o,a,u){var y=this,S=this.store.beginTransaction("readwrite");this._findINode(S,_.dirname(e),_.basename(e),function(I,P){ve(I,S,u)&&y.getINode(S,e,P,function(H,et){if(ve(H,S,u)){var ht=et.update(a);S.put(et.id,o,!0,function(pt){ve(pt,S,u)&&(ht?S.put(P,et.toBuffer(),!0,function(It){ve(It,S,u)&&S.commit(u)}):S.commit(u))})}})})},t.prototype.makeRootDirectory=function(e){var o=this.store.beginTransaction("readwrite");o.get(Tn,function(a,u){if(a||u===void 0){var y=new Date().getTime(),S=new Ce(gi(),4096,511|M.DIRECTORY,y,y,y);o.put(S.id,Ns(),!1,function(I){ve(I,o,e)&&o.put(Tn,S.toBuffer(),!1,function(P){P?o.abort(function(){e(P)}):o.commit(e)})})}else o.commit(e)})},t.prototype._findINode=function(e,o,a,u){var y=this,S=function(I,P,H){I?u(I):H[a]?u(null,H[a]):u(p.ENOENT(_.resolve(o,a)))};o==="/"?a===""?u(null,Tn):this.getINode(e,o,Tn,function(I,P){ze(I,u)&&y.getDirListing(e,o,P,function(H,et){S(H,P,et)})}):this.findINodeAndDirListing(e,o,S)},t.prototype.findINode=function(e,o,a){var u=this;this._findINode(e,_.dirname(o),_.basename(o),function(y,S){ze(y,a)&&u.getINode(e,o,S,a)})},t.prototype.getINode=function(e,o,a,u){e.get(a,function(y,S){ze(y,u)&&(S===void 0?u(p.ENOENT(o)):u(null,Ce.fromBuffer(S)))})},t.prototype.getDirListing=function(e,o,a,u){a.isDirectory()?e.get(a.id,function(y,S){if(ze(y,u))try{u(null,JSON.parse(S.toString()))}catch{u(p.ENOENT(o))}}):u(p.ENOTDIR(o))},t.prototype.findINodeAndDirListing=function(e,o,a){var u=this;this.findINode(e,o,function(y,S){ze(y,a)&&u.getDirListing(e,o,S,function(I,P){ze(I,a)&&a(null,S,P)})})},t.prototype.addNewNode=function(e,o,a){var u=0,y,S=function(){++u===5?a(new p(d.EIO,"Unable to commit data to key-value store.")):(y=gi(),e.put(y,o,!1,function(I,P){I||!P?S():a(null,y)}))};S()},t.prototype.commitNewFile=function(e,o,a,u,y,S){var I=this,P=_.dirname(o),H=_.basename(o),et=new Date().getTime();if(o==="/")return S(p.EEXIST(o));this.findINodeAndDirListing(e,P,function(ht,pt,It){ve(ht,e,S)&&(It[H]?e.abort(function(){S(p.EEXIST(o))}):I.addNewNode(e,y,function(Nt,jt){if(ve(Nt,e,S)){var ae=new Ce(jt,y.length,u|a,et,et,et);I.addNewNode(e,ae.toBuffer(),function(be,ln){ve(be,e,S)&&(It[H]=ln,e.put(pt.id,h.from(JSON.stringify(It)),!0,function(fn){ve(fn,e,S)&&e.commit(function(mr){ve(mr,e,S)&&S(null,ae)})}))})}}))})},t.prototype.removeEntry=function(e,o,a){var u=this,y=this.store.beginTransaction("readwrite"),S=_.dirname(e),I=_.basename(e);this.findINodeAndDirListing(y,S,function(P,H,et){if(ve(P,y,a))if(!et[I])y.abort(function(){a(p.ENOENT(e))});else{var ht=et[I];delete et[I],u.getINode(y,e,ht,function(pt,It){ve(pt,y,a)&&(!o&&It.isDirectory()?y.abort(function(){a(p.EISDIR(e))}):o&&!It.isDirectory()?y.abort(function(){a(p.ENOTDIR(e))}):y.del(It.id,function(Nt){ve(Nt,y,a)&&y.del(ht,function(jt){ve(jt,y,a)&&y.put(H.id,h.from(JSON.stringify(et)),!0,function(ae){ve(ae,y,a)&&y.commit(a)})})}))})}})},t}(B),jn=function(){this.store={}};jn.prototype.name=function(){return hr.Name},jn.prototype.clear=function(){this.store={}},jn.prototype.beginTransaction=function(t){return new Sn(this)},jn.prototype.get=function(t){return this.store[t]},jn.prototype.put=function(t,n,e){return!e&&this.store.hasOwnProperty(t)?!1:(this.store[t]=n,!0)},jn.prototype.del=function(t){delete this.store[t]};var hr=function(i){function t(){i.call(this,{store:new jn})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t)},t}(Ls);hr.Name="InMemory",hr.Options={};var mo=he.indexedDB||he.mozIndexedDB||he.webkitIndexedDB||he.msIndexedDB;function Nr(i,t){switch(t===void 0&&(t=i.toString()),i.name){case"NotFoundError":return new p(d.ENOENT,t);case"QuotaExceededError":return new p(d.ENOSPC,t);default:return new p(d.EIO,t)}}function Dr(i,t,n){return t===void 0&&(t=d.EIO),n===void 0&&(n=null),function(e){e.preventDefault(),i(new p(t,n!==null?n:void 0))}}var _o=function(t,n){this.tx=t,this.store=n};_o.prototype.get=function(t,n){try{var e=this.store.get(t);e.onerror=Dr(n),e.onsuccess=function(o){var a=o.target.result;a===void 0?n(null,a):n(null,Ct(a))}}catch(o){n(Nr(o))}};var Ol=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.put=function(e,o,a,u){try{var y=ut(o),S;a?S=this.store.put(y,e):S=this.store.add(y,e),S.onerror=Dr(u),S.onsuccess=function(I){u(null,!0)}}catch(I){u(Nr(I))}},t.prototype.del=function(e,o){try{var a=this.store.delete(e);a.onerror=Dr(o),a.onsuccess=function(u){o()}}catch(u){o(Nr(u))}},t.prototype.commit=function(e){setTimeout(e,0)},t.prototype.abort=function(e){var o=null;try{this.tx.abort()}catch(a){o=Nr(a)}finally{e(o)}},t}(_o),mi=function(t,n){var e=this;n===void 0&&(n="browserfs"),this.storeName=n;var o=mo.open(this.storeName,1);o.onupgradeneeded=function(a){var u=a.target.result;u.objectStoreNames.contains(e.storeName)&&u.deleteObjectStore(e.storeName),u.createObjectStore(e.storeName)},o.onsuccess=function(a){e.db=a.target.result,t(null,e)},o.onerror=Dr(t,d.EACCES)};mi.prototype.name=function(){return Lr.Name+" - "+this.storeName},mi.prototype.clear=function(t){try{var n=this.db.transaction(this.storeName,"readwrite"),e=n.objectStore(this.storeName),o=e.clear();o.onsuccess=function(a){setTimeout(t,0)},o.onerror=Dr(t)}catch(a){t(Nr(a))}},mi.prototype.beginTransaction=function(t){t===void 0&&(t="readonly");var n=this.db.transaction(this.storeName,t),e=n.objectStore(this.storeName);if(t==="readwrite")return new Ol(n,e);if(t==="readonly")return new _o(n,e);throw new p(d.EINVAL,"Invalid transaction type.")};var Lr=function(i){function t(n,e,o){var a=this;o===void 0&&(o=!0),i.call(this),this.store=new mi(function(u){u?n(u):a.init(a.store,function(y){n(y,a)})},e),Ot(o,t.Name,{storeName:e})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){new t(o,e.storeName,!1)},t.isAvailable=function(){try{return typeof mo<"u"&&mo.open("__browserfs_test__")!==null}catch{return!1}},t}(kl);Lr.Name="IndexedDB",Lr.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var wo=!1,Cr;try{he.localStorage.setItem("__test__",String.fromCharCode(55296)),wo=he.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{wo=!1}Cr=wo?"binary_string":"binary_string_ie",h.isEncoding(Cr)||(Cr="base64");var zn=function(){};zn.prototype.name=function(){return Ar.Name},zn.prototype.clear=function(){he.localStorage.clear()},zn.prototype.beginTransaction=function(t){return new Sn(this)},zn.prototype.get=function(t){try{var n=he.localStorage.getItem(t);if(n!==null)return h.from(n,Cr)}catch{}},zn.prototype.put=function(t,n,e){try{return!e&&he.localStorage.getItem(t)!==null?!1:(he.localStorage.setItem(t,n.toString(Cr)),!0)}catch{throw new p(d.ENOSPC,"LocalStorage is full.")}},zn.prototype.del=function(t){try{he.localStorage.removeItem(t)}catch(n){throw new p(d.EIO,"Unable to delete key "+t+": "+n)}};var Ar=function(i){function t(){i.call(this,{store:new zn})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t)},t.isAvailable=function(){return typeof he.localStorage<"u"},t}(Ls);Ar.Name="LocalStorage",Ar.Options={};var dr=function(i){function t(){i.call(this),this.mountList=[],this.mntMap={},this.rootFs=new hr}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t;Object.keys(e).forEach(function(u){a.mount(u,e[u])}),o(null,a)},t.isAvailable=function(){return!0},t.prototype.mount=function(e,o){if(e[0]!=="/"&&(e="/"+e),e=_.resolve(e),this.mntMap[e])throw new p(d.EINVAL,"Mount point "+e+" is already taken.");G(e,511,this.rootFs),this.mntMap[e]=o,this.mountList.push(e),this.mountList=this.mountList.sort(function(a,u){return u.length-a.length})},t.prototype.umount=function(e){var o=this;if(e[0]!=="/"&&(e="/"+e),e=_.resolve(e),!this.mntMap[e])throw new p(d.EINVAL,"Mount point "+e+" is already unmounted.");for(delete this.mntMap[e],this.mountList.splice(this.mountList.indexOf(e),1);e!=="/"&&o.rootFs.readdirSync(e).length===0;)o.rootFs.rmdirSync(e),e=_.dirname(e)},t.prototype._getFs=function(e){for(var o=this,a=this.mountList,u=a.length,y=0;y<u;y++){var S=a[y];if(S.length<=e.length&&e.indexOf(S)===0)return e=e.substr(S.length>1?S.length:0),e===""&&(e="/"),{fs:o.mntMap[S],path:e}}return{fs:this.rootFs,path:e}},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,o){o(0,0)},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.standardizeError=function(e,o,a){var u=e.message.indexOf(o);return u!==-1&&(e.message=e.message.substr(0,u)+a+e.message.substr(u+o.length),e.path=a),e},t.prototype.rename=function(e,o,a){var u=this,y=this._getFs(e),S=this._getFs(o);return y.fs===S.fs?y.fs.rename(y.path,S.path,function(I){I&&u.standardizeError(u.standardizeError(I,y.path,e),S.path,o),a(I)}):mt.readFile(e,function(I,P){if(I)return a(I);mt.writeFile(o,P,function(H){if(H)return a(H);mt.unlink(e,a)})})},t.prototype.renameSync=function(e,o){var a=this._getFs(e),u=this._getFs(o);if(a.fs===u.fs)try{return a.fs.renameSync(a.path,u.path)}catch(S){throw this.standardizeError(this.standardizeError(S,a.path,e),u.path,o),S}var y=mt.readFileSync(e);return mt.writeFileSync(o,y),mt.unlinkSync(e)},t.prototype.readdirSync=function(e){var o=this._getFs(e),a=null;if(o.fs!==this.rootFs)try{a=this.rootFs.readdirSync(e)}catch{}try{var u=o.fs.readdirSync(o.path);return a===null?u:u.concat(a.filter(function(y){return u.indexOf(y)===-1}))}catch(y){if(a===null)throw this.standardizeError(y,o.path,e);return a}},t.prototype.readdir=function(e,o){var a=this,u=this._getFs(e);u.fs.readdir(u.path,function(y,S){if(u.fs!==a.rootFs)try{var I=a.rootFs.readdirSync(e);S?S=S.concat(I.filter(function(P){return S.indexOf(P)===-1})):S=I}catch{if(y)return o(a.standardizeError(y,u.path,e))}else if(y)return o(a.standardizeError(y,u.path,e));o(null,S)})},t.prototype.rmdirSync=function(e){var o=this._getFs(e);if(this._containsMountPt(e))throw p.ENOTEMPTY(e);try{o.fs.rmdirSync(o.path)}catch(a){throw this.standardizeError(a,o.path,e)}},t.prototype.rmdir=function(e,o){var a=this,u=this._getFs(e);this._containsMountPt(e)?o(p.ENOTEMPTY(e)):u.fs.rmdir(u.path,function(y){o(y?a.standardizeError(y,u.path,e):null)})},t.prototype._containsMountPt=function(e){for(var o=this.mountList,a=o.length,u=0;u<a;u++){var y=o[u];if(y.length>=e.length&&y.slice(0,e.length)===e)return!0}return!1},t}(B);dr.Name="MountableFileSystem",dr.Options={};function As(i,t,n){return t?function(){for(var e=[],o=arguments.length;o--;)e[o]=arguments[o];var a=e[0],u=this._getFs(a);e[0]=u.path;try{return u.fs[i].apply(u.fs,e)}catch(y){throw this.standardizeError(y,u.path,a),y}}:function(){for(var e=this,o=[],a=arguments.length;a--;)o[a]=arguments[a];var u=o[0],y=this._getFs(u);if(o[0]=y.path,typeof o[o.length-1]=="function"){var S=o[o.length-1];o[o.length-1]=function(){for(var I=[],P=arguments.length;P--;)I[P]=arguments[P];I.length>0&&I[0]instanceof p&&e.standardizeError(I[0],y.path,u),S.apply(null,I)}}return y.fs[i].apply(y.fs,o)}}for(var Ps=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],So=0;So<Ps.length;So++)for(var Tl=Ps[So],Eo=0,Ms=Tl;Eo<Ms.length;Eo+=1){var _i=Ms[Eo];dr.prototype[_i]=As(_i,!1),dr.prototype[_i+"Sync"]=As(_i+"Sync",!0)}var Pr;if(typeof setImmediate<"u")Pr=setImmediate;else{var qe=he,pr=[],Us="zero-timeout-message",Rl=function(){if(typeof qe.importScripts<"u"||!qe.postMessage)return!1;var i=!0,t=qe.onmessage;return qe.onmessage=function(){i=!1},qe.postMessage("","*"),qe.onmessage=t,i};if(Rl()){Pr=function(i){pr.push(i),qe.postMessage(Us,"*")};var Bs=function(i){if(i.source===self&&i.data===Us&&(i.stopPropagation?i.stopPropagation():i.cancelBubble=!0,pr.length>0)){var t=pr.shift();return t()}};qe.addEventListener?qe.addEventListener("message",Bs,!0):qe.attachEvent("onmessage",Bs)}else if(qe.MessageChannel){var js=new qe.MessageChannel;js.port1.onmessage=function(i){if(pr.length>0)return pr.shift()()},Pr=function(i){pr.push(i),js.port2.postMessage("")}}else Pr=function(i){return setTimeout(i,0)}}var xo=Pr,Mr=function(){this._locked=!1,this._waiters=[]};Mr.prototype.lock=function(t){if(this._locked){this._waiters.push(t);return}this._locked=!0,t()},Mr.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var t=this._waiters.shift();if(t){xo(t);return}this._locked=!1},Mr.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},Mr.prototype.isLocked=function(){return this._locked};var At=function(t){this._fs=t,this._mu=new Mr};At.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},At.prototype.getFSUnlocked=function(){return this._fs},At.prototype.initialize=function(t){this._fs.initialize(t)},At.prototype.diskSpace=function(t,n){this._fs.diskSpace(t,n)},At.prototype.isReadOnly=function(){return this._fs.isReadOnly()},At.prototype.supportsLinks=function(){return this._fs.supportsLinks()},At.prototype.supportsProps=function(){return this._fs.supportsProps()},At.prototype.supportsSynch=function(){return this._fs.supportsSynch()},At.prototype.rename=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.rename(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.renameSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(t,n)},At.prototype.stat=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.stat(t,n,function(a,u){o._mu.unlock(),e(a,u)})})},At.prototype.statSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(t,n)},At.prototype.open=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.open(t,n,e,function(u,y){a._mu.unlock(),o(u,y)})})},At.prototype.openSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(t,n,e)},At.prototype.unlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.unlink(t,function(o){e._mu.unlock(),n(o)})})},At.prototype.unlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(t)},At.prototype.rmdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.rmdir(t,function(o){e._mu.unlock(),n(o)})})},At.prototype.rmdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(t)},At.prototype.mkdir=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.mkdir(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.mkdirSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(t,n)},At.prototype.readdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.readdir(t,function(o,a){e._mu.unlock(),n(o,a)})})},At.prototype.readdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(t)},At.prototype.exists=function(t,n){var e=this;this._mu.lock(function(){e._fs.exists(t,function(o){e._mu.unlock(),n(o)})})},At.prototype.existsSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(t)},At.prototype.realpath=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.realpath(t,n,function(a,u){o._mu.unlock(),e(a,u)})})},At.prototype.realpathSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(t,n)},At.prototype.truncate=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.truncate(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.truncateSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(t,n)},At.prototype.readFile=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.readFile(t,n,e,function(u,y){a._mu.unlock(),o(u,y)})})},At.prototype.readFileSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(t,n,e)},At.prototype.writeFile=function(t,n,e,o,a,u){var y=this;this._mu.lock(function(){y._fs.writeFile(t,n,e,o,a,function(S){y._mu.unlock(),u(S)})})},At.prototype.writeFileSync=function(t,n,e,o,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(t,n,e,o,a)},At.prototype.appendFile=function(t,n,e,o,a,u){var y=this;this._mu.lock(function(){y._fs.appendFile(t,n,e,o,a,function(S){y._mu.unlock(),u(S)})})},At.prototype.appendFileSync=function(t,n,e,o,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(t,n,e,o,a)},At.prototype.chmod=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.chmod(t,n,e,function(u){a._mu.unlock(),o(u)})})},At.prototype.chmodSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(t,n,e)},At.prototype.chown=function(t,n,e,o,a){var u=this;this._mu.lock(function(){u._fs.chown(t,n,e,o,function(y){u._mu.unlock(),a(y)})})},At.prototype.chownSync=function(t,n,e,o){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(t,n,e,o)},At.prototype.utimes=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.utimes(t,n,e,function(u){a._mu.unlock(),o(u)})})},At.prototype.utimesSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(t,n,e)},At.prototype.link=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.link(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.linkSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(t,n)},At.prototype.symlink=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.symlink(t,n,e,function(u){a._mu.unlock(),o(u)})})},At.prototype.symlinkSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(t,n,e)},At.prototype.readlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.readlink(t,function(o,a){e._mu.unlock(),n(o,a)})})},At.prototype.readlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(t)};var En="/.deletedFiles.log";function zs(i){return 146|i}function We(i){return D.getFileFlag(i)}var Ws=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(!this.isDirty()){e(null);return}this._fs._syncAsync(this,function(a){o.resetDirty(),e(a)})},t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.close=function(e){this.sync(e)},t.prototype.closeSync=function(){this.syncSync()},t}(yt),Hs=function(i){function t(n,e){if(i.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=n,this._readable=e,this._writable.isReadOnly())throw new p(d.EINVAL,"Writable file system must be writable.")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},t.prototype._syncAsync=function(e,o){var a=this;this.createParentDirectoriesAsync(e.getPath(),function(u){if(u)return o(u);a._writable.writeFile(e.getPath(),e.getBuffer(),null,We("w"),e.getStats().mode,o)})},t.prototype._syncSync=function(e){this.createParentDirectories(e.getPath()),this._writable.writeFileSync(e.getPath(),e.getBuffer(),null,We("w"),e.getStats().mode)},t.prototype.getName=function(){return Ur.Name},t.prototype.initialize=function(e){var o=this,a=this._initializeCallbacks,u=function(y){o._isInitialized=!y,o._initializeCallbacks=[],a.forEach(function(S){return S(y)})};if(this._isInitialized)return e();a.push(e),a.length===1&&this._writable.readFile(En,"utf8",We("r"),function(y,S){if(y){if(y.errno!==d.ENOENT)return u(y)}else o._deleteLog=S;o._reparseDeletionLog(),u()})},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},t.prototype.getDeletionLog=function(){return this._deleteLog},t.prototype.restoreDeletionLog=function(e){this._deleteLog=e,this._reparseDeletionLog(),this.updateLog("")},t.prototype.rename=function(e,o,a){var u=this;if(!(!this.checkInitAsync(a)||this.checkPathAsync(e,a)||this.checkPathAsync(o,a))){if(e===En||o===En)return a(p.EPERM("Cannot rename deletion log."));if(e===o)return a();this.stat(e,!1,function(y,S){return y?a(y):u.stat(o,!1,function(I,P){var H=u;function et(pt){var It=pt.shift();if(!It)return a();var Nt=_.resolve(e,It),jt=_.resolve(o,It);H.rename(Nt,jt,function(ae){if(ae)return a(ae);et(pt)})}var ht=511;if(S.isDirectory()){if(I)return I.errno!==d.ENOENT?a(I):u._writable.exists(e,function(pt){if(pt)return u._writable.rename(e,o,a);u._writable.mkdir(o,ht,function(It){if(It)return a(It);u._readable.readdir(e,function(Nt,jt){if(Nt)return a();et(jt)})})});if(ht=P.mode,!P.isDirectory())return a(p.ENOTDIR(o));u.readdir(o,function(pt,It){if(It&&It.length)return a(p.ENOTEMPTY(o));u._readable.readdir(e,function(Nt,jt){if(Nt)return a();et(jt)})})}if(P&&P.isDirectory())return a(p.EISDIR(o));u.readFile(e,null,We("r"),function(pt,It){return pt?a(pt):u.writeFile(o,It,null,We("w"),S.mode,function(Nt){return Nt?a(Nt):u.unlink(e,a)})})})})}},t.prototype.renameSync=function(e,o){var a=this;if(this.checkInitialized(),this.checkPath(e),this.checkPath(o),e===En||o===En)throw p.EPERM("Cannot rename deletion log.");var u=this.statSync(e,!1);if(u.isDirectory()){if(e===o)return;var y=511;if(this.existsSync(o)){var S=this.statSync(o,!1);if(y=S.mode,S.isDirectory()){if(this.readdirSync(o).length>0)throw p.ENOTEMPTY(o)}else throw p.ENOTDIR(o)}this._writable.existsSync(e)?this._writable.renameSync(e,o):this._writable.existsSync(o)||this._writable.mkdirSync(o,y),this._readable.existsSync(e)&&this._readable.readdirSync(e).forEach(function(I){a.renameSync(_.resolve(e,I),_.resolve(o,I))})}else{if(this.existsSync(o)&&this.statSync(o,!1).isDirectory())throw p.EISDIR(o);this.writeFileSync(o,this.readFileSync(e,null,We("r")),null,We("w"),u.mode)}e!==o&&this.existsSync(e)&&this.unlinkSync(e)},t.prototype.stat=function(e,o,a){var u=this;this.checkInitAsync(a)&&this._writable.stat(e,o,function(y,S){y&&y.errno===d.ENOENT?(u._deletedFiles[e]&&a(p.ENOENT(e)),u._readable.stat(e,o,function(I,P){P&&(P=P.clone(),P.mode=zs(P.mode)),a(I,P)})):a(y,S)})},t.prototype.statSync=function(e,o){this.checkInitialized();try{return this._writable.statSync(e,o)}catch{if(this._deletedFiles[e])throw p.ENOENT(e);var a=this._readable.statSync(e,o).clone();return a.mode=zs(a.mode),a}},t.prototype.open=function(e,o,a,u){var y=this;!this.checkInitAsync(u)||this.checkPathAsync(e,u)||this.stat(e,!1,function(S,I){if(I)switch(o.pathExistsAction()){case R.TRUNCATE_FILE:return y.createParentDirectoriesAsync(e,function(P){if(P)return u(P);y._writable.open(e,o,a,u)});case R.NOP:return y._writable.exists(e,function(P){P?y._writable.open(e,o,a,u):(I=I.clone(),I.mode=a,y._readable.readFile(e,null,We("r"),function(H,et){if(H)return u(H);I.size===-1&&(I.size=et.length);var ht=new Ws(y,e,o,I,et);u(null,ht)}))});default:return u(p.EEXIST(e))}else switch(o.pathNotExistsAction()){case R.CREATE_FILE:return y.createParentDirectoriesAsync(e,function(P){return P?u(P):y._writable.open(e,o,a,u)});default:return u(p.ENOENT(e))}})},t.prototype.openSync=function(e,o,a){if(this.checkInitialized(),this.checkPath(e),e===En)throw p.EPERM("Cannot open deletion log.");if(this.existsSync(e))switch(o.pathExistsAction()){case R.TRUNCATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,o,a);case R.NOP:if(this._writable.existsSync(e))return this._writable.openSync(e,o,a);var u=this._readable.readFileSync(e,null,We("r")),y=this._readable.statSync(e,!1).clone();return y.mode=a,new Ws(this,e,o,y,u);default:throw p.EEXIST(e)}else switch(o.pathNotExistsAction()){case R.CREATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,o,a);default:throw p.ENOENT(e)}},t.prototype.unlink=function(e,o){var a=this;!this.checkInitAsync(o)||this.checkPathAsync(e,o)||this.exists(e,function(u){if(!u)return o(p.ENOENT(e));a._writable.exists(e,function(y){if(y)return a._writable.unlink(e,function(S){if(S)return o(S);a.exists(e,function(I){I&&a.deletePath(e),o(null)})});a.deletePath(e),o(null)})})},t.prototype.unlinkSync=function(e){if(this.checkInitialized(),this.checkPath(e),this.existsSync(e))this._writable.existsSync(e)&&this._writable.unlinkSync(e),this.existsSync(e)&&this.deletePath(e);else throw p.ENOENT(e)},t.prototype.rmdir=function(e,o){var a=this;if(this.checkInitAsync(o)){var u=function(){a.readdir(e,function(y,S){if(y)return o(y);if(S.length)return o(p.ENOTEMPTY(e));a.deletePath(e),o(null)})};this.exists(e,function(y){if(!y)return o(p.ENOENT(e));a._writable.exists(e,function(S){S?a._writable.rmdir(e,function(I){if(I)return o(I);a._readable.exists(e,function(P){P?u():o()})}):u()})})}},t.prototype.rmdirSync=function(e){if(this.checkInitialized(),this.existsSync(e)){if(this._writable.existsSync(e)&&this._writable.rmdirSync(e),this.existsSync(e)){if(this.readdirSync(e).length>0)throw p.ENOTEMPTY(e);this.deletePath(e)}}else throw p.ENOENT(e)},t.prototype.mkdir=function(e,o,a){var u=this;this.checkInitAsync(a)&&this.exists(e,function(y){if(y)return a(p.EEXIST(e));u.createParentDirectoriesAsync(e,function(S){if(S)return a(S);u._writable.mkdir(e,o,a)})})},t.prototype.mkdirSync=function(e,o){if(this.checkInitialized(),this.existsSync(e))throw p.EEXIST(e);this.createParentDirectories(e),this._writable.mkdirSync(e,o)},t.prototype.readdir=function(e,o){var a=this;this.checkInitAsync(o)&&this.stat(e,!1,function(u,y){if(u)return o(u);if(!y.isDirectory())return o(p.ENOTDIR(e));a._writable.readdir(e,function(S,I){if(S&&S.code!=="ENOENT")return o(S);(S||!I)&&(I=[]),a._readable.readdir(e,function(P,H){(P||!H)&&(H=[]);var et={},ht=I.concat(H.filter(function(pt){return!a._deletedFiles[e+"/"+pt]})).filter(function(pt){var It=!et[pt];return et[pt]=!0,It});o(null,ht)})})})},t.prototype.readdirSync=function(e){var o=this;this.checkInitialized();var a=this.statSync(e,!1);if(!a.isDirectory())throw p.ENOTDIR(e);var u=[];try{u=u.concat(this._writable.readdirSync(e))}catch{}try{u=u.concat(this._readable.readdirSync(e).filter(function(S){return!o._deletedFiles[e+"/"+S]}))}catch{}var y={};return u.filter(function(S){var I=!y[S];return y[S]=!0,I})},t.prototype.exists=function(e,o){var a=this;this.checkInitialized(),this._writable.exists(e,function(u){if(u)return o(!0);a._readable.exists(e,function(y){o(y&&a._deletedFiles[e]!==!0)})})},t.prototype.existsSync=function(e){return this.checkInitialized(),this._writable.existsSync(e)||this._readable.existsSync(e)&&this._deletedFiles[e]!==!0},t.prototype.chmod=function(e,o,a,u){var y=this;this.checkInitAsync(u)&&this.operateOnWritableAsync(e,function(S){if(S)return u(S);y._writable.chmod(e,o,a,u)})},t.prototype.chmodSync=function(e,o,a){var u=this;this.checkInitialized(),this.operateOnWritable(e,function(){u._writable.chmodSync(e,o,a)})},t.prototype.chown=function(e,o,a,u,y){var S=this;this.checkInitAsync(y)&&this.operateOnWritableAsync(e,function(I){if(I)return y(I);S._writable.chown(e,o,a,u,y)})},t.prototype.chownSync=function(e,o,a,u){var y=this;this.checkInitialized(),this.operateOnWritable(e,function(){y._writable.chownSync(e,o,a,u)})},t.prototype.utimes=function(e,o,a,u){var y=this;this.checkInitAsync(u)&&this.operateOnWritableAsync(e,function(S){if(S)return u(S);y._writable.utimes(e,o,a,u)})},t.prototype.utimesSync=function(e,o,a){var u=this;this.checkInitialized(),this.operateOnWritable(e,function(){u._writable.utimesSync(e,o,a)})},t.prototype.deletePath=function(e){this._deletedFiles[e]=!0,this.updateLog("d"+e+`
`)},t.prototype.updateLog=function(e){var o=this;this._deleteLog+=e,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(En,this._deleteLog,"utf8",D.getFileFlag("w"),420,function(a){o._deleteLogUpdatePending=!1,a?o._deleteLogError=a:o._deleteLogUpdateNeeded&&(o._deleteLogUpdateNeeded=!1,o.updateLog(""))}))},t.prototype._reparseDeletionLog=function(){var e=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(o){e._deletedFiles[o.slice(1)]=o.slice(0,1)==="d"})},t.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var e=this._deleteLogError;throw this._deleteLogError=null,e}}else throw new p(d.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},t.prototype.checkInitAsync=function(e){if(this._isInitialized){if(this._deleteLogError!==null){var o=this._deleteLogError;return this._deleteLogError=null,e(o),!1}}else return e(new p(d.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},t.prototype.checkPath=function(e){if(e===En)throw p.EPERM(e)},t.prototype.checkPathAsync=function(e,o){return e===En?(o(p.EPERM(e)),!0):!1},t.prototype.createParentDirectoriesAsync=function(e,o){var a=_.dirname(e),u=[],y=this;this._writable.stat(a,!1,S);function S(P,H){P?(u.push(a),a=_.dirname(a),y._writable.stat(a,!1,S)):I()}function I(){if(!u.length)return o();var P=u.pop();y._readable.stat(P,!1,function(H,et){if(!et)return o();y._writable.mkdir(P,et.mode,function(ht){if(ht)return o(ht);I()})})}},t.prototype.createParentDirectories=function(e){for(var o=this,a=_.dirname(e),u=[];!this._writable.existsSync(a);)u.push(a),a=_.dirname(a);u=u.reverse(),u.forEach(function(y){o._writable.mkdirSync(y,o.statSync(y,!1).mode)})},t.prototype.operateOnWritable=function(e,o){if(this.existsSync(e))this._writable.existsSync(e)||this.copyToWritable(e),o();else throw p.ENOENT(e)},t.prototype.operateOnWritableAsync=function(e,o){var a=this;this.exists(e,function(u){if(!u)return o(p.ENOENT(e));a._writable.exists(e,function(y){if(y)o();else return a.copyToWritableAsync(e,o)})})},t.prototype.copyToWritable=function(e){var o=this.statSync(e,!1);o.isDirectory()?this._writable.mkdirSync(e,o.mode):this.writeFileSync(e,this._readable.readFileSync(e,null,We("r")),null,We("w"),this.statSync(e,!1).mode)},t.prototype.copyToWritableAsync=function(e,o){var a=this;this.stat(e,!1,function(u,y){if(u)return o(u);if(y.isDirectory())return a._writable.mkdir(e,y.mode,o);a._readable.readFile(e,null,We("r"),function(S,I){if(S)return o(S);a.writeFile(e,I,null,We("w"),y.mode,o)})})},t}(B),Ur=function(i){function t(n,e,o){o===void 0&&(o=!0),i.call(this,new Hs(n,e)),Ot(o,t.Name,{readable:"readable file system",writable:"writable file system"})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{var a=new t(e.writable,e.readable,!1);a.initialize(function(u){o(u,a)},!1)}catch(u){o(u)}},t.isAvailable=function(){return Hs.isAvailable()},t.prototype.initialize=function(e,o){o===void 0&&(o=!0),o&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),i.prototype.initialize.call(this,e)},t.prototype.getOverlayedFileSystems=function(){return i.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},t.prototype.unwrap=function(){return i.prototype.getFSUnlocked.call(this)},t}(At);Ur.Name="OverlayFS",Ur.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var se;(function(i){i[i.CB=0]="CB",i[i.FD=1]="FD",i[i.API_ERROR=2]="API_ERROR",i[i.STATS=3]="STATS",i[i.PROBE=4]="PROBE",i[i.FILEFLAG=5]="FILEFLAG",i[i.BUFFER=6]="BUFFER",i[i.ERROR=7]="ERROR"})(se||(se={}));var bo=function(){this._callbacks={},this._nextId=0};bo.prototype.toRemoteArg=function(t){var n=this._nextId++;return this._callbacks[n]=t,{type:se.CB,id:n}},bo.prototype.toLocalArg=function(t){var n=this._callbacks[t];return delete this._callbacks[t],n};var wi=function(){this._fileDescriptors={},this._nextId=0};wi.prototype.toRemoteArg=function(t,n,e,o){var a=this._nextId++,u,y;this._fileDescriptors[a]=t,t.stat(function(S,I){S?o(S):(y=Wn(I.toBuffer()),e.isReadable()?t.read(h.alloc(I.size),0,I.size,0,function(P,H,et){P?o(P):(u=Wn(et),o(null,{type:se.FD,id:a,data:u,stat:y,path:n,flag:e.getFlagString()}))}):o(null,{type:se.FD,id:a,data:new ArrayBuffer(0),stat:y,path:n,flag:e.getFlagString()}))})},wi.prototype.applyFdAPIRequest=function(t,n){var e=this,o=t.args[0];this._applyFdChanges(o,function(a,u){a?n(a):u[t.method](function(y){t.method==="close"&&delete e._fileDescriptors[o.id],n(y)})})},wi.prototype._applyFdChanges=function(t,n){var e=this._fileDescriptors[t.id],o=Hn(t.data),a=j.fromBuffer(Hn(t.stat)),u=D.getFileFlag(t.flag);u.isWriteable()?e.write(o,0,o.length,u.isAppendable()?e.getPos():0,function(y){function S(){e.stat(function(I,P){I?n(I):P.mode!==a.mode?e.chmod(a.mode,function(H){n(H,e)}):n(I,e)})}y?n(y):u.isAppendable()?S():e.truncate(o.length,function(){S()})}):n(null,e)};function Si(i){return{type:se.API_ERROR,errorData:Wn(i.writeToBuffer())}}function Vs(i){return p.fromBuffer(Hn(i.errorData))}function Xs(i){return{type:se.ERROR,name:i.name,message:i.message,stack:i.stack}}function Ys(i){var t=he[i.name];typeof t!="function"&&(t=Error);var n=new t(i.message);return n.stack=i.stack,n}function Zs(i){return{type:se.STATS,statsData:Wn(i.toBuffer())}}function Ks(i){return j.fromBuffer(Hn(i.statsData))}function qs(i){return{type:se.FILEFLAG,flagStr:i.getFlagString()}}function Js(i){return D.getFileFlag(i.flagStr)}function Wn(i){return ut(i)}function Hn(i){return Ct(i)}function Gs(i){return{type:se.BUFFER,data:Wn(i)}}function Qs(i){return Hn(i.data)}function Nl(i){return i&&typeof i=="object"&&i.hasOwnProperty("browserfsMessage")&&i.browserfsMessage}function Dl(i){return i&&typeof i=="object"&&i.hasOwnProperty("browserfsMessage")&&i.browserfsMessage}var $s=function(i){function t(n,e,o,a,u,y){i.call(this,n,e,o,a,y),this._remoteFdId=u}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.getRemoteFdId=function(){return this._remoteFdId},t.prototype.toRemoteArg=function(){return{type:se.FD,id:this._remoteFdId,data:Wn(this.getBuffer()),stat:Wn(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},t.prototype.sync=function(e){this._syncClose("sync",e)},t.prototype.close=function(e){this._syncClose("close",e)},t.prototype._syncClose=function(e,o){var a=this;this.isDirty()?this._fs.syncClose(e,this,function(u){u||a.resetDirty(),o(u)}):o()},t}(yt),Ei=function(i){function t(n,e){var o=this;e===void 0&&(e=!0),i.call(this),this._callbackConverter=new bo,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=n,Ot(e,t.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(a){var u=a.data;if(Dl(u)){var y,S=u.args,I=new Array(S.length);for(y=0;y<I.length;y++)I[y]=o._argRemote2Local(S[y]);o._callbackConverter.toLocalArg(u.cbId).apply(null,I)}})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t(e.worker,!1);a.initialize(function(){o(null,a)})},t.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},t.attachRemoteListener=function(e){var o=new wi;function a(y,S,I){switch(typeof y){case"object":y instanceof j?I(null,Zs(y)):y instanceof p?I(null,Si(y)):y instanceof Q?I(null,o.toRemoteArg(y,S[0],S[1],I)):y instanceof D?I(null,qs(y)):y instanceof h?I(null,Gs(y)):y instanceof Error?I(null,Xs(y)):I(null,y);break;default:I(null,y);break}}function u(y,S){if(!y)return y;switch(typeof y){case"object":if(typeof y.type=="number"){var I=y;switch(I.type){case se.CB:var P=y.id;return function(){var H=arguments,et,ht=new Array(arguments.length),pt,It=arguments.length;function Nt(jt){It>0&&(It=-1,pt={browserfsMessage:!0,cbId:P,args:[Si(jt)]},e.postMessage(pt))}for(et=0;et<arguments.length;et++)(function(jt,ae){a(ae,S,function(be,ln){ht[jt]=ln,be?Nt(be):--It===0&&(pt={browserfsMessage:!0,cbId:P,args:ht},e.postMessage(pt))})})(et,H[et]);arguments.length===0&&(pt={browserfsMessage:!0,cbId:P,args:ht},e.postMessage(pt))};case se.API_ERROR:return Vs(I);case se.STATS:return Ks(I);case se.FILEFLAG:return Js(I);case se.BUFFER:return Qs(I);case se.ERROR:return Ys(I);default:return y}}else return y;default:return y}}e.addEventListener("message",function(y){var S=y.data;if(Nl(S)){var I=S.args,P=new Array(I.length);switch(S.method){case"close":case"sync":(function(){var ht=I[1];o.applyFdAPIRequest(S,function(pt){var It={browserfsMessage:!0,cbId:ht.id,args:pt?[Si(pt)]:[]};e.postMessage(It)})})();break;case"probe":(function(){var ht=mt.getRootFS(),pt=I[1],It={type:se.PROBE,isReadOnly:ht.isReadOnly(),supportsLinks:ht.supportsLinks(),supportsProps:ht.supportsProps()},Nt={browserfsMessage:!0,cbId:pt.id,args:[It]};e.postMessage(Nt)})();break;default:for(var H=0;H<I.length;H++)P[H]=u(I[H],P);var et=mt.getRootFS();et[S.method].apply(et,P);break}}})},t.prototype.getName=function(){return t.Name},t.prototype.initialize=function(e){var o=this;if(this._isInitialized)e();else{var a={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Xt()),this._callbackConverter.toRemoteArg(function(u){o._isInitialized=!0,o._isReadOnly=u.isReadOnly,o._supportLinks=u.supportsLinks,o._supportProps=u.supportsProps,e()})]};this._worker.postMessage(a)}},t.prototype.isReadOnly=function(){return this._isReadOnly},t.prototype.supportsSynch=function(){return!1},t.prototype.supportsLinks=function(){return this._supportLinks},t.prototype.supportsProps=function(){return this._supportProps},t.prototype.rename=function(e,o,a){this._rpc("rename",arguments)},t.prototype.stat=function(e,o,a){this._rpc("stat",arguments)},t.prototype.open=function(e,o,a,u){this._rpc("open",arguments)},t.prototype.unlink=function(e,o){this._rpc("unlink",arguments)},t.prototype.rmdir=function(e,o){this._rpc("rmdir",arguments)},t.prototype.mkdir=function(e,o,a){this._rpc("mkdir",arguments)},t.prototype.readdir=function(e,o){this._rpc("readdir",arguments)},t.prototype.exists=function(e,o){this._rpc("exists",arguments)},t.prototype.realpath=function(e,o,a){this._rpc("realpath",arguments)},t.prototype.truncate=function(e,o,a){this._rpc("truncate",arguments)},t.prototype.readFile=function(e,o,a,u){this._rpc("readFile",arguments)},t.prototype.writeFile=function(e,o,a,u,y,S){this._rpc("writeFile",arguments)},t.prototype.appendFile=function(e,o,a,u,y,S){this._rpc("appendFile",arguments)},t.prototype.chmod=function(e,o,a,u){this._rpc("chmod",arguments)},t.prototype.chown=function(e,o,a,u,y){this._rpc("chown",arguments)},t.prototype.utimes=function(e,o,a,u){this._rpc("utimes",arguments)},t.prototype.link=function(e,o,a){this._rpc("link",arguments)},t.prototype.symlink=function(e,o,a,u){this._rpc("symlink",arguments)},t.prototype.readlink=function(e,o){this._rpc("readlink",arguments)},t.prototype.syncClose=function(e,o,a){this._worker.postMessage({browserfsMessage:!0,method:e,args:[o.toRemoteArg(),this._callbackConverter.toRemoteArg(a)]})},t.prototype._argRemote2Local=function(e){if(!e)return e;switch(typeof e){case"object":if(typeof e.type=="number"){var o=e;switch(o.type){case se.API_ERROR:return Vs(o);case se.FD:var a=o;return new $s(this,a.path,D.getFileFlag(a.flag),j.fromBuffer(Hn(a.stat)),a.id,Hn(a.data));case se.STATS:return Ks(o);case se.FILEFLAG:return Js(o);case se.BUFFER:return Qs(o);case se.ERROR:return Ys(o);default:return e}}else return e;default:return e}},t.prototype._rpc=function(e,o){for(var a=this,u=new Array(o.length),y=0;y<o.length;y++)u[y]=a._argLocal2Remote(o[y]);var S={browserfsMessage:!0,method:e,args:u};this._worker.postMessage(S)},t.prototype._argLocal2Remote=function(e){if(!e)return e;switch(typeof e){case"object":return e instanceof j?Zs(e):e instanceof p?Si(e):e instanceof $s?e.toRemoteArg():e instanceof D?qs(e):e instanceof h?Gs(e):e instanceof Error?Xs(e):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(e);default:return e}},t}(B);Ei.Name="WorkerFS",Ei.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(i,t){i.postMessage?t():t(new p(d.EINVAL,"option must be a Web Worker instance."))}}};function Ll(i,t,n){var e=new XMLHttpRequest;e.open("GET",i,!0);var o=!0;switch(t){case"buffer":e.responseType="arraybuffer";break;case"json":try{e.responseType="json",o=e.responseType==="json"}catch{o=!1}break;default:return n(new p(d.EINVAL,"Invalid download type: "+t))}e.onreadystatechange=function(a){if(e.readyState===4)if(e.status===200)switch(t){case"buffer":return n(null,e.response?h.from(e.response):Xt());case"json":return o?n(null,e.response):n(null,JSON.parse(e.responseText))}else return n(new p(e.status,"XHR error."))},e.send()}function Cl(i,t){var n=new XMLHttpRequest;n.open("GET",i,!1);var e=null,o=null;if(n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(a){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":var u=n.responseText;e=h.alloc(u.length);for(var y=0;y<u.length;y++)e[y]=u.charCodeAt(y);return;case"json":e=JSON.parse(n.responseText);return}else{o=new p(n.status,"XHR error.");return}},n.send(),o)throw o;return e}function Al(i,t){var n=new XMLHttpRequest;switch(n.open("GET",i,!1),t){case"buffer":n.responseType="arraybuffer";break;case"json":break;default:throw new p(d.EINVAL,"Invalid download type: "+t)}var e,o;if(n.onreadystatechange=function(a){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":e=h.from(n.response);break;case"json":e=JSON.parse(n.response);break}else o=new p(n.status,"XHR error.")},n.send(),o)throw o;return e}function ta(i,t,n){var e=new XMLHttpRequest;e.open("HEAD",t,i),e.onreadystatechange=function(o){if(e.readyState===4)if(e.status===200)try{return n(null,parseInt(e.getResponseHeader("Content-Length")||"-1",10))}catch{return n(new p(d.EIO,"XHR HEAD error: Could not read content-length."))}else return n(new p(e.status,"XHR HEAD error."))},e.send()}var ea=Ll,Pl=ft&&typeof Blob<"u"?Al:Cl;function Ml(i){var t=-1;return ta(!1,i,function(n,e){if(n)throw n;t=e}),t}function Ul(i,t){ta(!0,i,t)}var Je=function(){this._index={},this.addPath("/",new Ae)};Je.fromListing=function(t){var n=new Je,e=new Ae;n._index["/"]=e;for(var o=[["",t,e]];o.length>0;){var a=void 0,u=o.pop(),y=u[0],S=u[1],I=u[2];for(var P in S)if(S.hasOwnProperty(P)){var H=S[P],et=y+"/"+P;H?(n._index[et]=a=new Ae,o.push([et,H,a])):a=new yr(new j(M.FILE,-1,365)),I&&(I._ls[P]=a)}}return n},Je.prototype.fileIterator=function(t){var n=this;for(var e in n._index)if(n._index.hasOwnProperty(e))for(var o=n._index[e],a=o.getListing(),u=0,y=a;u<y.length;u+=1){var S=y[u],I=o.getItem(S);xn(I)&&t(I.getData())}},Je.prototype.addPath=function(t,n){if(!n)throw new Error("Inode must be specified");if(t[0]!=="/")throw new Error("Path must be absolute, got: "+t);if(this._index.hasOwnProperty(t))return this._index[t]===n;var e=this._split_path(t),o=e[0],a=e[1],u=this._index[o];return u===void 0&&t!=="/"&&(u=new Ae,!this.addPath(o,u))||t!=="/"&&!u.addItem(a,n)?!1:(Rn(n)&&(this._index[t]=n),!0)},Je.prototype.addPathFast=function(t,n){var e=t.lastIndexOf("/"),o=e===0?"/":t.substring(0,e),a=t.substring(e+1),u=this._index[o];return u===void 0&&(u=new Ae,this.addPathFast(o,u)),u.addItem(a,n)?(n.isDir()&&(this._index[t]=n),!0):!1},Je.prototype.removePath=function(t){var n=this,e=this._split_path(t),o=e[0],a=e[1],u=this._index[o];if(u===void 0)return null;var y=u.remItem(a);if(y===null)return null;if(Rn(y)){for(var S=y.getListing(),I=0,P=S;I<P.length;I+=1){var H=P[I];n.removePath(t+"/"+H)}t!=="/"&&delete this._index[t]}return y},Je.prototype.ls=function(t){var n=this._index[t];return n===void 0?null:n.getListing()},Je.prototype.getInode=function(t){var n=this._split_path(t),e=n[0],o=n[1],a=this._index[e];return a===void 0?null:e===t?a:a.getItem(o)},Je.prototype._split_path=function(t){var n=_.dirname(t),e=t.substr(n.length+(n==="/"?0:1));return[n,e]};var yr=function(t){this.data=t};yr.prototype.isFile=function(){return!0},yr.prototype.isDir=function(){return!1},yr.prototype.getData=function(){return this.data},yr.prototype.setData=function(t){this.data=t};var Ae=function(t){t===void 0&&(t=null),this.data=t,this._ls={}};Ae.prototype.isFile=function(){return!1},Ae.prototype.isDir=function(){return!0},Ae.prototype.getData=function(){return this.data},Ae.prototype.getStats=function(){return new j(M.DIRECTORY,4096,365)},Ae.prototype.getListing=function(){return Object.keys(this._ls)},Ae.prototype.getItem=function(t){var n=this._ls[t];return n||null},Ae.prototype.addItem=function(t,n){return t in this._ls?!1:(this._ls[t]=n,!0)},Ae.prototype.remItem=function(t){var n=this._ls[t];return n===void 0?null:(delete this._ls[t],n)};function xn(i){return!!i&&i.isFile()}function Rn(i){return!!i&&i.isDir()}function Bl(i,t,n){try{n(null,i.toString(t))}catch(e){n(e)}}var xi=function(i){function t(n,e,o){e===void 0&&(e=""),o===void 0&&(o=!0),i.call(this),n||(n="index.json"),e.length>0&&e.charAt(e.length-1)!=="/"&&(e=e+"/"),this.prefixUrl=e;var a=null;if(typeof n=="string"){if(a=this._requestFileSync(n,"json"),!a)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else a=n;Ot(o,t.Name,{index:typeof n=="string"?n:"file index as an object",baseUrl:e}),this._index=Je.fromListing(a)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){e.index===void 0&&(e.index="index.json"),typeof e.index=="string"?t.FromURL(e.index,o,e.baseUrl,!1):o(null,new t(e.index,e.baseUrl,!1))},t.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},t.FromURL=function(e,o,a,u){a===void 0&&(a=e.slice(0,e.lastIndexOf("/")+1)),u===void 0&&(u=!0),u&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+e+'", baseUrl: "'+a+`" }, cb)' instead.`),ea(e,"json",function(y,S){y?o(y):o(null,new t(S,a,!1))})},t.prototype.empty=function(){this._index.fileIterator(function(e){e.fileData=null})},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,o){o(0,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.preloadFile=function(e,o){var a=this._index.getInode(e);if(xn(a)){if(a===null)throw p.ENOENT(e);var u=a.getData();u.size=o.length,u.fileData=o}else throw p.EISDIR(e)},t.prototype.stat=function(e,o,a){var u=this._index.getInode(e);if(u===null)return a(p.ENOENT(e));var y;xn(u)?(y=u.getData(),y.size<0?this._requestFileSizeAsync(e,function(S,I){if(S)return a(S);y.size=I,a(null,y.clone())}):a(null,y.clone())):Rn(u)?(y=u.getStats(),a(null,y)):a(p.FileError(d.EINVAL,e))},t.prototype.statSync=function(e,o){var a=this._index.getInode(e);if(a===null)throw p.ENOENT(e);var u;if(xn(a))u=a.getData(),u.size<0&&(u.size=this._requestFileSizeSync(e));else if(Rn(a))u=a.getStats();else throw p.FileError(d.EINVAL,e);return u},t.prototype.open=function(e,o,a,u){if(o.isWriteable())return u(new p(d.EPERM,e));var y=this,S=this._index.getInode(e);if(S===null)return u(p.ENOENT(e));if(xn(S)){var I=S.getData();switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:return u(p.EEXIST(e));case R.NOP:if(I.fileData)return u(null,new lt(y,e,o,I.clone(),I.fileData));this._requestFileAsync(e,"buffer",function(P,H){return P?u(P):(I.size=H.length,I.fileData=H,u(null,new lt(y,e,o,I.clone(),H)))});break;default:return u(new p(d.EINVAL,"Invalid FileMode object."))}}else return u(p.EISDIR(e))},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new p(d.EPERM,e);var u=this._index.getInode(e);if(u===null)throw p.ENOENT(e);if(xn(u)){var y=u.getData();switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:throw p.EEXIST(e);case R.NOP:if(y.fileData)return new lt(this,e,o,y.clone(),y.fileData);var S=this._requestFileSync(e,"buffer");return y.size=S.length,y.fileData=S,new lt(this,e,o,y.clone(),S);default:throw new p(d.EINVAL,"Invalid FileMode object.")}}else throw p.EISDIR(e)},t.prototype.readdir=function(e,o){try{o(null,this.readdirSync(e))}catch(a){o(a)}},t.prototype.readdirSync=function(e){var o=this._index.getInode(e);if(o===null)throw p.ENOENT(e);if(Rn(o))return o.getListing();throw p.ENOTDIR(e)},t.prototype.readFile=function(e,o,a,u){var y=u;this.open(e,a,420,function(S,I){if(S)return u(S);u=function(et,ht){I.close(function(pt){return et||(et=pt),y(et,ht)})};var P=I,H=P.getBuffer();o===null?u(S,Mt(H)):Bl(H,o,u)})},t.prototype.readFileSync=function(e,o,a){var u=this.openSync(e,a,420);try{var y=u,S=y.getBuffer();return o===null?Mt(S):S.toString(o)}finally{u.closeSync()}},t.prototype.getXhrPath=function(e){return e.charAt(0)==="/"&&(e=e.slice(1)),this.prefixUrl+e},t.prototype._requestFileAsync=function(e,o,a){ea(this.getXhrPath(e),o,a)},t.prototype._requestFileSync=function(e,o){return Pl(this.getXhrPath(e),o)},t.prototype._requestFileSizeAsync=function(e,o){Ul(this.getXhrPath(e),o)},t.prototype._requestFileSizeSync=function(e){return Ml(this.getXhrPath(e))},t}(B);xi.Name="XmlHttpRequest",xi.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Vn=function(){};Vn.str2byte=function(t,n){for(var e=t.length>n.length?n.length:t.length,o=0;o<e;o++){var a=t.charCodeAt(o);if(a>127){var u=Vn.extendedChars.indexOf(t.charAt(o));u>-1&&(a=u+128)}n[a]=o}return e},Vn.byte2str=function(t){for(var n=new Array(t.length),e=0;e<t.length;e++){var o=t[e];o>127?n[e]=Vn.extendedChars[o-128]:n[e]=String.fromCharCode(o)}return n.join("")},Vn.byteLength=function(t){return t.length},Vn.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var jl=f(31).inflateRaw,na={},ra;(function(i){i[i.MSDOS=0]="MSDOS",i[i.AMIGA=1]="AMIGA",i[i.OPENVMS=2]="OPENVMS",i[i.UNIX=3]="UNIX",i[i.VM_CMS=4]="VM_CMS",i[i.ATARI_ST=5]="ATARI_ST",i[i.OS2_HPFS=6]="OS2_HPFS",i[i.MAC=7]="MAC",i[i.Z_SYSTEM=8]="Z_SYSTEM",i[i.CP_M=9]="CP_M",i[i.NTFS=10]="NTFS",i[i.MVS=11]="MVS",i[i.VSE=12]="VSE",i[i.ACORN_RISC=13]="ACORN_RISC",i[i.VFAT=14]="VFAT",i[i.ALT_MVS=15]="ALT_MVS",i[i.BEOS=16]="BEOS",i[i.TANDEM=17]="TANDEM",i[i.OS_400=18]="OS_400",i[i.OSX=19]="OSX"})(ra||(ra={}));var vr;(function(i){i[i.STORED=0]="STORED",i[i.SHRUNK=1]="SHRUNK",i[i.REDUCED_1=2]="REDUCED_1",i[i.REDUCED_2=3]="REDUCED_2",i[i.REDUCED_3=4]="REDUCED_3",i[i.REDUCED_4=5]="REDUCED_4",i[i.IMPLODE=6]="IMPLODE",i[i.DEFLATE=8]="DEFLATE",i[i.DEFLATE64=9]="DEFLATE64",i[i.TERSE_OLD=10]="TERSE_OLD",i[i.BZIP2=12]="BZIP2",i[i.LZMA=14]="LZMA",i[i.TERSE_NEW=18]="TERSE_NEW",i[i.LZ77=19]="LZ77",i[i.WAVPACK=97]="WAVPACK",i[i.PPMD=98]="PPMD"})(vr||(vr={}));function ia(i,t){var n=t&31,e=(t>>5&15)-1,o=(t>>9)+1980,a=i&31,u=i>>5&63,y=i>>11;return new Date(o,e,n,y,u,a)}function bi(i,t,n,e){return e===0?"":t?i.toString("utf8",n,n+e):Vn.byte2str(i.slice(n,n+e))}var He=function(t){if(this.data=t,t.readUInt32LE(0)!==67324752)throw new p(d.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};He.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},He.prototype.flags=function(){return this.data.readUInt16LE(6)},He.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},He.prototype.lastModFileTime=function(){return ia(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},He.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},He.prototype.crc32=function(){return this.data.readUInt32LE(14)},He.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},He.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},He.prototype.fileName=function(){return bi(this.data,this.useUTF8(),30,this.fileNameLength())},He.prototype.extraField=function(){var t=30+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},He.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},He.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var Br=function(t,n,e){this.header=t,this.record=n,this.data=e};Br.prototype.decompress=function(){var t=this.header.compressionMethod(),n=na[t];if(n)return n(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var e=vr[t];throw e||(e="Unknown: "+t),new p(d.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+e)},Br.prototype.getHeader=function(){return this.header},Br.prototype.getRecord=function(){return this.record},Br.prototype.getRawData=function(){return this.data};var Zt=function(t,n){if(this.zipData=t,this.data=n,this.data.readUInt32LE(0)!==33639248)throw new p(d.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};Zt.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},Zt.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},Zt.prototype.flag=function(){return this.data.readUInt16LE(8)},Zt.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},Zt.prototype.lastModFileTime=function(){return ia(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},Zt.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},Zt.prototype.crc32=function(){return this.data.readUInt32LE(16)},Zt.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},Zt.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},Zt.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},Zt.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},Zt.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},Zt.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},Zt.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},Zt.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},Zt.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},Zt.prototype.produceFilename=function(){var t=bi(this.data,this.useUTF8(),46,this.fileNameLength());return t.replace(/\\/g,"/")},Zt.prototype.fileName=function(){return this._filename},Zt.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},Zt.prototype.extraField=function(){var t=44+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},Zt.prototype.fileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return bi(this.data,this.useUTF8(),t,this.fileCommentLength())},Zt.prototype.rawFileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(t,t+this.fileCommentLength())},Zt.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},Zt.prototype.isDirectory=function(){var t=this.fileName();return!!(this.externalAttributes()&16)||t.charAt(t.length-1)==="/"},Zt.prototype.isFile=function(){return!this.isDirectory()},Zt.prototype.useUTF8=function(){return(this.flag()&2048)===2048},Zt.prototype.isEncrypted=function(){return(this.flag()&1)===1},Zt.prototype.getFileData=function(){var t=this.headerRelativeOffset(),n=new He(this.zipData.slice(t));return new Br(n,this,this.zipData.slice(t+n.totalSize()))},Zt.prototype.getData=function(){return this.getFileData().decompress()},Zt.prototype.getRawData=function(){return this.getFileData().getRawData()},Zt.prototype.getStats=function(){return new j(M.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var un=function(t){if(this.data=t,this.data.readUInt32LE(0)!==101010256)throw new p(d.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};un.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},un.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},un.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},un.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},un.prototype.cdSize=function(){return this.data.readUInt32LE(12)},un.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},un.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},un.prototype.cdZipComment=function(){return bi(this.data,!0,22,this.cdZipCommentLength())},un.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var oa=function(t,n,e,o){this.index=t,this.directoryEntries=n,this.eocd=e,this.data=o},Xn=function(i){function t(n,e,o){e===void 0&&(e=""),o===void 0&&(o=!0),i.call(this),this.name=e,this._index=new Je,this._directoryEntries=[],this._eocd=null,Ot(o,t.Name,{zipData:"zip data as a Buffer",name:e}),n instanceof oa?(this._index=n.index,this._directoryEntries=n.directoryEntries,this._eocd=n.eocd,this.data=n.data):(this.data=n,this.populateIndex())}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{t.computeIndex(e.zipData,function(a){var u=new t(a,e.name,!1);o(null,u)},!1)}catch(a){o(a)}},t.isAvailable=function(){return!0},t.RegisterDecompressionMethod=function(e,o){na[e]=o},t.computeIndex=function(e,o,a){a===void 0&&(a=!0),a&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var u=new Je,y=t.getEOCD(e);if(y.diskNumber()!==y.cdDiskNumber())throw new p(d.EINVAL,"ZipFS does not support spanned zip files.");var S=y.cdOffset();if(S===4294967295)throw new p(d.EINVAL,"ZipFS does not support Zip64.");var I=S+y.cdSize();t.computeIndexResponsive(e,u,S,I,o,[],y)},t.getEOCD=function(e){for(var o=22,a=Math.min(o+65535,e.length-1),u=o;u<a;u++)if(e.readUInt32LE(e.length-u)===101010256)return new un(e.slice(e.length-u));throw new p(d.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},t.addToIndex=function(e,o){var a=e.fileName();if(a.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");a.charAt(a.length-1)==="/"&&(a=a.substr(0,a.length-1)),e.isDirectory()?o.addPathFast("/"+a,new Ae(e)):o.addPathFast("/"+a,new yr(e))},t.computeIndexResponsive=function(e,o,a,u,y,S,I){if(a<u){for(var P=0;P++<200&&a<u;){var H=new Zt(e,e.slice(a));t.addToIndex(H,o),a+=H.totalSize(),S.push(H)}xo(function(){t.computeIndexResponsive(e,o,a,u,y,S,I)})}else y(new oa(o,S,I,e))},t.prototype.getName=function(){return t.Name+(this.name!==""?" "+this.name:"")},t.prototype.getCentralDirectoryEntry=function(e){var o=this._index.getInode(e);if(o===null)throw p.ENOENT(e);if(xn(o))return o.getData();if(Rn(o))return o.getData();throw p.EPERM("Invalid inode: "+o)},t.prototype.getCentralDirectoryEntryAt=function(e){var o=this._directoryEntries[e];if(!o)throw new RangeError("Invalid directory index: "+e+".");return o},t.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},t.prototype.getEndOfCentralDirectory=function(){return this._eocd},t.prototype.diskSpace=function(e,o){o(this.data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,o){var a=this._index.getInode(e);if(a===null)throw p.ENOENT(e);var u;if(xn(a))u=a.getData().getStats();else if(Rn(a))u=a.getStats();else throw new p(d.EINVAL,"Invalid inode.");return u},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new p(d.EPERM,e);var u=this._index.getInode(e);if(u)if(xn(u)){var y=u.getData(),S=y.getStats();switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:throw p.EEXIST(e);case R.NOP:return new lt(this,e,o,S,y.getData());default:throw new p(d.EINVAL,"Invalid FileMode object.")}}else throw p.EISDIR(e);else throw p.ENOENT(e)},t.prototype.readdirSync=function(e){var o=this._index.getInode(e);if(o){if(Rn(o))return o.getListing();throw p.ENOTDIR(e)}else throw p.ENOENT(e)},t.prototype.readFileSync=function(e,o,a){var u=this.openSync(e,a,420);try{var y=u,S=y.getBuffer();return o===null?Mt(S):S.toString(o)}finally{u.closeSync()}},t.prototype.populateIndex=function(){var e=this,o=this._eocd=t.getEOCD(this.data);if(o.diskNumber()!==o.cdDiskNumber())throw new p(d.EINVAL,"ZipFS does not support spanned zip files.");var a=o.cdOffset();if(a===4294967295)throw new p(d.EINVAL,"ZipFS does not support Zip64.");for(var u=a+o.cdSize();a<u;){var y=new Zt(e.data,e.data.slice(a));a+=y.totalSize(),t.addToIndex(y,e._index),e._directoryEntries.push(y)}},t}(nt);Xn.Name="ZipFS",Xn.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:N},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Xn.CompressionMethod=vr,Xn.RegisterDecompressionMethod(vr.DEFLATE,function(i,t,n){return Bt(jl(i.slice(0,t),{chunkSize:n}))}),Xn.RegisterDecompressionMethod(vr.STORED,function(i,t,n){return Mt(i,0,n)});var zl="IEEE_P1282";function Pe(i,t,n){return i.toString("ascii",t,t+n).trim()}function Fo(i,t,n){if(n===1)return String.fromCharCode(i[t]);for(var e=Math.floor(n/2),o=new Array(e),a=0;a<e;a++){var u=t+(a<<1);o[a]=String.fromCharCode(i[u+1]|i[u]<<8)}return o.join("")}function cn(i,t){var n=parseInt(Pe(i,t,4),10),e=parseInt(Pe(i,t+4,2),10),o=parseInt(Pe(i,t+6,2),10),a=parseInt(Pe(i,t+8,2),10),u=parseInt(Pe(i,t+10,2),10),y=parseInt(Pe(i,t+12,2),10),S=parseInt(Pe(i,t+14,2),10);return new Date(n,e,o,a,u,y,S*100)}function Yn(i,t){var n=i[t],e=i[t+1],o=i[t+2],a=i[t+3],u=i[t+4],y=i[t+5];return new Date(n,e-1,o,a,u,y)}function Wl(i,t){var n=i.slice(t),e=new de(n);switch(e.signatureWord()){case 17221:return new la(n);case 20548:return new Xl(n);case 21328:return new fa(n);case 21332:return new ha(n);case 17746:return new da(n);case 17747:return new Yl(n);case 20568:return new ya(n);case 20558:return new Zl(n);case 21324:return new Io(n);case 20045:return new va(n);case 17228:return new ko(n);case 20556:return new Kl(n);case 21061:return new ga(n);case 21574:return new ma(n);case 21318:return new ql(n);case 21074:return new pa(n);default:return e}}function sa(i,t,n,e){n=n-4;for(var o=new Array;t<n;){var a=Wl(i,t),u=a.length();if(u===0)return o;if(t+=u,a instanceof ha)break;a instanceof la?o=o.concat(a.getEntries(e)):o.push(a)}return o}var gr=function(t){this._data=t};gr.prototype.type=function(){return this._data[0]},gr.prototype.standardIdentifier=function(){return Pe(this._data,1,5)},gr.prototype.version=function(){return this._data[6]},gr.prototype.data=function(){return this._data.slice(7,2048)};var aa=function(i){function t(n){i.call(this,n),this._root=null}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.systemIdentifier=function(){return this._getString32(8)},t.prototype.volumeIdentifier=function(){return this._getString32(40)},t.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},t.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},t.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},t.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},t.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},t.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},t.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},t.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},t.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},t.prototype.rootDirectoryEntry=function(e){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(e)),this._root},t.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},t.prototype.publisherIdentifier=function(){return this._getString(318,128)},t.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},t.prototype.applicationIdentifier=function(){return this._getString(574,128)},t.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},t.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},t.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},t.prototype.volumeCreationDate=function(){return cn(this._data,813)},t.prototype.volumeModificationDate=function(){return cn(this._data,830)},t.prototype.volumeExpirationDate=function(){return cn(this._data,847)},t.prototype.volumeEffectiveDate=function(){return cn(this._data,864)},t.prototype.fileStructureVersion=function(){return this._data[881]},t.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},t.prototype.reserved=function(){return this._data.slice(1395,1395+653)},t.prototype._getString32=function(e){return this._getString(e,32)},t}(gr),Hl=function(i){function t(n){if(i.call(this,n),this.type()!==1)throw new p(d.EIO,"Invalid primary volume descriptor.")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"ISO9660"},t.prototype._constructRootDirectoryRecord=function(e){return new ua(e,-1)},t.prototype._getString=function(e,o){return this._getString(e,o)},t}(aa),Vl=function(i){function t(n){if(i.call(this,n),this.type()!==2)throw new p(d.EIO,"Invalid supplementary volume descriptor.");var e=this.escapeSequence(),o=e[2];if(e[0]!==37||e[1]!==47||o!==64&&o!==67&&o!==69)throw new p(d.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+e.toString())}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"Joliet"},t.prototype.escapeSequence=function(){return this._data.slice(88,120)},t.prototype._constructRootDirectoryRecord=function(e){return new ca(e,-1)},t.prototype._getString=function(e,o){return Fo(this._data,e,o)},t}(aa),ne=function(t,n){this._suEntries=null,this._fileOrDir=null,this._data=t,this._rockRidgeOffset=n};ne.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},ne.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},ne.prototype.rootCheckForRockRidge=function(t){var n=this.getDirectory(t);this._rockRidgeOffset=n.getDotEntry(t)._getRockRidgeOffset(t),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},ne.prototype.length=function(){return this._data[0]},ne.prototype.extendedAttributeRecordLength=function(){return this._data[1]},ne.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},ne.prototype.dataLength=function(){return this._data.readUInt32LE(10)},ne.prototype.recordingDate=function(){return Yn(this._data,18)},ne.prototype.fileFlags=function(){return this._data[25]},ne.prototype.fileUnitSize=function(){return this._data[26]},ne.prototype.interleaveGapSize=function(){return this._data[27]},ne.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},ne.prototype.identifier=function(){return this._getString(33,this._data[32])},ne.prototype.fileName=function(t){if(this.hasRockRidge()){var n=this._rockRidgeFilename(t);if(n!==null)return n}var e=this.identifier();if(this.isDirectory(t))return e;var o=e.indexOf(";");return o===-1?e:e[o-1]==="."?e.slice(0,o-1):e.slice(0,o)},ne.prototype.isDirectory=function(t){var n=!!(this.fileFlags()&2);return!n&&this.hasRockRidge()&&(n=this.getSUEntries(t).filter(function(e){return e instanceof ko}).length>0),n},ne.prototype.isSymlink=function(t){return this.hasRockRidge()&&this.getSUEntries(t).filter(function(n){return n instanceof Io}).length>0},ne.prototype.getSymlinkPath=function(t){for(var n="",e=this.getSUEntries(t),o=this._getGetString(),a=0,u=e;a<u.length;a+=1){var y=u[a];if(y instanceof Io){for(var S=y.componentRecords(),I=0,P=S;I<P.length;I+=1){var H=P[I],et=H.flags();et&2?n+="./":et&4?n+="../":et&8?n+="/":(n+=H.content(o),et&1||(n+="/"))}if(!y.continueFlag())break}}return n.length>1&&n[n.length-1]==="/"?n.slice(0,n.length-1):n},ne.prototype.getFile=function(t){if(this.isDirectory(t))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=t.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},ne.prototype.getDirectory=function(t){if(!this.isDirectory(t))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(t)),this._fileOrDir},ne.prototype.getSUEntries=function(t){return this._suEntries||this._constructSUEntries(t),this._suEntries},ne.prototype._rockRidgeFilename=function(t){var n=this.getSUEntries(t).filter(function(S){return S instanceof va});if(n.length===0||n[0].flags()&6)return null;for(var e="",o=this._getGetString(),a=0,u=n;a<u.length;a+=1){var y=u[a];if(e+=y.name(o),!(y.flags()&1))break}return e},ne.prototype._constructSUEntries=function(t){var n=33+this._data[32];n%2===1&&n++,n+=this._rockRidgeOffset,this._suEntries=sa(this._data,n,this.length(),t)},ne.prototype._getRockRidgeOffset=function(t){this._rockRidgeOffset=0;var n=this.getSUEntries(t);if(n.length>0){var e=n[0];if(e instanceof fa&&e.checkBytesPass())for(var o=1;o<n.length;o++){var a=n[o];if(a instanceof pa||a instanceof da&&a.extensionIdentifier()===zl)return e.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var ua=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,o){return Pe(this._data,e,o)},t.prototype._constructDirectory=function(e){return new Jl(this,e)},t.prototype._getGetString=function(){return Pe},t}(ne),ca=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,o){return Fo(this._data,e,o)},t.prototype._constructDirectory=function(e){return new Gl(this,e)},t.prototype._getGetString=function(){return Fo},t}(ne),de=function(t){this._data=t};de.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},de.prototype.signatureWordString=function(){return Pe(this._data,0,2)},de.prototype.length=function(){return this._data[2]},de.prototype.suVersion=function(){return this._data[3]};var la=function(i){function t(n){i.call(this,n),this._entries=null}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},t.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},t.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},t.prototype.getEntries=function(e){if(!this._entries){var o=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=sa(e,o,this.continuationLength(),e)}return this._entries},t}(de),Xl=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(de),fa=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},t.prototype.bytesSkipped=function(){return this._data[6]},t}(de),ha=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(de),da=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.identifierLength=function(){return this._data[4]},t.prototype.descriptorLength=function(){return this._data[5]},t.prototype.sourceLength=function(){return this._data[6]},t.prototype.extensionVersion=function(){return this._data[7]},t.prototype.extensionIdentifier=function(){return Pe(this._data,8,this.identifierLength())},t.prototype.extensionDescriptor=function(){return Pe(this._data,8+this.identifierLength(),this.descriptorLength())},t.prototype.extensionSource=function(){return Pe(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},t}(de),Yl=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.extensionSequence=function(){return this._data[4]},t}(de),pa=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(de),ya=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.mode=function(){return this._data.readUInt32LE(4)},t.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},t.prototype.uid=function(){return this._data.readUInt32LE(20)},t.prototype.gid=function(){return this._data.readUInt32LE(28)},t.prototype.inode=function(){return this._data.readUInt32LE(36)},t}(de),Zl=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},t.prototype.devTLow=function(){return this._data.readUInt32LE(12)},t}(de),Io=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.continueFlag=function(){return this.flags()&1},t.prototype.componentRecords=function(){for(var e=this,o=new Array,a=5;a<this.length();){var u=new jr(e._data.slice(a));o.push(u),a+=u.length()}return o},t}(de),jr=function(t){this._data=t};jr.prototype.flags=function(){return this._data[0]},jr.prototype.length=function(){return 2+this.componentLength()},jr.prototype.componentLength=function(){return this._data[1]},jr.prototype.content=function(t){return t(this._data,2,this.componentLength())};var va=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.name=function(e){return e(this._data,5,this.length()-5)},t}(de),ko=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},t}(de),Kl=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},t}(de),ga=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(de),ma=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.creation=function(){return this.flags()&1?this._longFormDates()?cn(this._data,5):Yn(this._data,5):null},t.prototype.modify=function(){if(this.flags()&2){var e=this.flags()&1?1:0;return this._longFormDates?cn(this._data,5+e*17):Yn(this._data,5+e*7)}else return null},t.prototype.access=function(){if(this.flags()&4){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,this._longFormDates?cn(this._data,5+e*17):Yn(this._data,5+e*7)}else return null},t.prototype.backup=function(){if(this.flags()&16){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,this._longFormDates?cn(this._data,5+e*17):Yn(this._data,5+e*7)}else return null},t.prototype.expiration=function(){if(this.flags()&32){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,this._longFormDates?cn(this._data,5+e*17):Yn(this._data,5+e*7)}else return null},t.prototype.effective=function(){if(this.flags()&64){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,e+=this.flags()&32?1:0,this._longFormDates?cn(this._data,5+e*17):Yn(this._data,5+e*7)}else return null},t.prototype._longFormDates=function(){return!!this.flags()},t}(de),ql=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},t.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},t.prototype.tableDepth=function(){return this._data[20]},t}(de),zr=function(t,n){var e=this;this._fileList=[],this._fileMap={},this._record=t;var o=t.lba(),a=o+t.dataLength();if(!(t.fileFlags()&2)){var u=t.getSUEntries(n).filter(function(P){return P instanceof ko})[0];o=u.childDirectoryLba()*2048,a=1/0}for(;o<a;){var y=n[o];if(y===0){o++;continue}var S=e._constructDirectoryRecord(n.slice(o)),I=S.fileName(n);I!=="\0"&&I!==""?(!S.hasRockRidge()||S.getSUEntries(n).filter(function(P){return P instanceof ga}).length===0)&&(e._fileMap[I]=S,e._fileList.push(I)):a===1/0&&(a=o+S.dataLength()),o+=S.length()}};zr.prototype.getRecord=function(t){return this._fileMap[t]},zr.prototype.getFileList=function(){return this._fileList},zr.prototype.getDotEntry=function(t){return this._constructDirectoryRecord(t.slice(this._record.lba()))};var Jl=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new ua(e,this._record.getRockRidgeOffset())},t}(zr),Gl=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new ca(e,this._record.getRockRidgeOffset())},t}(zr),Fi=function(i){function t(n,e,o){var a=this;e===void 0&&(e=""),o===void 0&&(o=!0),i.call(this),this._data=n,Ot(o,t.Name,{data:"ISO data as a Buffer",name:e});for(var u=!1,y=16*2048,S=new Array;!u;){var I=n.slice(y),P=new gr(I);switch(P.type()){case 1:S.push(new Hl(I));break;case 2:S.push(new Vl(I));break;case 255:u=!0;break}y+=2048}if(S.length===0)throw new p(d.EIO,"Unable to find a suitable volume descriptor.");S.forEach(function(H){(!a._pvd||a._pvd.type()!==2)&&(a._pvd=H)}),this._root=this._pvd.rootDirectoryEntry(n),this._name=e}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a,u;try{a=new t(e.data,e.name,!1)}catch(y){y=y}finally{o(u,a)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){var e="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(e+="-RockRidge"),e},t.prototype.diskSpace=function(e,o){o(this._data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,o){var a=this._getDirectoryRecord(e);if(a===null)throw p.ENOENT(e);return this._getStats(e,a)},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new p(d.EPERM,e);var u=this._getDirectoryRecord(e);if(u){if(u.isSymlink(this._data))return this.openSync(_.resolve(e,u.getSymlinkPath(this._data)),o,a);if(u.isDirectory(this._data))throw p.EISDIR(e);var y=u.getFile(this._data),S=this._getStats(e,u);switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:throw p.EEXIST(e);case R.NOP:return new lt(this,e,o,S,y);default:throw new p(d.EINVAL,"Invalid FileMode object.")}}else throw p.ENOENT(e)},t.prototype.readdirSync=function(e){var o=this._getDirectoryRecord(e);if(o){if(o.isDirectory(this._data))return o.getDirectory(this._data).getFileList().slice(0);throw p.ENOTDIR(e)}else throw p.ENOENT(e)},t.prototype.readFileSync=function(e,o,a){var u=this.openSync(e,a,420);try{var y=u,S=y.getBuffer();return o===null?Mt(S):S.toString(o)}finally{u.closeSync()}},t.prototype._getDirectoryRecord=function(e){var o=this;if(e==="/")return this._root;for(var a=e.split("/").slice(1),u=this._root,y=0,S=a;y<S.length;y+=1){var I=S[y];if(u.isDirectory(o._data)){if(u=u.getDirectory(o._data).getRecord(I),!u)return null}else return null}return u},t.prototype._getStats=function(e,o){if(o.isSymlink(this._data)){var a=_.resolve(e,o.getSymlinkPath(this._data)),u=this._getDirectoryRecord(a);return u?this._getStats(a,u):null}else{var y=o.dataLength(),S=365,I=o.recordingDate(),P=I,H=I,et=I;if(o.hasRockRidge())for(var ht=o.getSUEntries(this._data),pt=0,It=ht;pt<It.length;pt+=1){var Nt=It[pt];if(Nt instanceof ya)S=Nt.mode();else if(Nt instanceof ma){var jt=Nt.flags();jt&4&&(P=Nt.access()),jt&2&&(H=Nt.modify()),jt&1&&(et=Nt.creation())}}return S=S&365,new j(o.isDirectory(this._data)?M.DIRECTORY:M.FILE,y,S,P,H,et)}},t}(nt);Fi.Name="IsoFS",Fi.Options={data:{type:"object",description:"The ISO file in a buffer",validator:N}},[F,di,pi,fr,vi,hr,Lr,Fi,Ar,dr,Ur,Ei,xi,Xn].forEach(function(i){var t=i.Create;i.Create=function(n,e){var o=typeof n=="function",a=o?n:e,u=o?{}:n;function y(S){S?a(S):t.call(i,u,a)}L(i,u,y)}});var Ii={AsyncMirror:F,Dropbox:di,Emscripten:pi,FolderAdapter:fr,HTML5FS:vi,InMemory:hr,IndexedDB:Lr,IsoFS:Fi,LocalStorage:Ar,MountableFileSystem:dr,OverlayFS:Ur,WorkerFS:Ei,XmlHttpRequest:xi,ZipFS:Xn};E.initializeTTYs&&E.initializeTTYs();function Ql(i){i.Buffer=h,i.process=E;var t=i.require?i.require:null;i.require=function(n){var e=_a(n);return e||t.apply(null,Array.prototype.slice.call(arguments,0))}}function $l(i,t){Ii[i]=t}function _a(i){switch(i){case"fs":return mt;case"path":return _;case"buffer":return x;case"process":return E;case"bfs_utils":return st;default:return Ii[i]}}function wa(i){return mt.initialize(i)}function tf(i,t){Oo(i,function(n,e){e?(wa(e),t()):t(n)})}function Oo(i,t){var n=i.fs;if(!n)return t(new p(d.EPERM,'Missing "fs" property on configuration object.'));var e=i.options,o=0,a=!1;function u(){if(!a){a=!0;var I=Ii[n];I?I.Create(e,t):t(new p(d.EPERM,"File system "+n+" is not available in BrowserFS."))}}if(e!==null&&typeof e=="object"){var y=!1,S=Object.keys(e).filter(function(I){return I!=="fs"});S.forEach(function(I){var P=e[I];P!==null&&typeof P=="object"&&P.fs&&(o++,Oo(P,function(H,et){if(o--,H){if(a)return;a=!0,t(H)}else e[I]=et,o===0&&y&&u()}))}),y=!0}o===0&&u()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(i){return function(t,n){return t<0&&(t=this.length+t),i.call(this,t,n)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(i,t){i===void 0&&(i=0),t===void 0&&(t=this.length);var n=this;return i<0&&(i=this.length+i,i<0&&(i=0)),t<0&&(t=this.length+t,t<0&&(t=0)),t<i&&(t=i),new Uint8Array(n.buffer,n.byteOffset+i,t-i)})),l.install=Ql,l.registerFileSystem=$l,l.BFSRequire=_a,l.initialize=wa,l.configure=tf,l.getFileSystem=Oo,l.EmscriptenFS=W,l.FileSystem=Ii,l.Errors=C,l.setImmediate=xo}).call(l,f(1),function(){return this}(),f(5)(c),f(6))},function(c,l,f){c.exports=f(2).Buffer},function(c,l,f){(function(d){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var w=f(3),m=f(4);l.Buffer=d,l.SlowBuffer=z,l.INSPECT_MAX_BYTES=50;var E=2147483647;l.kMaxLength=E,d.TYPED_ARRAY_SUPPORT=x(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{var F=new Uint8Array(1);return F.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},F.foo()===42}catch{return!1}}function _(F){if(F>E)throw new RangeError("Invalid typed array length");var v=new Uint8Array(F);return v.__proto__=d.prototype,v}function d(F,v,g){if(typeof F=="number"){if(typeof v=="string")throw new Error("If encoding is specified then the first argument must be a string");return R(F)}return b(F,v,g)}typeof Symbol<"u"&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),d.poolSize=8192;function b(F,v,g){if(typeof F=="number")throw new TypeError('"value" argument must not be a number');return yt(F)?j(F,v,g):typeof F=="string"?D(F,v):q(F)}d.from=function(F,v,g){return b(F,v,g)},d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array;function p(F){if(typeof F!="number")throw new TypeError('"size" argument must be a number');if(F<0)throw new RangeError('"size" argument must not be negative')}function C(F,v,g){return p(F),F<=0?_(F):v!==void 0?typeof g=="string"?_(F).fill(v,g):_(F).fill(v):_(F)}d.alloc=function(F,v,g){return C(F,v,g)};function R(F){return p(F),_(F<0?0:V(F)|0)}d.allocUnsafe=function(F){return R(F)},d.allocUnsafeSlow=function(F){return R(F)};function D(F,v){if((typeof v!="string"||v==="")&&(v="utf8"),!d.isEncoding(v))throw new TypeError('"encoding" must be a valid string encoding');var g=rt(F,v)|0,O=_(g),U=O.write(F,v);return U!==g&&(O=O.slice(0,U)),O}function M(F){for(var v=F.length<0?0:V(F.length)|0,g=_(v),O=0;O<v;O+=1)g[O]=F[O]&255;return g}function j(F,v,g){if(v<0||F.byteLength<v)throw new RangeError("'offset' is out of bounds");if(F.byteLength<v+(g||0))throw new RangeError("'length' is out of bounds");var O;return v===void 0&&g===void 0?O=new Uint8Array(F):g===void 0?O=new Uint8Array(F,v):O=new Uint8Array(F,v,g),O.__proto__=d.prototype,O}function q(F){if(d.isBuffer(F)){var v=V(F.length)|0,g=_(v);return g.length===0||F.copy(g,0,0,v),g}if(F){if(lt(F)||"length"in F)return typeof F.length!="number"||dt(F.length)?_(0):M(F);if(F.type==="Buffer"&&Array.isArray(F.data))return M(F.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function V(F){if(F>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return F|0}function z(F){return+F!=F&&(F=0),d.alloc(+F)}d.isBuffer=function(v){return v!=null&&v._isBuffer===!0},d.compare=function(v,g){if(!d.isBuffer(v)||!d.isBuffer(g))throw new TypeError("Arguments must be Buffers");if(v===g)return 0;for(var O=v.length,U=g.length,Y=0,tt=Math.min(O,U);Y<tt;++Y)if(v[Y]!==g[Y]){O=v[Y],U=g[Y];break}return O<U?-1:U<O?1:0},d.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(v,g){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return d.alloc(0);var O;if(g===void 0)for(g=0,O=0;O<v.length;++O)g+=v[O].length;var U=d.allocUnsafe(g),Y=0;for(O=0;O<v.length;++O){var tt=v[O];if(!d.isBuffer(tt))throw new TypeError('"list" argument must be an Array of Buffers');tt.copy(U,Y),Y+=tt.length}return U};function rt(F,v){if(d.isBuffer(F))return F.length;if(lt(F)||yt(F))return F.byteLength;typeof F!="string"&&(F=""+F);var g=F.length;if(g===0)return 0;for(var O=!1;;)switch(v){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return A(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return nt(F).length;default:if(O)return A(F).length;v=(""+v).toLowerCase(),O=!0}}d.byteLength=rt;function X(F,v,g){var O=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,v>>>=0,g<=v))return"";for(F||(F="utf8");;)switch(F){case"hex":return Bt(this,v,g);case"utf8":case"utf-8":return _t(this,v,g);case"ascii":return ut(this,v,g);case"latin1":case"binary":return wt(this,v,g);case"base64":return ft(this,v,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lt(this,v,g);default:if(O)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),O=!0}}d.prototype._isBuffer=!0;function ct(F,v,g){var O=F[v];F[v]=F[g],F[g]=O}d.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<v;g+=2)ct(this,g,g+1);return this},d.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<v;g+=4)ct(this,g,g+3),ct(this,g+1,g+2);return this},d.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<v;g+=8)ct(this,g,g+7),ct(this,g+1,g+6),ct(this,g+2,g+5),ct(this,g+3,g+4);return this},d.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?_t(this,0,v):X.apply(this,arguments)},d.prototype.equals=function(v){if(!d.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:d.compare(this,v)===0},d.prototype.inspect=function(){var v="",g=l.INSPECT_MAX_BYTES;return this.length>0&&(v=this.toString("hex",0,g).match(/.{2}/g).join(" "),this.length>g&&(v+=" ... ")),"<Buffer "+v+">"},d.prototype.compare=function(v,g,O,U,Y){if(!d.isBuffer(v))throw new TypeError("Argument must be a Buffer");if(g===void 0&&(g=0),O===void 0&&(O=v?v.length:0),U===void 0&&(U=0),Y===void 0&&(Y=this.length),g<0||O>v.length||U<0||Y>this.length)throw new RangeError("out of range index");if(U>=Y&&g>=O)return 0;if(U>=Y)return-1;if(g>=O)return 1;if(g>>>=0,O>>>=0,U>>>=0,Y>>>=0,this===v)return 0;for(var tt=Y-U,Et=O-g,Tt=Math.min(tt,Et),Wt=this.slice(U,Y),Qt=v.slice(g,O),Vt=0;Vt<Tt;++Vt)if(Wt[Vt]!==Qt[Vt]){tt=Wt[Vt],Et=Qt[Vt];break}return tt<Et?-1:Et<tt?1:0};function St(F,v,g,O,U){if(F.length===0)return-1;if(typeof g=="string"?(O=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,dt(g)&&(g=U?0:F.length-1),g<0&&(g=F.length+g),g>=F.length){if(U)return-1;g=F.length-1}else if(g<0)if(U)g=0;else return-1;if(typeof v=="string"&&(v=d.from(v,O)),d.isBuffer(v))return v.length===0?-1:Z(F,v,g,O,U);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?U?Uint8Array.prototype.indexOf.call(F,v,g):Uint8Array.prototype.lastIndexOf.call(F,v,g):Z(F,[v],g,O,U);throw new TypeError("val must be string, number or Buffer")}function Z(F,v,g,O,U){var Y=1,tt=F.length,Et=v.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(F.length<2||v.length<2)return-1;Y=2,tt/=2,Et/=2,g/=2}function Tt(_n,le){return Y===1?_n[le]:_n.readUInt16BE(le*Y)}var Wt;if(U){var Qt=-1;for(Wt=g;Wt<tt;Wt++)if(Tt(F,Wt)===Tt(v,Qt===-1?0:Wt-Qt)){if(Qt===-1&&(Qt=Wt),Wt-Qt+1===Et)return Qt*Y}else Qt!==-1&&(Wt-=Wt-Qt),Qt=-1}else for(g+Et>tt&&(g=tt-Et),Wt=g;Wt>=0;Wt--){for(var Vt=!0,Ee=0;Ee<Et;Ee++)if(Tt(F,Wt+Ee)!==Tt(v,Ee)){Vt=!1;break}if(Vt)return Wt}return-1}d.prototype.includes=function(v,g,O){return this.indexOf(v,g,O)!==-1},d.prototype.indexOf=function(v,g,O){return St(this,v,g,O,!0)},d.prototype.lastIndexOf=function(v,g,O){return St(this,v,g,O,!1)};function at(F,v,g,O){g=Number(g)||0;var U=F.length-g;O?(O=Number(O),O>U&&(O=U)):O=U;var Y=v.length;if(Y%2!==0)throw new TypeError("Invalid hex string");O>Y/2&&(O=Y/2);for(var tt=0;tt<O;++tt){var Et=parseInt(v.substr(tt*2,2),16);if(dt(Et))return tt;F[g+tt]=Et}return tt}function mt(F,v,g,O){return Q(A(v,F.length-g),F,g,O)}function Ut(F,v,g,O){return Q(W(v),F,g,O)}function Ft(F,v,g,O){return Ut(F,v,g,O)}function Dt(F,v,g,O){return Q(nt(v),F,g,O)}function Ot(F,v,g,O){return Q(B(v,F.length-g),F,g,O)}d.prototype.write=function(v,g,O,U){if(g===void 0)U="utf8",O=this.length,g=0;else if(O===void 0&&typeof g=="string")U=g,O=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(O)?(O=O>>>0,U===void 0&&(U="utf8")):(U=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Y=this.length-g;if((O===void 0||O>Y)&&(O=Y),v.length>0&&(O<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(var tt=!1;;)switch(U){case"hex":return at(this,v,g,O);case"utf8":case"utf-8":return mt(this,v,g,O);case"ascii":return Ut(this,v,g,O);case"latin1":case"binary":return Ft(this,v,g,O);case"base64":return Dt(this,v,g,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ot(this,v,g,O);default:if(tt)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),tt=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ft(F,v,g){return v===0&&g===F.length?w.fromByteArray(F):w.fromByteArray(F.slice(v,g))}function _t(F,v,g){g=Math.min(F.length,g);for(var O=[],U=v;U<g;){var Y=F[U],tt=null,Et=Y>239?4:Y>223?3:Y>191?2:1;if(U+Et<=g){var Tt,Wt,Qt,Vt;switch(Et){case 1:Y<128&&(tt=Y);break;case 2:Tt=F[U+1],(Tt&192)===128&&(Vt=(Y&31)<<6|Tt&63,Vt>127&&(tt=Vt));break;case 3:Tt=F[U+1],Wt=F[U+2],(Tt&192)===128&&(Wt&192)===128&&(Vt=(Y&15)<<12|(Tt&63)<<6|Wt&63,Vt>2047&&(Vt<55296||Vt>57343)&&(tt=Vt));break;case 4:Tt=F[U+1],Wt=F[U+2],Qt=F[U+3],(Tt&192)===128&&(Wt&192)===128&&(Qt&192)===128&&(Vt=(Y&15)<<18|(Tt&63)<<12|(Wt&63)<<6|Qt&63,Vt>65535&&Vt<1114112&&(tt=Vt))}}tt===null?(tt=65533,Et=1):tt>65535&&(tt-=65536,O.push(tt>>>10&1023|55296),tt=56320|tt&1023),O.push(tt),U+=Et}return G(O)}var K=4096;function G(F){var v=F.length;if(v<=K)return String.fromCharCode.apply(String,F);for(var g="",O=0;O<v;)g+=String.fromCharCode.apply(String,F.slice(O,O+=K));return g}function ut(F,v,g){var O="";g=Math.min(F.length,g);for(var U=v;U<g;++U)O+=String.fromCharCode(F[U]&127);return O}function wt(F,v,g){var O="";g=Math.min(F.length,g);for(var U=v;U<g;++U)O+=String.fromCharCode(F[U]);return O}function Bt(F,v,g){var O=F.length;(!v||v<0)&&(v=0),(!g||g<0||g>O)&&(g=O);for(var U="",Y=v;Y<g;++Y)U+=T(F[Y]);return U}function Lt(F,v,g){for(var O=F.slice(v,g),U="",Y=0;Y<O.length;Y+=2)U+=String.fromCharCode(O[Y]+O[Y+1]*256);return U}d.prototype.slice=function(v,g){var O=this.length;v=~~v,g=g===void 0?O:~~g,v<0?(v+=O,v<0&&(v=0)):v>O&&(v=O),g<0?(g+=O,g<0&&(g=0)):g>O&&(g=O),g<v&&(g=v);var U=this.subarray(v,g);return U.__proto__=d.prototype,U};function Ct(F,v,g){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+v>g)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUIntLE=function(v,g,O){v=v>>>0,g=g>>>0,O||Ct(v,g,this.length);for(var U=this[v],Y=1,tt=0;++tt<g&&(Y*=256);)U+=this[v+tt]*Y;return U},d.prototype.readUIntBE=function(v,g,O){v=v>>>0,g=g>>>0,O||Ct(v,g,this.length);for(var U=this[v+--g],Y=1;g>0&&(Y*=256);)U+=this[v+--g]*Y;return U},d.prototype.readUInt8=function(v,g){return v=v>>>0,g||Ct(v,1,this.length),this[v]},d.prototype.readUInt16LE=function(v,g){return v=v>>>0,g||Ct(v,2,this.length),this[v]|this[v+1]<<8},d.prototype.readUInt16BE=function(v,g){return v=v>>>0,g||Ct(v,2,this.length),this[v]<<8|this[v+1]},d.prototype.readUInt32LE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},d.prototype.readUInt32BE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},d.prototype.readIntLE=function(v,g,O){v=v>>>0,g=g>>>0,O||Ct(v,g,this.length);for(var U=this[v],Y=1,tt=0;++tt<g&&(Y*=256);)U+=this[v+tt]*Y;return Y*=128,U>=Y&&(U-=Math.pow(2,8*g)),U},d.prototype.readIntBE=function(v,g,O){v=v>>>0,g=g>>>0,O||Ct(v,g,this.length);for(var U=g,Y=1,tt=this[v+--U];U>0&&(Y*=256);)tt+=this[v+--U]*Y;return Y*=128,tt>=Y&&(tt-=Math.pow(2,8*g)),tt},d.prototype.readInt8=function(v,g){return v=v>>>0,g||Ct(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},d.prototype.readInt16LE=function(v,g){v=v>>>0,g||Ct(v,2,this.length);var O=this[v]|this[v+1]<<8;return O&32768?O|4294901760:O},d.prototype.readInt16BE=function(v,g){v=v>>>0,g||Ct(v,2,this.length);var O=this[v+1]|this[v]<<8;return O&32768?O|4294901760:O},d.prototype.readInt32LE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},d.prototype.readInt32BE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},d.prototype.readFloatLE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),m.read(this,v,!0,23,4)},d.prototype.readFloatBE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),m.read(this,v,!1,23,4)},d.prototype.readDoubleLE=function(v,g){return v=v>>>0,g||Ct(v,8,this.length),m.read(this,v,!0,52,8)},d.prototype.readDoubleBE=function(v,g){return v=v>>>0,g||Ct(v,8,this.length),m.read(this,v,!1,52,8)};function Mt(F,v,g,O,U,Y){if(!d.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>U||v<Y)throw new RangeError('"value" argument is out of bounds');if(g+O>F.length)throw new RangeError("Index out of range")}d.prototype.writeUIntLE=function(v,g,O,U){if(v=+v,g=g>>>0,O=O>>>0,!U){var Y=Math.pow(2,8*O)-1;Mt(this,v,g,O,Y,0)}var tt=1,Et=0;for(this[g]=v&255;++Et<O&&(tt*=256);)this[g+Et]=v/tt&255;return g+O},d.prototype.writeUIntBE=function(v,g,O,U){if(v=+v,g=g>>>0,O=O>>>0,!U){var Y=Math.pow(2,8*O)-1;Mt(this,v,g,O,Y,0)}var tt=O-1,Et=1;for(this[g+tt]=v&255;--tt>=0&&(Et*=256);)this[g+tt]=v/Et&255;return g+O},d.prototype.writeUInt8=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,1,255,0),this[g]=v&255,g+1},d.prototype.writeUInt16LE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,2,65535,0),this[g]=v&255,this[g+1]=v>>>8,g+2},d.prototype.writeUInt16BE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,2,65535,0),this[g]=v>>>8,this[g+1]=v&255,g+2},d.prototype.writeUInt32LE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,4,4294967295,0),this[g+3]=v>>>24,this[g+2]=v>>>16,this[g+1]=v>>>8,this[g]=v&255,g+4},d.prototype.writeUInt32BE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,4,4294967295,0),this[g]=v>>>24,this[g+1]=v>>>16,this[g+2]=v>>>8,this[g+3]=v&255,g+4},d.prototype.writeIntLE=function(v,g,O,U){if(v=+v,g=g>>>0,!U){var Y=Math.pow(2,8*O-1);Mt(this,v,g,O,Y-1,-Y)}var tt=0,Et=1,Tt=0;for(this[g]=v&255;++tt<O&&(Et*=256);)v<0&&Tt===0&&this[g+tt-1]!==0&&(Tt=1),this[g+tt]=(v/Et>>0)-Tt&255;return g+O},d.prototype.writeIntBE=function(v,g,O,U){if(v=+v,g=g>>>0,!U){var Y=Math.pow(2,8*O-1);Mt(this,v,g,O,Y-1,-Y)}var tt=O-1,Et=1,Tt=0;for(this[g+tt]=v&255;--tt>=0&&(Et*=256);)v<0&&Tt===0&&this[g+tt+1]!==0&&(Tt=1),this[g+tt]=(v/Et>>0)-Tt&255;return g+O},d.prototype.writeInt8=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,1,127,-128),v<0&&(v=255+v+1),this[g]=v&255,g+1},d.prototype.writeInt16LE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,2,32767,-32768),this[g]=v&255,this[g+1]=v>>>8,g+2},d.prototype.writeInt16BE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,2,32767,-32768),this[g]=v>>>8,this[g+1]=v&255,g+2},d.prototype.writeInt32LE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,4,2147483647,-2147483648),this[g]=v&255,this[g+1]=v>>>8,this[g+2]=v>>>16,this[g+3]=v>>>24,g+4},d.prototype.writeInt32BE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[g]=v>>>24,this[g+1]=v>>>16,this[g+2]=v>>>8,this[g+3]=v&255,g+4};function Gt(F,v,g,O,U,Y){if(g+O>F.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Xt(F,v,g,O,U){return v=+v,g=g>>>0,U||Gt(F,v,g,4),m.write(F,v,g,O,23,4),g+4}d.prototype.writeFloatLE=function(v,g,O){return Xt(this,v,g,!0,O)},d.prototype.writeFloatBE=function(v,g,O){return Xt(this,v,g,!1,O)};function N(F,v,g,O,U){return v=+v,g=g>>>0,U||Gt(F,v,g,8),m.write(F,v,g,O,52,8),g+8}d.prototype.writeDoubleLE=function(v,g,O){return N(this,v,g,!0,O)},d.prototype.writeDoubleBE=function(v,g,O){return N(this,v,g,!1,O)},d.prototype.copy=function(v,g,O,U){if(O||(O=0),!U&&U!==0&&(U=this.length),g>=v.length&&(g=v.length),g||(g=0),U>0&&U<O&&(U=O),U===O||v.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("sourceStart out of bounds");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),v.length-g<U-O&&(U=v.length-g+O);var Y=U-O,tt;if(this===v&&O<g&&g<U)for(tt=Y-1;tt>=0;--tt)v[tt+g]=this[tt+O];else if(Y<1e3)for(tt=0;tt<Y;++tt)v[tt+g]=this[tt+O];else Uint8Array.prototype.set.call(v,this.subarray(O,O+Y),g);return Y},d.prototype.fill=function(v,g,O,U){if(typeof v=="string"){if(typeof g=="string"?(U=g,g=0,O=this.length):typeof O=="string"&&(U=O,O=this.length),v.length===1){var Y=v.charCodeAt(0);Y<256&&(v=Y)}if(U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!d.isEncoding(U))throw new TypeError("Unknown encoding: "+U)}else typeof v=="number"&&(v=v&255);if(g<0||this.length<g||this.length<O)throw new RangeError("Out of range index");if(O<=g)return this;g=g>>>0,O=O===void 0?this.length:O>>>0,v||(v=0);var tt;if(typeof v=="number")for(tt=g;tt<O;++tt)this[tt]=v;else{var Et=d.isBuffer(v)?v:new d(v,U),Tt=Et.length;for(tt=0;tt<O-g;++tt)this[tt+g]=Et[tt%Tt]}return this};var L=/[^+/0-9A-Za-z-_]/g;function st(F){if(F=F.trim().replace(L,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function T(F){return F<16?"0"+F.toString(16):F.toString(16)}function A(F,v){v=v||1/0;for(var g,O=F.length,U=null,Y=[],tt=0;tt<O;++tt){if(g=F.charCodeAt(tt),g>55295&&g<57344){if(!U){if(g>56319){(v-=3)>-1&&Y.push(239,191,189);continue}else if(tt+1===O){(v-=3)>-1&&Y.push(239,191,189);continue}U=g;continue}if(g<56320){(v-=3)>-1&&Y.push(239,191,189),U=g;continue}g=(U-55296<<10|g-56320)+65536}else U&&(v-=3)>-1&&Y.push(239,191,189);if(U=null,g<128){if((v-=1)<0)break;Y.push(g)}else if(g<2048){if((v-=2)<0)break;Y.push(g>>6|192,g&63|128)}else if(g<65536){if((v-=3)<0)break;Y.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((v-=4)<0)break;Y.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return Y}function W(F){for(var v=[],g=0;g<F.length;++g)v.push(F.charCodeAt(g)&255);return v}function B(F,v){for(var g,O,U,Y=[],tt=0;tt<F.length&&!((v-=2)<0);++tt)g=F.charCodeAt(tt),O=g>>8,U=g%256,Y.push(U),Y.push(O);return Y}function nt(F){return w.toByteArray(st(F))}function Q(F,v,g,O){for(var U=0;U<O&&!(U+g>=v.length||U>=F.length);++U)v[U+g]=F[U];return U}function yt(F){return F instanceof ArrayBuffer||F!=null&&F.constructor!=null&&F.constructor.name==="ArrayBuffer"&&typeof F.byteLength=="number"}function lt(F){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(F)}function dt(F){return F!==F}}).call(l,f(1))},function(c,l){l.byteLength=d,l.toByteArray=b,l.fromByteArray=R;for(var f=[],h=[],w=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,x=m.length;E<x;++E)f[E]=m[E],h[m.charCodeAt(E)]=E;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63;function _(D){var M=D.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return D[M-2]==="="?2:D[M-1]==="="?1:0}function d(D){return D.length*3/4-_(D)}function b(D){var M,j,q,V,z,rt,X=D.length;z=_(D),rt=new w(X*3/4-z),q=z>0?X-4:X;var ct=0;for(M=0,j=0;M<q;M+=4,j+=3)V=h[D.charCodeAt(M)]<<18|h[D.charCodeAt(M+1)]<<12|h[D.charCodeAt(M+2)]<<6|h[D.charCodeAt(M+3)],rt[ct++]=V>>16&255,rt[ct++]=V>>8&255,rt[ct++]=V&255;return z===2?(V=h[D.charCodeAt(M)]<<2|h[D.charCodeAt(M+1)]>>4,rt[ct++]=V&255):z===1&&(V=h[D.charCodeAt(M)]<<10|h[D.charCodeAt(M+1)]<<4|h[D.charCodeAt(M+2)]>>2,rt[ct++]=V>>8&255,rt[ct++]=V&255),rt}function p(D){return f[D>>18&63]+f[D>>12&63]+f[D>>6&63]+f[D&63]}function C(D,M,j){for(var q,V=[],z=M;z<j;z+=3)q=(D[z]<<16)+(D[z+1]<<8)+D[z+2],V.push(p(q));return V.join("")}function R(D){for(var M,j=D.length,q=j%3,V="",z=[],rt=16383,X=0,ct=j-q;X<ct;X+=rt)z.push(C(D,X,X+rt>ct?ct:X+rt));return q===1?(M=D[j-1],V+=f[M>>2],V+=f[M<<4&63],V+="=="):q===2&&(M=(D[j-2]<<8)+D[j-1],V+=f[M>>10],V+=f[M>>4&63],V+=f[M<<2&63],V+="="),z.push(V),z.join("")}},function(c,l){l.read=function(f,h,w,m,E){var x,_,d=E*8-m-1,b=(1<<d)-1,p=b>>1,C=-7,R=w?E-1:0,D=w?-1:1,M=f[h+R];for(R+=D,x=M&(1<<-C)-1,M>>=-C,C+=d;C>0;x=x*256+f[h+R],R+=D,C-=8);for(_=x&(1<<-C)-1,x>>=-C,C+=m;C>0;_=_*256+f[h+R],R+=D,C-=8);if(x===0)x=1-p;else{if(x===b)return _?NaN:(M?-1:1)*(1/0);_=_+Math.pow(2,m),x=x-p}return(M?-1:1)*_*Math.pow(2,x-m)},l.write=function(f,h,w,m,E,x){var _,d,b,p=x*8-E-1,C=(1<<p)-1,R=C>>1,D=E===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=m?0:x-1,j=m?1:-1,q=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(d=isNaN(h)?1:0,_=C):(_=Math.floor(Math.log(h)/Math.LN2),h*(b=Math.pow(2,-_))<1&&(_--,b*=2),_+R>=1?h+=D/b:h+=D*Math.pow(2,1-R),h*b>=2&&(_++,b/=2),_+R>=C?(d=0,_=C):_+R>=1?(d=(h*b-1)*Math.pow(2,E),_=_+R):(d=h*Math.pow(2,R-1)*Math.pow(2,E),_=0));E>=8;f[w+M]=d&255,M+=j,d/=256,E-=8);for(_=_<<E|d,p+=E;p>0;f[w+M]=_&255,M+=j,_/=256,p-=8);f[w+M-j]|=q*128}},function(c,l){c.exports=function(f){return f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children=[],f.webpackPolyfill=1),f}},function(c,l,f){var h=f(7),w=new h,m={};function E(_){m[_]||(typeof w[_]=="function"?m[_]=function(){return w[_].apply(w,arguments)}:m[_]=w[_])}for(var x in w)E(x);m.initializeTTYs=function(){w.stdin===null&&(w.initializeTTYs(),m.stdin=w.stdin,m.stdout=w.stdout,m.stderr=w.stderr)},w.nextTick(function(){m.initializeTTYs()}),c.exports=m},function(c,l,f){(function(h){var w=this&&this.__extends||function(b,p){for(var C in p)p.hasOwnProperty(C)&&(b[C]=p[C]);function R(){this.constructor=b}b.prototype=p===null?Object.create(p):(R.prototype=p.prototype,new R)},m=f(8),E=null,x=function(){function b(p,C){this.fun=p,this.array=C}return b.prototype.run=function(){this.fun.apply(null,this.array)},b}(),_=function(){function b(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return b.prototype.push=function(p){var C=this;this._queue.push(p)===1&&!this._draining&&setTimeout(function(){return C._drainQueue()},0)},b.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},b.prototype._drainQueue=function(){var p=this;if(!this._draining){var C=setTimeout(function(){return p._cleanUpNextTick()});this._draining=!0;for(var R=this._queue.length;R;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<R;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,R=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(C)}},b}(),d=function(b){w(p,b);function p(){b.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new _,this.execPath=h,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return p.prototype.chdir=function(C){E===null&&(E=f(9)),this._cwd=E.resolve(C)},p.prototype.cwd=function(){return this._cwd},p.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},p.prototype.nextTick=function(C){for(var R=[],D=1;D<arguments.length;D++)R[D-1]=arguments[D];this._queue.push(new x(C,R))},p.prototype.abort=function(){this.emit("abort")},p.prototype.exit=function(C){this.exitCode=C,this.emit("exit",[C])},p.prototype.getgid=function(){return this._gid},p.prototype.setgid=function(C){typeof C=="number"?this._gid=C:this._gid=1},p.prototype.getuid=function(){return this._uid},p.prototype.setuid=function(C){typeof C=="number"?this._uid=C:this._uid=1},p.prototype.kill=function(C,R){this.emit("kill",[C,R])},p.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},p.prototype.umask=function(C){C===void 0&&(C=this._mask);var R=this._mask;return this._mask=C,this.emit("umask",[C]),R},p.prototype.hrtime=function(){var C;typeof performance<"u"?C=performance.now():Date.now?C=Date.now():C=new Date().getTime();var R=C/1e3|0;return C-=R*1e3,C=C*1e6|0,[R,C]},p.prototype.initializeTTYs=function(){if(this.stdout===null){var C=f(10);this.stdout=new C,this.stderr=new C,this.stdin=new C}},p.prototype.disconnect=function(){},p}(m.EventEmitter);c.exports=d}).call(l,"/")},function(c,l){function f(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}c.exports=f,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._maxListeners=void 0,f.defaultMaxListeners=10,f.prototype.setMaxListeners=function(x){if(!w(x)||x<0||isNaN(x))throw TypeError("n must be a positive number");return this._maxListeners=x,this},f.prototype.emit=function(x){var _,d,b,p,C,R;if(this._events||(this._events={}),x==="error"&&(!this._events.error||m(this._events.error)&&!this._events.error.length)){if(_=arguments[1],_ instanceof Error)throw _;var D=new Error('Uncaught, unspecified "error" event. ('+_+")");throw D.context=_,D}if(d=this._events[x],E(d))return!1;if(h(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:p=Array.prototype.slice.call(arguments,1),d.apply(this,p)}else if(m(d))for(p=Array.prototype.slice.call(arguments,1),R=d.slice(),b=R.length,C=0;C<b;C++)R[C].apply(this,p);return!0},f.prototype.addListener=function(x,_){var d;if(!h(_))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",x,h(_.listener)?_.listener:_),this._events[x]?m(this._events[x])?this._events[x].push(_):this._events[x]=[this._events[x],_]:this._events[x]=_,m(this._events[x])&&!this._events[x].warned&&(E(this._maxListeners)?d=f.defaultMaxListeners:d=this._maxListeners,d&&d>0&&this._events[x].length>d&&(this._events[x].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[x].length),typeof console.trace=="function"&&console.trace())),this},f.prototype.on=f.prototype.addListener,f.prototype.once=function(x,_){if(!h(_))throw TypeError("listener must be a function");var d=!1;function b(){this.removeListener(x,b),d||(d=!0,_.apply(this,arguments))}return b.listener=_,this.on(x,b),this},f.prototype.removeListener=function(x,_){var d,b,p,C;if(!h(_))throw TypeError("listener must be a function");if(!this._events||!this._events[x])return this;if(d=this._events[x],p=d.length,b=-1,d===_||h(d.listener)&&d.listener===_)delete this._events[x],this._events.removeListener&&this.emit("removeListener",x,_);else if(m(d)){for(C=p;C-- >0;)if(d[C]===_||d[C].listener&&d[C].listener===_){b=C;break}if(b<0)return this;d.length===1?(d.length=0,delete this._events[x]):d.splice(b,1),this._events.removeListener&&this.emit("removeListener",x,_)}return this},f.prototype.removeAllListeners=function(x){var _,d;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[x]&&delete this._events[x],this;if(arguments.length===0){for(_ in this._events)_!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events={},this}if(d=this._events[x],h(d))this.removeListener(x,d);else if(d)for(;d.length;)this.removeListener(x,d[d.length-1]);return delete this._events[x],this},f.prototype.listeners=function(x){var _;return!this._events||!this._events[x]?_=[]:h(this._events[x])?_=[this._events[x]]:_=this._events[x].slice(),_},f.prototype.listenerCount=function(x){if(this._events){var _=this._events[x];if(h(_))return 1;if(_)return _.length}return 0},f.listenerCount=function(x,_){return x.listenerCount(_)};function h(x){return typeof x=="function"}function w(x){return typeof x=="number"}function m(x){return typeof x=="object"&&x!==null}function E(x){return x===void 0}},function(c,l,f){(function(h){var w=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function m(x){var _=w.exec(x);return _.shift(),_}var E=function(){function x(){}return x.normalize=function(_){_===""&&(_=".");var d=_.charAt(0)===x.sep;_=x._removeDuplicateSeps(_);for(var b=_.split(x.sep),p=[],C=0;C<b.length;C++){var R=b[C];R!=="."&&(R===".."&&(d||!d&&p.length>0&&p[0]!=="..")?p.pop():p.push(R))}if(!d&&p.length<2)switch(p.length){case 1:p[0]===""&&p.unshift(".");break;default:p.push(".")}return _=p.join(x.sep),d&&_.charAt(0)!==x.sep&&(_=x.sep+_),_},x.join=function(){for(var _=[],d=0;d<arguments.length;d++)_[d-0]=arguments[d];for(var b=[],p=0;p<_.length;p++){var C=_[p];if(typeof C!="string")throw new TypeError("Invalid argument type to path.join: "+typeof C);C!==""&&b.push(C)}return x.normalize(b.join(x.sep))},x.resolve=function(){for(var _=[],d=0;d<arguments.length;d++)_[d-0]=arguments[d];for(var b=[],p=0;p<_.length;p++){var C=_[p];if(typeof C!="string")throw new TypeError("Invalid argument type to path.join: "+typeof C);C!==""&&(C.charAt(0)===x.sep&&(b=[]),b.push(C))}var R=x.normalize(b.join(x.sep));if(R.length>1&&R.charAt(R.length-1)===x.sep)return R.substr(0,R.length-1);if(R.charAt(0)!==x.sep){R.charAt(0)==="."&&(R.length===1||R.charAt(1)===x.sep)&&(R=R.length===1?"":R.substr(2));var D=h.cwd();R!==""?R=this.normalize(D+(D!=="/"?x.sep:"")+R):R=D}return R},x.relative=function(_,d){var b;_=x.resolve(_),d=x.resolve(d);var p=_.split(x.sep),C=d.split(x.sep);C.shift(),p.shift();var R=0,D=[];for(b=0;b<p.length;b++){var M=p[b];if(M!==C[b]){R=p.length-b;break}}D=C.slice(b),p.length===1&&p[0]===""&&(R=0),R>p.length&&(R=p.length);var j="";for(b=0;b<R;b++)j+="../";return j+=D.join(x.sep),j.length>1&&j.charAt(j.length-1)===x.sep&&(j=j.substr(0,j.length-1)),j},x.dirname=function(_){_=x._removeDuplicateSeps(_);var d=_.charAt(0)===x.sep,b=_.split(x.sep);return b.pop()===""&&b.length>0&&b.pop(),b.length>1||b.length===1&&!d?b.join(x.sep):d?x.sep:"."},x.basename=function(_,d){if(d===void 0&&(d=""),_==="")return _;_=x.normalize(_);var b=_.split(x.sep),p=b[b.length-1];if(p===""&&b.length>1)return b[b.length-2];if(d.length>0){var C=p.substr(p.length-d.length);if(C===d)return p.substr(0,p.length-d.length)}return p},x.extname=function(_){_=x.normalize(_);var d=_.split(x.sep);if(_=d.pop(),_===""&&d.length>0&&(_=d.pop()),_==="..")return"";var b=_.lastIndexOf(".");return b===-1||b===0?"":_.substr(b)},x.isAbsolute=function(_){return _.length>0&&_.charAt(0)===x.sep},x._makeLong=function(_){return _},x.parse=function(_){var d=m(_);return{root:d[0],dir:d[0]+d[1].slice(0,-1),base:d[2],ext:d[3],name:d[2].slice(0,d[2].length-d[3].length)}},x.format=function(_){if(_===null||typeof _!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof _);var d=_.root||"";if(typeof d!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof _.root);var b=_.dir?_.dir+x.sep:"",p=_.base||"";return b+p},x._removeDuplicateSeps=function(_){return _=_.replace(this._replaceRegex,this.sep),_},x.sep="/",x._replaceRegex=new RegExp("//+","g"),x.delimiter=":",x.posix=x,x.win32=x,x}();c.exports=E}).call(l,f(6))},function(c,l,f){(function(h){var w=this&&this.__extends||function(x,_){for(var d in _)_.hasOwnProperty(d)&&(x[d]=_[d]);function b(){this.constructor=x}x.prototype=_===null?Object.create(_):(b.prototype=_.prototype,new b)},m=f(11),E=function(x){w(_,x);function _(){x.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return _.prototype.setRawMode=function(d){this.isRaw!==d&&(this.isRaw=d,this.emit("modeChange"))},_.prototype.changeColumns=function(d){d!==this.columns&&(this.columns=d,this.emit("resize"))},_.prototype.changeRows=function(d){d!==this.rows&&(this.rows=d,this.emit("resize"))},_.isatty=function(d){return d&&d instanceof _},_.prototype._write=function(d,b,p){var C;try{var R;typeof d=="string"?R=new h(d,b):R=d,this._bufferedWrites.push(R),this._waitingForWrites&&this._read(1024)}catch(D){C=D}finally{p(C)}},_.prototype._read=function(d){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},_}(m.Duplex);c.exports=E}).call(l,f(1))},function(c,l,f){c.exports=m;var h=f(8).EventEmitter,w=f(12);w(m,h),m.Readable=f(13),m.Writable=f(27),m.Duplex=f(28),m.Transform=f(29),m.PassThrough=f(30),m.Stream=m;function m(){h.call(this)}m.prototype.pipe=function(E,x){var _=this;function d(j){E.writable&&E.write(j)===!1&&_.pause&&_.pause()}_.on("data",d);function b(){_.readable&&_.resume&&_.resume()}E.on("drain",b),!E._isStdio&&(!x||x.end!==!1)&&(_.on("end",C),_.on("close",R));var p=!1;function C(){p||(p=!0,E.end())}function R(){p||(p=!0,typeof E.destroy=="function"&&E.destroy())}function D(j){if(M(),h.listenerCount(this,"error")===0)throw j}_.on("error",D),E.on("error",D);function M(){_.removeListener("data",d),E.removeListener("drain",b),_.removeListener("end",C),_.removeListener("close",R),_.removeListener("error",D),E.removeListener("error",D),_.removeListener("end",M),_.removeListener("close",M),E.removeListener("close",M)}return _.on("end",M),_.on("close",M),E.on("close",M),E.emit("pipe",_),E}},function(c,l){typeof Object.create=="function"?c.exports=function(h,w){h.super_=w,h.prototype=Object.create(w.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}})}:c.exports=function(h,w){h.super_=w;var m=function(){};m.prototype=w.prototype,h.prototype=new m,h.prototype.constructor=h}},function(c,l,f){(function(h){var w=function(){try{return f(11)}catch{}}();l=c.exports=f(14),l.Stream=w||l,l.Readable=l,l.Writable=f(22),l.Duplex=f(21),l.Transform=f(25),l.PassThrough=f(26),!h.browser&&{}.READABLE_STREAM==="disable"&&w&&(c.exports=w)}).call(l,f(6))},function(c,l,f){(function(h){c.exports=V;var w=f(15),m=f(16),E;V.ReadableState=q,f(8).EventEmitter;var x=function(N,L){return N.listeners(L).length},_;(function(){try{_=f(11)}catch{}finally{_||(_=f(8).EventEmitter)}})();var d=f(2).Buffer,b=f(17),p=f(18);p.inherits=f(12);var C=f(19),R=void 0;C&&C.debuglog?R=C.debuglog("stream"):R=function(){};var D=f(20),M;p.inherits(V,_);function j(N,L,st){if(typeof N.prependListener=="function")return N.prependListener(L,st);!N._events||!N._events[L]?N.on(L,st):m(N._events[L])?N._events[L].unshift(st):N._events[L]=[st,N._events[L]]}function q(N,L){E=E||f(21),N=N||{},this.objectMode=!!N.objectMode,L instanceof E&&(this.objectMode=this.objectMode||!!N.readableObjectMode);var st=N.highWaterMark,T=this.objectMode?16:16*1024;this.highWaterMark=st||st===0?st:T,this.highWaterMark=~~this.highWaterMark,this.buffer=new D,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(M||(M=f(24).StringDecoder),this.decoder=new M(N.encoding),this.encoding=N.encoding)}function V(N){if(E=E||f(21),!(this instanceof V))return new V(N);this._readableState=new q(N,this),this.readable=!0,N&&typeof N.read=="function"&&(this._read=N.read),_.call(this)}V.prototype.push=function(N,L){var st=this._readableState;return!st.objectMode&&typeof N=="string"&&(L=L||st.defaultEncoding,L!==st.encoding&&(N=b.from(N,L),L="")),z(this,st,N,L,!1)},V.prototype.unshift=function(N){var L=this._readableState;return z(this,L,N,"",!0)},V.prototype.isPaused=function(){return this._readableState.flowing===!1};function z(N,L,st,T,A){var W=Z(L,st);if(W)N.emit("error",W);else if(st===null)L.reading=!1,at(N,L);else if(L.objectMode||st&&st.length>0)if(L.ended&&!A){var B=new Error("stream.push() after EOF");N.emit("error",B)}else if(L.endEmitted&&A){var nt=new Error("stream.unshift() after end event");N.emit("error",nt)}else{var Q;L.decoder&&!A&&!T&&(st=L.decoder.write(st),Q=!L.objectMode&&st.length===0),A||(L.reading=!1),Q||(L.flowing&&L.length===0&&!L.sync?(N.emit("data",st),N.read(0)):(L.length+=L.objectMode?1:st.length,A?L.buffer.unshift(st):L.buffer.push(st),L.needReadable&&mt(N))),Ft(N,L)}else A||(L.reading=!1);return rt(L)}function rt(N){return!N.ended&&(N.needReadable||N.length<N.highWaterMark||N.length===0)}V.prototype.setEncoding=function(N){return M||(M=f(24).StringDecoder),this._readableState.decoder=new M(N),this._readableState.encoding=N,this};var X=8388608;function ct(N){return N>=X?N=X:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}function St(N,L){return N<=0||L.length===0&&L.ended?0:L.objectMode?1:N!==N?L.flowing&&L.length?L.buffer.head.data.length:L.length:(N>L.highWaterMark&&(L.highWaterMark=ct(N)),N<=L.length?N:L.ended?L.length:(L.needReadable=!0,0))}V.prototype.read=function(N){R("read",N),N=parseInt(N,10);var L=this._readableState,st=N;if(N!==0&&(L.emittedReadable=!1),N===0&&L.needReadable&&(L.length>=L.highWaterMark||L.ended))return R("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?Ct(this):mt(this),null;if(N=St(N,L),N===0&&L.ended)return L.length===0&&Ct(this),null;var T=L.needReadable;R("need readable",T),(L.length===0||L.length-N<L.highWaterMark)&&(T=!0,R("length less than watermark",T)),L.ended||L.reading?(T=!1,R("reading or ended",T)):T&&(R("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(N=St(st,L)));var A;return N>0?A=ut(N,L):A=null,A===null?(L.needReadable=!0,N=0):L.length-=N,L.length===0&&(L.ended||(L.needReadable=!0),st!==N&&L.ended&&Ct(this)),A!==null&&this.emit("data",A),A};function Z(N,L){var st=null;return!d.isBuffer(L)&&typeof L!="string"&&L!==null&&L!==void 0&&!N.objectMode&&(st=new TypeError("Invalid non-string/buffer chunk")),st}function at(N,L){if(!L.ended){if(L.decoder){var st=L.decoder.end();st&&st.length&&(L.buffer.push(st),L.length+=L.objectMode?1:st.length)}L.ended=!0,mt(N)}}function mt(N){var L=N._readableState;L.needReadable=!1,L.emittedReadable||(R("emitReadable",L.flowing),L.emittedReadable=!0,L.sync?w(Ut,N):Ut(N))}function Ut(N){R("emit readable"),N.emit("readable"),G(N)}function Ft(N,L){L.readingMore||(L.readingMore=!0,w(Dt,N,L))}function Dt(N,L){for(var st=L.length;!L.reading&&!L.flowing&&!L.ended&&L.length<L.highWaterMark&&(R("maybeReadMore read 0"),N.read(0),st!==L.length);)st=L.length;L.readingMore=!1}V.prototype._read=function(N){this.emit("error",new Error("_read() is not implemented"))},V.prototype.pipe=function(N,L){var st=this,T=this._readableState;switch(T.pipesCount){case 0:T.pipes=N;break;case 1:T.pipes=[T.pipes,N];break;default:T.pipes.push(N);break}T.pipesCount+=1,R("pipe count=%d opts=%j",T.pipesCount,L);var A=(!L||L.end!==!1)&&N!==h.stdout&&N!==h.stderr,W=A?nt:lt;T.endEmitted?w(W):st.once("end",W),N.on("unpipe",B);function B(Y){R("onunpipe"),Y===st&&lt()}function nt(){R("onend"),N.end()}var Q=Ot(st);N.on("drain",Q);var yt=!1;function lt(){R("cleanup"),N.removeListener("close",g),N.removeListener("finish",O),N.removeListener("drain",Q),N.removeListener("error",v),N.removeListener("unpipe",B),st.removeListener("end",nt),st.removeListener("end",lt),st.removeListener("data",F),yt=!0,T.awaitDrain&&(!N._writableState||N._writableState.needDrain)&&Q()}var dt=!1;st.on("data",F);function F(Y){R("ondata"),dt=!1;var tt=N.write(Y);tt===!1&&!dt&&((T.pipesCount===1&&T.pipes===N||T.pipesCount>1&&Xt(T.pipes,N)!==-1)&&!yt&&(R("false write response, pause",st._readableState.awaitDrain),st._readableState.awaitDrain++,dt=!0),st.pause())}function v(Y){R("onerror",Y),U(),N.removeListener("error",v),x(N,"error")===0&&N.emit("error",Y)}j(N,"error",v);function g(){N.removeListener("finish",O),U()}N.once("close",g);function O(){R("onfinish"),N.removeListener("close",g),U()}N.once("finish",O);function U(){R("unpipe"),st.unpipe(N)}return N.emit("pipe",st),T.flowing||(R("pipe resume"),st.resume()),N};function Ot(N){return function(){var L=N._readableState;R("pipeOnDrain",L.awaitDrain),L.awaitDrain&&L.awaitDrain--,L.awaitDrain===0&&x(N,"data")&&(L.flowing=!0,G(N))}}V.prototype.unpipe=function(N){var L=this._readableState;if(L.pipesCount===0)return this;if(L.pipesCount===1)return N&&N!==L.pipes?this:(N||(N=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,N&&N.emit("unpipe",this),this);if(!N){var st=L.pipes,T=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var A=0;A<T;A++)st[A].emit("unpipe",this);return this}var W=Xt(L.pipes,N);return W===-1?this:(L.pipes.splice(W,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),N.emit("unpipe",this),this)},V.prototype.on=function(N,L){var st=_.prototype.on.call(this,N,L);if(N==="data")this._readableState.flowing!==!1&&this.resume();else if(N==="readable"){var T=this._readableState;!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.emittedReadable=!1,T.reading?T.length&&mt(this):w(ft,this))}return st},V.prototype.addListener=V.prototype.on;function ft(N){R("readable nexttick read 0"),N.read(0)}V.prototype.resume=function(){var N=this._readableState;return N.flowing||(R("resume"),N.flowing=!0,_t(this,N)),this};function _t(N,L){L.resumeScheduled||(L.resumeScheduled=!0,w(K,N,L))}function K(N,L){L.reading||(R("resume read 0"),N.read(0)),L.resumeScheduled=!1,L.awaitDrain=0,N.emit("resume"),G(N),L.flowing&&!L.reading&&N.read(0)}V.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function G(N){var L=N._readableState;for(R("flow",L.flowing);L.flowing&&N.read()!==null;);}V.prototype.wrap=function(N){var L=this._readableState,st=!1,T=this;N.on("end",function(){if(R("wrapped end"),L.decoder&&!L.ended){var B=L.decoder.end();B&&B.length&&T.push(B)}T.push(null)}),N.on("data",function(B){if(R("wrapped data"),L.decoder&&(B=L.decoder.write(B)),!(L.objectMode&&B==null)&&!(!L.objectMode&&(!B||!B.length))){var nt=T.push(B);nt||(st=!0,N.pause())}});for(var A in N)this[A]===void 0&&typeof N[A]=="function"&&(this[A]=function(B){return function(){return N[B].apply(N,arguments)}}(A));var W=["error","close","destroy","pause","resume"];return Gt(W,function(B){N.on(B,T.emit.bind(T,B))}),T._read=function(B){R("wrapped _read",B),st&&(st=!1,N.resume())},T},V._fromList=ut;function ut(N,L){if(L.length===0)return null;var st;return L.objectMode?st=L.buffer.shift():!N||N>=L.length?(L.decoder?st=L.buffer.join(""):L.buffer.length===1?st=L.buffer.head.data:st=L.buffer.concat(L.length),L.buffer.clear()):st=wt(N,L.buffer,L.decoder),st}function wt(N,L,st){var T;return N<L.head.data.length?(T=L.head.data.slice(0,N),L.head.data=L.head.data.slice(N)):N===L.head.data.length?T=L.shift():T=st?Bt(N,L):Lt(N,L),T}function Bt(N,L){var st=L.head,T=1,A=st.data;for(N-=A.length;st=st.next;){var W=st.data,B=N>W.length?W.length:N;if(B===W.length?A+=W:A+=W.slice(0,N),N-=B,N===0){B===W.length?(++T,st.next?L.head=st.next:L.head=L.tail=null):(L.head=st,st.data=W.slice(B));break}++T}return L.length-=T,A}function Lt(N,L){var st=b.allocUnsafe(N),T=L.head,A=1;for(T.data.copy(st),N-=T.data.length;T=T.next;){var W=T.data,B=N>W.length?W.length:N;if(W.copy(st,st.length-N,0,B),N-=B,N===0){B===W.length?(++A,T.next?L.head=T.next:L.head=L.tail=null):(L.head=T,T.data=W.slice(B));break}++A}return L.length-=A,st}function Ct(N){var L=N._readableState;if(L.length>0)throw new Error('"endReadable()" called on non-empty stream');L.endEmitted||(L.ended=!0,w(Mt,L,N))}function Mt(N,L){!N.endEmitted&&N.length===0&&(N.endEmitted=!0,L.readable=!1,L.emit("end"))}function Gt(N,L){for(var st=0,T=N.length;st<T;st++)L(N[st],st)}function Xt(N,L){for(var st=0,T=N.length;st<T;st++)if(N[st]===L)return st;return-1}}).call(l,f(6))},function(c,l,f){(function(h){!h.version||h.version.indexOf("v0.")===0||h.version.indexOf("v1.")===0&&h.version.indexOf("v1.8.")!==0?c.exports=w:c.exports=h.nextTick;function w(m,E,x,_){if(typeof m!="function")throw new TypeError('"callback" argument must be a function');var d=arguments.length,b,p;switch(d){case 0:case 1:return h.nextTick(m);case 2:return h.nextTick(function(){m.call(null,E)});case 3:return h.nextTick(function(){m.call(null,E,x)});case 4:return h.nextTick(function(){m.call(null,E,x,_)});default:for(b=new Array(d-1),p=0;p<b.length;)b[p++]=arguments[p];return h.nextTick(function(){m.apply(null,b)})}}}).call(l,f(6))},function(c,l){var f={}.toString;c.exports=Array.isArray||function(h){return f.call(h)=="[object Array]"}},function(c,l,f){(function(h){var w=f(2),m=w.Buffer,E=w.SlowBuffer,x=w.kMaxLength||2147483647;l.alloc=function(d,b,p){if(typeof m.alloc=="function")return m.alloc(d,b,p);if(typeof p=="number")throw new TypeError("encoding must not be number");if(typeof d!="number")throw new TypeError("size must be a number");if(d>x)throw new RangeError("size is too large");var C=p,R=b;R===void 0&&(C=void 0,R=0);var D=new m(d);if(typeof R=="string")for(var M=new m(R,C),j=M.length,q=-1;++q<d;)D[q]=M[q%j];else D.fill(R);return D},l.allocUnsafe=function(d){if(typeof m.allocUnsafe=="function")return m.allocUnsafe(d);if(typeof d!="number")throw new TypeError("size must be a number");if(d>x)throw new RangeError("size is too large");return new m(d)},l.from=function(d,b,p){if(typeof m.from=="function"&&(!h.Uint8Array||Uint8Array.from!==m.from))return m.from(d,b,p);if(typeof d=="number")throw new TypeError('"value" argument must not be a number');if(typeof d=="string")return new m(d,b);if(typeof ArrayBuffer<"u"&&d instanceof ArrayBuffer){var C=b;if(arguments.length===1)return new m(d);typeof C>"u"&&(C=0);var R=p;if(typeof R>"u"&&(R=d.byteLength-C),C>=d.byteLength)throw new RangeError("'offset' is out of bounds");if(R>d.byteLength-C)throw new RangeError("'length' is out of bounds");return new m(d.slice(C,C+R))}if(m.isBuffer(d)){var D=new m(d.length);return d.copy(D,0,0,d.length),D}if(d){if(Array.isArray(d)||typeof ArrayBuffer<"u"&&d.buffer instanceof ArrayBuffer||"length"in d)return new m(d);if(d.type==="Buffer"&&Array.isArray(d.data))return new m(d.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},l.allocUnsafeSlow=function(d){if(typeof m.allocUnsafeSlow=="function")return m.allocUnsafeSlow(d);if(typeof d!="number")throw new TypeError("size must be a number");if(d>=x)throw new RangeError("size is too large");return new E(d)}}).call(l,function(){return this}())},function(c,l,f){(function(h){function w(z){return Array.isArray?Array.isArray(z):V(z)==="[object Array]"}l.isArray=w;function m(z){return typeof z=="boolean"}l.isBoolean=m;function E(z){return z===null}l.isNull=E;function x(z){return z==null}l.isNullOrUndefined=x;function _(z){return typeof z=="number"}l.isNumber=_;function d(z){return typeof z=="string"}l.isString=d;function b(z){return typeof z=="symbol"}l.isSymbol=b;function p(z){return z===void 0}l.isUndefined=p;function C(z){return V(z)==="[object RegExp]"}l.isRegExp=C;function R(z){return typeof z=="object"&&z!==null}l.isObject=R;function D(z){return V(z)==="[object Date]"}l.isDate=D;function M(z){return V(z)==="[object Error]"||z instanceof Error}l.isError=M;function j(z){return typeof z=="function"}l.isFunction=j;function q(z){return z===null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"||typeof z=="symbol"||typeof z>"u"}l.isPrimitive=q,l.isBuffer=h.isBuffer;function V(z){return Object.prototype.toString.call(z)}}).call(l,f(1))},function(c,l){},function(c,l,f){f(2).Buffer;var h=f(17);c.exports=w;function w(){this.head=null,this.tail=null,this.length=0}w.prototype.push=function(m){var E={data:m,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length},w.prototype.unshift=function(m){var E={data:m,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length},w.prototype.shift=function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}},w.prototype.clear=function(){this.head=this.tail=null,this.length=0},w.prototype.join=function(m){if(this.length===0)return"";for(var E=this.head,x=""+E.data;E=E.next;)x+=m+E.data;return x},w.prototype.concat=function(m){if(this.length===0)return h.alloc(0);if(this.length===1)return this.head.data;for(var E=h.allocUnsafe(m>>>0),x=this.head,_=0;x;)x.data.copy(E,_),_+=x.data.length,x=x.next;return E}},function(c,l,f){var h=Object.keys||function(D){var M=[];for(var j in D)M.push(j);return M};c.exports=p;var w=f(15),m=f(18);m.inherits=f(12);var E=f(14),x=f(22);m.inherits(p,E);for(var _=h(x.prototype),d=0;d<_.length;d++){var b=_[d];p.prototype[b]||(p.prototype[b]=x.prototype[b])}function p(D){if(!(this instanceof p))return new p(D);E.call(this,D),x.call(this,D),D&&D.readable===!1&&(this.readable=!1),D&&D.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,D&&D.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",C)}function C(){this.allowHalfOpen||this._writableState.ended||w(R,this)}function R(D){D.end()}},function(c,l,f){(function(h){c.exports=j;var w=f(15),m=!h.browser&&["v0.10","v0.9."].indexOf(h.version.slice(0,5))>-1?setImmediate:w,E;j.WritableState=D;var x=f(18);x.inherits=f(12);var _={deprecate:f(23)},d;(function(){try{d=f(11)}catch{}finally{d||(d=f(8).EventEmitter)}})();var b=f(2).Buffer,p=f(17);x.inherits(j,d);function C(){}function R(K,G,ut){this.chunk=K,this.encoding=G,this.callback=ut,this.next=null}function D(K,G){E=E||f(21),K=K||{},this.objectMode=!!K.objectMode,G instanceof E&&(this.objectMode=this.objectMode||!!K.writableObjectMode);var ut=K.highWaterMark,wt=this.objectMode?16:16*1024;this.highWaterMark=ut||ut===0?ut:wt,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var Bt=K.decodeStrings===!1;this.decodeStrings=!Bt,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Lt){Z(G,Lt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new _t(this)}D.prototype.getBuffer=function(){for(var G=this.bufferedRequest,ut=[];G;)ut.push(G),G=G.next;return ut},function(){try{Object.defineProperty(D.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(K){return M.call(this,K)?!0:K&&K._writableState instanceof D}})):M=function(K){return K instanceof this};function j(K){if(E=E||f(21),!M.call(j,this)&&!(this instanceof E))return new j(K);this._writableState=new D(K,this),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev)),d.call(this)}j.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function q(K,G){var ut=new Error("write after end");K.emit("error",ut),w(G,ut)}function V(K,G,ut,wt){var Bt=!0,Lt=!1;return ut===null?Lt=new TypeError("May not write null values to stream"):typeof ut!="string"&&ut!==void 0&&!G.objectMode&&(Lt=new TypeError("Invalid non-string/buffer chunk")),Lt&&(K.emit("error",Lt),w(wt,Lt),Bt=!1),Bt}j.prototype.write=function(K,G,ut){var wt=this._writableState,Bt=!1,Lt=b.isBuffer(K);return typeof G=="function"&&(ut=G,G=null),Lt?G="buffer":G||(G=wt.defaultEncoding),typeof ut!="function"&&(ut=C),wt.ended?q(this,ut):(Lt||V(this,wt,K,ut))&&(wt.pendingcb++,Bt=rt(this,wt,Lt,K,G,ut)),Bt},j.prototype.cork=function(){var K=this._writableState;K.corked++},j.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.finished&&!K.bufferProcessing&&K.bufferedRequest&&Ut(this,K))},j.prototype.setDefaultEncoding=function(G){if(typeof G=="string"&&(G=G.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((G+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+G);return this._writableState.defaultEncoding=G,this};function z(K,G,ut){return!K.objectMode&&K.decodeStrings!==!1&&typeof G=="string"&&(G=p.from(G,ut)),G}function rt(K,G,ut,wt,Bt,Lt){ut||(wt=z(G,wt,Bt),b.isBuffer(wt)&&(Bt="buffer"));var Ct=G.objectMode?1:wt.length;G.length+=Ct;var Mt=G.length<G.highWaterMark;if(Mt||(G.needDrain=!0),G.writing||G.corked){var Gt=G.lastBufferedRequest;G.lastBufferedRequest=new R(wt,Bt,Lt),Gt?Gt.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1}else X(K,G,!1,Ct,wt,Bt,Lt);return Mt}function X(K,G,ut,wt,Bt,Lt,Ct){G.writelen=wt,G.writecb=Ct,G.writing=!0,G.sync=!0,ut?K._writev(Bt,G.onwrite):K._write(Bt,Lt,G.onwrite),G.sync=!1}function ct(K,G,ut,wt,Bt){--G.pendingcb,ut?w(Bt,wt):Bt(wt),K._writableState.errorEmitted=!0,K.emit("error",wt)}function St(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function Z(K,G){var ut=K._writableState,wt=ut.sync,Bt=ut.writecb;if(St(ut),G)ct(K,ut,wt,G,Bt);else{var Lt=Ft(ut);!Lt&&!ut.corked&&!ut.bufferProcessing&&ut.bufferedRequest&&Ut(K,ut),wt?m(at,K,ut,Lt,Bt):at(K,ut,Lt,Bt)}}function at(K,G,ut,wt){ut||mt(K,G),G.pendingcb--,wt(),Ot(K,G)}function mt(K,G){G.length===0&&G.needDrain&&(G.needDrain=!1,K.emit("drain"))}function Ut(K,G){G.bufferProcessing=!0;var ut=G.bufferedRequest;if(K._writev&&ut&&ut.next){var wt=G.bufferedRequestCount,Bt=new Array(wt),Lt=G.corkedRequestsFree;Lt.entry=ut;for(var Ct=0;ut;)Bt[Ct]=ut,ut=ut.next,Ct+=1;X(K,G,!0,G.length,Bt,"",Lt.finish),G.pendingcb++,G.lastBufferedRequest=null,Lt.next?(G.corkedRequestsFree=Lt.next,Lt.next=null):G.corkedRequestsFree=new _t(G)}else{for(;ut;){var Mt=ut.chunk,Gt=ut.encoding,Xt=ut.callback,N=G.objectMode?1:Mt.length;if(X(K,G,!1,N,Mt,Gt,Xt),ut=ut.next,G.writing)break}ut===null&&(G.lastBufferedRequest=null)}G.bufferedRequestCount=0,G.bufferedRequest=ut,G.bufferProcessing=!1}j.prototype._write=function(K,G,ut){ut(new Error("_write() is not implemented"))},j.prototype._writev=null,j.prototype.end=function(K,G,ut){var wt=this._writableState;typeof K=="function"?(ut=K,K=null,G=null):typeof G=="function"&&(ut=G,G=null),K!=null&&this.write(K,G),wt.corked&&(wt.corked=1,this.uncork()),!wt.ending&&!wt.finished&&ft(this,wt,ut)};function Ft(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function Dt(K,G){G.prefinished||(G.prefinished=!0,K.emit("prefinish"))}function Ot(K,G){var ut=Ft(G);return ut&&(G.pendingcb===0?(Dt(K,G),G.finished=!0,K.emit("finish")):Dt(K,G)),ut}function ft(K,G,ut){G.ending=!0,Ot(K,G),ut&&(G.finished?w(ut):K.once("finish",ut)),G.ended=!0,K.writable=!1}function _t(K){var G=this;this.next=null,this.entry=null,this.finish=function(ut){var wt=G.entry;for(G.entry=null;wt;){var Bt=wt.callback;K.pendingcb--,Bt(ut),wt=wt.next}K.corkedRequestsFree?K.corkedRequestsFree.next=G:K.corkedRequestsFree=G}}}).call(l,f(6))},function(c,l){(function(f){c.exports=h;function h(m,E){if(w("noDeprecation"))return m;var x=!1;function _(){if(!x){if(w("throwDeprecation"))throw new Error(E);w("traceDeprecation")?console.trace(E):console.warn(E),x=!0}return m.apply(this,arguments)}return _}function w(m){try{if(!f.localStorage)return!1}catch{return!1}var E=f.localStorage[m];return E==null?!1:String(E).toLowerCase()==="true"}}).call(l,function(){return this}())},function(c,l,f){var h=f(2).Buffer,w=h.isEncoding||function(b){switch(b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function m(b){if(b&&!w(b))throw new Error("Unknown encoding: "+b)}var E=l.StringDecoder=function(b){switch(this.encoding=(b||"utf8").toLowerCase().replace(/[-_]/,""),m(b),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=_;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=d;break;default:this.write=x;return}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};E.prototype.write=function(b){for(var p="";this.charLength;){var C=b.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:b.length;if(b.copy(this.charBuffer,this.charReceived,0,C),this.charReceived+=C,this.charReceived<this.charLength)return"";b=b.slice(C,b.length),p=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var D=p.charCodeAt(p.length-1);if(D>=55296&&D<=56319){this.charLength+=this.surrogateSize,p="";continue}if(this.charReceived=this.charLength=0,b.length===0)return p;break}this.detectIncompleteChar(b);var R=b.length;this.charLength&&(b.copy(this.charBuffer,0,b.length-this.charReceived,R),R-=this.charReceived),p+=b.toString(this.encoding,0,R);var R=p.length-1,D=p.charCodeAt(R);if(D>=55296&&D<=56319){var M=this.surrogateSize;return this.charLength+=M,this.charReceived+=M,this.charBuffer.copy(this.charBuffer,M,0,M),b.copy(this.charBuffer,0,0,M),p.substring(0,R)}return p},E.prototype.detectIncompleteChar=function(b){for(var p=b.length>=3?3:b.length;p>0;p--){var C=b[b.length-p];if(p==1&&C>>5==6){this.charLength=2;break}if(p<=2&&C>>4==14){this.charLength=3;break}if(p<=3&&C>>3==30){this.charLength=4;break}}this.charReceived=p},E.prototype.end=function(b){var p="";if(b&&b.length&&(p=this.write(b)),this.charReceived){var C=this.charReceived,R=this.charBuffer,D=this.encoding;p+=R.slice(0,C).toString(D)}return p};function x(b){return b.toString(this.encoding)}function _(b){this.charReceived=b.length%2,this.charLength=this.charReceived?2:0}function d(b){this.charReceived=b.length%3,this.charLength=this.charReceived?3:0}},function(c,l,f){c.exports=x;var h=f(21),w=f(18);w.inherits=f(12),w.inherits(x,h);function m(d){this.afterTransform=function(b,p){return E(d,b,p)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function E(d,b,p){var C=d._transformState;C.transforming=!1;var R=C.writecb;if(!R)return d.emit("error",new Error("no writecb in Transform class"));C.writechunk=null,C.writecb=null,p!=null&&d.push(p),R(b);var D=d._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&d._read(D.highWaterMark)}function x(d){if(!(this instanceof x))return new x(d);h.call(this,d),this._transformState=new m(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(p,C){_(b,p,C)}):_(b)})}x.prototype.push=function(d,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,d,b)},x.prototype._transform=function(d,b,p){throw new Error("_transform() is not implemented")},x.prototype._write=function(d,b,p){var C=this._transformState;if(C.writecb=p,C.writechunk=d,C.writeencoding=b,!C.transforming){var R=this._readableState;(C.needTransform||R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}},x.prototype._read=function(d){var b=this._transformState;b.writechunk!==null&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0};function _(d,b,p){if(b)return d.emit("error",b);p!=null&&d.push(p);var C=d._writableState,R=d._transformState;if(C.length)throw new Error("Calling transform done when ws.length != 0");if(R.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}},function(c,l,f){c.exports=m;var h=f(25),w=f(18);w.inherits=f(12),w.inherits(m,h);function m(E){if(!(this instanceof m))return new m(E);h.call(this,E)}m.prototype._transform=function(E,x,_){_(null,E)}},function(c,l,f){c.exports=f(22)},function(c,l,f){c.exports=f(21)},function(c,l,f){c.exports=f(25)},function(c,l,f){c.exports=f(26)},function(c,l,f){var h=f(32),w=f(33),m=f(38),E=f(39),x=f(40),_=f(41),d=f(42),b=Object.prototype.toString;function p(D){if(!(this instanceof p))return new p(D);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},D||{});var M=this.options;M.raw&&M.windowBits>=0&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),M.windowBits>=0&&M.windowBits<16&&!(D&&D.windowBits)&&(M.windowBits+=32),M.windowBits>15&&M.windowBits<48&&(M.windowBits&15||(M.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var j=h.inflateInit2(this.strm,M.windowBits);if(j!==E.Z_OK)throw new Error(x[j]);this.header=new d,h.inflateGetHeader(this.strm,this.header)}p.prototype.push=function(D,M){var j=this.strm,q=this.options.chunkSize,V=this.options.dictionary,z,rt,X,ct,St,Z,at=!1;if(this.ended)return!1;rt=M===~~M?M:M===!0?E.Z_FINISH:E.Z_NO_FLUSH,typeof D=="string"?j.input=m.binstring2buf(D):b.call(D)==="[object ArrayBuffer]"?j.input=new Uint8Array(D):j.input=D,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new w.Buf8(q),j.next_out=0,j.avail_out=q),z=h.inflate(j,E.Z_NO_FLUSH),z===E.Z_NEED_DICT&&V&&(typeof V=="string"?Z=m.string2buf(V):b.call(V)==="[object ArrayBuffer]"?Z=new Uint8Array(V):Z=V,z=h.inflateSetDictionary(this.strm,Z)),z===E.Z_BUF_ERROR&&at===!0&&(z=E.Z_OK,at=!1),z!==E.Z_STREAM_END&&z!==E.Z_OK)return this.onEnd(z),this.ended=!0,!1;j.next_out&&(j.avail_out===0||z===E.Z_STREAM_END||j.avail_in===0&&(rt===E.Z_FINISH||rt===E.Z_SYNC_FLUSH))&&(this.options.to==="string"?(X=m.utf8border(j.output,j.next_out),ct=j.next_out-X,St=m.buf2string(j.output,X),j.next_out=ct,j.avail_out=q-ct,ct&&w.arraySet(j.output,j.output,X,ct,0),this.onData(St)):this.onData(w.shrinkBuf(j.output,j.next_out))),j.avail_in===0&&j.avail_out===0&&(at=!0)}while((j.avail_in>0||j.avail_out===0)&&z!==E.Z_STREAM_END);return z===E.Z_STREAM_END&&(rt=E.Z_FINISH),rt===E.Z_FINISH?(z=h.inflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===E.Z_OK):(rt===E.Z_SYNC_FLUSH&&(this.onEnd(E.Z_OK),j.avail_out=0),!0)},p.prototype.onData=function(D){this.chunks.push(D)},p.prototype.onEnd=function(D){D===E.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg};function C(D,M){var j=new p(M);if(j.push(D,!0),j.err)throw j.msg||x[j.err];return j.result}function R(D,M){return M=M||{},M.raw=!0,C(D,M)}l.Inflate=p,l.inflate=C,l.inflateRaw=R,l.ungzip=C},function(c,l,f){var h=f(33),w=f(34),m=f(35),E=f(36),x=f(37),_=0,d=1,b=2,p=4,C=5,R=6,D=0,M=1,j=2,q=-2,V=-3,z=-4,rt=-5,X=8,ct=1,St=2,Z=3,at=4,mt=5,Ut=6,Ft=7,Dt=8,Ot=9,ft=10,_t=11,K=12,G=13,ut=14,wt=15,Bt=16,Lt=17,Ct=18,Mt=19,Gt=20,Xt=21,N=22,L=23,st=24,T=25,A=26,W=27,B=28,nt=29,Q=30,yt=31,lt=32,dt=852,F=592,v=15,g=v;function O($){return($>>>24&255)+($>>>8&65280)+(($&65280)<<8)+(($&255)<<24)}function U(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Y($){var gt;return!$||!$.state?q:(gt=$.state,$.total_in=$.total_out=gt.total=0,$.msg="",gt.wrap&&($.adler=gt.wrap&1),gt.mode=ct,gt.last=0,gt.havedict=0,gt.dmax=32768,gt.head=null,gt.hold=0,gt.bits=0,gt.lencode=gt.lendyn=new h.Buf32(dt),gt.distcode=gt.distdyn=new h.Buf32(F),gt.sane=1,gt.back=-1,D)}function tt($){var gt;return!$||!$.state?q:(gt=$.state,gt.wsize=0,gt.whave=0,gt.wnext=0,Y($))}function Et($,gt){var k,bt;return!$||!$.state||(bt=$.state,gt<0?(k=0,gt=-gt):(k=(gt>>4)+1,gt<48&&(gt&=15)),gt&&(gt<8||gt>15))?q:(bt.window!==null&&bt.wbits!==gt&&(bt.window=null),bt.wrap=k,bt.wbits=gt,tt($))}function Tt($,gt){var k,bt;return $?(bt=new U,$.state=bt,bt.window=null,k=Et($,gt),k!==D&&($.state=null),k):q}function Wt($){return Tt($,g)}var Qt=!0,Vt,Ee;function _n($){if(Qt){var gt;for(Vt=new h.Buf32(512),Ee=new h.Buf32(32),gt=0;gt<144;)$.lens[gt++]=8;for(;gt<256;)$.lens[gt++]=9;for(;gt<280;)$.lens[gt++]=7;for(;gt<288;)$.lens[gt++]=8;for(x(d,$.lens,0,288,Vt,0,$.work,{bits:9}),gt=0;gt<32;)$.lens[gt++]=5;x(b,$.lens,0,32,Ee,0,$.work,{bits:5}),Qt=!1}$.lencode=Vt,$.lenbits=9,$.distcode=Ee,$.distbits=5}function le($,gt,k,bt){var $t,vt=$.state;return vt.window===null&&(vt.wsize=1<<vt.wbits,vt.wnext=0,vt.whave=0,vt.window=new h.Buf8(vt.wsize)),bt>=vt.wsize?(h.arraySet(vt.window,gt,k-vt.wsize,vt.wsize,0),vt.wnext=0,vt.whave=vt.wsize):($t=vt.wsize-vt.wnext,$t>bt&&($t=bt),h.arraySet(vt.window,gt,k-bt,$t,vt.wnext),bt-=$t,bt?(h.arraySet(vt.window,gt,k-bt,bt,0),vt.wnext=bt,vt.whave=vt.wsize):(vt.wnext+=$t,vt.wnext===vt.wsize&&(vt.wnext=0),vt.whave<vt.wsize&&(vt.whave+=$t))),0}function _e($,gt){var k,bt,$t,vt,Ne,xt,fe,ot,it,cr,te,kt,Un,wn,oe=0,Yt,we,Oe,Se,lr,Bn,ue,De,me=new h.Buf8(4),Qe,Ke,li=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return q;k=$.state,k.mode===K&&(k.mode=G),Ne=$.next_out,$t=$.output,fe=$.avail_out,vt=$.next_in,bt=$.input,xt=$.avail_in,ot=k.hold,it=k.bits,cr=xt,te=fe,De=D;t:for(;;)switch(k.mode){case ct:if(k.wrap===0){k.mode=G;break}for(;it<16;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(k.wrap&2&&ot===35615){k.check=0,me[0]=ot&255,me[1]=ot>>>8&255,k.check=m(k.check,me,2,0),ot=0,it=0,k.mode=St;break}if(k.flags=0,k.head&&(k.head.done=!1),!(k.wrap&1)||(((ot&255)<<8)+(ot>>8))%31){$.msg="incorrect header check",k.mode=Q;break}if((ot&15)!==X){$.msg="unknown compression method",k.mode=Q;break}if(ot>>>=4,it-=4,ue=(ot&15)+8,k.wbits===0)k.wbits=ue;else if(ue>k.wbits){$.msg="invalid window size",k.mode=Q;break}k.dmax=1<<ue,$.adler=k.check=1,k.mode=ot&512?ft:K,ot=0,it=0;break;case St:for(;it<16;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(k.flags=ot,(k.flags&255)!==X){$.msg="unknown compression method",k.mode=Q;break}if(k.flags&57344){$.msg="unknown header flags set",k.mode=Q;break}k.head&&(k.head.text=ot>>8&1),k.flags&512&&(me[0]=ot&255,me[1]=ot>>>8&255,k.check=m(k.check,me,2,0)),ot=0,it=0,k.mode=Z;case Z:for(;it<32;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.head&&(k.head.time=ot),k.flags&512&&(me[0]=ot&255,me[1]=ot>>>8&255,me[2]=ot>>>16&255,me[3]=ot>>>24&255,k.check=m(k.check,me,4,0)),ot=0,it=0,k.mode=at;case at:for(;it<16;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.head&&(k.head.xflags=ot&255,k.head.os=ot>>8),k.flags&512&&(me[0]=ot&255,me[1]=ot>>>8&255,k.check=m(k.check,me,2,0)),ot=0,it=0,k.mode=mt;case mt:if(k.flags&1024){for(;it<16;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.length=ot,k.head&&(k.head.extra_len=ot),k.flags&512&&(me[0]=ot&255,me[1]=ot>>>8&255,k.check=m(k.check,me,2,0)),ot=0,it=0}else k.head&&(k.head.extra=null);k.mode=Ut;case Ut:if(k.flags&1024&&(kt=k.length,kt>xt&&(kt=xt),kt&&(k.head&&(ue=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),h.arraySet(k.head.extra,bt,vt,kt,ue)),k.flags&512&&(k.check=m(k.check,bt,kt,vt)),xt-=kt,vt+=kt,k.length-=kt),k.length))break t;k.length=0,k.mode=Ft;case Ft:if(k.flags&2048){if(xt===0)break t;kt=0;do ue=bt[vt+kt++],k.head&&ue&&k.length<65536&&(k.head.name+=String.fromCharCode(ue));while(ue&&kt<xt);if(k.flags&512&&(k.check=m(k.check,bt,kt,vt)),xt-=kt,vt+=kt,ue)break t}else k.head&&(k.head.name=null);k.length=0,k.mode=Dt;case Dt:if(k.flags&4096){if(xt===0)break t;kt=0;do ue=bt[vt+kt++],k.head&&ue&&k.length<65536&&(k.head.comment+=String.fromCharCode(ue));while(ue&&kt<xt);if(k.flags&512&&(k.check=m(k.check,bt,kt,vt)),xt-=kt,vt+=kt,ue)break t}else k.head&&(k.head.comment=null);k.mode=Ot;case Ot:if(k.flags&512){for(;it<16;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(ot!==(k.check&65535)){$.msg="header crc mismatch",k.mode=Q;break}ot=0,it=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),$.adler=k.check=0,k.mode=K;break;case ft:for(;it<32;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}$.adler=k.check=O(ot),ot=0,it=0,k.mode=_t;case _t:if(k.havedict===0)return $.next_out=Ne,$.avail_out=fe,$.next_in=vt,$.avail_in=xt,k.hold=ot,k.bits=it,j;$.adler=k.check=1,k.mode=K;case K:if(gt===C||gt===R)break t;case G:if(k.last){ot>>>=it&7,it-=it&7,k.mode=W;break}for(;it<3;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}switch(k.last=ot&1,ot>>>=1,it-=1,ot&3){case 0:k.mode=ut;break;case 1:if(_n(k),k.mode=Gt,gt===R){ot>>>=2,it-=2;break t}break;case 2:k.mode=Lt;break;case 3:$.msg="invalid block type",k.mode=Q}ot>>>=2,it-=2;break;case ut:for(ot>>>=it&7,it-=it&7;it<32;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if((ot&65535)!==(ot>>>16^65535)){$.msg="invalid stored block lengths",k.mode=Q;break}if(k.length=ot&65535,ot=0,it=0,k.mode=wt,gt===R)break t;case wt:k.mode=Bt;case Bt:if(kt=k.length,kt){if(kt>xt&&(kt=xt),kt>fe&&(kt=fe),kt===0)break t;h.arraySet($t,bt,vt,kt,Ne),xt-=kt,vt+=kt,fe-=kt,Ne+=kt,k.length-=kt;break}k.mode=K;break;case Lt:for(;it<14;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(k.nlen=(ot&31)+257,ot>>>=5,it-=5,k.ndist=(ot&31)+1,ot>>>=5,it-=5,k.ncode=(ot&15)+4,ot>>>=4,it-=4,k.nlen>286||k.ndist>30){$.msg="too many length or distance symbols",k.mode=Q;break}k.have=0,k.mode=Ct;case Ct:for(;k.have<k.ncode;){for(;it<3;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.lens[li[k.have++]]=ot&7,ot>>>=3,it-=3}for(;k.have<19;)k.lens[li[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,Qe={bits:k.lenbits},De=x(_,k.lens,0,19,k.lencode,0,k.work,Qe),k.lenbits=Qe.bits,De){$.msg="invalid code lengths set",k.mode=Q;break}k.have=0,k.mode=Mt;case Mt:for(;k.have<k.nlen+k.ndist;){for(;oe=k.lencode[ot&(1<<k.lenbits)-1],Yt=oe>>>24,we=oe>>>16&255,Oe=oe&65535,!(Yt<=it);){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(Oe<16)ot>>>=Yt,it-=Yt,k.lens[k.have++]=Oe;else{if(Oe===16){for(Ke=Yt+2;it<Ke;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(ot>>>=Yt,it-=Yt,k.have===0){$.msg="invalid bit length repeat",k.mode=Q;break}ue=k.lens[k.have-1],kt=3+(ot&3),ot>>>=2,it-=2}else if(Oe===17){for(Ke=Yt+3;it<Ke;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}ot>>>=Yt,it-=Yt,ue=0,kt=3+(ot&7),ot>>>=3,it-=3}else{for(Ke=Yt+7;it<Ke;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}ot>>>=Yt,it-=Yt,ue=0,kt=11+(ot&127),ot>>>=7,it-=7}if(k.have+kt>k.nlen+k.ndist){$.msg="invalid bit length repeat",k.mode=Q;break}for(;kt--;)k.lens[k.have++]=ue}}if(k.mode===Q)break;if(k.lens[256]===0){$.msg="invalid code -- missing end-of-block",k.mode=Q;break}if(k.lenbits=9,Qe={bits:k.lenbits},De=x(d,k.lens,0,k.nlen,k.lencode,0,k.work,Qe),k.lenbits=Qe.bits,De){$.msg="invalid literal/lengths set",k.mode=Q;break}if(k.distbits=6,k.distcode=k.distdyn,Qe={bits:k.distbits},De=x(b,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,Qe),k.distbits=Qe.bits,De){$.msg="invalid distances set",k.mode=Q;break}if(k.mode=Gt,gt===R)break t;case Gt:k.mode=Xt;case Xt:if(xt>=6&&fe>=258){$.next_out=Ne,$.avail_out=fe,$.next_in=vt,$.avail_in=xt,k.hold=ot,k.bits=it,E($,te),Ne=$.next_out,$t=$.output,fe=$.avail_out,vt=$.next_in,bt=$.input,xt=$.avail_in,ot=k.hold,it=k.bits,k.mode===K&&(k.back=-1);break}for(k.back=0;oe=k.lencode[ot&(1<<k.lenbits)-1],Yt=oe>>>24,we=oe>>>16&255,Oe=oe&65535,!(Yt<=it);){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(we&&!(we&240)){for(Se=Yt,lr=we,Bn=Oe;oe=k.lencode[Bn+((ot&(1<<Se+lr)-1)>>Se)],Yt=oe>>>24,we=oe>>>16&255,Oe=oe&65535,!(Se+Yt<=it);){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}ot>>>=Se,it-=Se,k.back+=Se}if(ot>>>=Yt,it-=Yt,k.back+=Yt,k.length=Oe,we===0){k.mode=A;break}if(we&32){k.back=-1,k.mode=K;break}if(we&64){$.msg="invalid literal/length code",k.mode=Q;break}k.extra=we&15,k.mode=N;case N:if(k.extra){for(Ke=k.extra;it<Ke;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.length+=ot&(1<<k.extra)-1,ot>>>=k.extra,it-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=L;case L:for(;oe=k.distcode[ot&(1<<k.distbits)-1],Yt=oe>>>24,we=oe>>>16&255,Oe=oe&65535,!(Yt<=it);){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(!(we&240)){for(Se=Yt,lr=we,Bn=Oe;oe=k.distcode[Bn+((ot&(1<<Se+lr)-1)>>Se)],Yt=oe>>>24,we=oe>>>16&255,Oe=oe&65535,!(Se+Yt<=it);){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}ot>>>=Se,it-=Se,k.back+=Se}if(ot>>>=Yt,it-=Yt,k.back+=Yt,we&64){$.msg="invalid distance code",k.mode=Q;break}k.offset=Oe,k.extra=we&15,k.mode=st;case st:if(k.extra){for(Ke=k.extra;it<Ke;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.offset+=ot&(1<<k.extra)-1,ot>>>=k.extra,it-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){$.msg="invalid distance too far back",k.mode=Q;break}k.mode=T;case T:if(fe===0)break t;if(kt=te-fe,k.offset>kt){if(kt=k.offset-kt,kt>k.whave&&k.sane){$.msg="invalid distance too far back",k.mode=Q;break}kt>k.wnext?(kt-=k.wnext,Un=k.wsize-kt):Un=k.wnext-kt,kt>k.length&&(kt=k.length),wn=k.window}else wn=$t,Un=Ne-k.offset,kt=k.length;kt>fe&&(kt=fe),fe-=kt,k.length-=kt;do $t[Ne++]=wn[Un++];while(--kt);k.length===0&&(k.mode=Xt);break;case A:if(fe===0)break t;$t[Ne++]=k.length,fe--,k.mode=Xt;break;case W:if(k.wrap){for(;it<32;){if(xt===0)break t;xt--,ot|=bt[vt++]<<it,it+=8}if(te-=fe,$.total_out+=te,k.total+=te,te&&($.adler=k.check=k.flags?m(k.check,$t,te,Ne-te):w(k.check,$t,te,Ne-te)),te=fe,(k.flags?ot:O(ot))!==k.check){$.msg="incorrect data check",k.mode=Q;break}ot=0,it=0}k.mode=B;case B:if(k.wrap&&k.flags){for(;it<32;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(ot!==(k.total&4294967295)){$.msg="incorrect length check",k.mode=Q;break}ot=0,it=0}k.mode=nt;case nt:De=M;break t;case Q:De=V;break t;case yt:return z;case lt:default:return q}return $.next_out=Ne,$.avail_out=fe,$.next_in=vt,$.avail_in=xt,k.hold=ot,k.bits=it,(k.wsize||te!==$.avail_out&&k.mode<Q&&(k.mode<W||gt!==p))&&le($,$.output,$.next_out,te-$.avail_out),cr-=$.avail_in,te-=$.avail_out,$.total_in+=cr,$.total_out+=te,k.total+=te,k.wrap&&te&&($.adler=k.check=k.flags?m(k.check,$t,te,$.next_out-te):w(k.check,$t,te,$.next_out-te)),$.data_type=k.bits+(k.last?64:0)+(k.mode===K?128:0)+(k.mode===Gt||k.mode===wt?256:0),(cr===0&&te===0||gt===p)&&De===D&&(De=rt),De}function ur($){if(!$||!$.state)return q;var gt=$.state;return gt.window&&(gt.window=null),$.state=null,D}function fo($,gt){var k;return!$||!$.state||(k=$.state,!(k.wrap&2))?q:(k.head=gt,gt.done=!1,D)}function ho($,gt){var k=gt.length,bt,$t,vt;return!$||!$.state||(bt=$.state,bt.wrap!==0&&bt.mode!==_t)?q:bt.mode===_t&&($t=1,$t=w($t,gt,k,0),$t!==bt.check)?V:(vt=le($,gt,k,k),vt?(bt.mode=yt,z):(bt.havedict=1,D))}l.inflateReset=tt,l.inflateReset2=Et,l.inflateResetKeep=Y,l.inflateInit=Wt,l.inflateInit2=Tt,l.inflate=_e,l.inflateEnd=ur,l.inflateGetHeader=fo,l.inflateSetDictionary=ho,l.inflateInfo="pako inflate (from Nodeca project)"},function(c,l){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(m){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var x=E.shift();if(x){if(typeof x!="object")throw new TypeError(x+"must be non-object");for(var _ in x)x.hasOwnProperty(_)&&(m[_]=x[_])}}return m},l.shrinkBuf=function(m,E){return m.length===E?m:m.subarray?m.subarray(0,E):(m.length=E,m)};var h={arraySet:function(m,E,x,_,d){if(E.subarray&&m.subarray){m.set(E.subarray(x,x+_),d);return}for(var b=0;b<_;b++)m[d+b]=E[x+b]},flattenChunks:function(m){var E,x,_,d,b,p;for(_=0,E=0,x=m.length;E<x;E++)_+=m[E].length;for(p=new Uint8Array(_),d=0,E=0,x=m.length;E<x;E++)b=m[E],p.set(b,d),d+=b.length;return p}},w={arraySet:function(m,E,x,_,d){for(var b=0;b<_;b++)m[d+b]=E[x+b]},flattenChunks:function(m){return[].concat.apply([],m)}};l.setTyped=function(m){m?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,h)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,w))},l.setTyped(f)},function(c,l){function f(h,w,m,E){for(var x=h&65535|0,_=h>>>16&65535|0,d=0;m!==0;){d=m>2e3?2e3:m,m-=d;do x=x+w[E++]|0,_=_+x|0;while(--d);x%=65521,_%=65521}return x|_<<16|0}c.exports=f},function(c,l){function f(){for(var m,E=[],x=0;x<256;x++){m=x;for(var _=0;_<8;_++)m=m&1?3988292384^m>>>1:m>>>1;E[x]=m}return E}var h=f();function w(m,E,x,_){var d=h,b=_+x;m^=-1;for(var p=_;p<b;p++)m=m>>>8^d[(m^E[p])&255];return m^-1}c.exports=w},function(c,l){var f=30,h=12;c.exports=function(m,E){var x,_,d,b,p,C,R,D,M,j,q,V,z,rt,X,ct,St,Z,at,mt,Ut,Ft,Dt,Ot,ft;x=m.state,_=m.next_in,Ot=m.input,d=_+(m.avail_in-5),b=m.next_out,ft=m.output,p=b-(E-m.avail_out),C=b+(m.avail_out-257),R=x.dmax,D=x.wsize,M=x.whave,j=x.wnext,q=x.window,V=x.hold,z=x.bits,rt=x.lencode,X=x.distcode,ct=(1<<x.lenbits)-1,St=(1<<x.distbits)-1;t:do{z<15&&(V+=Ot[_++]<<z,z+=8,V+=Ot[_++]<<z,z+=8),Z=rt[V&ct];e:for(;;){if(at=Z>>>24,V>>>=at,z-=at,at=Z>>>16&255,at===0)ft[b++]=Z&65535;else if(at&16){mt=Z&65535,at&=15,at&&(z<at&&(V+=Ot[_++]<<z,z+=8),mt+=V&(1<<at)-1,V>>>=at,z-=at),z<15&&(V+=Ot[_++]<<z,z+=8,V+=Ot[_++]<<z,z+=8),Z=X[V&St];n:for(;;){if(at=Z>>>24,V>>>=at,z-=at,at=Z>>>16&255,at&16){if(Ut=Z&65535,at&=15,z<at&&(V+=Ot[_++]<<z,z+=8,z<at&&(V+=Ot[_++]<<z,z+=8)),Ut+=V&(1<<at)-1,Ut>R){m.msg="invalid distance too far back",x.mode=f;break t}if(V>>>=at,z-=at,at=b-p,Ut>at){if(at=Ut-at,at>M&&x.sane){m.msg="invalid distance too far back",x.mode=f;break t}if(Ft=0,Dt=q,j===0){if(Ft+=D-at,at<mt){mt-=at;do ft[b++]=q[Ft++];while(--at);Ft=b-Ut,Dt=ft}}else if(j<at){if(Ft+=D+j-at,at-=j,at<mt){mt-=at;do ft[b++]=q[Ft++];while(--at);if(Ft=0,j<mt){at=j,mt-=at;do ft[b++]=q[Ft++];while(--at);Ft=b-Ut,Dt=ft}}}else if(Ft+=j-at,at<mt){mt-=at;do ft[b++]=q[Ft++];while(--at);Ft=b-Ut,Dt=ft}for(;mt>2;)ft[b++]=Dt[Ft++],ft[b++]=Dt[Ft++],ft[b++]=Dt[Ft++],mt-=3;mt&&(ft[b++]=Dt[Ft++],mt>1&&(ft[b++]=Dt[Ft++]))}else{Ft=b-Ut;do ft[b++]=ft[Ft++],ft[b++]=ft[Ft++],ft[b++]=ft[Ft++],mt-=3;while(mt>2);mt&&(ft[b++]=ft[Ft++],mt>1&&(ft[b++]=ft[Ft++]))}}else if(at&64){m.msg="invalid distance code",x.mode=f;break t}else{Z=X[(Z&65535)+(V&(1<<at)-1)];continue n}break}}else if(at&64)if(at&32){x.mode=h;break t}else{m.msg="invalid literal/length code",x.mode=f;break t}else{Z=rt[(Z&65535)+(V&(1<<at)-1)];continue e}break}}while(_<d&&b<C);mt=z>>3,_-=mt,z-=mt<<3,V&=(1<<z)-1,m.next_in=_,m.next_out=b,m.avail_in=_<d?5+(d-_):5-(_-d),m.avail_out=b<C?257+(C-b):257-(b-C),x.hold=V,x.bits=z}},function(c,l,f){var h=f(33),w=15,m=852,E=592,x=0,_=1,d=2,b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],R=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(M,j,q,V,z,rt,X,ct){var St=ct.bits,Z=0,at=0,mt=0,Ut=0,Ft=0,Dt=0,Ot=0,ft=0,_t=0,K=0,G,ut,wt,Bt,Lt,Ct=null,Mt=0,Gt,Xt=new h.Buf16(w+1),N=new h.Buf16(w+1),L=null,st=0,T,A,W;for(Z=0;Z<=w;Z++)Xt[Z]=0;for(at=0;at<V;at++)Xt[j[q+at]]++;for(Ft=St,Ut=w;Ut>=1&&Xt[Ut]===0;Ut--);if(Ft>Ut&&(Ft=Ut),Ut===0)return z[rt++]=1<<24|64<<16|0,z[rt++]=1<<24|64<<16|0,ct.bits=1,0;for(mt=1;mt<Ut&&Xt[mt]===0;mt++);for(Ft<mt&&(Ft=mt),ft=1,Z=1;Z<=w;Z++)if(ft<<=1,ft-=Xt[Z],ft<0)return-1;if(ft>0&&(M===x||Ut!==1))return-1;for(N[1]=0,Z=1;Z<w;Z++)N[Z+1]=N[Z]+Xt[Z];for(at=0;at<V;at++)j[q+at]!==0&&(X[N[j[q+at]]++]=at);if(M===x?(Ct=L=X,Gt=19):M===_?(Ct=b,Mt-=257,L=p,st-=257,Gt=256):(Ct=C,L=R,Gt=-1),K=0,at=0,Z=mt,Lt=rt,Dt=Ft,Ot=0,wt=-1,_t=1<<Ft,Bt=_t-1,M===_&&_t>m||M===d&&_t>E)return 1;for(;;){T=Z-Ot,X[at]<Gt?(A=0,W=X[at]):X[at]>Gt?(A=L[st+X[at]],W=Ct[Mt+X[at]]):(A=32+64,W=0),G=1<<Z-Ot,ut=1<<Dt,mt=ut;do ut-=G,z[Lt+(K>>Ot)+ut]=T<<24|A<<16|W|0;while(ut!==0);for(G=1<<Z-1;K&G;)G>>=1;if(G!==0?(K&=G-1,K+=G):K=0,at++,--Xt[Z]===0){if(Z===Ut)break;Z=j[q+X[at]]}if(Z>Ft&&(K&Bt)!==wt){for(Ot===0&&(Ot=Ft),Lt+=mt,Dt=Z-Ot,ft=1<<Dt;Dt+Ot<Ut&&(ft-=Xt[Dt+Ot],!(ft<=0));)Dt++,ft<<=1;if(_t+=1<<Dt,M===_&&_t>m||M===d&&_t>E)return 1;wt=K&Bt,z[wt]=Ft<<24|Dt<<16|Lt-rt|0}}return K!==0&&(z[Lt+K]=Z-Ot<<24|64<<16|0),ct.bits=Ft,0}},function(c,l,f){var h=f(33),w=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var E=new h.Buf8(256),x=0;x<256;x++)E[x]=x>=252?6:x>=248?5:x>=240?4:x>=224?3:x>=192?2:1;E[254]=E[254]=1,l.string2buf=function(d){var b,p,C,R,D,M=d.length,j=0;for(R=0;R<M;R++)p=d.charCodeAt(R),(p&64512)===55296&&R+1<M&&(C=d.charCodeAt(R+1),(C&64512)===56320&&(p=65536+(p-55296<<10)+(C-56320),R++)),j+=p<128?1:p<2048?2:p<65536?3:4;for(b=new h.Buf8(j),D=0,R=0;D<j;R++)p=d.charCodeAt(R),(p&64512)===55296&&R+1<M&&(C=d.charCodeAt(R+1),(C&64512)===56320&&(p=65536+(p-55296<<10)+(C-56320),R++)),p<128?b[D++]=p:p<2048?(b[D++]=192|p>>>6,b[D++]=128|p&63):p<65536?(b[D++]=224|p>>>12,b[D++]=128|p>>>6&63,b[D++]=128|p&63):(b[D++]=240|p>>>18,b[D++]=128|p>>>12&63,b[D++]=128|p>>>6&63,b[D++]=128|p&63);return b};function _(d,b){if(b<65537&&(d.subarray&&m||!d.subarray&&w))return String.fromCharCode.apply(null,h.shrinkBuf(d,b));for(var p="",C=0;C<b;C++)p+=String.fromCharCode(d[C]);return p}l.buf2binstring=function(d){return _(d,d.length)},l.binstring2buf=function(d){for(var b=new h.Buf8(d.length),p=0,C=b.length;p<C;p++)b[p]=d.charCodeAt(p);return b},l.buf2string=function(d,b){var p,C,R,D,M=b||d.length,j=new Array(M*2);for(C=0,p=0;p<M;){if(R=d[p++],R<128){j[C++]=R;continue}if(D=E[R],D>4){j[C++]=65533,p+=D-1;continue}for(R&=D===2?31:D===3?15:7;D>1&&p<M;)R=R<<6|d[p++]&63,D--;if(D>1){j[C++]=65533;continue}R<65536?j[C++]=R:(R-=65536,j[C++]=55296|R>>10&1023,j[C++]=56320|R&1023)}return _(j,C)},l.utf8border=function(d,b){var p;for(b=b||d.length,b>d.length&&(b=d.length),p=b-1;p>=0&&(d[p]&192)===128;)p--;return p<0||p===0?b:p+E[d[p]]>b?p:b}},function(c,l){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(c,l){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(c,l){function f(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}c.exports=f},function(c,l){function f(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}c.exports=f}])})})(Hd);class oc{constructor(){Ge(this,"_fs");Ge(this,"_cwd","/");const s=Ze();this._fs=s==null?void 0:s.appContext.config.globalProperties.$fs}setFs(s){this._fs=s}init(){let s=["/bin","/boot","/dev","/lib","/lib32","/lib64","/proc","/sbin","/run","/usr","/sys","/etc","/opt","/home","/root","/var","/var/log","/tmp"];for(let c=0;c<s.length;c++){const l=s[c];this._fs.existsSync(l)||this._fs.mkdirSync(l)}}joinPath(...s){const[c,l,f]=[0,s.length-1,"/"],h=new RegExp("^"+f),w=new RegExp(f+"$");return s=s.map(function(m,E){return E===c&&m==="file://"||(E>c&&(m=m.replace(h,"")),E<l&&(m=m.replace(w,""))),m}),s.join(f)}getClient(){return this._fs}getCurrentDirectory(){return this._cwd}isDir(s){return s.startsWith("/")||(s=this.joinPath(this._cwd,s)),this._fs.existsSync(s)&&this._fs.lstatSync(s).isDirectory()===!0}emptyPath(s){return s==null&&(s=this._cwd),s}list(s){return this._fs.readdirSync(s)}cd(s){if(s===".."&&this._cwd!=="/"){let c=this._cwd.split("/");c.pop(),this._cwd=c.join("/"),this._cwd===""&&(this._cwd="/");return}else if(s===".."&&this._cwd==="/")return;if(s.startsWith("/")||(s=this.joinPath(this._cwd,s)),this.isDir(s))this._cwd=s,this._cwd.startsWith("/")||(this._cwd="/"+this._cwd);else throw new Error("directory does not exist: "+this.joinPath(this._cwd,s))}mkdir(s,c){s.startsWith("/")||(s=this.joinPath(this._cwd,s)),this._fs.mkdirSync(s)}rm(s){if(!s.startsWith("/")&&!s.startsWith("./")?s=this.joinPath(this._cwd,s):s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),this.isDir(s))this._fs.rmdirSync(s);else if(this._fs.existsSync(s))this._fs.unlinkSync(s);else throw new Error("no file or directory found: "+s)}writeFile(s,c){s.startsWith("/")||(s=this.joinPath(this._cwd,s)),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),console.log("write data: ",c),this._fs.writeFileSync(s,c)}exists(s){return s.startsWith("/")||this.joinPath(this._cwd,s),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),this._fs.existsSync(s)}read(s){s.startsWith("/")||(s=this.joinPath(this._cwd,s)),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1)));let c=this._fs.readFileSync(s).toString();return console.log("data: res",c),c}}const sn=r=>(oi("data-v-951e97ff"),r=r(),si(),r),Vd={id:"toolbar"},Xd=sn(()=>J("div",{class:"linuxmenu item explorer"},[J("img",{src:"https://i.imgur.com/hHTNHTV.png"})],-1)),Yd=[Xd],Zd=sn(()=>J("div",{class:"dividor"},null,-1)),Kd=sn(()=>J("div",{class:"item"},[J("img",{src:"https://i.imgur.com/T8dFIIZ.png","data-action":"explorer"})],-1)),qd=[Kd],Jd=sn(()=>J("div",{class:"item"},[J("img",{src:"https://i.imgur.com/3hn6fsJ.png","data-action":"terminal"})],-1)),Gd=[Jd],Qd=sn(()=>J("div",{class:"dividor"},null,-1)),$d={id:"openWindows"},tp=["onClick"],ep=sn(()=>J("img",{src:"https://i.imgur.com/3hn6fsJ.png",class:"item-logo"},null,-1)),np=sn(()=>J("span",{class:"item-label"},"Terminal",-1)),rp=[ep,np],ip=sn(()=>J("img",{src:"https://i.imgur.com/T8dFIIZ.png",class:"item-logo"},null,-1)),op=sn(()=>J("span",{class:"item-label"},"Explorer",-1)),sp=[ip,op],ap=sn(()=>J("img",{src:"https://i.imgur.com/66vqfGw.png",class:"item-logo"},null,-1)),up=sn(()=>J("span",{class:"item-label"},"Paramètres",-1)),cp=[ap,up],lp=on({__name:"Toolbar",setup(r){const s=Ze(),c=s==null?void 0:s.appContext.config.globalProperties.$emitter,l=Rr({}),f=Rt(),h=Rt(!1);function w(){h.value=!h.value}function m(p){h.value=!1;let C=p.target.getAttribute("data-action");C!=null&&c.emit("desktop/openwindow",C)}function E(p){h.value=!1,f.value=p}function x(p){l[p.id]=p,f.value=p.id}function _(p){delete l[p]}function d(){c.on("window/focus",E),c.on("toolbar/openwindow",x),c.on("toolbar/closewindow",_)}function b(p){h.value=!1,c.emit("window/focus",p)}return mn(()=>{d()}),(p,C)=>(Ht(),qt(Fe,null,[J("div",Vd,[J("div",{class:"toolbar-item",onClick:w,"data-action":"linuxmenu"},Yd),Zd,J("div",{class:"toolbar-item",onClick:m,"data-action":"explorer"},qd),J("div",{class:"toolbar-item",onClick:m,"data-action":"terminal"},Gd),Qd,J("div",$d,[(Ht(!0),qt(Fe,null,rr(l,R=>(Ht(),qt("div",{onClick:D=>b(R.id),key:R.id,class:vn(["toolbar-window-tab",{active:R.id==f.value}])},yn(R.type),11,tp))),128))])]),J("div",{class:vn(["linuxmenu",{active:h.value}]),id:"linuxmenu"},[J("div",{class:"linuxmenu-item",onClick:m,"data-action":"terminal"},rp),J("div",{class:"linuxmenu-item",onClick:m,"data-action":"explorer"},sp),J("div",{class:"linuxmenu-item",onClick:m,"data-action":"settings"},cp)],2)],64))}});const sr=(r,s)=>{const c=r.__vccOpts||r;for(const[l,f]of s)c[l]=f;return c},fp=sr(lp,[["__scopeId","data-v-951e97ff"]]),co=cs("state",()=>{const r=Rt({turnedOn:!1,open:!1,user:null});function s(c){r.value=c}return{state:r,setState:s}});class eu{static random(s,c){return Math.floor(s+Math.random()*(c-s+1))}}const ui=cs("settings",()=>{const r=Rt({wallpaperUrl:"https://i.imgur.com/HDcIZPC.jpg",wallpaperSelection:["https://i.imgur.com/HDcIZPC.jpg","https://i.imgur.com/8yn4TO9.jpg","https://i.imgur.com/vCJcTtY.jpg","https://i.imgur.com/DlVPevy.jpg","https://i.imgur.com/zwbJWzN.jpg","https://i.imgur.com/Mw6VoCx.jpg","https://i.imgur.com/yqRhpS4.png"],programs:[{id:"terminal",name:"Terminal",program:"terminal",installed:!0},{id:"firefox",name:"Firefox",program:"firefox",installed:!1}]});function s(w){r.value=w}function c(){return r.value.programs.filter(w=>w.installed===!0)}function l(w){return r.value.programs.filter(E=>E.id===w).length>0}function f(w){return r.value.programs.filter(E=>E.id===w&&E.installed===!0).length>0}function h(w){for(let m=0;m<r.value.programs.length;m++){const E=r.value.programs[m];w===E.id&&(r.value.programs[m].installed=!0)}}return{settings:r,setSettings:s,getInstalledPrograms:c,isInstallable:l,alreadyInstalled:f,installProgram:h}}),wr=class{constructor(){Ge(this,"_outputcallback");Ge(this,"_settingsStore");this._settingsStore=ui()}setOutputCallback(s){this._outputcallback=s}handleCommand(s,c){let l=s.split(" ");l[1];let f=l[2];if(c!=="sudo"){this.noSudo();return}if(f==="update")(async()=>{for(let h=0;h<wr.APT_UPDATE.length;h++){const w=wr.APT_UPDATE[h];this._outputcallback(w),await new Promise(m=>setTimeout(m,eu.random(50,100)))}})();else if(f==="install"){let h=l[3];if(h==null||h==""){this._outputcallback(`apt install requires a 3rd parameter
example: apt install firefox`);return}if(!this._settingsStore.isInstallable(h)){this._outputcallback(`Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
E: Unable to locate package ${h}`);return}if(this._settingsStore.alreadyInstalled(h)){this._outputcallback(`Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
${h} is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.`);return}(async()=>{for(let w=0;w<wr.APT_INSTALL.length;w++){let m=wr.APT_INSTALL[w];m=m.replace(/{{program}}/gi,h),this._outputcallback(m),await new Promise(E=>setTimeout(E,eu.random(10,50)))}this._settingsStore.installProgram(h)})()}}noSudo(){this._outputcallback(`Reading package lists... Done
E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)
E: Unable to lock directory /var/lib/apt/lists/`)}};let Vr=wr;Ge(Vr,"APT_UPDATE",["Get:1 http://archive-4.kali.org/kali kali-rolling InRelease [30.6 kB]","Get:2 http://archive-4.kali.org/kali kali-rolling/non-free amd64 Packages [222 kB]","Get:3 http://archive-4.kali.org/kali kali-rolling/main amd64 Packages [19.5 MB]","Get:4 http://archive-4.kali.org/kali kali-rolling/contrib amd64 Packages [116 kB]","Fetched 19.8 MB in 2s (8031 kB/s)","Reading package lists... Done","Building dependency tree... Done","Reading state information... Done","2 packages can be upgraded. Run 'apt list --upgradable' to see them."]),Ge(Vr,"APT_INSTALL",["Get:1 http://archive-4.kali.org/kali kali-rolling/main amd64 libncursesw6 amd64 6.4-2 [134 kB]","Get:2 http://archive-4.kali.org/kali kali-rolling/main amd64 {{program}} amd64 [689 kB]","Get:3 http://http.kali.org/kali kali-rolling/main amd64 libgpm2 amd64 1.20.7-10+b1 [14.2 kB]","Fetched 837 kB in 1s (1304 kB/s)","Selecting previously unselected package libncursesw6:amd64.","(Reading database ... 6125 files and directories currently installed.)","Preparing to unpack .../libncursesw6_6.4-2_amd64.deb ...","Unpacking libncursesw6:amd64 (6.4-2) ...","Selecting previously unselected package {{program}}.","Preparing to unpack .../archives/{{program}}_amd64.deb ...","Unpacking {{program}} ...","Selecting previously unselected package libgpm2:amd64.","Preparing to unpack .../libgpm2_1.20.7-10+b1_amd64.deb ...","Unpacking libgpm2:amd64 (1.20.7-10+b1) ...","Setting up libgpm2:amd64 (1.20.7-10+b1) ...","Setting up libncursesw6:amd64 (6.4-2) ...","Setting up {{program}} ...","update-alternatives: using /bin/{{program}} to provide /usr/bin/editor (editor) in auto mode","update-alternatives: using /bin/{{program}} to provide /usr/bin/pico (pico) in auto mode","Processing triggers for libc-bin (2.36-8) ..."]);const Zi=class{constructor(){Ge(this,"_fs");Ge(this,"_apt");Ge(this,"_history");Ge(this,"_outputcallback");this._history=[],this._fs=new oc,this._apt=new Vr,this._outputcallback=null}setFs(s){this._fs.setFs(s)}setOutputCallback(s){this._outputcallback=s,this._apt.setOutputCallback(s)}execute(s){return this.handleCommand(s)}_updateHistory(s){this._history.includes(s)||this._history.push(s),this._history.length>20&&this._history.shift()}getLastCommand(){return this._history[this._history.length-1]}async handleCommand(s){let c=s.split(" ");c=c.map(f=>f.trim()),s=c.join(" ");let l=c[0];if(l==null||l==""){this._outputcallback(" ");return}if(this._updateHistory(s),console.log("command: ",s),l==="ls"){let h=new RegExp(Zi.REGEX.ls).exec(s.trim());if(h!=null){let w=this.list(h[3]);this._outputcallback(w);return}}else if(l==="cd"){let h=s.trim().split(" ")[1],w=this.cd(h);w!=null&&this._outputcallback(w);return}else if(l==="whereami"){this._outputcallback(this._fs.getCurrentDirectory());return}else if(l==="mkdir"){let h=new RegExp(Zi.REGEX.mkdir).exec(s.trim());if(h!=null){let w=h[3],m=h[2],E=this.mkdir(w,m);E!=null&&this._outputcallback(E);return}}else if(l==="rm"){let f=s.trim().split(" "),h;if(f.length==2?h=f[1]:h=f[2],h==null||h==""){this._outputcallback("rm: missing operand");return}let w=this.rm(h);w!=null&&this._outputcallback(w);return}else if(l==="cat"){let h=s.trim().split(" ")[1];if(h==null){this._outputcallback("command incorrect, path argument required.");return}let w=this.read(h);this._outputcallback(w);return}else if(c.includes("apt")){this._apt.handleCommand(s,l);return}this._outputcallback(`command not found: ${l}`)}whereami(){return this._fs.getCurrentDirectory()}list(s){if(s=this._fs.emptyPath(s),s!=null&&!this._fs.isDir(s))return"directory does not exist: "+s;let c=this._fs.list(s),l="";return c.length>0&&(l=c.join("<br>")),l}cd(s){if(s==null&&(s="/"),!this._fs.isDir(s))return"directory does not exist: "+this._fs.joinPath(this._fs.getCurrentDirectory(),s);try{this._fs.cd(s)}catch(c){return c.toString()}}mkdir(s,c){if(s=s.trim(),!(s=="/"||s=="")){if(this._fs.isDir(s))return"mkdir: cannot create directory ‘"+s+"’: File exists";this._fs.mkdir(s,c)}}rm(s){if(s=s.trim(),!(s=="/"||s==""))try{this._fs.rm(s);return}catch(c){return c.toString()}}cat(s){return this.exists(s)&&!this._fs.isDir(s)?this.read(s):"file not found: "+s}writeFile(s,c){this._fs.writeFile(s,c)}exists(s){return this._fs.exists(s)}read(s){return this._fs.read(s)}explorer(){let s=[],c=this._fs.getCurrentDirectory(),l=this._fs.list(c);for(let f=0;f<l.length;f++){const h=l[f];let w={filename:h,path:c,fullPath:this._fs.joinPath(c,h),type:"dir"};this.exists(w.fullPath)&&(this._fs.isDir(w.fullPath)||(w.type="file"),s.push(w))}return s}};let qr=Zi;Ge(qr,"REGEX",{ls:/^(\w+)\s*(-\w+)*\s*(\/?(\w+(\/\w+)*\/?)|\/|(\w+(\.\w+)?)?)?$/gi,mkdir:/^(mkdir)\s+(-p\s+)?([\.\/a-z1-9]+)/gi});const sc=r=>(oi("data-v-775b5de5"),r=r(),si(),r),hp=sc(()=>J("div",{class:"logo"},[J("img",{src:"https://i.imgur.com/3hn6fsJ.png",class:"window-logo"})],-1)),dp=sc(()=>J("div",{class:"window-action window-action-minimize"},null,-1)),pp={key:0,class:"content"},yp=["innerHTML"],vp={class:"prompt-zone"},gp={class:"prompt-user"},mp=["onKeydown"],_p={key:1,class:"content"},wp={class:"prompt-zone"},Sp=["onKeydown"],Ep={key:0,class:"nano-message"},xp=on({__name:"TerminalWindow",props:["id","focus"],setup(r){const s=r,c=new qr,l=Rt(s.focus),f=Rt("bash"),h=Rt(),w=Rt({x:0,y:0,movementX:0,movementY:0}),m=Rt("root@kali"),E=Rt("/"),x=Rt(""),_=Rt(""),d=Rt(),b=Rt(),p=Rt(""),C=Rt(""),R=Rt(""),D=co(),M=Ze(),j=M==null?void 0:M.appContext.config.globalProperties.$emitter;mn(()=>{D.state.user!=null&&(m.value=D.state.user.name+"@kali$",V(),j.emit("window/focus",s.id)),c.setFs(M==null?void 0:M.appContext.config.globalProperties.$fs),c.setOutputCallback(X),E.value=c.whereami()});function q(ft){ft===s.id?l.value=!0:l.value=!1}function V(){j.on("window/focus",q)}function z(){j.emit("desktop/closeWindow",s.id)}function rt(ft){ft.preventDefault();let _t=c.getLastCommand();_t!=null&&(_.value=_t)}function X(ft,_t=!1){_t&&(x.value=""),x.value+=ft,x.value+=`
`}async function ct(ft){if(ft.preventDefault(),_.value=_.value.trim(),_.value==="exit"){z();return}if(["clear","cls"].includes(_.value)){x.value="",_.value="";return}if(x.value+=`<span style="color: rgb(78, 122, 255);">${m.value}:${E.value}</span> ${_.value}`,_.value!=""&&(x.value+="<br>"),_.value.includes("nano ")){St();return}await c.execute(_.value),_.value="",E.value=c.whereami(),setTimeout(()=>{let _t=document.querySelector(".content");_t.scrollTop=_t.scrollHeight-_t.clientHeight},15)}function St(){let _t=_.value.split(" ")[1].trim();C.value=_t;try{c.exists(_t)||c.writeFile(_t,""),c.exists(_t)&&(p.value=c.read(_t))}catch(K){x.value+=K.toString()+" <br>";return}_.value="",E.value=c.whereami(),f.value="nano",setTimeout(Ot,200)}function Z(){d.value!=null&&d.value.focus(),l.value||j.emit("window/focus",s.id)}function at(ft){ft.preventDefault(),w.value.movementX=w.value.x-ft.clientX,w.value.movementY=w.value.y-ft.clientY,w.value.x=ft.clientX,w.value.y=ft.clientY,h.value.style.top=h.value.offsetTop-w.value.movementY+"px",h.value.style.left=h.value.offsetLeft-w.value.movementX+"px"}function mt(){document.onmouseup=null,document.onmousemove=null}function Ut(ft){w.value.x=ft.clientX,w.value.y=ft.clientY,document.onmousemove=at,document.onmouseup=mt}function Ft(ft){ft.preventDefault(),c.writeFile(C.value,p.value)}function Dt(){C.value="",p.value="",f.value="bash",Z()}function Ot(){var K;let ft=document.querySelector(".prompt.nano"),_t=(K=document.querySelector(".content"))==null?void 0:K.clientHeight;_t&&(ft.style.height=_t+"px")}return(ft,_t)=>(Ht(),qt("div",{ref_key:"containerElem",ref:h,class:vn(["window terminal-window resizable",{"window-focused":l.value}]),onClick:Z},[J("div",{class:"window-header",onMousedown:Ut},[hp,J("div",{class:"header-action-buttons"},[dp,J("div",{class:"window-action window-action-close",onClick:z})])],32),f.value=="bash"?(Ht(),qt("div",pp,[J("div",{class:"output",innerHTML:x.value},null,8,yp),J("div",vp,[J("div",gp,yn(m.value)+":"+yn(E.value),1),Ie(J("textarea",{ref_key:"promptField",ref:d,"onUpdate:modelValue":_t[0]||(_t[0]=K=>_.value=K),onKeydown:[tr(ct,["enter"]),tr(rt,["up"])],class:"prompt",rows:"3"},null,40,mp),[[Ue,_.value]])])])):Be("",!0),f.value=="nano"?(Ht(),qt("div",_p,[J("div",wp,[Ie(J("textarea",{onKeydown:[tr(Qa(Ft,["ctrl"]),["s"]),tr(Qa(Dt,["ctrl"]),["x"])],ref_key:"nanoField",ref:b,"onUpdate:modelValue":_t[1]||(_t[1]=K=>p.value=K),class:"prompt nano",onInput:Ot,rows:"3"},null,40,Sp),[[Ue,p.value]])]),R.value!=""?(Ht(),qt("div",Ep,yn(R.value),1)):Be("",!0)])):Be("",!0)],2))}});const bp=sr(xp,[["__scopeId","data-v-775b5de5"]]),ls=r=>(oi("data-v-e69e8ffa"),r=r(),si(),r),Fp=ls(()=>J("div",{class:"logo"},[J("img",{src:"https://i.imgur.com/T8dFIIZ.png",class:"window-logo"}),J("div",{class:"title"},"Explorer")],-1)),Ip=ls(()=>J("div",{class:"window-action window-action-minimize"},null,-1)),kp={class:"content"},Op={class:"explorer-toolbar"},Tp=ls(()=>J("div",{class:"next"},">",-1)),Rp={class:"path"},Np={class:"explorer-content"},Dp={class:"directory-content"},Lp=["data-type","data-dir-path"],Cp=["data-type","data-dir-path"],Ap=["data-type","data-dir-path"],Pp=["data-type","data-dir-path"],Mp=on({__name:"ExplorerWindow",props:["id","focus"],setup(r){const s=r,c=new qr,l=Rt(s.focus),f=Rt(),h=Rt({x:0,y:0,movementX:0,movementY:0}),w=Ze(),m=w==null?void 0:w.appContext.config.globalProperties.$emitter,E=Rt(""),x=Rt();function _(rt){rt===s.id?l.value=!0:l.value=!1}function d(){m.emit("window/focus",s.id)}function b(){m.on("window/focus",_)}mn(()=>{c.setFs(w==null?void 0:w.appContext.config.globalProperties.$fs),E.value=c.whereami(),x.value=c.explorer(),b()});const p=Rt([c.whereami()]),C=Rt(p.value.length-1);function R(rt){c.cd(rt),E.value=c.whereami(),x.value=c.explorer(),p.value.includes(rt)||(p.value.push(rt),C.value=p.value.length-1)}function D(){let rt=p.value.length-2;if(rt>=0&&p.value[rt]!=null){let X=p.value[rt];R(X)}}function M(rt){let X=rt.target;if(X!=null){let ct=X.getAttribute("data-type"),St=X.getAttribute("data-dir-path");if(ct!=="dir")return;R(St)}}function j(rt){rt.preventDefault(),h.value.movementX=h.value.x-rt.clientX,h.value.movementY=h.value.y-rt.clientY,h.value.x=rt.clientX,h.value.y=rt.clientY,f.value.style.top=f.value.offsetTop-h.value.movementY+"px",f.value.style.left=f.value.offsetLeft-h.value.movementX+"px"}function q(){document.onmouseup=null,document.onmousemove=null}function V(rt){h.value.x=rt.clientX,h.value.y=rt.clientY,document.onmousemove=j,document.onmouseup=q}function z(){m.emit("desktop/closeWindow",s.id)}return(rt,X)=>(Ht(),qt("div",{ref_key:"containerElem",ref:f,onClick:d,class:vn(["window explorer-window resizable",{"window-focused":l.value}])},[J("div",{class:"window-header",onMousedown:V},[Fp,J("div",{class:"header-action-buttons"},[Ip,J("div",{class:"window-action window-action-close",onClick:z})])],32),J("div",kp,[J("div",Op,[J("div",{onClick:D,class:"prev"},yn("<")),Tp,J("div",Rp,[Ie(J("input",{onKeyup:X[0]||(X[0]=tr(ct=>R(E.value),["enter"])),"onUpdate:modelValue":X[1]||(X[1]=ct=>E.value=ct),type:"text",placeholder:"/home/user/"},null,544),[[Ue,E.value]])])]),J("div",Np,[J("div",Dp,[(Ht(!0),qt(Fe,null,rr(x.value,ct=>(Ht(),qt("div",{class:"item",onClick:M,"data-type":ct.type,"data-dir-path":ct.fullPath},[ct.type=="dir"?(Ht(),qt("img",{key:0,"data-type":ct.type,"data-dir-path":ct.fullPath,src:"https://i.imgur.com/T8dFIIZ.png"},null,8,Cp)):Be("",!0),ct.type=="file"?(Ht(),qt("img",{key:1,"data-type":ct.type,"data-dir-path":ct.fullPath,src:"https://i.imgur.com/bDpDN9T.png"},null,8,Ap)):Be("",!0),J("div",{"data-type":ct.type,"data-dir-path":ct.fullPath,class:"label"},yn(ct.filename),9,Pp)],8,Lp))),256))])])])],2))}});const Up=sr(Mp,[["__scopeId","data-v-e69e8ffa"]]),ci=r=>(oi("data-v-99207b83"),r=r(),si(),r),Bp=ci(()=>J("div",{class:"logo"},[J("img",{src:"https://i.imgur.com/66vqfGw.png",class:"window-logo"}),J("div",{class:"title"},"Paramètres")],-1)),jp=ci(()=>J("div",{class:"window-action window-action-minimize"},null,-1)),zp={class:"content"},Wp={class:"content-container"},Hp=ci(()=>J("div",{class:"sidebar"},[J("div",{class:"sidebar-item"},[J("img",{src:"https://i.imgur.com/zBP5xIL.png",class:"logo"}),J("div",{class:"label"},"Fond d'écran")])],-1)),Vp={class:"main-content"},Xp={key:0,class:"background-settings"},Yp={class:"preview-zone"},Zp=["src"],Kp=ci(()=>J("br",null,null,-1)),qp=ci(()=>J("div",{class:"w-100"},[J("div",{class:"h-dividor"})],-1)),Jp={class:"background-images"},Gp=["onClick"],Qp=["src"],$p={class:"custom-background"},ty=on({__name:"SettingsWindow",props:["id","focus"],setup(r){const s=r,c=Rt(s.focus),l=ui(),f=Rt("background"),h=Rt(""),w=Rt(),m=Rt({x:0,y:0,movementX:0,movementY:0}),E=Ze(),x=E==null?void 0:E.appContext.config.globalProperties.$emitter;function _(q){q===s.id?c.value=!0:c.value=!1}function d(){x.emit("window/focus",s.id)}function b(){x.on("window/focus",_)}mn(()=>{b()});function p(q){l.settings.wallpaperUrl=q}function C(){try{new URL(h.value),l.settings.wallpaperUrl=h.value}catch{}}function R(q){q.preventDefault(),m.value.movementX=m.value.x-q.clientX,m.value.movementY=m.value.y-q.clientY,m.value.x=q.clientX,m.value.y=q.clientY,w.value.style.top=w.value.offsetTop-m.value.movementY+"px",w.value.style.left=w.value.offsetLeft-m.value.movementX+"px"}function D(){document.onmouseup=null,document.onmousemove=null}function M(q){m.value.x=q.clientX,m.value.y=q.clientY,document.onmousemove=R,document.onmouseup=D}function j(){x.emit("desktop/closeWindow",s.id)}return(q,V)=>(Ht(),qt("div",{ref_key:"containerElem",ref:w,onClick:d,class:vn(["window explorer-window resizable",{"window-focused":c.value}])},[J("div",{class:"window-header",onMousedown:M},[Bp,J("div",{class:"header-action-buttons"},[jp,J("div",{class:"window-action window-action-close",onClick:j})])],32),J("div",zp,[J("div",Wp,[Hp,J("div",Vp,[f.value=="background"?(Ht(),qt("div",Xp,[J("div",Yp,[J("img",{draggable:"false",src:tn(l).settings.wallpaperUrl,alt:"",class:"preview-img"},null,8,Zp)]),Kp,qp,J("div",Jp,[(Ht(!0),qt(Fe,null,rr(tn(l).settings.wallpaperSelection,z=>(Ht(),qt("div",{onClick:rt=>p(z),class:"img-item"},[J("img",{src:z,draggable:"false"},null,8,Qp)],8,Gp))),256))]),J("div",$p,[Ie(J("input",{"onUpdate:modelValue":V[0]||(V[0]=z=>h.value=z),type:"text",placeholder:"URL..."},null,512),[[Ue,h.value]]),J("button",{onClick:C},"Télécharger")])])):Be("",!0)])])])],2))}});const ey=sr(ty,[["__scopeId","data-v-99207b83"]]),ny=cs("darknet",()=>{const r=Rt({auth:!1,user:null,posts:[]});async function s(h={}){const w={method:"POST",body:JSON.stringify(h)},m=await fetch("http://localhost:3000/GetDarknetPosts",w);m.ok&&(r.value.posts=await m.json())}async function c(h){const w={method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}},m=await fetch("http://localhost:3000/CreateDarknetPost",w);console.log("create post response: ",m)}async function l(h){const w={method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}},m=await fetch("http://localhost:3000/RegisterDarknetUser",w);console.log("create user: ",m)}async function f(h,w){const m={method:"POST",body:JSON.stringify({username:h,password:w}),headers:{"Content-Type":"application/json"}},E=await fetch("http://localhost:3000/AuthenticateUser",m);console.log("auth response: ",E)}return{darknet:r,GetPosts:s,CreatePost:c,RegisterUser:l,authenticateUser:f}}),ar=r=>(oi("data-v-41efade3"),r=r(),si(),r),ry={class:"website"},iy={class:"navbar"},oy={class:"container flex justify-content-space-between"},sy=ar(()=>J("div",{class:"brand-logo"},[J("img",{src:"https://i.imgur.com/ycfxccx.png"})],-1)),ay=ar(()=>J("div",{class:"brand"},[Gu("Shadow"),J("span",{class:"highlight"},"NET")],-1)),uy=[sy,ay],cy={key:0,class:"nav-menu"},ly={key:0,class:"nav-item"},fy={key:1,class:"nav-item"},hy={key:0,class:"maincontent"},dy={class:"filters"},py={class:"flex"},yy={class:"category-filter-wrapper"},vy=ar(()=>J("option",{value:""},"Catégorie de posts",-1)),gy=["value"],my={class:"search-filter-wrapper"},_y=["onKeydown"],wy={class:"create-post-wrapper"},Sy=Gh('<div class="posts" data-v-41efade3><div class="post-wrapper" data-v-41efade3><div class="post" data-v-41efade3><div class="post-title" data-v-41efade3>Lorem Ipsum dolor</div><div class="post-metadata" data-v-41efade3><span class="user-handle" data-v-41efade3>0xIbra</span><span class="category" data-v-41efade3>Hacking</span></div><div class="post-description-part" data-v-41efade3> Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit earum consequatur, illo ipsum voluptate quidem, vero, quaerat temporibus ab magnam ipsam? Error maiores eaque ut aliquam et deleniti consequatur consequuntur? Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit earum consequatur, illo ipsum voluptate quidem, vero, quaerat temporibus ab magnam ipsam? Error maiores eaque ut aliquam et deleniti consequatur consequuntur? Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit earum consequatur, illo ipsum voluptate quidem, vero, quaerat temporibus ab magnam ipsam? Error maiores eaque ut aliquam et deleniti consequatur consequuntur? </div></div></div></div>',1),Ey={key:1,class:"createform"},xy={class:"form-content"},by=ar(()=>J("div",{class:"breadcrumb-wrapper"},null,-1)),Fy={class:"form-wrapper"},Iy={class:"title-wrapper"},ky={class:"metadata-wrapper"},Oy={class:"category"},Ty=ar(()=>J("option",{value:""},"Catégorie",-1)),Ry=["value"],Ny={class:"user-handle"},Dy={class:"description-wrapper"},Ly={key:2,class:"loginpage"},Cy={class:"container"},Ay={class:"loginform form"},Py=ar(()=>J("div",{class:"header"},"Connexion",-1)),My={class:"form-field usernamefield"},Uy={class:"form-field passwordfield"},By={key:3,class:"registerpage"},jy={class:"container"},zy={class:"loginform form"},Wy=ar(()=>J("div",{class:"header"},"Inscription",-1)),Hy={class:"form-field usernamefield"},Vy={class:"form-field passwordfield"},Xy={class:"form-field passwordfield"},Yy=on({__name:"DarknetWebsite",setup(r){const s=ny(),c=Rt("homepage"),l=Rt({hacking:"Hacking",drugs:"Drogues",guns:"Armes"}),f=Rt(""),h=Rt(""),w=Rt(""),m=Rt(""),E=Rt(""),x=Rt(""),_=Rt(""),d=Rt(""),b=Rt(""),p=Rt(""),C=Rt("");function R(){let z=[];return w.value=w.value.trim(),w.value.length<5&&z.push({field:"title",error:"Le titre doit avoir 5 caracteres minimum."}),E.value=E.value.trim(),E.value.length<3&&z.push({field:"userHandle",error:"l'alias doit avoir 3 caracteres minimum."}),x.value=x.value.trim(),x.value.length<10&&z.push({field:"description",error:"la description doit faire au moins 10 caracteres."}),z}async function D(){if(R().length>0)return;const rt={title:w.value,category:m.value,userHandle:E.value,description:x.value};await s.CreatePost(rt),await s.GetPosts()}async function M(){await s.authenticateUser(_.value,d.value)}async function j(){let z=[];if(b.value.length<3&&z.push({field:"userHandle",error:"l'alias doit avoir 3 caracteres minimum."}),p.value!==C.value&&z.push({field:"password",error:"Le 2eme mot de passe n'est pas identique au 1er."}),z.length>0)return;const rt={userHandle:b.value,password:p.value};await s.RegisterUser(rt)}async function q(){let z=null,rt=null;f.value!=""&&(z=f.value),h.value!=""&&(rt=h.value),await s.GetPosts({category:z,search:rt})}function V(z){c.value=z,z=="create"&&!s.darknet.auth&&(c.value="login")}return mn(()=>{s.GetPosts()}),(z,rt)=>(Ht(),qt("div",ry,[J("div",iy,[J("div",oy,[J("div",{class:"brand-container",onClick:rt[0]||(rt[0]=X=>V("homepage"))},uy),tn(s)!=null?(Ht(),qt("div",cy,[tn(s).darknet.auth?Be("",!0):(Ht(),qt("div",ly,[J("button",{onClick:rt[1]||(rt[1]=X=>V("login"))},"Connexion")])),tn(s).darknet.auth?Be("",!0):(Ht(),qt("div",fy,[J("button",{onClick:rt[2]||(rt[2]=X=>V("register"))},"Inscription")]))])):Be("",!0)])]),c.value=="homepage"?(Ht(),qt("div",hy,[J("div",dy,[J("div",py,[J("div",yy,[Ie(J("select",{onChange:q,"onUpdate:modelValue":rt[3]||(rt[3]=X=>f.value=X),class:"category-filter"},[vy,(Ht(!0),qt(Fe,null,rr(l.value,(X,ct,St)=>(Ht(),qt("option",{value:ct},yn(X),9,gy))),256))],544),[[Ja,f.value]])]),J("div",my,[Ie(J("input",{onKeydown:tr(q,["enter"]),"onUpdate:modelValue":rt[4]||(rt[4]=X=>h.value=X),type:"text",class:"search-filter",placeholder:"Recherche..."},null,40,_y),[[Ue,h.value]])]),J("div",{class:"submit-btn-wrapper"},[J("button",{onClick:q,class:"submit"},"Rechercher")])]),J("div",wy,[J("button",{onClick:rt[5]||(rt[5]=X=>V("create")),class:"create-post"},"Créer Post")])]),Sy])):Be("",!0),c.value=="create"?(Ht(),qt("div",Ey,[J("div",xy,[by,J("div",Fy,[J("div",Iy,[Ie(J("input",{"onUpdate:modelValue":rt[6]||(rt[6]=X=>w.value=X),type:"text",placeholder:"Titre..."},null,512),[[Ue,w.value]])]),J("div",ky,[J("div",Oy,[Ie(J("select",{"onUpdate:modelValue":rt[7]||(rt[7]=X=>m.value=X),class:"category-filter"},[Ty,(Ht(!0),qt(Fe,null,rr(l.value,(X,ct,St)=>(Ht(),qt("option",{value:ct},yn(X),9,Ry))),256))],512),[[Ja,m.value]])]),J("div",Ny,[Ie(J("input",{"onUpdate:modelValue":rt[8]||(rt[8]=X=>E.value=X),type:"text",placeholder:"Alias"},null,512),[[Ue,E.value]])])]),J("div",Dy,[Ie(J("textarea",{"onUpdate:modelValue":rt[9]||(rt[9]=X=>x.value=X),rows:"10",class:"description",placeholder:"Contenu de votre post..."},null,512),[[Ue,x.value]])]),J("div",{class:"submit-form-wrapper"},[J("button",{onClick:D},"Valider")])])])])):Be("",!0),c.value=="login"?(Ht(),qt("div",Ly,[J("div",Cy,[J("div",Ay,[Py,J("div",My,[Ie(J("input",{"onUpdate:modelValue":rt[10]||(rt[10]=X=>_.value=X),type:"text",placeholder:"Alias"},null,512),[[Ue,_.value]])]),J("div",Uy,[Ie(J("input",{"onUpdate:modelValue":rt[11]||(rt[11]=X=>d.value=X),type:"password",placeholder:"Mot de passe..."},null,512),[[Ue,d.value]])]),J("div",{class:"form-submit"},[J("button",{onClick:M},"Connexion")])])])])):Be("",!0),c.value=="register"?(Ht(),qt("div",By,[J("div",jy,[J("div",zy,[Wy,J("div",Hy,[Ie(J("input",{"onUpdate:modelValue":rt[12]||(rt[12]=X=>b.value=X),type:"text",placeholder:"Alias"},null,512),[[Ue,b.value]])]),J("div",Vy,[Ie(J("input",{"onUpdate:modelValue":rt[13]||(rt[13]=X=>p.value=X),type:"password",placeholder:"Mot de passe"},null,512),[[Ue,p.value]])]),J("div",Xy,[Ie(J("input",{"onUpdate:modelValue":rt[14]||(rt[14]=X=>C.value=X),type:"password",placeholder:"Confirmation mot de passe"},null,512),[[Ue,C.value]])]),J("div",{class:"form-submit"},[J("button",{onClick:j},"Inscription")])])])])):Be("",!0)]))}});const Zy=sr(Yy,[["__scopeId","data-v-41efade3"]]),Ky=on({__name:"WebsiteProvider",props:["website"],setup(r){const c=Rt(r.website),l=Ze(),f=l==null?void 0:l.appContext.config.globalProperties.$emitter,h=[{name:"ShadowNET",url:"tor://shadownet.onion",component:Zy,matches:["shadownet.onion"]}],w=Rt();function m(_){for(let d=0;d<h.length;d++){const b=h[d];if(b.matches.includes(_))return b}return null}function E(){if(c==null)return null;let _=m(c.value);return _!=null?(w.value=_,_.component):null}function x(_){console.log("url received: ",_),c.value=_,E()}return mn(()=>{f.on("firefox/navigate",x)}),(_,d)=>w.value!=null?(Ht(),ai(os(E()),{key:0})):Be("",!0)}}),qy=J("div",{class:"logo"},null,-1),Jy=J("div",{class:"window-action window-action-minimize"},null,-1),Gy={class:"content"},Qy={class:"content-header"},$y=J("div",{class:"actions"},[J("div",{class:"prev"},yn("<")),J("div",{class:"next"},">")],-1),tv={class:"urlbar"},ev=["onKeydown"],nv={class:"web-content"},rv=on({__name:"FirefoxWindow",props:["id","focus"],setup(r){const s=r,c=Rt(s.focus),l=Ze(),f=l==null?void 0:l.appContext.config.globalProperties.$emitter,h=Rt("");Rt([]);function w(){f.emit("firefox/navigate",h.value),console.log("emit url: ",h.value)}const m=Rt(),E=Rt({x:0,y:0,movementX:0,movementY:0});function x(){f.emit("window/focus",s.id)}function _(D){D.preventDefault(),E.value.movementX=E.value.x-D.clientX,E.value.movementY=E.value.y-D.clientY,E.value.x=D.clientX,E.value.y=D.clientY,m.value.style.top=m.value.offsetTop-E.value.movementY+"px",m.value.style.left=m.value.offsetLeft-E.value.movementX+"px"}function d(){document.onmouseup=null,document.onmousemove=null}function b(D){E.value.x=D.clientX,E.value.y=D.clientY,document.onmousemove=_,document.onmouseup=d}function p(D){D===s.id?c.value=!0:c.value=!1}function C(){f.on("window/focus",p)}mn(()=>{C()});function R(){f.emit("desktop/closeWindow",s.id)}return(D,M)=>(Ht(),qt("div",{ref_key:"containerElem",ref:m,onClick:x,class:vn(["window explorer-window resizable",{"window-focused":c.value}])},[J("div",{class:"window-header",onMousedown:b},[qy,J("div",{class:"header-action-buttons"},[Jy,J("div",{class:"window-action window-action-close",onClick:R})])],32),J("div",Gy,[J("div",Qy,[$y,J("div",tv,[Ie(J("input",{"onUpdate:modelValue":M[0]||(M[0]=j=>h.value=j),onKeydown:tr(w,["enter"]),type:"text",placeholder:"Enter URL..."},null,40,ev),[[Ue,h.value]])])]),J("div",nv,[Ye(Ky)])])],2))}});const iv=on({__name:"DesktopWindows",setup(r){ui(),co();const s=Rr({});Rt();const c=Ze(),l=c==null?void 0:c.appContext.config.globalProperties.$emitter,f=function(){return Date.now().toString(36)+Math.random().toString(36).substr(2)};function h(_){return _=="terminal"?bp:_=="explorer"?Up:_=="settings"?ey:_=="firefox"?rv:null}function w(_){var p;let d={type:_,component:()=>h(_),id:"window-"+f(),render:!0};s[d.id]=d,l.emit("toolbar/openwindow",{id:d.id,type:d.type});let b=Ze();(p=b==null?void 0:b.proxy)==null||p.$forceUpdate()}function m(_){var b;delete s[_],l.emit("toolbar/closewindow",_);let d=Ze();(b=d==null?void 0:d.proxy)==null||b.$forceUpdate()}function E(){var _;(_=c==null?void 0:c.proxy)==null||_.$forceUpdate()}function x(){l.on("desktop/openwindow",w),l.on("desktop/closeWindow",m),l.on("desktop/refresh",E)}return mn(()=>{x()}),(_,d)=>(Ht(!0),qt(Fe,null,rr(s,(b,p)=>(Ht(),ai(os(b.component()),{key:p,id:b.id,focus:!0},null,8,["id"]))),128))}});const ov={class:"logo-container"},sv=["src"],av={class:"program-name"},uv=on({__name:"ProgramIcon",props:["id","program","name","focus"],setup(r){const s=r,l={firefox:"https://i.imgur.com/CwYZABb.png",terminal:"https://i.imgur.com/zyNd2Cc.png",explorer:"https://i.imgur.com/T8dFIIZ.png"}[s.program],f=Ze(),h=f==null?void 0:f.appContext.config.globalProperties.$emitter;function w(){h.emit("desktop/openwindow",s.program)}return(m,E)=>(Ht(),qt("div",{class:"desktop-program-icon",onDblclick:w},[J("div",ov,[J("img",{src:tn(l)},null,8,sv)]),J("div",av,yn(s.name),1)],32))}});function cv(r){const s=co();switch(ui(),r.data.action){case"turnon":s.state.open=!0,s.state.user=r.data.user;break;case"turnoff":s.state.open=!1;break}}function nu(r){if(!(r==null||r.data==null||r.data.action==null))switch(r.data.action){case"turnon":case"turnoff":cv(r);break;default:throw new Error(`Unsupported action: ${r.data.action}`)}}const lv={id:"programs"},fv=on({__name:"Desktop",setup(r){const s=Ze();s==null||s.appContext.config.globalProperties.$fs;const c=ui(),l=co();mn(()=>{window.addEventListener("message",nu),document.addEventListener("keydown",function(h){h.keyCode===27&&f()})}),Mu(()=>{window.removeEventListener("message",nu)});function f(){l.state.open&&fetch("https://qb-laptop/TurnOffLaptop",{method:"POST"}).then(h=>{l.state.open=!1})}return(h,w)=>(Ht(),qt("div",{id:"laptop-desktop",class:vn({open:tn(l).state.open}),style:Ki(tn(l).state.open?{background:`url(${tn(c).settings.wallpaperUrl}) center no-repeat`}:{})},[Ye(fp),Ye(iv),J("div",lv,[(Ht(!0),qt(Fe,null,rr(tn(c).getInstalledPrograms(),m=>(Ht(),ai(os(uv),{key:m.id,id:m.id,name:m.name,program:m.id,focus:!0},null,8,["id","name","program"]))),128))])],6))}});const hv=sr(fv,[["__scopeId","data-v-bf1b93aa"]]),dv=on({__name:"App",setup(r){return(s,c)=>(Ht(),ai(hv))}});const pv=sr(dv,[["__scopeId","data-v-a7df78f6"]]);ri.install(window);ri.configure({fs:"LocalStorage",options:null},r=>{if(r)throw r});const ac=ri.BFSRequire("fs"),uc=new oc;uc.setFs(ac);uc.init();const yv=zd(),lo=Ld(pv);lo.use(Pd());lo.config.globalProperties.$emitter=yv;lo.config.globalProperties.$fs=ac;lo.mount("#app");
