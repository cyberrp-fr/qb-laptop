var el=Object.defineProperty;var nl=(i,s,u)=>s in i?el(i,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):i[s]=u;var hr=(i,s,u)=>(nl(i,typeof s!="symbol"?s+"":s,u),u);import rl from"/static/img/kali-vector.png";import Ga from"/static/img/kali-folder-vector.png";import Qa from"/static/img/kali-terminal-vector.png";import il from"/static/img/gear.png";import ol from"static/img/kali-terminal-vector.png";import $a from"static/img/kali-folder-vector.png";import sl from"static/img/file-vector.png";import al from"static/img/gear.png";import cl from"static/img/monitor.png";import ul from"static/img/shadownet.png";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))f(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const w of d.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&f(w)}).observe(document,{childList:!0,subtree:!0});function u(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerpolicy&&(d.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?d.credentials="include":l.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function f(l){if(l.ep)return;l.ep=!0;const d=u(l);fetch(l.href,d)}})();function Ho(i,s){const u=Object.create(null),f=i.split(",");for(let l=0;l<f.length;l++)u[f[l]]=!0;return s?l=>!!u[l.toLowerCase()]:l=>!!u[l]}function Hi(i){if(Ct(i)){const s={};for(let u=0;u<i.length;u++){const f=i[u],l=ge(f)?dl(f):Hi(f);if(l)for(const d in l)s[d]=l[d]}return s}else{if(ge(i))return i;if(re(i))return i}}const fl=/;(?![^(]*\))/g,ll=/:([^]+)/,hl=/\/\*.*?\*\//gs;function dl(i){const s={};return i.replace(hl,"").split(fl).forEach(u=>{if(u){const f=u.split(ll);f.length>1&&(s[f[0].trim()]=f[1].trim())}}),s}function un(i){let s="";if(ge(i))s=i;else if(Ct(i))for(let u=0;u<i.length;u++){const f=un(i[u]);f&&(s+=f+" ")}else if(re(i))for(const u in i)i[u]&&(s+=u+" ");return s.trim()}const pl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yl=Ho(pl);function tc(i){return!!i||i===""}function vl(i,s){if(i.length!==s.length)return!1;let u=!0;for(let f=0;u&&f<i.length;f++)u=Xi(i[f],s[f]);return u}function Xi(i,s){if(i===s)return!0;let u=ma(i),f=ma(s);if(u||f)return u&&f?i.getTime()===s.getTime():!1;if(u=Yr(i),f=Yr(s),u||f)return i===s;if(u=Ct(i),f=Ct(s),u||f)return u&&f?vl(i,s):!1;if(u=re(i),f=re(s),u||f){if(!u||!f)return!1;const l=Object.keys(i).length,d=Object.keys(s).length;if(l!==d)return!1;for(const w in i){const m=i.hasOwnProperty(w),x=s.hasOwnProperty(w);if(m&&!x||!m&&x||!Xi(i[w],s[w]))return!1}}return String(i)===String(s)}function gl(i,s){return i.findIndex(u=>Xi(u,s))}const wn=i=>ge(i)?i:i==null?"":Ct(i)||re(i)&&(i.toString===rc||!Bt(i.toString))?JSON.stringify(i,ec,2):String(i),ec=(i,s)=>s&&s.__v_isRef?ec(i,s.value):vr(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((u,[f,l])=>(u[`${f} =>`]=l,u),{})}:Yi(s)?{[`Set(${s.size})`]:[...s.values()]}:re(s)&&!Ct(s)&&!ic(s)?String(s):s,ne={},yr=[],Ge=()=>{},ml=()=>!1,_l=/^on[^a-z]/,Vi=i=>_l.test(i),Xo=i=>i.startsWith("onUpdate:"),Re=Object.assign,Vo=(i,s)=>{const u=i.indexOf(s);u>-1&&i.splice(u,1)},wl=Object.prototype.hasOwnProperty,Zt=(i,s)=>wl.call(i,s),Ct=Array.isArray,vr=i=>ei(i)==="[object Map]",Yi=i=>ei(i)==="[object Set]",ma=i=>ei(i)==="[object Date]",Bt=i=>typeof i=="function",ge=i=>typeof i=="string",Yr=i=>typeof i=="symbol",re=i=>i!==null&&typeof i=="object",nc=i=>re(i)&&Bt(i.then)&&Bt(i.catch),rc=Object.prototype.toString,ei=i=>rc.call(i),Sl=i=>ei(i).slice(8,-1),ic=i=>ei(i)==="[object Object]",Yo=i=>ge(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Oi=Ho(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zi=i=>{const s=Object.create(null);return u=>s[u]||(s[u]=i(u))},El=/-(\w)/g,fn=Zi(i=>i.replace(El,(s,u)=>u?u.toUpperCase():"")),xl=/\B([A-Z])/g,$n=Zi(i=>i.replace(xl,"-$1").toLowerCase()),Ki=Zi(i=>i.charAt(0).toUpperCase()+i.slice(1)),Io=Zi(i=>i?`on${Ki(i)}`:""),Zr=(i,s)=>!Object.is(i,s),Ri=(i,s)=>{for(let u=0;u<i.length;u++)i[u](s)},Ai=(i,s,u)=>{Object.defineProperty(i,s,{configurable:!0,enumerable:!1,value:u})},Ci=i=>{const s=parseFloat(i);return isNaN(s)?i:s};let _a;const bl=()=>_a||(_a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ze;class oc{constructor(s=!1){this.detached=s,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ze,!s&&ze&&(this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}get active(){return this._active}run(s){if(this._active){const u=ze;try{return ze=this,s()}finally{ze=u}}}on(){ze=this}off(){ze=this.parent}stop(s){if(this._active){let u,f;for(u=0,f=this.effects.length;u<f;u++)this.effects[u].stop();for(u=0,f=this.cleanups.length;u<f;u++)this.cleanups[u]();if(this.scopes)for(u=0,f=this.scopes.length;u<f;u++)this.scopes[u].stop(!0);if(!this.detached&&this.parent&&!s){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function sc(i){return new oc(i)}function Fl(i,s=ze){s&&s.active&&s.effects.push(i)}function ac(){return ze}function Il(i){ze&&ze.cleanups.push(i)}const Zo=i=>{const s=new Set(i);return s.w=0,s.n=0,s},cc=i=>(i.w&Nn)>0,uc=i=>(i.n&Nn)>0,kl=({deps:i})=>{if(i.length)for(let s=0;s<i.length;s++)i[s].w|=Nn},Ol=i=>{const{deps:s}=i;if(s.length){let u=0;for(let f=0;f<s.length;f++){const l=s[f];cc(l)&&!uc(l)?l.delete(i):s[u++]=l,l.w&=~Nn,l.n&=~Nn}s.length=u}},Pi=new WeakMap;let Br=0,Nn=1;const No=30;let qe;const Jn=Symbol(""),Do=Symbol("");class Ko{constructor(s,u=null,f){this.fn=s,this.scheduler=u,this.active=!0,this.deps=[],this.parent=void 0,Fl(this,f)}run(){if(!this.active)return this.fn();let s=qe,u=On;for(;s;){if(s===this)return;s=s.parent}try{return this.parent=qe,qe=this,On=!0,Nn=1<<++Br,Br<=No?kl(this):wa(this),this.fn()}finally{Br<=No&&Ol(this),Nn=1<<--Br,qe=this.parent,On=u,this.parent=void 0,this.deferStop&&this.stop()}}stop(){qe===this?this.deferStop=!0:this.active&&(wa(this),this.onStop&&this.onStop(),this.active=!1)}}function wa(i){const{deps:s}=i;if(s.length){for(let u=0;u<s.length;u++)s[u].delete(i);s.length=0}}let On=!0;const fc=[];function br(){fc.push(On),On=!1}function Fr(){const i=fc.pop();On=i===void 0?!0:i}function Me(i,s,u){if(On&&qe){let f=Pi.get(i);f||Pi.set(i,f=new Map);let l=f.get(u);l||f.set(u,l=Zo()),lc(l)}}function lc(i,s){let u=!1;Br<=No?uc(i)||(i.n|=Nn,u=!cc(i)):u=!i.has(qe),u&&(i.add(qe),qe.deps.push(i))}function Sn(i,s,u,f,l,d){const w=Pi.get(i);if(!w)return;let m=[];if(s==="clear")m=[...w.values()];else if(u==="length"&&Ct(i)){const x=Number(f);w.forEach((E,_)=>{(_==="length"||_>=x)&&m.push(E)})}else switch(u!==void 0&&m.push(w.get(u)),s){case"add":Ct(i)?Yo(u)&&m.push(w.get("length")):(m.push(w.get(Jn)),vr(i)&&m.push(w.get(Do)));break;case"delete":Ct(i)||(m.push(w.get(Jn)),vr(i)&&m.push(w.get(Do)));break;case"set":vr(i)&&m.push(w.get(Jn));break}if(m.length===1)m[0]&&Lo(m[0]);else{const x=[];for(const E of m)E&&x.push(...E);Lo(Zo(x))}}function Lo(i,s){const u=Ct(i)?i:[...i];for(const f of u)f.computed&&Sa(f);for(const f of u)f.computed||Sa(f)}function Sa(i,s){(i!==qe||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}function Rl(i,s){var u;return(u=Pi.get(i))===null||u===void 0?void 0:u.get(s)}const Tl=Ho("__proto__,__v_isRef,__isVue"),hc=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Yr)),Nl=qo(),Dl=qo(!1,!0),Ll=qo(!0),Ea=Al();function Al(){const i={};return["includes","indexOf","lastIndexOf"].forEach(s=>{i[s]=function(...u){const f=Kt(this);for(let d=0,w=this.length;d<w;d++)Me(f,"get",d+"");const l=f[s](...u);return l===-1||l===!1?f[s](...u.map(Kt)):l}}),["push","pop","shift","unshift","splice"].forEach(s=>{i[s]=function(...u){br();const f=Kt(this)[s].apply(this,u);return Fr(),f}}),i}function Cl(i){const s=Kt(this);return Me(s,"has",i),s.hasOwnProperty(i)}function qo(i=!1,s=!1){return function(f,l,d){if(l==="__v_isReactive")return!i;if(l==="__v_isReadonly")return i;if(l==="__v_isShallow")return s;if(l==="__v_raw"&&d===(i?s?Gl:gc:s?vc:yc).get(f))return f;const w=Ct(f);if(!i){if(w&&Zt(Ea,l))return Reflect.get(Ea,l,d);if(l==="hasOwnProperty")return Cl}const m=Reflect.get(f,l,d);return(Yr(l)?hc.has(l):Tl(l))||(i||Me(f,"get",l),s)?m:ye(m)?w&&Yo(l)?m:m.value:re(m)?i?mc(m):Ir(m):m}}const Pl=dc(),Ml=dc(!0);function dc(i=!1){return function(u,f,l,d){let w=u[f];if(_r(w)&&ye(w)&&!ye(l))return!1;if(!i&&(!Mi(l)&&!_r(l)&&(w=Kt(w),l=Kt(l)),!Ct(u)&&ye(w)&&!ye(l)))return w.value=l,!0;const m=Ct(u)&&Yo(f)?Number(f)<u.length:Zt(u,f),x=Reflect.set(u,f,l,d);return u===Kt(d)&&(m?Zr(l,w)&&Sn(u,"set",f,l):Sn(u,"add",f,l)),x}}function Ul(i,s){const u=Zt(i,s);i[s];const f=Reflect.deleteProperty(i,s);return f&&u&&Sn(i,"delete",s,void 0),f}function jl(i,s){const u=Reflect.has(i,s);return(!Yr(s)||!hc.has(s))&&Me(i,"has",s),u}function Bl(i){return Me(i,"iterate",Ct(i)?"length":Jn),Reflect.ownKeys(i)}const pc={get:Nl,set:Pl,deleteProperty:Ul,has:jl,ownKeys:Bl},zl={get:Ll,set(i,s){return!0},deleteProperty(i,s){return!0}},Wl=Re({},pc,{get:Dl,set:Ml}),Jo=i=>i,qi=i=>Reflect.getPrototypeOf(i);function Ei(i,s,u=!1,f=!1){i=i.__v_raw;const l=Kt(i),d=Kt(s);u||(s!==d&&Me(l,"get",s),Me(l,"get",d));const{has:w}=qi(l),m=f?Jo:u?$o:Kr;if(w.call(l,s))return m(i.get(s));if(w.call(l,d))return m(i.get(d));i!==l&&i.get(s)}function xi(i,s=!1){const u=this.__v_raw,f=Kt(u),l=Kt(i);return s||(i!==l&&Me(f,"has",i),Me(f,"has",l)),i===l?u.has(i):u.has(i)||u.has(l)}function bi(i,s=!1){return i=i.__v_raw,!s&&Me(Kt(i),"iterate",Jn),Reflect.get(i,"size",i)}function xa(i){i=Kt(i);const s=Kt(this);return qi(s).has.call(s,i)||(s.add(i),Sn(s,"add",i,i)),this}function ba(i,s){s=Kt(s);const u=Kt(this),{has:f,get:l}=qi(u);let d=f.call(u,i);d||(i=Kt(i),d=f.call(u,i));const w=l.call(u,i);return u.set(i,s),d?Zr(s,w)&&Sn(u,"set",i,s):Sn(u,"add",i,s),this}function Fa(i){const s=Kt(this),{has:u,get:f}=qi(s);let l=u.call(s,i);l||(i=Kt(i),l=u.call(s,i)),f&&f.call(s,i);const d=s.delete(i);return l&&Sn(s,"delete",i,void 0),d}function Ia(){const i=Kt(this),s=i.size!==0,u=i.clear();return s&&Sn(i,"clear",void 0,void 0),u}function Fi(i,s){return function(f,l){const d=this,w=d.__v_raw,m=Kt(w),x=s?Jo:i?$o:Kr;return!i&&Me(m,"iterate",Jn),w.forEach((E,_)=>f.call(l,x(E),x(_),d))}}function Ii(i,s,u){return function(...f){const l=this.__v_raw,d=Kt(l),w=vr(d),m=i==="entries"||i===Symbol.iterator&&w,x=i==="keys"&&w,E=l[i](...f),_=u?Jo:s?$o:Kr;return!s&&Me(d,"iterate",x?Do:Jn),{next(){const{value:h,done:F}=E.next();return F?{value:h,done:F}:{value:m?[_(h[0]),_(h[1])]:_(h),done:F}},[Symbol.iterator](){return this}}}}function Fn(i){return function(...s){return i==="delete"?!1:this}}function Hl(){const i={get(d){return Ei(this,d)},get size(){return bi(this)},has:xi,add:xa,set:ba,delete:Fa,clear:Ia,forEach:Fi(!1,!1)},s={get(d){return Ei(this,d,!1,!0)},get size(){return bi(this)},has:xi,add:xa,set:ba,delete:Fa,clear:Ia,forEach:Fi(!1,!0)},u={get(d){return Ei(this,d,!0)},get size(){return bi(this,!0)},has(d){return xi.call(this,d,!0)},add:Fn("add"),set:Fn("set"),delete:Fn("delete"),clear:Fn("clear"),forEach:Fi(!0,!1)},f={get(d){return Ei(this,d,!0,!0)},get size(){return bi(this,!0)},has(d){return xi.call(this,d,!0)},add:Fn("add"),set:Fn("set"),delete:Fn("delete"),clear:Fn("clear"),forEach:Fi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{i[d]=Ii(d,!1,!1),u[d]=Ii(d,!0,!1),s[d]=Ii(d,!1,!0),f[d]=Ii(d,!0,!0)}),[i,u,s,f]}const[Xl,Vl,Yl,Zl]=Hl();function Go(i,s){const u=s?i?Zl:Yl:i?Vl:Xl;return(f,l,d)=>l==="__v_isReactive"?!i:l==="__v_isReadonly"?i:l==="__v_raw"?f:Reflect.get(Zt(u,l)&&l in f?u:f,l,d)}const Kl={get:Go(!1,!1)},ql={get:Go(!1,!0)},Jl={get:Go(!0,!1)},yc=new WeakMap,vc=new WeakMap,gc=new WeakMap,Gl=new WeakMap;function Ql(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $l(i){return i.__v_skip||!Object.isExtensible(i)?0:Ql(Sl(i))}function Ir(i){return _r(i)?i:Qo(i,!1,pc,Kl,yc)}function th(i){return Qo(i,!1,Wl,ql,vc)}function mc(i){return Qo(i,!0,zl,Jl,gc)}function Qo(i,s,u,f,l){if(!re(i)||i.__v_raw&&!(s&&i.__v_isReactive))return i;const d=l.get(i);if(d)return d;const w=$l(i);if(w===0)return i;const m=new Proxy(i,w===2?f:u);return l.set(i,m),m}function Rn(i){return _r(i)?Rn(i.__v_raw):!!(i&&i.__v_isReactive)}function _r(i){return!!(i&&i.__v_isReadonly)}function Mi(i){return!!(i&&i.__v_isShallow)}function _c(i){return Rn(i)||_r(i)}function Kt(i){const s=i&&i.__v_raw;return s?Kt(s):i}function wr(i){return Ai(i,"__v_skip",!0),i}const Kr=i=>re(i)?Ir(i):i,$o=i=>re(i)?mc(i):i;function wc(i){On&&qe&&(i=Kt(i),lc(i.dep||(i.dep=Zo())))}function Sc(i,s){i=Kt(i);const u=i.dep;u&&Lo(u)}function ye(i){return!!(i&&i.__v_isRef===!0)}function Wt(i){return eh(i,!1)}function eh(i,s){return ye(i)?i:new nh(i,s)}class nh{constructor(s,u){this.__v_isShallow=u,this.dep=void 0,this.__v_isRef=!0,this._rawValue=u?s:Kt(s),this._value=u?s:Kr(s)}get value(){return wc(this),this._value}set value(s){const u=this.__v_isShallow||Mi(s)||_r(s);s=u?s:Kt(s),Zr(s,this._rawValue)&&(this._rawValue=s,this._value=u?s:Kr(s),Sc(this))}}function Kn(i){return ye(i)?i.value:i}const rh={get:(i,s,u)=>Kn(Reflect.get(i,s,u)),set:(i,s,u,f)=>{const l=i[s];return ye(l)&&!ye(u)?(l.value=u,!0):Reflect.set(i,s,u,f)}};function Ec(i){return Rn(i)?i:new Proxy(i,rh)}function ih(i){const s=Ct(i)?new Array(i.length):{};for(const u in i)s[u]=sh(i,u);return s}class oh{constructor(s,u,f){this._object=s,this._key=u,this._defaultValue=f,this.__v_isRef=!0}get value(){const s=this._object[this._key];return s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return Rl(Kt(this._object),this._key)}}function sh(i,s,u){const f=i[s];return ye(f)?f:new oh(i,s,u)}var xc;class ah{constructor(s,u,f,l){this._setter=u,this.dep=void 0,this.__v_isRef=!0,this[xc]=!1,this._dirty=!0,this.effect=new Ko(s,()=>{this._dirty||(this._dirty=!0,Sc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=f}get value(){const s=Kt(this);return wc(s),(s._dirty||!s._cacheable)&&(s._dirty=!1,s._value=s.effect.run()),s._value}set value(s){this._setter(s)}}xc="__v_isReadonly";function ch(i,s,u=!1){let f,l;const d=Bt(i);return d?(f=i,l=Ge):(f=i.get,l=i.set),new ah(f,l,d||!l,u)}function Tn(i,s,u,f){let l;try{l=f?i(...f):i()}catch(d){Ji(d,s,u)}return l}function Qe(i,s,u,f){if(Bt(i)){const d=Tn(i,s,u,f);return d&&nc(d)&&d.catch(w=>{Ji(w,s,u)}),d}const l=[];for(let d=0;d<i.length;d++)l.push(Qe(i[d],s,u,f));return l}function Ji(i,s,u,f=!0){const l=s?s.vnode:null;if(s){let d=s.parent;const w=s.proxy,m=u;for(;d;){const E=d.ec;if(E){for(let _=0;_<E.length;_++)if(E[_](i,w,m)===!1)return}d=d.parent}const x=s.appContext.config.errorHandler;if(x){Tn(x,null,10,[i,w,m]);return}}uh(i,u,l,f)}function uh(i,s,u,f=!0){console.error(i)}let qr=!1,Ao=!1;const Ie=[];let cn=0;const gr=[];let _n=null,Vn=0;const bc=Promise.resolve();let ts=null;function Fc(i){const s=ts||bc;return i?s.then(this?i.bind(this):i):s}function fh(i){let s=cn+1,u=Ie.length;for(;s<u;){const f=s+u>>>1;Jr(Ie[f])<i?s=f+1:u=f}return s}function es(i){(!Ie.length||!Ie.includes(i,qr&&i.allowRecurse?cn+1:cn))&&(i.id==null?Ie.push(i):Ie.splice(fh(i.id),0,i),Ic())}function Ic(){!qr&&!Ao&&(Ao=!0,ts=bc.then(Oc))}function lh(i){const s=Ie.indexOf(i);s>cn&&Ie.splice(s,1)}function hh(i){Ct(i)?gr.push(...i):(!_n||!_n.includes(i,i.allowRecurse?Vn+1:Vn))&&gr.push(i),Ic()}function ka(i,s=qr?cn+1:0){for(;s<Ie.length;s++){const u=Ie[s];u&&u.pre&&(Ie.splice(s,1),s--,u())}}function kc(i){if(gr.length){const s=[...new Set(gr)];if(gr.length=0,_n){_n.push(...s);return}for(_n=s,_n.sort((u,f)=>Jr(u)-Jr(f)),Vn=0;Vn<_n.length;Vn++)_n[Vn]();_n=null,Vn=0}}const Jr=i=>i.id==null?1/0:i.id,dh=(i,s)=>{const u=Jr(i)-Jr(s);if(u===0){if(i.pre&&!s.pre)return-1;if(s.pre&&!i.pre)return 1}return u};function Oc(i){Ao=!1,qr=!0,Ie.sort(dh);const s=Ge;try{for(cn=0;cn<Ie.length;cn++){const u=Ie[cn];u&&u.active!==!1&&Tn(u,null,14)}}finally{cn=0,Ie.length=0,kc(),qr=!1,ts=null,(Ie.length||gr.length)&&Oc()}}function ph(i,s,...u){if(i.isUnmounted)return;const f=i.vnode.props||ne;let l=u;const d=s.startsWith("update:"),w=d&&s.slice(7);if(w&&w in f){const _=`${w==="modelValue"?"model":w}Modifiers`,{number:h,trim:F}=f[_]||ne;F&&(l=u.map(y=>ge(y)?y.trim():y)),h&&(l=u.map(Ci))}let m,x=f[m=Io(s)]||f[m=Io(fn(s))];!x&&d&&(x=f[m=Io($n(s))]),x&&Qe(x,i,6,l);const E=f[m+"Once"];if(E){if(!i.emitted)i.emitted={};else if(i.emitted[m])return;i.emitted[m]=!0,Qe(E,i,6,l)}}function Rc(i,s,u=!1){const f=s.emitsCache,l=f.get(i);if(l!==void 0)return l;const d=i.emits;let w={},m=!1;if(!Bt(i)){const x=E=>{const _=Rc(E,s,!0);_&&(m=!0,Re(w,_))};!u&&s.mixins.length&&s.mixins.forEach(x),i.extends&&x(i.extends),i.mixins&&i.mixins.forEach(x)}return!d&&!m?(re(i)&&f.set(i,null),null):(Ct(d)?d.forEach(x=>w[x]=null):Re(w,d),re(i)&&f.set(i,w),w)}function Gi(i,s){return!i||!Vi(s)?!1:(s=s.slice(2).replace(/Once$/,""),Zt(i,s[0].toLowerCase()+s.slice(1))||Zt(i,$n(s))||Zt(i,s))}let We=null,Qi=null;function Ui(i){const s=We;return We=i,Qi=i&&i.type.__scopeId||null,s}function ni(i){Qi=i}function ri(){Qi=null}function yh(i,s=We,u){if(!s||i._n)return i;const f=(...l)=>{f._d&&Pa(-1);const d=Ui(s);let w;try{w=i(...l)}finally{Ui(d),f._d&&Pa(1)}return w};return f._n=!0,f._c=!0,f._d=!0,f}function ko(i){const{type:s,vnode:u,proxy:f,withProxy:l,props:d,propsOptions:[w],slots:m,attrs:x,emit:E,render:_,renderCache:h,data:F,setupState:y,ctx:D,inheritAttrs:T}=i;let C,U;const B=Ui(i);try{if(u.shapeFlag&4){const X=l||f;C=an(_.call(X,X,h,d,y,F,D)),U=x}else{const X=s;C=an(X.length>1?X(d,{attrs:x,slots:m,emit:E}):X(d,null)),U=s.props?x:vh(x)}}catch(X){Hr.length=0,Ji(X,i,1),C=He(Qn)}let Z=C;if(U&&T!==!1){const X=Object.keys(U),{shapeFlag:V}=Z;X.length&&V&7&&(w&&X.some(Xo)&&(U=gh(U,w)),Z=Er(Z,U))}return u.dirs&&(Z=Er(Z),Z.dirs=Z.dirs?Z.dirs.concat(u.dirs):u.dirs),u.transition&&(Z.transition=u.transition),C=Z,Ui(B),C}const vh=i=>{let s;for(const u in i)(u==="class"||u==="style"||Vi(u))&&((s||(s={}))[u]=i[u]);return s},gh=(i,s)=>{const u={};for(const f in i)(!Xo(f)||!(f.slice(9)in s))&&(u[f]=i[f]);return u};function mh(i,s,u){const{props:f,children:l,component:d}=i,{props:w,children:m,patchFlag:x}=s,E=d.emitsOptions;if(s.dirs||s.transition)return!0;if(u&&x>=0){if(x&1024)return!0;if(x&16)return f?Oa(f,w,E):!!w;if(x&8){const _=s.dynamicProps;for(let h=0;h<_.length;h++){const F=_[h];if(w[F]!==f[F]&&!Gi(E,F))return!0}}}else return(l||m)&&(!m||!m.$stable)?!0:f===w?!1:f?w?Oa(f,w,E):!0:!!w;return!1}function Oa(i,s,u){const f=Object.keys(s);if(f.length!==Object.keys(i).length)return!0;for(let l=0;l<f.length;l++){const d=f[l];if(s[d]!==i[d]&&!Gi(u,d))return!0}return!1}function _h({vnode:i,parent:s},u){for(;s&&s.subTree===i;)(i=s.vnode).el=u,s=s.parent}const wh=i=>i.__isSuspense;function Sh(i,s){s&&s.pendingBranch?Ct(i)?s.effects.push(...i):s.effects.push(i):hh(i)}function Eh(i,s){if(pe){let u=pe.provides;const f=pe.parent&&pe.parent.provides;f===u&&(u=pe.provides=Object.create(f)),u[i]=s}}function zr(i,s,u=!1){const f=pe||We;if(f){const l=f.parent==null?f.vnode.appContext&&f.vnode.appContext.provides:f.parent.provides;if(l&&i in l)return l[i];if(arguments.length>1)return u&&Bt(s)?s.call(f.proxy):s}}const ki={};function Ti(i,s,u){return Tc(i,s,u)}function Tc(i,s,{immediate:u,deep:f,flush:l,onTrack:d,onTrigger:w}=ne){const m=ac()===(pe==null?void 0:pe.scope)?pe:null;let x,E=!1,_=!1;if(ye(i)?(x=()=>i.value,E=Mi(i)):Rn(i)?(x=()=>i,f=!0):Ct(i)?(_=!0,E=i.some(Z=>Rn(Z)||Mi(Z)),x=()=>i.map(Z=>{if(ye(Z))return Z.value;if(Rn(Z))return qn(Z);if(Bt(Z))return Tn(Z,m,2)})):Bt(i)?s?x=()=>Tn(i,m,2):x=()=>{if(!(m&&m.isUnmounted))return h&&h(),Qe(i,m,3,[F])}:x=Ge,s&&f){const Z=x;x=()=>qn(Z())}let h,F=Z=>{h=U.onStop=()=>{Tn(Z,m,4)}},y;if(Qr)if(F=Ge,s?u&&Qe(s,m,3,[x(),_?[]:void 0,F]):x(),l==="sync"){const Z=yd();y=Z.__watcherHandles||(Z.__watcherHandles=[])}else return Ge;let D=_?new Array(i.length).fill(ki):ki;const T=()=>{if(U.active)if(s){const Z=U.run();(f||E||(_?Z.some((X,V)=>Zr(X,D[V])):Zr(Z,D)))&&(h&&h(),Qe(s,m,3,[Z,D===ki?void 0:_&&D[0]===ki?[]:D,F]),D=Z)}else U.run()};T.allowRecurse=!!s;let C;l==="sync"?C=T:l==="post"?C=()=>Pe(T,m&&m.suspense):(T.pre=!0,m&&(T.id=m.uid),C=()=>es(T));const U=new Ko(x,C);s?u?T():D=U.run():l==="post"?Pe(U.run.bind(U),m&&m.suspense):U.run();const B=()=>{U.stop(),m&&m.scope&&Vo(m.scope.effects,U)};return y&&y.push(B),B}function xh(i,s,u){const f=this.proxy,l=ge(i)?i.includes(".")?Nc(f,i):()=>f[i]:i.bind(f,f);let d;Bt(s)?d=s:(d=s.handler,u=s);const w=pe;xr(this);const m=Tc(l,d.bind(f),u);return w?xr(w):Gn(),m}function Nc(i,s){const u=s.split(".");return()=>{let f=i;for(let l=0;l<u.length&&f;l++)f=f[u[l]];return f}}function qn(i,s){if(!re(i)||i.__v_skip||(s=s||new Set,s.has(i)))return i;if(s.add(i),ye(i))qn(i.value,s);else if(Ct(i))for(let u=0;u<i.length;u++)qn(i[u],s);else if(Yi(i)||vr(i))i.forEach(u=>{qn(u,s)});else if(ic(i))for(const u in i)qn(i[u],s);return i}function ln(i){return Bt(i)?{setup:i,name:i.name}:i}const Ni=i=>!!i.type.__asyncLoader,Dc=i=>i.type.__isKeepAlive;function bh(i,s){Lc(i,"a",s)}function Fh(i,s){Lc(i,"da",s)}function Lc(i,s,u=pe){const f=i.__wdc||(i.__wdc=()=>{let l=u;for(;l;){if(l.isDeactivated)return;l=l.parent}return i()});if($i(s,f,u),u){let l=u.parent;for(;l&&l.parent;)Dc(l.parent.vnode)&&Ih(f,s,u,l),l=l.parent}}function Ih(i,s,u,f){const l=$i(s,i,f,!0);Cc(()=>{Vo(f[s],l)},u)}function $i(i,s,u=pe,f=!1){if(u){const l=u[i]||(u[i]=[]),d=s.__weh||(s.__weh=(...w)=>{if(u.isUnmounted)return;br(),xr(u);const m=Qe(s,u,i,w);return Gn(),Fr(),m});return f?l.unshift(d):l.push(d),d}}const En=i=>(s,u=pe)=>(!Qr||i==="sp")&&$i(i,(...f)=>s(...f),u),kh=En("bm"),Dn=En("m"),Oh=En("bu"),Rh=En("u"),Ac=En("bum"),Cc=En("um"),Th=En("sp"),Nh=En("rtg"),Dh=En("rtc");function Lh(i,s=pe){$i("ec",i,s)}function Sr(i,s){const u=We;if(u===null)return i;const f=ro(u)||u.proxy,l=i.dirs||(i.dirs=[]);for(let d=0;d<s.length;d++){let[w,m,x,E=ne]=s[d];w&&(Bt(w)&&(w={mounted:w,updated:w}),w.deep&&qn(m),l.push({dir:w,instance:f,value:m,oldValue:void 0,arg:x,modifiers:E}))}return i}function Wn(i,s,u,f){const l=i.dirs,d=s&&s.dirs;for(let w=0;w<l.length;w++){const m=l[w];d&&(m.oldValue=d[w].value);let x=m.dir[f];x&&(br(),Qe(x,u,8,[i.el,m,i,s]),Fr())}}const Pc="components",Mc=Symbol();function Uc(i){return ge(i)?Ah(Pc,i,!1)||i:i||Mc}function Ah(i,s,u=!0,f=!1){const l=We||pe;if(l){const d=l.type;if(i===Pc){const m=hd(d,!1);if(m&&(m===s||m===fn(s)||m===Ki(fn(s))))return d}const w=Ra(l[i]||d[i],s)||Ra(l.appContext[i],s);return!w&&f?d:w}}function Ra(i,s){return i&&(i[s]||i[fn(s)]||i[Ki(fn(s))])}function kr(i,s,u,f){let l;const d=u&&u[f];if(Ct(i)||ge(i)){l=new Array(i.length);for(let w=0,m=i.length;w<m;w++)l[w]=s(i[w],w,void 0,d&&d[w])}else if(typeof i=="number"){l=new Array(i);for(let w=0;w<i;w++)l[w]=s(w+1,w,void 0,d&&d[w])}else if(re(i))if(i[Symbol.iterator])l=Array.from(i,(w,m)=>s(w,m,void 0,d&&d[m]));else{const w=Object.keys(i);l=new Array(w.length);for(let m=0,x=w.length;m<x;m++){const E=w[m];l[m]=s(i[E],E,m,d&&d[m])}}else l=[];return u&&(u[f]=l),l}const Co=i=>i?qc(i)?ro(i)||i.proxy:Co(i.parent):null,Wr=Re(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>Co(i.parent),$root:i=>Co(i.root),$emit:i=>i.emit,$options:i=>ns(i),$forceUpdate:i=>i.f||(i.f=()=>es(i.update)),$nextTick:i=>i.n||(i.n=Fc.bind(i.proxy)),$watch:i=>xh.bind(i)}),Oo=(i,s)=>i!==ne&&!i.__isScriptSetup&&Zt(i,s),Ch={get({_:i},s){const{ctx:u,setupState:f,data:l,props:d,accessCache:w,type:m,appContext:x}=i;let E;if(s[0]!=="$"){const y=w[s];if(y!==void 0)switch(y){case 1:return f[s];case 2:return l[s];case 4:return u[s];case 3:return d[s]}else{if(Oo(f,s))return w[s]=1,f[s];if(l!==ne&&Zt(l,s))return w[s]=2,l[s];if((E=i.propsOptions[0])&&Zt(E,s))return w[s]=3,d[s];if(u!==ne&&Zt(u,s))return w[s]=4,u[s];Po&&(w[s]=0)}}const _=Wr[s];let h,F;if(_)return s==="$attrs"&&Me(i,"get",s),_(i);if((h=m.__cssModules)&&(h=h[s]))return h;if(u!==ne&&Zt(u,s))return w[s]=4,u[s];if(F=x.config.globalProperties,Zt(F,s))return F[s]},set({_:i},s,u){const{data:f,setupState:l,ctx:d}=i;return Oo(l,s)?(l[s]=u,!0):f!==ne&&Zt(f,s)?(f[s]=u,!0):Zt(i.props,s)||s[0]==="$"&&s.slice(1)in i?!1:(d[s]=u,!0)},has({_:{data:i,setupState:s,accessCache:u,ctx:f,appContext:l,propsOptions:d}},w){let m;return!!u[w]||i!==ne&&Zt(i,w)||Oo(s,w)||(m=d[0])&&Zt(m,w)||Zt(f,w)||Zt(Wr,w)||Zt(l.config.globalProperties,w)},defineProperty(i,s,u){return u.get!=null?i._.accessCache[s]=0:Zt(u,"value")&&this.set(i,s,u.value,null),Reflect.defineProperty(i,s,u)}};let Po=!0;function Ph(i){const s=ns(i),u=i.proxy,f=i.ctx;Po=!1,s.beforeCreate&&Ta(s.beforeCreate,i,"bc");const{data:l,computed:d,methods:w,watch:m,provide:x,inject:E,created:_,beforeMount:h,mounted:F,beforeUpdate:y,updated:D,activated:T,deactivated:C,beforeDestroy:U,beforeUnmount:B,destroyed:Z,unmounted:X,render:V,renderTracked:yt,renderTriggered:Q,errorCaptured:ut,serverPrefetch:St,expose:Y,inheritAttrs:ot,components:_t,directives:Mt,filters:Ft}=s;if(E&&Mh(E,f,null,i.appContext.config.unwrapInjectedRef),w)for(const lt in w){const It=w[lt];Bt(It)&&(f[lt]=It.bind(u))}if(l){const lt=l.call(u,u);re(lt)&&(i.data=Ir(lt))}if(Po=!0,d)for(const lt in d){const It=d[lt],K=Bt(It)?It.bind(u,u):Bt(It.get)?It.get.bind(u,u):Ge,q=!Bt(It)&&Bt(It.set)?It.set.bind(u):Ge,st=Gc({get:K,set:q});Object.defineProperty(f,lt,{enumerable:!0,configurable:!0,get:()=>st.value,set:wt=>st.value=wt})}if(m)for(const lt in m)jc(m[lt],f,u,lt);if(x){const lt=Bt(x)?x.call(u):x;Reflect.ownKeys(lt).forEach(It=>{Eh(It,lt[It])})}_&&Ta(_,i,"c");function vt(lt,It){Ct(It)?It.forEach(K=>lt(K.bind(u))):It&&lt(It.bind(u))}if(vt(kh,h),vt(Dn,F),vt(Oh,y),vt(Rh,D),vt(bh,T),vt(Fh,C),vt(Lh,ut),vt(Dh,yt),vt(Nh,Q),vt(Ac,B),vt(Cc,X),vt(Th,St),Ct(Y))if(Y.length){const lt=i.exposed||(i.exposed={});Y.forEach(It=>{Object.defineProperty(lt,It,{get:()=>u[It],set:K=>u[It]=K})})}else i.exposed||(i.exposed={});V&&i.render===Ge&&(i.render=V),ot!=null&&(i.inheritAttrs=ot),_t&&(i.components=_t),Mt&&(i.directives=Mt)}function Mh(i,s,u=Ge,f=!1){Ct(i)&&(i=Mo(i));for(const l in i){const d=i[l];let w;re(d)?"default"in d?w=zr(d.from||l,d.default,!0):w=zr(d.from||l):w=zr(d),ye(w)&&f?Object.defineProperty(s,l,{enumerable:!0,configurable:!0,get:()=>w.value,set:m=>w.value=m}):s[l]=w}}function Ta(i,s,u){Qe(Ct(i)?i.map(f=>f.bind(s.proxy)):i.bind(s.proxy),s,u)}function jc(i,s,u,f){const l=f.includes(".")?Nc(u,f):()=>u[f];if(ge(i)){const d=s[i];Bt(d)&&Ti(l,d)}else if(Bt(i))Ti(l,i.bind(u));else if(re(i))if(Ct(i))i.forEach(d=>jc(d,s,u,f));else{const d=Bt(i.handler)?i.handler.bind(u):s[i.handler];Bt(d)&&Ti(l,d,i)}}function ns(i){const s=i.type,{mixins:u,extends:f}=s,{mixins:l,optionsCache:d,config:{optionMergeStrategies:w}}=i.appContext,m=d.get(s);let x;return m?x=m:!l.length&&!u&&!f?x=s:(x={},l.length&&l.forEach(E=>ji(x,E,w,!0)),ji(x,s,w)),re(s)&&d.set(s,x),x}function ji(i,s,u,f=!1){const{mixins:l,extends:d}=s;d&&ji(i,d,u,!0),l&&l.forEach(w=>ji(i,w,u,!0));for(const w in s)if(!(f&&w==="expose")){const m=Uh[w]||u&&u[w];i[w]=m?m(i[w],s[w]):s[w]}return i}const Uh={data:Na,props:Xn,emits:Xn,methods:Xn,computed:Xn,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:Xn,directives:Xn,watch:Bh,provide:Na,inject:jh};function Na(i,s){return s?i?function(){return Re(Bt(i)?i.call(this,this):i,Bt(s)?s.call(this,this):s)}:s:i}function jh(i,s){return Xn(Mo(i),Mo(s))}function Mo(i){if(Ct(i)){const s={};for(let u=0;u<i.length;u++)s[i[u]]=i[u];return s}return i}function Oe(i,s){return i?[...new Set([].concat(i,s))]:s}function Xn(i,s){return i?Re(Re(Object.create(null),i),s):s}function Bh(i,s){if(!i)return s;if(!s)return i;const u=Re(Object.create(null),i);for(const f in s)u[f]=Oe(i[f],s[f]);return u}function zh(i,s,u,f=!1){const l={},d={};Ai(d,no,1),i.propsDefaults=Object.create(null),Bc(i,s,l,d);for(const w in i.propsOptions[0])w in l||(l[w]=void 0);u?i.props=f?l:th(l):i.type.props?i.props=l:i.props=d,i.attrs=d}function Wh(i,s,u,f){const{props:l,attrs:d,vnode:{patchFlag:w}}=i,m=Kt(l),[x]=i.propsOptions;let E=!1;if((f||w>0)&&!(w&16)){if(w&8){const _=i.vnode.dynamicProps;for(let h=0;h<_.length;h++){let F=_[h];if(Gi(i.emitsOptions,F))continue;const y=s[F];if(x)if(Zt(d,F))y!==d[F]&&(d[F]=y,E=!0);else{const D=fn(F);l[D]=Uo(x,m,D,y,i,!1)}else y!==d[F]&&(d[F]=y,E=!0)}}}else{Bc(i,s,l,d)&&(E=!0);let _;for(const h in m)(!s||!Zt(s,h)&&((_=$n(h))===h||!Zt(s,_)))&&(x?u&&(u[h]!==void 0||u[_]!==void 0)&&(l[h]=Uo(x,m,h,void 0,i,!0)):delete l[h]);if(d!==m)for(const h in d)(!s||!Zt(s,h))&&(delete d[h],E=!0)}E&&Sn(i,"set","$attrs")}function Bc(i,s,u,f){const[l,d]=i.propsOptions;let w=!1,m;if(s)for(let x in s){if(Oi(x))continue;const E=s[x];let _;l&&Zt(l,_=fn(x))?!d||!d.includes(_)?u[_]=E:(m||(m={}))[_]=E:Gi(i.emitsOptions,x)||(!(x in f)||E!==f[x])&&(f[x]=E,w=!0)}if(d){const x=Kt(u),E=m||ne;for(let _=0;_<d.length;_++){const h=d[_];u[h]=Uo(l,x,h,E[h],i,!Zt(E,h))}}return w}function Uo(i,s,u,f,l,d){const w=i[u];if(w!=null){const m=Zt(w,"default");if(m&&f===void 0){const x=w.default;if(w.type!==Function&&Bt(x)){const{propsDefaults:E}=l;u in E?f=E[u]:(xr(l),f=E[u]=x.call(null,s),Gn())}else f=x}w[0]&&(d&&!m?f=!1:w[1]&&(f===""||f===$n(u))&&(f=!0))}return f}function zc(i,s,u=!1){const f=s.propsCache,l=f.get(i);if(l)return l;const d=i.props,w={},m=[];let x=!1;if(!Bt(i)){const _=h=>{x=!0;const[F,y]=zc(h,s,!0);Re(w,F),y&&m.push(...y)};!u&&s.mixins.length&&s.mixins.forEach(_),i.extends&&_(i.extends),i.mixins&&i.mixins.forEach(_)}if(!d&&!x)return re(i)&&f.set(i,yr),yr;if(Ct(d))for(let _=0;_<d.length;_++){const h=fn(d[_]);Da(h)&&(w[h]=ne)}else if(d)for(const _ in d){const h=fn(_);if(Da(h)){const F=d[_],y=w[h]=Ct(F)||Bt(F)?{type:F}:Object.assign({},F);if(y){const D=Ca(Boolean,y.type),T=Ca(String,y.type);y[0]=D>-1,y[1]=T<0||D<T,(D>-1||Zt(y,"default"))&&m.push(h)}}}const E=[w,m];return re(i)&&f.set(i,E),E}function Da(i){return i[0]!=="$"}function La(i){const s=i&&i.toString().match(/^\s*(function|class) (\w+)/);return s?s[2]:i===null?"null":""}function Aa(i,s){return La(i)===La(s)}function Ca(i,s){return Ct(s)?s.findIndex(u=>Aa(u,i)):Bt(s)&&Aa(s,i)?0:-1}const Wc=i=>i[0]==="_"||i==="$stable",rs=i=>Ct(i)?i.map(an):[an(i)],Hh=(i,s,u)=>{if(s._n)return s;const f=yh((...l)=>rs(s(...l)),u);return f._c=!1,f},Hc=(i,s,u)=>{const f=i._ctx;for(const l in i){if(Wc(l))continue;const d=i[l];if(Bt(d))s[l]=Hh(l,d,f);else if(d!=null){const w=rs(d);s[l]=()=>w}}},Xc=(i,s)=>{const u=rs(s);i.slots.default=()=>u},Xh=(i,s)=>{if(i.vnode.shapeFlag&32){const u=s._;u?(i.slots=Kt(s),Ai(s,"_",u)):Hc(s,i.slots={})}else i.slots={},s&&Xc(i,s);Ai(i.slots,no,1)},Vh=(i,s,u)=>{const{vnode:f,slots:l}=i;let d=!0,w=ne;if(f.shapeFlag&32){const m=s._;m?u&&m===1?d=!1:(Re(l,s),!u&&m===1&&delete l._):(d=!s.$stable,Hc(s,l)),w=s}else s&&(Xc(i,s),w={default:1});if(d)for(const m in l)!Wc(m)&&!(m in w)&&delete l[m]};function Vc(){return{app:null,config:{isNativeTag:ml,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yh=0;function Zh(i,s){return function(f,l=null){Bt(f)||(f=Object.assign({},f)),l!=null&&!re(l)&&(l=null);const d=Vc(),w=new Set;let m=!1;const x=d.app={_uid:Yh++,_component:f,_props:l,_container:null,_context:d,_instance:null,version:vd,get config(){return d.config},set config(E){},use(E,..._){return w.has(E)||(E&&Bt(E.install)?(w.add(E),E.install(x,..._)):Bt(E)&&(w.add(E),E(x,..._))),x},mixin(E){return d.mixins.includes(E)||d.mixins.push(E),x},component(E,_){return _?(d.components[E]=_,x):d.components[E]},directive(E,_){return _?(d.directives[E]=_,x):d.directives[E]},mount(E,_,h){if(!m){const F=He(f,l);return F.appContext=d,_&&s?s(F,E):i(F,E,h),m=!0,x._container=E,E.__vue_app__=x,ro(F.component)||F.component.proxy}},unmount(){m&&(i(null,x._container),delete x._container.__vue_app__)},provide(E,_){return d.provides[E]=_,x}};return x}}function jo(i,s,u,f,l=!1){if(Ct(i)){i.forEach((F,y)=>jo(F,s&&(Ct(s)?s[y]:s),u,f,l));return}if(Ni(f)&&!l)return;const d=f.shapeFlag&4?ro(f.component)||f.component.proxy:f.el,w=l?null:d,{i:m,r:x}=i,E=s&&s.r,_=m.refs===ne?m.refs={}:m.refs,h=m.setupState;if(E!=null&&E!==x&&(ge(E)?(_[E]=null,Zt(h,E)&&(h[E]=null)):ye(E)&&(E.value=null)),Bt(x))Tn(x,m,12,[w,_]);else{const F=ge(x),y=ye(x);if(F||y){const D=()=>{if(i.f){const T=F?Zt(h,x)?h[x]:_[x]:x.value;l?Ct(T)&&Vo(T,d):Ct(T)?T.includes(d)||T.push(d):F?(_[x]=[d],Zt(h,x)&&(h[x]=_[x])):(x.value=[d],i.k&&(_[i.k]=x.value))}else F?(_[x]=w,Zt(h,x)&&(h[x]=w)):y&&(x.value=w,i.k&&(_[i.k]=w))};w?(D.id=-1,Pe(D,u)):D()}}}const Pe=Sh;function Kh(i){return qh(i)}function qh(i,s){const u=bl();u.__VUE__=!0;const{insert:f,remove:l,patchProp:d,createElement:w,createText:m,createComment:x,setText:E,setElementText:_,parentNode:h,nextSibling:F,setScopeId:y=Ge,insertStaticContent:D}=i,T=(R,A,z,j=null,et=null,J=null,pt=!1,at=null,ht=!!A.dynamicChildren)=>{if(R===A)return;R&&!jr(R,A)&&(j=qt(R),wt(R,et,J,!0),R=null),A.patchFlag===-2&&(ht=!1,A.dynamicChildren=null);const{type:b,ref:v,shapeFlag:g}=A;switch(b){case to:C(R,A,z,j);break;case Qn:U(R,A,z,j);break;case Di:R==null&&B(A,z,j,pt);break;case Fe:_t(R,A,z,j,et,J,pt,at,ht);break;default:g&1?V(R,A,z,j,et,J,pt,at,ht):g&6?Mt(R,A,z,j,et,J,pt,at,ht):(g&64||g&128)&&b.process(R,A,z,j,et,J,pt,at,ht,N)}v!=null&&et&&jo(v,R&&R.ref,J,A||R,!A)},C=(R,A,z,j)=>{if(R==null)f(A.el=m(A.children),z,j);else{const et=A.el=R.el;A.children!==R.children&&E(et,A.children)}},U=(R,A,z,j)=>{R==null?f(A.el=x(A.children||""),z,j):A.el=R.el},B=(R,A,z,j)=>{[R.el,R.anchor]=D(R.children,A,z,j,R.el,R.anchor)},Z=({el:R,anchor:A},z,j)=>{let et;for(;R&&R!==A;)et=F(R),f(R,z,j),R=et;f(A,z,j)},X=({el:R,anchor:A})=>{let z;for(;R&&R!==A;)z=F(R),l(R),R=z;l(A)},V=(R,A,z,j,et,J,pt,at,ht)=>{pt=pt||A.type==="svg",R==null?yt(A,z,j,et,J,pt,at,ht):St(R,A,et,J,pt,at,ht)},yt=(R,A,z,j,et,J,pt,at)=>{let ht,b;const{type:v,props:g,shapeFlag:O,transition:M,dirs:H}=R;if(ht=R.el=w(R.type,J,g&&g.is,g),O&8?_(ht,R.children):O&16&&ut(R.children,ht,null,j,et,J&&v!=="foreignObject",pt,at),H&&Wn(R,null,j,"created"),Q(ht,R,R.scopeId,pt,j),g){for(const Et in g)Et!=="value"&&!Oi(Et)&&d(ht,Et,null,g[Et],J,R.children,j,et,Pt);"value"in g&&d(ht,"value",null,g.value),(b=g.onVnodeBeforeMount)&&sn(b,j,R)}H&&Wn(R,null,j,"beforeMount");const $=(!et||et&&!et.pendingBranch)&&M&&!M.persisted;$&&M.beforeEnter(ht),f(ht,A,z),((b=g&&g.onVnodeMounted)||$||H)&&Pe(()=>{b&&sn(b,j,R),$&&M.enter(ht),H&&Wn(R,null,j,"mounted")},et)},Q=(R,A,z,j,et)=>{if(z&&y(R,z),j)for(let J=0;J<j.length;J++)y(R,j[J]);if(et){let J=et.subTree;if(A===J){const pt=et.vnode;Q(R,pt,pt.scopeId,pt.slotScopeIds,et.parent)}}},ut=(R,A,z,j,et,J,pt,at,ht=0)=>{for(let b=ht;b<R.length;b++){const v=R[b]=at?In(R[b]):an(R[b]);T(null,v,A,z,j,et,J,pt,at)}},St=(R,A,z,j,et,J,pt)=>{const at=A.el=R.el;let{patchFlag:ht,dynamicChildren:b,dirs:v}=A;ht|=R.patchFlag&16;const g=R.props||ne,O=A.props||ne;let M;z&&Hn(z,!1),(M=O.onVnodeBeforeUpdate)&&sn(M,z,A,R),v&&Wn(A,R,z,"beforeUpdate"),z&&Hn(z,!0);const H=et&&A.type!=="foreignObject";if(b?Y(R.dynamicChildren,b,at,z,j,H,J):pt||It(R,A,at,null,z,j,H,J,!1),ht>0){if(ht&16)ot(at,A,g,O,z,j,et);else if(ht&2&&g.class!==O.class&&d(at,"class",null,O.class,et),ht&4&&d(at,"style",g.style,O.style,et),ht&8){const $=A.dynamicProps;for(let Et=0;Et<$.length;Et++){const Rt=$[Et],zt=g[Rt],Jt=O[Rt];(Jt!==zt||Rt==="value")&&d(at,Rt,zt,Jt,et,R.children,z,j,Pt)}}ht&1&&R.children!==A.children&&_(at,A.children)}else!pt&&b==null&&ot(at,A,g,O,z,j,et);((M=O.onVnodeUpdated)||v)&&Pe(()=>{M&&sn(M,z,A,R),v&&Wn(A,R,z,"updated")},j)},Y=(R,A,z,j,et,J,pt)=>{for(let at=0;at<A.length;at++){const ht=R[at],b=A[at],v=ht.el&&(ht.type===Fe||!jr(ht,b)||ht.shapeFlag&70)?h(ht.el):z;T(ht,b,v,null,j,et,J,pt,!0)}},ot=(R,A,z,j,et,J,pt)=>{if(z!==j){if(z!==ne)for(const at in z)!Oi(at)&&!(at in j)&&d(R,at,z[at],null,pt,A.children,et,J,Pt);for(const at in j){if(Oi(at))continue;const ht=j[at],b=z[at];ht!==b&&at!=="value"&&d(R,at,b,ht,pt,A.children,et,J,Pt)}"value"in j&&d(R,"value",z.value,j.value)}},_t=(R,A,z,j,et,J,pt,at,ht)=>{const b=A.el=R?R.el:m(""),v=A.anchor=R?R.anchor:m("");let{patchFlag:g,dynamicChildren:O,slotScopeIds:M}=A;M&&(at=at?at.concat(M):M),R==null?(f(b,z,j),f(v,z,j),ut(A.children,z,v,et,J,pt,at,ht)):g>0&&g&64&&O&&R.dynamicChildren?(Y(R.dynamicChildren,O,z,et,J,pt,at),(A.key!=null||et&&A===et.subTree)&&Yc(R,A,!0)):It(R,A,z,v,et,J,pt,at,ht)},Mt=(R,A,z,j,et,J,pt,at,ht)=>{A.slotScopeIds=at,R==null?A.shapeFlag&512?et.ctx.activate(A,z,j,pt,ht):Ft(A,z,j,et,J,pt,ht):Nt(R,A,ht)},Ft=(R,A,z,j,et,J,pt)=>{const at=R.component=ad(R,j,et);if(Dc(R)&&(at.ctx.renderer=N),cd(at),at.asyncDep){if(et&&et.registerDep(at,vt),!R.el){const ht=at.subTree=He(Qn);U(null,ht,A,z)}return}vt(at,R,A,z,et,J,pt)},Nt=(R,A,z)=>{const j=A.component=R.component;if(mh(R,A,z))if(j.asyncDep&&!j.asyncResolved){lt(j,A,z);return}else j.next=A,lh(j.update),j.update();else A.el=R.el,j.vnode=A},vt=(R,A,z,j,et,J,pt)=>{const at=()=>{if(R.isMounted){let{next:v,bu:g,u:O,parent:M,vnode:H}=R,$=v,Et;Hn(R,!1),v?(v.el=H.el,lt(R,v,pt)):v=H,g&&Ri(g),(Et=v.props&&v.props.onVnodeBeforeUpdate)&&sn(Et,M,v,H),Hn(R,!0);const Rt=ko(R),zt=R.subTree;R.subTree=Rt,T(zt,Rt,h(zt.el),qt(zt),R,et,J),v.el=Rt.el,$===null&&_h(R,Rt.el),O&&Pe(O,et),(Et=v.props&&v.props.onVnodeUpdated)&&Pe(()=>sn(Et,M,v,H),et)}else{let v;const{el:g,props:O}=A,{bm:M,m:H,parent:$}=R,Et=Ni(A);if(Hn(R,!1),M&&Ri(M),!Et&&(v=O&&O.onVnodeBeforeMount)&&sn(v,$,A),Hn(R,!0),g&&it){const Rt=()=>{R.subTree=ko(R),it(g,R.subTree,R,et,null)};Et?A.type.__asyncLoader().then(()=>!R.isUnmounted&&Rt()):Rt()}else{const Rt=R.subTree=ko(R);T(null,Rt,z,j,R,et,J),A.el=Rt.el}if(H&&Pe(H,et),!Et&&(v=O&&O.onVnodeMounted)){const Rt=A;Pe(()=>sn(v,$,Rt),et)}(A.shapeFlag&256||$&&Ni($.vnode)&&$.vnode.shapeFlag&256)&&R.a&&Pe(R.a,et),R.isMounted=!0,A=z=j=null}},ht=R.effect=new Ko(at,()=>es(b),R.scope),b=R.update=()=>ht.run();b.id=R.uid,Hn(R,!0),b()},lt=(R,A,z)=>{A.component=R;const j=R.vnode.props;R.vnode=A,R.next=null,Wh(R,A.props,j,z),Vh(R,A.children,z),br(),ka(),Fr()},It=(R,A,z,j,et,J,pt,at,ht=!1)=>{const b=R&&R.children,v=R?R.shapeFlag:0,g=A.children,{patchFlag:O,shapeFlag:M}=A;if(O>0){if(O&128){q(b,g,z,j,et,J,pt,at,ht);return}else if(O&256){K(b,g,z,j,et,J,pt,at,ht);return}}M&8?(v&16&&Pt(b,et,J),g!==b&&_(z,g)):v&16?M&16?q(b,g,z,j,et,J,pt,at,ht):Pt(b,et,J,!0):(v&8&&_(z,""),M&16&&ut(g,z,j,et,J,pt,at,ht))},K=(R,A,z,j,et,J,pt,at,ht)=>{R=R||yr,A=A||yr;const b=R.length,v=A.length,g=Math.min(b,v);let O;for(O=0;O<g;O++){const M=A[O]=ht?In(A[O]):an(A[O]);T(R[O],M,z,null,et,J,pt,at,ht)}b>v?Pt(R,et,J,!0,!1,g):ut(A,z,j,et,J,pt,at,ht,g)},q=(R,A,z,j,et,J,pt,at,ht)=>{let b=0;const v=A.length;let g=R.length-1,O=v-1;for(;b<=g&&b<=O;){const M=R[b],H=A[b]=ht?In(A[b]):an(A[b]);if(jr(M,H))T(M,H,z,null,et,J,pt,at,ht);else break;b++}for(;b<=g&&b<=O;){const M=R[g],H=A[O]=ht?In(A[O]):an(A[O]);if(jr(M,H))T(M,H,z,null,et,J,pt,at,ht);else break;g--,O--}if(b>g){if(b<=O){const M=O+1,H=M<v?A[M].el:j;for(;b<=O;)T(null,A[b]=ht?In(A[b]):an(A[b]),z,H,et,J,pt,at,ht),b++}}else if(b>O)for(;b<=g;)wt(R[b],et,J,!0),b++;else{const M=b,H=b,$=new Map;for(b=H;b<=O;b++){const fe=A[b]=ht?In(A[b]):an(A[b]);fe.key!=null&&$.set(fe.key,b)}let Et,Rt=0;const zt=O-H+1;let Jt=!1,Ht=0;const Ee=new Array(zt);for(b=0;b<zt;b++)Ee[b]=0;for(b=M;b<=g;b++){const fe=R[b];if(Rt>=zt){wt(fe,et,J,!0);continue}let _e;if(fe.key!=null)_e=$.get(fe.key);else for(Et=H;Et<=O;Et++)if(Ee[Et-H]===0&&jr(fe,A[Et])){_e=Et;break}_e===void 0?wt(fe,et,J,!0):(Ee[_e-H]=b+1,_e>=Ht?Ht=_e:Jt=!0,T(fe,A[_e],z,null,et,J,pt,at,ht),Rt++)}const hn=Jt?Jh(Ee):yr;for(Et=hn.length-1,b=zt-1;b>=0;b--){const fe=H+b,_e=A[fe],er=fe+1<v?A[fe+1].el:j;Ee[b]===0?T(null,_e,z,er,et,J,pt,at,ht):Jt&&(Et<0||b!==hn[Et]?st(_e,z,er,2):Et--)}}},st=(R,A,z,j,et=null)=>{const{el:J,type:pt,transition:at,children:ht,shapeFlag:b}=R;if(b&6){st(R.component.subTree,A,z,j);return}if(b&128){R.suspense.move(A,z,j);return}if(b&64){pt.move(R,A,z,N);return}if(pt===Fe){f(J,A,z);for(let g=0;g<ht.length;g++)st(ht[g],A,z,j);f(R.anchor,A,z);return}if(pt===Di){Z(R,A,z);return}if(j!==2&&b&1&&at)if(j===0)at.beforeEnter(J),f(J,A,z),Pe(()=>at.enter(J),et);else{const{leave:g,delayLeave:O,afterLeave:M}=at,H=()=>f(J,A,z),$=()=>{g(J,()=>{H(),M&&M()})};O?O(J,H,$):$()}else f(J,A,z)},wt=(R,A,z,j=!1,et=!1)=>{const{type:J,props:pt,ref:at,children:ht,dynamicChildren:b,shapeFlag:v,patchFlag:g,dirs:O}=R;if(at!=null&&jo(at,null,z,R,!0),v&256){A.ctx.deactivate(R);return}const M=v&1&&O,H=!Ni(R);let $;if(H&&($=pt&&pt.onVnodeBeforeUnmount)&&sn($,A,R),v&6)Lt(R.component,z,j);else{if(v&128){R.suspense.unmount(z,j);return}M&&Wn(R,null,A,"beforeUnmount"),v&64?R.type.remove(R,A,z,et,N,j):b&&(J!==Fe||g>0&&g&64)?Pt(b,A,z,!1,!0):(J===Fe&&g&384||!et&&v&16)&&Pt(ht,A,z),j&&Ut(R)}(H&&($=pt&&pt.onVnodeUnmounted)||M)&&Pe(()=>{$&&sn($,A,R),M&&Wn(R,null,A,"unmounted")},z)},Ut=R=>{const{type:A,el:z,anchor:j,transition:et}=R;if(A===Fe){Dt(z,j);return}if(A===Di){X(R);return}const J=()=>{l(z),et&&!et.persisted&&et.afterLeave&&et.afterLeave()};if(R.shapeFlag&1&&et&&!et.persisted){const{leave:pt,delayLeave:at}=et,ht=()=>pt(z,J);at?at(R.el,J,ht):ht()}else J()},Dt=(R,A)=>{let z;for(;R!==A;)z=F(R),l(R),R=z;l(A)},Lt=(R,A,z)=>{const{bum:j,scope:et,update:J,subTree:pt,um:at}=R;j&&Ri(j),et.stop(),J&&(J.active=!1,wt(pt,R,A,z)),at&&Pe(at,A),Pe(()=>{R.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},Pt=(R,A,z,j=!1,et=!1,J=0)=>{for(let pt=J;pt<R.length;pt++)wt(R[pt],A,z,j,et)},qt=R=>R.shapeFlag&6?qt(R.component.subTree):R.shapeFlag&128?R.suspense.next():F(R.anchor||R.el),Xt=(R,A,z)=>{R==null?A._vnode&&wt(A._vnode,null,null,!0):T(A._vnode||null,R,A,null,null,null,z),ka(),kc(),A._vnode=R},N={p:T,um:wt,m:st,r:Ut,mt:Ft,mc:ut,pc:It,pbc:Y,n:qt,o:i};let L,it;return s&&([L,it]=s(N)),{render:Xt,hydrate:L,createApp:Zh(Xt,L)}}function Hn({effect:i,update:s},u){i.allowRecurse=s.allowRecurse=u}function Yc(i,s,u=!1){const f=i.children,l=s.children;if(Ct(f)&&Ct(l))for(let d=0;d<f.length;d++){const w=f[d];let m=l[d];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=l[d]=In(l[d]),m.el=w.el),u||Yc(w,m)),m.type===to&&(m.el=w.el)}}function Jh(i){const s=i.slice(),u=[0];let f,l,d,w,m;const x=i.length;for(f=0;f<x;f++){const E=i[f];if(E!==0){if(l=u[u.length-1],i[l]<E){s[f]=l,u.push(f);continue}for(d=0,w=u.length-1;d<w;)m=d+w>>1,i[u[m]]<E?d=m+1:w=m;E<i[u[d]]&&(d>0&&(s[f]=u[d-1]),u[d]=f)}}for(d=u.length,w=u[d-1];d-- >0;)u[d]=w,w=s[w];return u}const Gh=i=>i.__isTeleport,Fe=Symbol(void 0),to=Symbol(void 0),Qn=Symbol(void 0),Di=Symbol(void 0),Hr=[];let Je=null;function Gt(i=!1){Hr.push(Je=i?null:[])}function Qh(){Hr.pop(),Je=Hr[Hr.length-1]||null}let Gr=1;function Pa(i){Gr+=i}function Zc(i){return i.dynamicChildren=Gr>0?Je||yr:null,Qh(),Gr>0&&Je&&Je.push(i),i}function ae(i,s,u,f,l,d){return Zc(ct(i,s,u,f,l,d,!0))}function eo(i,s,u,f,l){return Zc(He(i,s,u,f,l,!0))}function $h(i){return i?i.__v_isVNode===!0:!1}function jr(i,s){return i.type===s.type&&i.key===s.key}const no="__vInternal",Kc=({key:i})=>i??null,Li=({ref:i,ref_key:s,ref_for:u})=>i!=null?ge(i)||ye(i)||Bt(i)?{i:We,r:i,k:s,f:!!u}:i:null;function ct(i,s=null,u=null,f=0,l=null,d=i===Fe?0:1,w=!1,m=!1){const x={__v_isVNode:!0,__v_skip:!0,type:i,props:s,key:s&&Kc(s),ref:s&&Li(s),scopeId:Qi,slotScopeIds:null,children:u,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:f,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:We};return m?(is(x,u),d&128&&i.normalize(x)):u&&(x.shapeFlag|=ge(u)?8:16),Gr>0&&!w&&Je&&(x.patchFlag>0||d&6)&&x.patchFlag!==32&&Je.push(x),x}const He=td;function td(i,s=null,u=null,f=0,l=null,d=!1){if((!i||i===Mc)&&(i=Qn),$h(i)){const m=Er(i,s,!0);return u&&is(m,u),Gr>0&&!d&&Je&&(m.shapeFlag&6?Je[Je.indexOf(i)]=m:Je.push(m)),m.patchFlag|=-2,m}if(dd(i)&&(i=i.__vccOpts),s){s=ed(s);let{class:m,style:x}=s;m&&!ge(m)&&(s.class=un(m)),re(x)&&(_c(x)&&!Ct(x)&&(x=Re({},x)),s.style=Hi(x))}const w=ge(i)?1:wh(i)?128:Gh(i)?64:re(i)?4:Bt(i)?2:0;return ct(i,s,u,f,l,w,d,!0)}function ed(i){return i?_c(i)||no in i?Re({},i):i:null}function Er(i,s,u=!1){const{props:f,ref:l,patchFlag:d,children:w}=i,m=s?id(f||{},s):f;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:m,key:m&&Kc(m),ref:s&&s.ref?u&&l?Ct(l)?l.concat(Li(s)):[l,Li(s)]:Li(s):l,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:w,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:s&&i.type!==Fe?d===-1?16:d|16:d,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Er(i.ssContent),ssFallback:i.ssFallback&&Er(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce}}function nd(i=" ",s=0){return He(to,null,i,s)}function rd(i,s){const u=He(Di,null,i);return u.staticCount=s,u}function mr(i="",s=!1){return s?(Gt(),eo(Qn,null,i)):He(Qn,null,i)}function an(i){return i==null||typeof i=="boolean"?He(Qn):Ct(i)?He(Fe,null,i.slice()):typeof i=="object"?In(i):He(to,null,String(i))}function In(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Er(i)}function is(i,s){let u=0;const{shapeFlag:f}=i;if(s==null)s=null;else if(Ct(s))u=16;else if(typeof s=="object")if(f&65){const l=s.default;l&&(l._c&&(l._d=!1),is(i,l()),l._c&&(l._d=!0));return}else{u=32;const l=s._;!l&&!(no in s)?s._ctx=We:l===3&&We&&(We.slots._===1?s._=1:(s._=2,i.patchFlag|=1024))}else Bt(s)?(s={default:s,_ctx:We},u=32):(s=String(s),f&64?(u=16,s=[nd(s)]):u=8);i.children=s,i.shapeFlag|=u}function id(...i){const s={};for(let u=0;u<i.length;u++){const f=i[u];for(const l in f)if(l==="class")s.class!==f.class&&(s.class=un([s.class,f.class]));else if(l==="style")s.style=Hi([s.style,f.style]);else if(Vi(l)){const d=s[l],w=f[l];w&&d!==w&&!(Ct(d)&&d.includes(w))&&(s[l]=d?[].concat(d,w):w)}else l!==""&&(s[l]=f[l])}return s}function sn(i,s,u,f=null){Qe(i,s,7,[u,f])}const od=Vc();let sd=0;function ad(i,s,u){const f=i.type,l=(s?s.appContext:i.appContext)||od,d={uid:sd++,vnode:i,type:f,parent:s,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new oc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zc(f,l),emitsOptions:Rc(f,l),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:f.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:u,suspenseId:u?u.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=s?s.root:d,d.emit=ph.bind(null,d),i.ce&&i.ce(d),d}let pe=null;const Ze=()=>pe||We,xr=i=>{pe=i,i.scope.on()},Gn=()=>{pe&&pe.scope.off(),pe=null};function qc(i){return i.vnode.shapeFlag&4}let Qr=!1;function cd(i,s=!1){Qr=s;const{props:u,children:f}=i.vnode,l=qc(i);zh(i,u,l,s),Xh(i,f);const d=l?ud(i,s):void 0;return Qr=!1,d}function ud(i,s){const u=i.type;i.accessCache=Object.create(null),i.proxy=wr(new Proxy(i.ctx,Ch));const{setup:f}=u;if(f){const l=i.setupContext=f.length>1?ld(i):null;xr(i),br();const d=Tn(f,i,0,[i.props,l]);if(Fr(),Gn(),nc(d)){if(d.then(Gn,Gn),s)return d.then(w=>{Ma(i,w,s)}).catch(w=>{Ji(w,i,0)});i.asyncDep=d}else Ma(i,d,s)}else Jc(i,s)}function Ma(i,s,u){Bt(s)?i.type.__ssrInlineRender?i.ssrRender=s:i.render=s:re(s)&&(i.setupState=Ec(s)),Jc(i,u)}let Ua;function Jc(i,s,u){const f=i.type;if(!i.render){if(!s&&Ua&&!f.render){const l=f.template||ns(i).template;if(l){const{isCustomElement:d,compilerOptions:w}=i.appContext.config,{delimiters:m,compilerOptions:x}=f,E=Re(Re({isCustomElement:d,delimiters:m},w),x);f.render=Ua(l,E)}}i.render=f.render||Ge}xr(i),br(),Ph(i),Fr(),Gn()}function fd(i){return new Proxy(i.attrs,{get(s,u){return Me(i,"get","$attrs"),s[u]}})}function ld(i){const s=f=>{i.exposed=f||{}};let u;return{get attrs(){return u||(u=fd(i))},slots:i.slots,emit:i.emit,expose:s}}function ro(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(Ec(wr(i.exposed)),{get(s,u){if(u in s)return s[u];if(u in Wr)return Wr[u](i)},has(s,u){return u in s||u in Wr}}))}function hd(i,s=!0){return Bt(i)?i.displayName||i.name:i.name||s&&i.__name}function dd(i){return Bt(i)&&"__vccOpts"in i}const Gc=(i,s)=>ch(i,s,Qr),pd=Symbol(""),yd=()=>zr(pd),vd="3.2.47",gd="http://www.w3.org/2000/svg",Yn=typeof document<"u"?document:null,ja=Yn&&Yn.createElement("template"),md={insert:(i,s,u)=>{s.insertBefore(i,u||null)},remove:i=>{const s=i.parentNode;s&&s.removeChild(i)},createElement:(i,s,u,f)=>{const l=s?Yn.createElementNS(gd,i):Yn.createElement(i,u?{is:u}:void 0);return i==="select"&&f&&f.multiple!=null&&l.setAttribute("multiple",f.multiple),l},createText:i=>Yn.createTextNode(i),createComment:i=>Yn.createComment(i),setText:(i,s)=>{i.nodeValue=s},setElementText:(i,s)=>{i.textContent=s},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>Yn.querySelector(i),setScopeId(i,s){i.setAttribute(s,"")},insertStaticContent(i,s,u,f,l,d){const w=u?u.previousSibling:s.lastChild;if(l&&(l===d||l.nextSibling))for(;s.insertBefore(l.cloneNode(!0),u),!(l===d||!(l=l.nextSibling)););else{ja.innerHTML=f?`<svg>${i}</svg>`:i;const m=ja.content;if(f){const x=m.firstChild;for(;x.firstChild;)m.appendChild(x.firstChild);m.removeChild(x)}s.insertBefore(m,u)}return[w?w.nextSibling:s.firstChild,u?u.previousSibling:s.lastChild]}};function _d(i,s,u){const f=i._vtc;f&&(s=(s?[s,...f]:[...f]).join(" ")),s==null?i.removeAttribute("class"):u?i.setAttribute("class",s):i.className=s}function wd(i,s,u){const f=i.style,l=ge(u);if(u&&!l){if(s&&!ge(s))for(const d in s)u[d]==null&&Bo(f,d,"");for(const d in u)Bo(f,d,u[d])}else{const d=f.display;l?s!==u&&(f.cssText=u):s&&i.removeAttribute("style"),"_vod"in i&&(f.display=d)}}const Ba=/\s*!important$/;function Bo(i,s,u){if(Ct(u))u.forEach(f=>Bo(i,s,f));else if(u==null&&(u=""),s.startsWith("--"))i.setProperty(s,u);else{const f=Sd(i,s);Ba.test(u)?i.setProperty($n(f),u.replace(Ba,""),"important"):i[f]=u}}const za=["Webkit","Moz","ms"],Ro={};function Sd(i,s){const u=Ro[s];if(u)return u;let f=fn(s);if(f!=="filter"&&f in i)return Ro[s]=f;f=Ki(f);for(let l=0;l<za.length;l++){const d=za[l]+f;if(d in i)return Ro[s]=d}return s}const Wa="http://www.w3.org/1999/xlink";function Ed(i,s,u,f,l){if(f&&s.startsWith("xlink:"))u==null?i.removeAttributeNS(Wa,s.slice(6,s.length)):i.setAttributeNS(Wa,s,u);else{const d=yl(s);u==null||d&&!tc(u)?i.removeAttribute(s):i.setAttribute(s,d?"":u)}}function xd(i,s,u,f,l,d,w){if(s==="innerHTML"||s==="textContent"){f&&w(f,l,d),i[s]=u??"";return}if(s==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=u;const x=u??"";(i.value!==x||i.tagName==="OPTION")&&(i.value=x),u==null&&i.removeAttribute(s);return}let m=!1;if(u===""||u==null){const x=typeof i[s];x==="boolean"?u=tc(u):u==null&&x==="string"?(u="",m=!0):x==="number"&&(u=0,m=!0)}try{i[s]=u}catch{}m&&i.removeAttribute(s)}function Zn(i,s,u,f){i.addEventListener(s,u,f)}function bd(i,s,u,f){i.removeEventListener(s,u,f)}function Fd(i,s,u,f,l=null){const d=i._vei||(i._vei={}),w=d[s];if(f&&w)w.value=f;else{const[m,x]=Id(s);if(f){const E=d[s]=Rd(f,l);Zn(i,m,E,x)}else w&&(bd(i,m,w,x),d[s]=void 0)}}const Ha=/(?:Once|Passive|Capture)$/;function Id(i){let s;if(Ha.test(i)){s={};let f;for(;f=i.match(Ha);)i=i.slice(0,i.length-f[0].length),s[f[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):$n(i.slice(2)),s]}let To=0;const kd=Promise.resolve(),Od=()=>To||(kd.then(()=>To=0),To=Date.now());function Rd(i,s){const u=f=>{if(!f._vts)f._vts=Date.now();else if(f._vts<=u.attached)return;Qe(Td(f,u.value),s,5,[f])};return u.value=i,u.attached=Od(),u}function Td(i,s){if(Ct(s)){const u=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{u.call(i),i._stopped=!0},s.map(f=>l=>!l._stopped&&f&&f(l))}else return s}const Xa=/^on[a-z]/,Nd=(i,s,u,f,l=!1,d,w,m,x)=>{s==="class"?_d(i,f,l):s==="style"?wd(i,u,f):Vi(s)?Xo(s)||Fd(i,s,u,f,w):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Dd(i,s,f,l))?xd(i,s,f,d,w,m,x):(s==="true-value"?i._trueValue=f:s==="false-value"&&(i._falseValue=f),Ed(i,s,f,l))};function Dd(i,s,u,f){return f?!!(s==="innerHTML"||s==="textContent"||s in i&&Xa.test(s)&&Bt(u)):s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&i.tagName==="INPUT"||s==="type"&&i.tagName==="TEXTAREA"||Xa.test(s)&&ge(u)?!1:s in i}const Bi=i=>{const s=i.props["onUpdate:modelValue"]||!1;return Ct(s)?u=>Ri(s,u):s};function Ld(i){i.target.composing=!0}function Va(i){const s=i.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const $r={created(i,{modifiers:{lazy:s,trim:u,number:f}},l){i._assign=Bi(l);const d=f||l.props&&l.props.type==="number";Zn(i,s?"change":"input",w=>{if(w.target.composing)return;let m=i.value;u&&(m=m.trim()),d&&(m=Ci(m)),i._assign(m)}),u&&Zn(i,"change",()=>{i.value=i.value.trim()}),s||(Zn(i,"compositionstart",Ld),Zn(i,"compositionend",Va),Zn(i,"change",Va))},mounted(i,{value:s}){i.value=s??""},beforeUpdate(i,{value:s,modifiers:{lazy:u,trim:f,number:l}},d){if(i._assign=Bi(d),i.composing||document.activeElement===i&&i.type!=="range"&&(u||f&&i.value.trim()===s||(l||i.type==="number")&&Ci(i.value)===s))return;const w=s??"";i.value!==w&&(i.value=w)}},Ad={deep:!0,created(i,{value:s,modifiers:{number:u}},f){const l=Yi(s);Zn(i,"change",()=>{const d=Array.prototype.filter.call(i.options,w=>w.selected).map(w=>u?Ci(zi(w)):zi(w));i._assign(i.multiple?l?new Set(d):d:d[0])}),i._assign=Bi(f)},mounted(i,{value:s}){Ya(i,s)},beforeUpdate(i,s,u){i._assign=Bi(u)},updated(i,{value:s}){Ya(i,s)}};function Ya(i,s){const u=i.multiple;if(!(u&&!Ct(s)&&!Yi(s))){for(let f=0,l=i.options.length;f<l;f++){const d=i.options[f],w=zi(d);if(u)Ct(s)?d.selected=gl(s,w)>-1:d.selected=s.has(w);else if(Xi(zi(d),s)){i.selectedIndex!==f&&(i.selectedIndex=f);return}}!u&&i.selectedIndex!==-1&&(i.selectedIndex=-1)}}function zi(i){return"_value"in i?i._value:i.value}const Cd=["ctrl","shift","alt","meta"],Pd={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,s)=>Cd.some(u=>i[`${u}Key`]&&!s.includes(u))},Za=(i,s)=>(u,...f)=>{for(let l=0;l<s.length;l++){const d=Pd[s[l]];if(d&&d(u,s))return}return i(u,...f)},Md={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},pr=(i,s)=>u=>{if(!("key"in u))return;const f=$n(u.key);if(s.some(l=>l===f||Md[l]===f))return i(u)},Ud=Re({patchProp:Nd},md);let Ka;function jd(){return Ka||(Ka=Kh(Ud))}const Bd=(...i)=>{const s=jd().createApp(...i),{mount:u}=s;return s.mount=f=>{const l=zd(f);if(!l)return;const d=s._component;!Bt(d)&&!d.render&&!d.template&&(d.template=l.innerHTML),l.innerHTML="";const w=u(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),w},s};function zd(i){return ge(i)?document.querySelector(i):i}var Wd=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Qc;const io=i=>Qc=i,$c=Symbol();function zo(i){return i&&typeof i=="object"&&Object.prototype.toString.call(i)==="[object Object]"&&typeof i.toJSON!="function"}var Xr;(function(i){i.direct="direct",i.patchObject="patch object",i.patchFunction="patch function"})(Xr||(Xr={}));function Hd(){const i=sc(!0),s=i.run(()=>Wt({}));let u=[],f=[];const l=wr({install(d){io(l),l._a=d,d.provide($c,l),d.config.globalProperties.$pinia=l,f.forEach(w=>u.push(w)),f=[]},use(d){return!this._a&&!Wd?f.push(d):u.push(d),this},_p:u,_a:null,_e:i,_s:new Map,state:s});return l}const tu=()=>{};function qa(i,s,u,f=tu){i.push(s);const l=()=>{const d=i.indexOf(s);d>-1&&(i.splice(d,1),f())};return!u&&ac()&&Il(l),l}function dr(i,...s){i.slice().forEach(u=>{u(...s)})}function Wo(i,s){i instanceof Map&&s instanceof Map&&s.forEach((u,f)=>i.set(f,u)),i instanceof Set&&s instanceof Set&&s.forEach(i.add,i);for(const u in s){if(!s.hasOwnProperty(u))continue;const f=s[u],l=i[u];zo(l)&&zo(f)&&i.hasOwnProperty(u)&&!ye(f)&&!Rn(f)?i[u]=Wo(l,f):i[u]=f}return i}const Xd=Symbol();function Vd(i){return!zo(i)||!i.hasOwnProperty(Xd)}const{assign:kn}=Object;function Yd(i){return!!(ye(i)&&i.effect)}function Zd(i,s,u,f){const{state:l,actions:d,getters:w}=s,m=u.state.value[i];let x;function E(){m||(u.state.value[i]=l?l():{});const _=ih(u.state.value[i]);return kn(_,d,Object.keys(w||{}).reduce((h,F)=>(h[F]=wr(Gc(()=>{io(u);const y=u._s.get(i);return w[F].call(y,y)})),h),{}))}return x=eu(i,E,s,u,f,!0),x.$reset=function(){const h=l?l():{};this.$patch(F=>{kn(F,h)})},x}function eu(i,s,u={},f,l,d){let w;const m=kn({actions:{}},u),x={deep:!0};let E,_,h=wr([]),F=wr([]),y;const D=f.state.value[i];!d&&!D&&(f.state.value[i]={}),Wt({});let T;function C(Q){let ut;E=_=!1,typeof Q=="function"?(Q(f.state.value[i]),ut={type:Xr.patchFunction,storeId:i,events:y}):(Wo(f.state.value[i],Q),ut={type:Xr.patchObject,payload:Q,storeId:i,events:y});const St=T=Symbol();Fc().then(()=>{T===St&&(E=!0)}),_=!0,dr(h,ut,f.state.value[i])}const U=tu;function B(){w.stop(),h=[],F=[],f._s.delete(i)}function Z(Q,ut){return function(){io(f);const St=Array.from(arguments),Y=[],ot=[];function _t(Nt){Y.push(Nt)}function Mt(Nt){ot.push(Nt)}dr(F,{args:St,name:Q,store:V,after:_t,onError:Mt});let Ft;try{Ft=ut.apply(this&&this.$id===i?this:V,St)}catch(Nt){throw dr(ot,Nt),Nt}return Ft instanceof Promise?Ft.then(Nt=>(dr(Y,Nt),Nt)).catch(Nt=>(dr(ot,Nt),Promise.reject(Nt))):(dr(Y,Ft),Ft)}}const X={_p:f,$id:i,$onAction:qa.bind(null,F),$patch:C,$reset:U,$subscribe(Q,ut={}){const St=qa(h,Q,ut.detached,()=>Y()),Y=w.run(()=>Ti(()=>f.state.value[i],ot=>{(ut.flush==="sync"?_:E)&&Q({storeId:i,type:Xr.direct,events:y},ot)},kn({},x,ut)));return St},$dispose:B},V=Ir(X);f._s.set(i,V);const yt=f._e.run(()=>(w=sc(),w.run(()=>s())));for(const Q in yt){const ut=yt[Q];if(ye(ut)&&!Yd(ut)||Rn(ut))d||(D&&Vd(ut)&&(ye(ut)?ut.value=D[Q]:Wo(ut,D[Q])),f.state.value[i][Q]=ut);else if(typeof ut=="function"){const St=Z(Q,ut);yt[Q]=St,m.actions[Q]=ut}}return kn(V,yt),kn(Kt(V),yt),Object.defineProperty(V,"$state",{get:()=>f.state.value[i],set:Q=>{C(ut=>{kn(ut,Q)})}}),f._p.forEach(Q=>{kn(V,w.run(()=>Q({store:V,app:f._a,pinia:f,options:m})))}),D&&d&&u.hydrate&&u.hydrate(V.$state,D),E=!0,_=!0,V}function os(i,s,u){let f,l;const d=typeof s=="function";typeof i=="string"?(f=i,l=d?u:s):(l=i,f=i.id);function w(m,x){const E=Ze();return m=m||E&&zr($c,null),m&&io(m),m=Qc,m._s.has(f)||(d?eu(f,s,l,m):Zd(f,l,m)),m._s.get(f)}return w.$id=f,w}function Kd(i){return{all:i=i||new Map,on:function(s,u){var f=i.get(s);f?f.push(u):i.set(s,[u])},off:function(s,u){var f=i.get(s);f&&(u?f.splice(f.indexOf(u)>>>0,1):i.set(s,[]))},emit:function(s,u){var f=i.get(s);f&&f.slice().map(function(l){l(u)}),(f=i.get("*"))&&f.slice().map(function(l){l(s,u)})}}}var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ti={},Jd={get exports(){return ti},set exports(i){ti=i}};(function(i,s){(function(f,l){i.exports=l()})(qd,function(){return function(u){var f={};function l(d){if(f[d])return f[d].exports;var w=f[d]={exports:{},id:d,loaded:!1};return u[d].call(w.exports,w,w.exports,l),w.loaded=!0,w.exports}return l.m=u,l.c=f,l.p="",l(0)}([function(u,f,l){(function(d,w,m,x){Object.defineProperty(f,"__esModule",{value:!0});var E=l(2),_=l(9),h;(function(r){r[r.EPERM=1]="EPERM",r[r.ENOENT=2]="ENOENT",r[r.EIO=5]="EIO",r[r.EBADF=9]="EBADF",r[r.EACCES=13]="EACCES",r[r.EBUSY=16]="EBUSY",r[r.EEXIST=17]="EEXIST",r[r.ENOTDIR=20]="ENOTDIR",r[r.EISDIR=21]="EISDIR",r[r.EINVAL=22]="EINVAL",r[r.EFBIG=27]="EFBIG",r[r.ENOSPC=28]="ENOSPC",r[r.EROFS=30]="EROFS",r[r.ENOTEMPTY=39]="ENOTEMPTY",r[r.ENOTSUP=95]="ENOTSUP"})(h||(h={}));var F={};F[h.EPERM]="Operation not permitted.",F[h.ENOENT]="No such file or directory.",F[h.EIO]="Input/output error.",F[h.EBADF]="Bad file descriptor.",F[h.EACCES]="Permission denied.",F[h.EBUSY]="Resource busy or locked.",F[h.EEXIST]="File exists.",F[h.ENOTDIR]="File is not a directory.",F[h.EISDIR]="File is a directory.",F[h.EINVAL]="Invalid argument.",F[h.EFBIG]="File is too big.",F[h.ENOSPC]="No space left on disk.",F[h.EROFS]="Cannot modify a read-only file system.",F[h.ENOTEMPTY]="Directory is not empty.",F[h.ENOTSUP]="Operation is not supported.";var y=function(r){function t(n,e,o){e===void 0&&(e=F[n]),r.call(this,e),this.syscall="",this.errno=n,this.code=h[n],this.path=o,this.stack=new r().stack,this.message="Error: "+this.code+": "+e+(this.path?", '"+this.path+"'":"")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.fromJSON=function(e){var o=new t(0);return o.errno=e.errno,o.code=e.code,o.path=e.path,o.stack=e.stack,o.message=e.message,o},t.fromBuffer=function(e,o){return o===void 0&&(o=0),t.fromJSON(JSON.parse(e.toString("utf8",o+4,o+4+e.readUInt32LE(o))))},t.FileError=function(e,o){return new t(e,F[e],o)},t.ENOENT=function(e){return this.FileError(h.ENOENT,e)},t.EEXIST=function(e){return this.FileError(h.EEXIST,e)},t.EISDIR=function(e){return this.FileError(h.EISDIR,e)},t.ENOTDIR=function(e){return this.FileError(h.ENOTDIR,e)},t.EPERM=function(e){return this.FileError(h.EPERM,e)},t.ENOTEMPTY=function(e){return this.FileError(h.ENOTEMPTY,e)},t.prototype.toString=function(){return this.message},t.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},t.prototype.writeToBuffer=function(e,o){e===void 0&&(e=d.alloc(this.bufferSize())),o===void 0&&(o=0);var a=e.write(JSON.stringify(this.toJSON()),o+4);return e.writeUInt32LE(a,o),e},t.prototype.bufferSize=function(){return 4+d.byteLength(JSON.stringify(this.toJSON()))},t}(Error),D=Object.freeze({get ErrorCode(){return h},ErrorStrings:F,ApiError:y}),T;(function(r){r[r.NOP=0]="NOP",r[r.THROW_EXCEPTION=1]="THROW_EXCEPTION",r[r.TRUNCATE_FILE=2]="TRUNCATE_FILE",r[r.CREATE_FILE=3]="CREATE_FILE"})(T||(T={}));var C=function r(t){if(this.flagStr=t,r.validFlagStrs.indexOf(t)<0)throw new y(h.EINVAL,"Invalid flag: "+t)};C.getFileFlag=function(t){return C.flagCache.hasOwnProperty(t)?C.flagCache[t]:C.flagCache[t]=new C(t)},C.prototype.getFlagString=function(){return this.flagStr},C.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},C.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},C.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},C.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},C.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},C.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},C.prototype.pathExistsAction=function(){return this.isExclusive()?T.THROW_EXCEPTION:this.isTruncating()?T.TRUNCATE_FILE:T.NOP},C.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?T.CREATE_FILE:T.THROW_EXCEPTION},C.flagCache={},C.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var U;(function(r){r[r.FILE=32768]="FILE",r[r.DIRECTORY=16384]="DIRECTORY",r[r.SYMLINK=40960]="SYMLINK"})(U||(U={}));var B=function(t,n,e,o,a,c){if(o===void 0&&(o=new Date),a===void 0&&(a=new Date),c===void 0&&(c=new Date),this.size=n,this.atime=o,this.mtime=a,this.ctime=c,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,e)this.mode=e;else switch(t){case U.FILE:this.mode=420;break;case U.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(n/512),this.mode<4096&&(this.mode|=t)};B.fromBuffer=function(t){var n=t.readUInt32LE(0),e=t.readUInt32LE(4),o=t.readDoubleLE(8),a=t.readDoubleLE(16),c=t.readDoubleLE(24);return new B(e&61440,n,e&4095,new Date(o),new Date(a),new Date(c))},B.prototype.toBuffer=function(){var t=d.alloc(32);return t.writeUInt32LE(this.size,0),t.writeUInt32LE(this.mode,4),t.writeDoubleLE(this.atime.getTime(),8),t.writeDoubleLE(this.mtime.getTime(),16),t.writeDoubleLE(this.ctime.getTime(),24),t},B.prototype.clone=function(){return new B(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},B.prototype.isFile=function(){return(this.mode&61440)===U.FILE},B.prototype.isDirectory=function(){return(this.mode&61440)===U.DIRECTORY},B.prototype.isSymbolicLink=function(){return(this.mode&61440)===U.SYMLINK},B.prototype.chmod=function(t){this.mode=this.mode&61440|t},B.prototype.isSocket=function(){return!1},B.prototype.isBlockDevice=function(){return!1},B.prototype.isCharacterDevice=function(){return!1},B.prototype.isFIFO=function(){return!1};var Z=function(r,t){return r};function X(r){if(r)return r;throw new y(h.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function V(r,t){switch(typeof r){case"number":return r;case"string":var n=parseInt(r,8);return isNaN(n)?t:n;default:return t}}function yt(r){if(r instanceof Date)return r;if(typeof r=="number")return new Date(r*1e3);throw new y(h.EINVAL,"Invalid time.")}function Q(r){if(r.indexOf("\0")>=0)throw new y(h.EINVAL,"Path must be a string without null bytes.");if(r==="")throw new y(h.EINVAL,"Path must not be empty.");return _.resolve(r)}function ut(r,t,n,e){switch(typeof r){case"object":return{encoding:typeof r.encoding<"u"?r.encoding:t,flag:typeof r.flag<"u"?r.flag:n,mode:V(r.mode,e)};case"string":return{encoding:r,flag:n,mode:e};default:return{encoding:t,flag:n,mode:e}}}function St(){}var Y=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};Y.prototype.initialize=function(t){if(!t.constructor.isAvailable())throw new y(h.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=t},Y.prototype._toUnixTimestamp=function(t){if(typeof t=="number")return t;if(t instanceof Date)return t.getTime()/1e3;throw new Error("Cannot parse time: "+t)},Y.prototype.getRootFS=function(){return this.root?this.root:null},Y.prototype.rename=function(t,n,e){e===void 0&&(e=St);var o=Z(e,1);try{X(this.root).rename(Q(t),Q(n),o)}catch(a){o(a)}},Y.prototype.renameSync=function(t,n){X(this.root).renameSync(Q(t),Q(n))},Y.prototype.exists=function(t,n){n===void 0&&(n=St);var e=Z(n,1);try{return X(this.root).exists(Q(t),e)}catch{return e(!1)}},Y.prototype.existsSync=function(t){try{return X(this.root).existsSync(Q(t))}catch{return!1}},Y.prototype.stat=function(t,n){n===void 0&&(n=St);var e=Z(n,2);try{return X(this.root).stat(Q(t),!1,e)}catch(o){return e(o)}},Y.prototype.statSync=function(t){return X(this.root).statSync(Q(t),!1)},Y.prototype.lstat=function(t,n){n===void 0&&(n=St);var e=Z(n,2);try{return X(this.root).stat(Q(t),!0,e)}catch(o){return e(o)}},Y.prototype.lstatSync=function(t){return X(this.root).statSync(Q(t),!0)},Y.prototype.truncate=function(t,n,e){n===void 0&&(n=0),e===void 0&&(e=St);var o=0;typeof n=="function"?e=n:typeof n=="number"&&(o=n);var a=Z(e,1);try{if(o<0)throw new y(h.EINVAL);return X(this.root).truncate(Q(t),o,a)}catch(c){return a(c)}},Y.prototype.truncateSync=function(t,n){if(n===void 0&&(n=0),n<0)throw new y(h.EINVAL);return X(this.root).truncateSync(Q(t),n)},Y.prototype.unlink=function(t,n){n===void 0&&(n=St);var e=Z(n,1);try{return X(this.root).unlink(Q(t),e)}catch(o){return e(o)}},Y.prototype.unlinkSync=function(t){return X(this.root).unlinkSync(Q(t))},Y.prototype.open=function(t,n,e,o){var a=this;o===void 0&&(o=St);var c=V(e,420);o=typeof e=="function"?e:o;var p=Z(o,2);try{X(this.root).open(Q(t),C.getFileFlag(n),c,function(S,I){I?p(S,a.getFdForFile(I)):p(S)})}catch(S){p(S)}},Y.prototype.openSync=function(t,n,e){return e===void 0&&(e=420),this.getFdForFile(X(this.root).openSync(Q(t),C.getFileFlag(n),V(e,420)))},Y.prototype.readFile=function(t,n,e){n===void 0&&(n={}),e===void 0&&(e=St);var o=ut(n,null,"r",null);e=typeof n=="function"?n:e;var a=Z(e,2);try{var c=C.getFileFlag(o.flag);return c.isReadable()?X(this.root).readFile(Q(t),o.encoding,c,a):a(new y(h.EINVAL,"Flag passed to readFile must allow for reading."))}catch(p){return a(p)}},Y.prototype.readFileSync=function(t,n){n===void 0&&(n={});var e=ut(n,null,"r",null),o=C.getFileFlag(e.flag);if(!o.isReadable())throw new y(h.EINVAL,"Flag passed to readFile must allow for reading.");return X(this.root).readFileSync(Q(t),e.encoding,o)},Y.prototype.writeFile=function(t,n,e,o){e===void 0&&(e={}),o===void 0&&(o=St);var a=ut(e,"utf8","w",420);o=typeof e=="function"?e:o;var c=Z(o,1);try{var p=C.getFileFlag(a.flag);return p.isWriteable()?X(this.root).writeFile(Q(t),n,a.encoding,p,a.mode,c):c(new y(h.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(S){return c(S)}},Y.prototype.writeFileSync=function(t,n,e){var o=ut(e,"utf8","w",420),a=C.getFileFlag(o.flag);if(!a.isWriteable())throw new y(h.EINVAL,"Flag passed to writeFile must allow for writing.");return X(this.root).writeFileSync(Q(t),n,o.encoding,a,o.mode)},Y.prototype.appendFile=function(t,n,e,o){o===void 0&&(o=St);var a=ut(e,"utf8","a",420);o=typeof e=="function"?e:o;var c=Z(o,1);try{var p=C.getFileFlag(a.flag);if(!p.isAppendable())return c(new y(h.EINVAL,"Flag passed to appendFile must allow for appending."));X(this.root).appendFile(Q(t),n,a.encoding,p,a.mode,c)}catch(S){c(S)}},Y.prototype.appendFileSync=function(t,n,e){var o=ut(e,"utf8","a",420),a=C.getFileFlag(o.flag);if(!a.isAppendable())throw new y(h.EINVAL,"Flag passed to appendFile must allow for appending.");return X(this.root).appendFileSync(Q(t),n,o.encoding,a,o.mode)},Y.prototype.fstat=function(t,n){n===void 0&&(n=St);var e=Z(n,2);try{var o=this.fd2file(t);o.stat(e)}catch(a){e(a)}},Y.prototype.fstatSync=function(t){return this.fd2file(t).statSync()},Y.prototype.close=function(t,n){var e=this;n===void 0&&(n=St);var o=Z(n,1);try{this.fd2file(t).close(function(a){a||e.closeFd(t),o(a)})}catch(a){o(a)}},Y.prototype.closeSync=function(t){this.fd2file(t).closeSync(),this.closeFd(t)},Y.prototype.ftruncate=function(t,n,e){e===void 0&&(e=St);var o=typeof n=="number"?n:0;e=typeof n=="function"?n:e;var a=Z(e,1);try{var c=this.fd2file(t);if(o<0)throw new y(h.EINVAL);c.truncate(o,a)}catch(p){a(p)}},Y.prototype.ftruncateSync=function(t,n){n===void 0&&(n=0);var e=this.fd2file(t);if(n<0)throw new y(h.EINVAL);e.truncateSync(n)},Y.prototype.fsync=function(t,n){n===void 0&&(n=St);var e=Z(n,1);try{this.fd2file(t).sync(e)}catch(o){e(o)}},Y.prototype.fsyncSync=function(t){this.fd2file(t).syncSync()},Y.prototype.fdatasync=function(t,n){n===void 0&&(n=St);var e=Z(n,1);try{this.fd2file(t).datasync(e)}catch(o){e(o)}},Y.prototype.fdatasyncSync=function(t){this.fd2file(t).datasyncSync()},Y.prototype.write=function(t,n,e,o,a,c){c===void 0&&(c=St);var p,S,I,P=null;if(typeof n=="string"){var W="utf8";switch(typeof e){case"function":c=e;break;case"number":P=e,W=typeof o=="string"?o:"utf8",c=typeof a=="function"?a:c;break;default:return c=typeof o=="function"?o:typeof a=="function"?a:c,c(new y(h.EINVAL,"Invalid arguments."))}p=d.from(n,W),S=0,I=p.length}else p=n,S=e,I=o,P=typeof a=="number"?a:null,c=typeof a=="function"?a:c;var tt=Z(c,3);try{var ft=this.fd2file(t);P==null&&(P=ft.getPos()),ft.write(p,S,I,P,tt)}catch(dt){tt(dt)}},Y.prototype.writeSync=function(t,n,e,o,a){var c,p=0,S,I;if(typeof n=="string"){I=typeof e=="number"?e:null;var P=typeof o=="string"?o:"utf8";p=0,c=d.from(n,P),S=c.length}else c=n,p=e,S=o,I=typeof a=="number"?a:null;var W=this.fd2file(t);return I==null&&(I=W.getPos()),W.writeSync(c,p,S,I)},Y.prototype.read=function(t,n,e,o,a,c){c===void 0&&(c=St);var p,S,I,P,W;if(typeof n=="number"){I=n,p=e;var tt=o;c=typeof a=="function"?a:c,S=0,P=d.alloc(I),W=Z(function(dt,kt,Tt){if(dt)return c(dt);c(dt,Tt.toString(tt),kt)},3)}else P=n,S=e,I=o,p=a,W=Z(c,3);try{var ft=this.fd2file(t);p==null&&(p=ft.getPos()),ft.read(P,S,I,p,W)}catch(dt){W(dt)}},Y.prototype.readSync=function(t,n,e,o,a){var c=!1,p,S,I,P,W="utf8";typeof n=="number"?(I=n,P=e,W=o,S=0,p=d.alloc(I),c=!0):(p=n,S=e,I=o,P=a);var tt=this.fd2file(t);P==null&&(P=tt.getPos());var ft=tt.readSync(p,S,I,P);return c?[p.toString(W),ft]:ft},Y.prototype.fchown=function(t,n,e,o){o===void 0&&(o=St);var a=Z(o,1);try{this.fd2file(t).chown(n,e,a)}catch(c){a(c)}},Y.prototype.fchownSync=function(t,n,e){this.fd2file(t).chownSync(n,e)},Y.prototype.fchmod=function(t,n,e){var o=Z(e,1);try{var a=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmod(a,o)}catch(c){o(c)}},Y.prototype.fchmodSync=function(t,n){var e=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmodSync(e)},Y.prototype.futimes=function(t,n,e,o){o===void 0&&(o=St);var a=Z(o,1);try{var c=this.fd2file(t);typeof n=="number"&&(n=new Date(n*1e3)),typeof e=="number"&&(e=new Date(e*1e3)),c.utimes(n,e,a)}catch(p){a(p)}},Y.prototype.futimesSync=function(t,n,e){this.fd2file(t).utimesSync(yt(n),yt(e))},Y.prototype.rmdir=function(t,n){n===void 0&&(n=St);var e=Z(n,1);try{t=Q(t),X(this.root).rmdir(t,e)}catch(o){e(o)}},Y.prototype.rmdirSync=function(t){return t=Q(t),X(this.root).rmdirSync(t)},Y.prototype.mkdir=function(t,n,e){e===void 0&&(e=St),typeof n=="function"&&(e=n,n=511);var o=Z(e,1);try{t=Q(t),X(this.root).mkdir(t,n,o)}catch(a){o(a)}},Y.prototype.mkdirSync=function(t,n){X(this.root).mkdirSync(Q(t),V(n,511))},Y.prototype.readdir=function(t,n){n===void 0&&(n=St);var e=Z(n,2);try{t=Q(t),X(this.root).readdir(t,e)}catch(o){e(o)}},Y.prototype.readdirSync=function(t){return t=Q(t),X(this.root).readdirSync(t)},Y.prototype.link=function(t,n,e){e===void 0&&(e=St);var o=Z(e,1);try{t=Q(t),n=Q(n),X(this.root).link(t,n,o)}catch(a){o(a)}},Y.prototype.linkSync=function(t,n){return t=Q(t),n=Q(n),X(this.root).linkSync(t,n)},Y.prototype.symlink=function(t,n,e,o){o===void 0&&(o=St);var a=typeof e=="string"?e:"file";o=typeof e=="function"?e:o;var c=Z(o,1);try{if(a!=="file"&&a!=="dir")return c(new y(h.EINVAL,"Invalid type: "+a));t=Q(t),n=Q(n),X(this.root).symlink(t,n,a,c)}catch(p){c(p)}},Y.prototype.symlinkSync=function(t,n,e){if(!e)e="file";else if(e!=="file"&&e!=="dir")throw new y(h.EINVAL,"Invalid type: "+e);return t=Q(t),n=Q(n),X(this.root).symlinkSync(t,n,e)},Y.prototype.readlink=function(t,n){n===void 0&&(n=St);var e=Z(n,2);try{t=Q(t),X(this.root).readlink(t,e)}catch(o){e(o)}},Y.prototype.readlinkSync=function(t){return t=Q(t),X(this.root).readlinkSync(t)},Y.prototype.chown=function(t,n,e,o){o===void 0&&(o=St);var a=Z(o,1);try{t=Q(t),X(this.root).chown(t,!1,n,e,a)}catch(c){a(c)}},Y.prototype.chownSync=function(t,n,e){t=Q(t),X(this.root).chownSync(t,!1,n,e)},Y.prototype.lchown=function(t,n,e,o){o===void 0&&(o=St);var a=Z(o,1);try{t=Q(t),X(this.root).chown(t,!0,n,e,a)}catch(c){a(c)}},Y.prototype.lchownSync=function(t,n,e){t=Q(t),X(this.root).chownSync(t,!0,n,e)},Y.prototype.chmod=function(t,n,e){e===void 0&&(e=St);var o=Z(e,1);try{var a=V(n,-1);if(a<0)throw new y(h.EINVAL,"Invalid mode.");X(this.root).chmod(Q(t),!1,a,o)}catch(c){o(c)}},Y.prototype.chmodSync=function(t,n){var e=V(n,-1);if(e<0)throw new y(h.EINVAL,"Invalid mode.");t=Q(t),X(this.root).chmodSync(t,!1,e)},Y.prototype.lchmod=function(t,n,e){e===void 0&&(e=St);var o=Z(e,1);try{var a=V(n,-1);if(a<0)throw new y(h.EINVAL,"Invalid mode.");X(this.root).chmod(Q(t),!0,a,o)}catch(c){o(c)}},Y.prototype.lchmodSync=function(t,n){var e=V(n,-1);if(e<1)throw new y(h.EINVAL,"Invalid mode.");X(this.root).chmodSync(Q(t),!0,e)},Y.prototype.utimes=function(t,n,e,o){o===void 0&&(o=St);var a=Z(o,1);try{X(this.root).utimes(Q(t),yt(n),yt(e),a)}catch(c){a(c)}},Y.prototype.utimesSync=function(t,n,e){X(this.root).utimesSync(Q(t),yt(n),yt(e))},Y.prototype.realpath=function(t,n,e){e===void 0&&(e=St);var o=typeof n=="object"?n:{};e=typeof n=="function"?n:St;var a=Z(e,2);try{t=Q(t),X(this.root).realpath(t,o,a)}catch(c){a(c)}},Y.prototype.realpathSync=function(t,n){return n===void 0&&(n={}),t=Q(t),X(this.root).realpathSync(t,n)},Y.prototype.watchFile=function(t,n,e){throw new y(h.ENOTSUP)},Y.prototype.unwatchFile=function(t,n){throw new y(h.ENOTSUP)},Y.prototype.watch=function(t,n,e){throw new y(h.ENOTSUP)},Y.prototype.access=function(t,n,e){throw new y(h.ENOTSUP)},Y.prototype.accessSync=function(t,n){throw new y(h.ENOTSUP)},Y.prototype.createReadStream=function(t,n){throw new y(h.ENOTSUP)},Y.prototype.createWriteStream=function(t,n){throw new y(h.ENOTSUP)},Y.prototype.wrapCallbacks=function(t){Z=t},Y.prototype.getFdForFile=function(t){var n=this.nextFd++;return this.fdMap[n]=t,n},Y.prototype.fd2file=function(t){var n=this.fdMap[t];if(n)return n;throw new y(h.EBADF,"Invalid file descriptor.")},Y.prototype.closeFd=function(t){delete this.fdMap[t]},Y.Stats=B;var ot=new Y,_t={},Mt=Y.prototype;Object.keys(Mt).forEach(function(r){typeof ot[r]=="function"?_t[r]=function(){return ot[r].apply(ot,arguments)}:_t[r]=ot[r]}),_t.changeFSModule=function(r){ot=r},_t.getFSModule=function(){return ot},_t.FS=Y;function Ft(r,t,n,e,o){return r<t||n<t?r>n?n+1:r+1:e===o?t:t+1}function Nt(r,t){if(r===t)return 0;if(r.length>t.length){var n=r;r=t,t=n}for(var e=r.length,o=t.length;e>0&&r.charCodeAt(e-1)===t.charCodeAt(o-1);)e--,o--;for(var a=0;a<e&&r.charCodeAt(a)===t.charCodeAt(a);)a++;if(e-=a,o-=a,e===0||o===1)return o;for(var c=new Array(e<<1),p=0;p<e;)c[e+p]=r.charCodeAt(a+p),c[p]=++p;var S,I,P,W,tt;for(S=0;S+3<o;)for(var ft=t.charCodeAt(a+(I=S)),dt=t.charCodeAt(a+(P=S+1)),kt=t.charCodeAt(a+(W=S+2)),Tt=t.charCodeAt(a+(tt=S+3)),jt=S+=4,se=0;se<e;){var be=c[e+se],rn=c[se];I=Ft(rn,I,P,ft,be),P=Ft(I,P,W,dt,be),W=Ft(P,W,tt,kt,be),jt=Ft(W,tt,jt,Tt,be),c[se++]=jt,tt=W,W=P,P=I,I=rn}for(var on=0;S<o;){var lr=t.charCodeAt(a+(I=S));on=++S;for(var gn=0;gn<e;gn++){var mn=c[gn];c[gn]=on=mn<I||on<I?mn>on?on+1:mn+1:lr===c[e+gn]?I:I+1,I=mn}}return on}function vt(r,t,n){r&&console.warn("["+t+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+t+".Create("+JSON.stringify(n)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var lt=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),It=typeof window>"u";function K(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function q(r,t,n){n.existsSync(r)||(q(_.dirname(r),t,n),n.mkdirSync(r,t))}function st(r){var t=wt(r),n=t.byteOffset,e=t.byteLength;return n===0&&e===t.buffer.byteLength?t.buffer:t.buffer.slice(n,n+e)}function wt(r){return r instanceof Uint8Array?r:new Uint8Array(r)}function Ut(r){return r instanceof d?r:r instanceof Uint8Array?Dt(r):d.from(r)}function Dt(r){return r instanceof d?r:r.byteOffset===0&&r.byteLength===r.buffer.byteLength?Lt(r.buffer):d.from(r.buffer,r.byteOffset,r.byteLength)}function Lt(r){return d.from(r)}function Pt(r,t,n){if(t===void 0&&(t=0),n===void 0&&(n=r.length),t<0||n<0||n>r.length||t>n)throw new TypeError("Invalid slice bounds on buffer of length "+r.length+": ["+t+", "+n+"]");if(r.length===0)return Xt();var e=wt(r),o=r[0],a=(o+1)%255;return r[0]=a,e[0]===a?(e[0]=o,Dt(e.slice(t,n))):(r[0]=o,Dt(e.subarray(t,n)))}var qt=null;function Xt(){return qt||(qt=d.alloc(0))}function N(r,t){d.isBuffer(r)?t():t(new y(h.EINVAL,"option must be a Buffer."))}function L(r,t,n){var e=r.Options,o=r.Name,a=0,c=!1,p=!1;function S(tt){c||(tt&&(c=!0,n(tt)),a--,a===0&&p&&n())}var I=function(tt){if(e.hasOwnProperty(tt)){var ft=e[tt],dt=t[tt];if(dt==null){if(!ft.optional){var kt=Object.keys(t).filter(function(jt){return!(jt in e)}).map(function(jt){return{str:jt,distance:Nt(tt,jt)}}).filter(function(jt){return jt.distance<5}).sort(function(jt,se){return jt.distance-se.distance});return c?{}:(c=!0,{v:n(new y(h.EINVAL,"["+o+"] Required option '"+tt+"' not provided."+(kt.length>0?" You provided unrecognized option '"+kt[0].str+"'; perhaps you meant to type '"+tt+"'.":"")+`
Option description: `+ft.description))})}}else{var Tt=!1;if(Array.isArray(ft.type)?Tt=ft.type.indexOf(typeof dt)!==-1:Tt=typeof dt===ft.type,Tt)ft.validator&&(a++,ft.validator(dt,S));else return c?{}:(c=!0,{v:n(new y(h.EINVAL,"["+o+"] Value provided for option "+tt+" is not the proper type. Expected "+(Array.isArray(ft.type)?"one of {"+ft.type.join(", ")+"}":ft.type)+", but received "+typeof dt+`
Option description: `+ft.description))})}}};for(var P in e){var W=I(P);if(W)return W.v}p=!0,a===0&&!c&&n()}var it=Object.freeze({deprecationMessage:vt,isIE:lt,isWebWorker:It,fail:K,mkdirpSync:q,buffer2ArrayBuffer:st,buffer2Uint8array:wt,arrayish2Buffer:Ut,uint8Array2Buffer:Dt,arrayBuffer2Buffer:Lt,copyingSlice:Pt,emptyBuffer:Xt,bufferValidator:N,checkOptions:L}),R=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};R.prototype.open=function(t){var n=this.fs.realPath(t.node),e=this.FS;try{e.isFile(t.node.mode)&&(t.nfd=this.nodefs.openSync(n,this.fs.flagsToPermissionString(t.flags)))}catch(o){throw o.code?new e.ErrnoError(this.ERRNO_CODES[o.code]):o}},R.prototype.close=function(t){var n=this.FS;try{n.isFile(t.node.mode)&&t.nfd&&this.nodefs.closeSync(t.nfd)}catch(e){throw e.code?new n.ErrnoError(this.ERRNO_CODES[e.code]):e}},R.prototype.read=function(t,n,e,o,a){try{return this.nodefs.readSync(t.nfd,Dt(n),e,o,a)}catch(c){throw new this.FS.ErrnoError(this.ERRNO_CODES[c.code])}},R.prototype.write=function(t,n,e,o,a){try{return this.nodefs.writeSync(t.nfd,Dt(n),e,o,a)}catch(c){throw new this.FS.ErrnoError(this.ERRNO_CODES[c.code])}},R.prototype.llseek=function(t,n,e){var o=n;if(e===1)o+=t.position;else if(e===2&&this.FS.isFile(t.node.mode))try{var a=this.nodefs.fstatSync(t.nfd);o+=a.size}catch(c){throw new this.FS.ErrnoError(this.ERRNO_CODES[c.code])}if(o<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return t.position=o,o};var A=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};A.prototype.getattr=function(t){var n=this.fs.realPath(t),e;try{e=this.nodefs.lstatSync(n)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}return{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},A.prototype.setattr=function(t,n){var e=this.fs.realPath(t);try{if(n.mode!==void 0&&(this.nodefs.chmodSync(e,n.mode),t.mode=n.mode),n.timestamp!==void 0){var o=new Date(n.timestamp);this.nodefs.utimesSync(e,o,o)}}catch(a){if(!a.code)throw a;if(a.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[a.code])}if(n.size!==void 0)try{this.nodefs.truncateSync(e,n.size)}catch(a){throw a.code?new this.FS.ErrnoError(this.ERRNO_CODES[a.code]):a}},A.prototype.lookup=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n),o=this.fs.getMode(e);return this.fs.createNode(t,n,o)},A.prototype.mknod=function(t,n,e,o){var a=this.fs.createNode(t,n,e,o),c=this.fs.realPath(a);try{this.FS.isDir(a.mode)?this.nodefs.mkdirSync(c,a.mode):this.nodefs.writeFileSync(c,"",{mode:a.mode})}catch(p){throw p.code?new this.FS.ErrnoError(this.ERRNO_CODES[p.code]):p}return a},A.prototype.rename=function(t,n,e){var o=this.fs.realPath(t),a=this.PATH.join2(this.fs.realPath(n),e);try{this.nodefs.renameSync(o,a),t.name=e,t.parent=n}catch(c){throw c.code?new this.FS.ErrnoError(this.ERRNO_CODES[c.code]):c}},A.prototype.unlink=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.unlinkSync(e)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},A.prototype.rmdir=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.rmdirSync(e)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},A.prototype.readdir=function(t){var n=this.fs.realPath(t);try{var e=this.nodefs.readdirSync(n);return e.push(".",".."),e}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},A.prototype.symlink=function(t,n,e){var o=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.symlinkSync(e,o)}catch(a){throw a.code?new this.FS.ErrnoError(this.ERRNO_CODES[a.code]):a}},A.prototype.readlink=function(t){var n=this.fs.realPath(t);try{return this.nodefs.readlinkSync(n)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}};var z=function(t,n,e,o){t===void 0&&(t=self.FS),n===void 0&&(n=self.PATH),e===void 0&&(e=self.ERRNO_CODES),o===void 0&&(o=_t),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=o,this.FS=t,this.PATH=n,this.ERRNO_CODES=e,this.node_ops=new A(this),this.stream_ops=new R(this)};z.prototype.mount=function(t){return this.createNode(null,"/",this.getMode(t.opts.root),0)},z.prototype.createNode=function(t,n,e,o){var a=this.FS;if(!a.isDir(e)&&!a.isFile(e)&&!a.isLink(e))throw new a.ErrnoError(this.ERRNO_CODES.EINVAL);var c=a.createNode(t,n,e);return c.node_ops=this.node_ops,c.stream_ops=this.stream_ops,c},z.prototype.getMode=function(t){var n;try{n=this.nodefs.lstatSync(t)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}return n.mode},z.prototype.realPath=function(t){for(var n=[];t.parent!==t;)n.push(t.name),t=t.parent;return n.push(t.mount.opts.root),n.reverse(),this.PATH.join.apply(null,n)},z.prototype.flagsToPermissionString=function(t){var n=typeof t=="string"?parseInt(t,10):t;return n&=8191,n in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[n]:t},z.prototype.getNodeFS=function(){return this.nodefs},z.prototype.getFS=function(){return this.FS},z.prototype.getPATH=function(){return this.PATH},z.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var j=function(){};j.prototype.supportsLinks=function(){return!1},j.prototype.diskSpace=function(t,n){n(0,0)},j.prototype.openFile=function(t,n,e){throw new y(h.ENOTSUP)},j.prototype.createFile=function(t,n,e,o){throw new y(h.ENOTSUP)},j.prototype.open=function(t,n,e,o){var a=this,c=function(p,S){if(p)switch(n.pathNotExistsAction()){case T.CREATE_FILE:return a.stat(_.dirname(t),!1,function(I,P){I?o(I):P&&!P.isDirectory()?o(y.ENOTDIR(_.dirname(t))):a.createFile(t,n,e,o)});case T.THROW_EXCEPTION:return o(y.ENOENT(t));default:return o(new y(h.EINVAL,"Invalid FileFlag object."))}else{if(S&&S.isDirectory())return o(y.EISDIR(t));switch(n.pathExistsAction()){case T.THROW_EXCEPTION:return o(y.EEXIST(t));case T.TRUNCATE_FILE:return a.openFile(t,n,function(I,P){I?o(I):P?P.truncate(0,function(){P.sync(function(){o(null,P)})}):K()});case T.NOP:return a.openFile(t,n,o);default:return o(new y(h.EINVAL,"Invalid FileFlag object."))}}};this.stat(t,!1,c)},j.prototype.rename=function(t,n,e){e(new y(h.ENOTSUP))},j.prototype.renameSync=function(t,n){throw new y(h.ENOTSUP)},j.prototype.stat=function(t,n,e){e(new y(h.ENOTSUP))},j.prototype.statSync=function(t,n){throw new y(h.ENOTSUP)},j.prototype.openFileSync=function(t,n,e){throw new y(h.ENOTSUP)},j.prototype.createFileSync=function(t,n,e){throw new y(h.ENOTSUP)},j.prototype.openSync=function(t,n,e){var o;try{o=this.statSync(t,!1)}catch{switch(n.pathNotExistsAction()){case T.CREATE_FILE:var a=this.statSync(_.dirname(t),!1);if(!a.isDirectory())throw y.ENOTDIR(_.dirname(t));return this.createFileSync(t,n,e);case T.THROW_EXCEPTION:throw y.ENOENT(t);default:throw new y(h.EINVAL,"Invalid FileFlag object.")}}if(o.isDirectory())throw y.EISDIR(t);switch(n.pathExistsAction()){case T.THROW_EXCEPTION:throw y.EEXIST(t);case T.TRUNCATE_FILE:return this.unlinkSync(t),this.createFileSync(t,n,o.mode);case T.NOP:return this.openFileSync(t,n,e);default:throw new y(h.EINVAL,"Invalid FileFlag object.")}},j.prototype.unlink=function(t,n){n(new y(h.ENOTSUP))},j.prototype.unlinkSync=function(t){throw new y(h.ENOTSUP)},j.prototype.rmdir=function(t,n){n(new y(h.ENOTSUP))},j.prototype.rmdirSync=function(t){throw new y(h.ENOTSUP)},j.prototype.mkdir=function(t,n,e){e(new y(h.ENOTSUP))},j.prototype.mkdirSync=function(t,n){throw new y(h.ENOTSUP)},j.prototype.readdir=function(t,n){n(new y(h.ENOTSUP))},j.prototype.readdirSync=function(t){throw new y(h.ENOTSUP)},j.prototype.exists=function(t,n){this.stat(t,null,function(e){n(!e)})},j.prototype.existsSync=function(t){try{return this.statSync(t,!0),!0}catch{return!1}},j.prototype.realpath=function(t,n,e){if(this.supportsLinks())for(var o=t.split(_.sep),a=0;a<o.length;a++){var c=o.slice(0,a+1);o[a]=_.join.apply(null,c)}else this.exists(t,function(p){p?e(null,t):e(y.ENOENT(t))})},j.prototype.realpathSync=function(t,n){if(this.supportsLinks()){for(var e=t.split(_.sep),o=0;o<e.length;o++){var a=e.slice(0,o+1);e[o]=_.join.apply(_,a)}return e.join(_.sep)}else{if(this.existsSync(t))return t;throw y.ENOENT(t)}},j.prototype.truncate=function(t,n,e){this.open(t,C.getFileFlag("r+"),420,function(o,a){if(o)return e(o);a.truncate(n,function(c){a.close(function(p){e(c||p)})})})},j.prototype.truncateSync=function(t,n){var e=this.openSync(t,C.getFileFlag("r+"),420);try{e.truncateSync(n)}catch(o){throw o}finally{e.closeSync()}},j.prototype.readFile=function(t,n,e,o){var a=o;this.open(t,e,420,function(c,p){if(c)return o(c);o=function(S,I){p.close(function(P){return S||(S=P),a(S,I)})},p.stat(function(S,I){if(S)return o(S);var P=d.alloc(I.size);p.read(P,0,I.size,0,function(W){if(W)return o(W);if(n===null)return o(W,P);try{o(null,P.toString(n))}catch(tt){o(tt)}})})})},j.prototype.readFileSync=function(t,n,e){var o=this.openSync(t,e,420);try{var a=o.statSync(),c=d.alloc(a.size);return o.readSync(c,0,a.size,0),o.closeSync(),n===null?c:c.toString(n)}finally{o.closeSync()}},j.prototype.writeFile=function(t,n,e,o,a,c){var p=c;this.open(t,o,420,function(S,I){if(S)return c(S);c=function(P){I.close(function(W){p(P||W)})};try{typeof n=="string"&&(n=d.from(n,e))}catch(P){return c(P)}I.write(n,0,n.length,0,c)})},j.prototype.writeFileSync=function(t,n,e,o,a){var c=this.openSync(t,o,a);try{typeof n=="string"&&(n=d.from(n,e)),c.writeSync(n,0,n.length,0)}finally{c.closeSync()}},j.prototype.appendFile=function(t,n,e,o,a,c){var p=c;this.open(t,o,a,function(S,I){if(S)return c(S);c=function(P){I.close(function(W){p(P||W)})},typeof n=="string"&&(n=d.from(n,e)),I.write(n,0,n.length,null,c)})},j.prototype.appendFileSync=function(t,n,e,o,a){var c=this.openSync(t,o,a);try{typeof n=="string"&&(n=d.from(n,e)),c.writeSync(n,0,n.length,null)}finally{c.closeSync()}},j.prototype.chmod=function(t,n,e,o){o(new y(h.ENOTSUP))},j.prototype.chmodSync=function(t,n,e){throw new y(h.ENOTSUP)},j.prototype.chown=function(t,n,e,o,a){a(new y(h.ENOTSUP))},j.prototype.chownSync=function(t,n,e,o){throw new y(h.ENOTSUP)},j.prototype.utimes=function(t,n,e,o){o(new y(h.ENOTSUP))},j.prototype.utimesSync=function(t,n,e){throw new y(h.ENOTSUP)},j.prototype.link=function(t,n,e){e(new y(h.ENOTSUP))},j.prototype.linkSync=function(t,n){throw new y(h.ENOTSUP)},j.prototype.symlink=function(t,n,e,o){o(new y(h.ENOTSUP))},j.prototype.symlinkSync=function(t,n,e){throw new y(h.ENOTSUP)},j.prototype.readlink=function(t,n){n(new y(h.ENOTSUP))},j.prototype.readlinkSync=function(t){throw new y(h.ENOTSUP)};var et=function(r){function t(){r.apply(this,arguments)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.supportsSynch=function(){return!0},t.prototype.rename=function(e,o,a){try{this.renameSync(e,o),a()}catch(c){a(c)}},t.prototype.stat=function(e,o,a){try{a(null,this.statSync(e,o))}catch(c){a(c)}},t.prototype.open=function(e,o,a,c){try{c(null,this.openSync(e,o,a))}catch(p){c(p)}},t.prototype.unlink=function(e,o){try{this.unlinkSync(e),o()}catch(a){o(a)}},t.prototype.rmdir=function(e,o){try{this.rmdirSync(e),o()}catch(a){o(a)}},t.prototype.mkdir=function(e,o,a){try{this.mkdirSync(e,o),a()}catch(c){a(c)}},t.prototype.readdir=function(e,o){try{o(null,this.readdirSync(e))}catch(a){o(a)}},t.prototype.chmod=function(e,o,a,c){try{this.chmodSync(e,o,a),c()}catch(p){c(p)}},t.prototype.chown=function(e,o,a,c,p){try{this.chownSync(e,o,a,c),p()}catch(S){p(S)}},t.prototype.utimes=function(e,o,a,c){try{this.utimesSync(e,o,a),c()}catch(p){c(p)}},t.prototype.link=function(e,o,a){try{this.linkSync(e,o),a()}catch(c){a(c)}},t.prototype.symlink=function(e,o,a,c){try{this.symlinkSync(e,o,a),c()}catch(p){c(p)}},t.prototype.readlink=function(e,o){try{o(null,this.readlinkSync(e))}catch(a){o(a)}},t}(j),J=function(){};J.prototype.sync=function(t){t(new y(h.ENOTSUP))},J.prototype.syncSync=function(){throw new y(h.ENOTSUP)},J.prototype.datasync=function(t){this.sync(t)},J.prototype.datasyncSync=function(){return this.syncSync()},J.prototype.chown=function(t,n,e){e(new y(h.ENOTSUP))},J.prototype.chownSync=function(t,n){throw new y(h.ENOTSUP)},J.prototype.chmod=function(t,n){n(new y(h.ENOTSUP))},J.prototype.chmodSync=function(t){throw new y(h.ENOTSUP)},J.prototype.utimes=function(t,n,e){e(new y(h.ENOTSUP))},J.prototype.utimesSync=function(t,n){throw new y(h.ENOTSUP)};var pt=function(r){function t(n,e,o,a,c){if(r.call(this),this._pos=0,this._dirty=!1,this._fs=n,this._path=e,this._flag=o,this._stat=a,c?this._buffer=c:this._buffer=Xt(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getBuffer=function(){return this._buffer},t.prototype.getStats=function(){return this._stat},t.prototype.getFlag=function(){return this._flag},t.prototype.getPath=function(){return this._path},t.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},t.prototype.advancePos=function(e){return this._pos+=e},t.prototype.setPos=function(e){return this._pos=e},t.prototype.sync=function(e){try{this.syncSync(),e()}catch(o){e(o)}},t.prototype.syncSync=function(){throw new y(h.ENOTSUP)},t.prototype.close=function(e){try{this.closeSync(),e()}catch(o){e(o)}},t.prototype.closeSync=function(){throw new y(h.ENOTSUP)},t.prototype.stat=function(e){try{e(null,this._stat.clone())}catch(o){e(o)}},t.prototype.statSync=function(){return this._stat.clone()},t.prototype.truncate=function(e,o){try{this.truncateSync(e),this._flag.isSynchronous()&&!_t.getRootFS().supportsSynch()&&this.sync(o),o()}catch(a){return o(a)}},t.prototype.truncateSync=function(e){if(this._dirty=!0,!this._flag.isWriteable())throw new y(h.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,e>this._buffer.length){var o=d.alloc(e-this._buffer.length,0);this.writeSync(o,0,o.length,this._buffer.length),this._flag.isSynchronous()&&_t.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=e;var a=d.alloc(e);this._buffer.copy(a,0,0,e),this._buffer=a,this._flag.isSynchronous()&&_t.getRootFS().supportsSynch()&&this.syncSync()},t.prototype.write=function(e,o,a,c,p){try{p(null,this.writeSync(e,o,a,c),e)}catch(S){p(S)}},t.prototype.writeSync=function(e,o,a,c){if(this._dirty=!0,c==null&&(c=this.getPos()),!this._flag.isWriteable())throw new y(h.EPERM,"File not opened with a writeable mode.");var p=c+a;if(p>this._stat.size&&(this._stat.size=p,p>this._buffer.length)){var S=d.alloc(p);this._buffer.copy(S),this._buffer=S}var I=e.copy(this._buffer,c,o,o+a);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),I):(this.setPos(c+I),I)},t.prototype.read=function(e,o,a,c,p){try{p(null,this.readSync(e,o,a,c),e)}catch(S){p(S)}},t.prototype.readSync=function(e,o,a,c){if(!this._flag.isReadable())throw new y(h.EPERM,"File not opened with a readable mode.");c==null&&(c=this.getPos());var p=c+a;p>this._stat.size&&(a=this._stat.size-c);var S=this._buffer.copy(e,o,c,c+a);return this._stat.atime=new Date,this._pos=c+a,S},t.prototype.chmod=function(e,o){try{this.chmodSync(e),o()}catch(a){o(a)}},t.prototype.chmodSync=function(e){if(!this._fs.supportsProps())throw new y(h.ENOTSUP);this._dirty=!0,this._stat.chmod(e),this.syncSync()},t.prototype.isDirty=function(){return this._dirty},t.prototype.resetDirty=function(){this._dirty=!1},t}(J),at=function(r){function t(n,e,o,a,c){r.call(this,n,e,o,a,c)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.close=function(e){e()},t.prototype.closeSync=function(){},t}(pt),ht=function(r){function t(n,e,o,a,c){r.call(this,n,e,o,a,c)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t}(pt),b=function(r){function t(n,e,o){if(o===void 0&&(o=!0),r.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=n,this._async=e,!n.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");vt(o,t.Name,{sync:"sync file system instance",async:"async file system instance"})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{var a=new t(e.sync,e.async,!1);a.initialize(function(c){c?o(c):o(null,a)},!1)}catch(c){o(c)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){return t.Name},t.prototype._syncSync=function(e){this._sync.writeFileSync(e.getPath(),e.getBuffer(),null,C.getFileFlag("w"),e.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[e.getPath(),e.getBuffer(),null,e.getFlag(),e.getStats().mode]})},t.prototype.initialize=function(e,o){var a=this;o===void 0&&(o=!0),o&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var c=this._initializeCallbacks,p=function(W){a._isInitialized=!W,a._initializeCallbacks=[],c.forEach(function(tt){return tt(W)})};if(this._isInitialized)e();else if(c.push(e)===1){var S=function(W,tt,ft){W!=="/"&&a._sync.mkdirSync(W,tt),a._async.readdir(W,function(dt,kt){var Tt=0;function jt(se){se?ft(se):Tt<kt.length?(P(_.join(W,kt[Tt]),jt),Tt++):ft()}dt?ft(dt):jt()})},I=function(W,tt,ft){a._async.readFile(W,null,C.getFileFlag("r"),function(dt,kt){if(dt)ft(dt);else try{a._sync.writeFileSync(W,kt,null,C.getFileFlag("w"),tt)}catch(Tt){dt=Tt}finally{ft(dt)}})},P=function(W,tt){a._async.stat(W,!1,function(ft,dt){ft?tt(ft):dt.isDirectory()?S(W,dt.mode,tt):I(W,dt.mode,tt)})};S("/",0,p)}},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},t.prototype.renameSync=function(e,o){this.checkInitialized(),this._sync.renameSync(e,o),this.enqueueOp({apiMethod:"rename",arguments:[e,o]})},t.prototype.statSync=function(e,o){return this.checkInitialized(),this._sync.statSync(e,o)},t.prototype.openSync=function(e,o,a){this.checkInitialized();var c=this._sync.openSync(e,o,a);return c.closeSync(),new ht(this,e,o,this._sync.statSync(e,!1),this._sync.readFileSync(e,null,C.getFileFlag("r")))},t.prototype.unlinkSync=function(e){this.checkInitialized(),this._sync.unlinkSync(e),this.enqueueOp({apiMethod:"unlink",arguments:[e]})},t.prototype.rmdirSync=function(e){this.checkInitialized(),this._sync.rmdirSync(e),this.enqueueOp({apiMethod:"rmdir",arguments:[e]})},t.prototype.mkdirSync=function(e,o){this.checkInitialized(),this._sync.mkdirSync(e,o),this.enqueueOp({apiMethod:"mkdir",arguments:[e,o]})},t.prototype.readdirSync=function(e){return this.checkInitialized(),this._sync.readdirSync(e)},t.prototype.existsSync=function(e){return this.checkInitialized(),this._sync.existsSync(e)},t.prototype.chmodSync=function(e,o,a){this.checkInitialized(),this._sync.chmodSync(e,o,a),this.enqueueOp({apiMethod:"chmod",arguments:[e,o,a]})},t.prototype.chownSync=function(e,o,a,c){this.checkInitialized(),this._sync.chownSync(e,o,a,c),this.enqueueOp({apiMethod:"chown",arguments:[e,o,a,c]})},t.prototype.utimesSync=function(e,o,a){this.checkInitialized(),this._sync.utimesSync(e,o,a),this.enqueueOp({apiMethod:"utimes",arguments:[e,o,a]})},t.prototype.checkInitialized=function(){if(!this._isInitialized)throw new y(h.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},t.prototype.enqueueOp=function(e){var o=this;if(this._queue.push(e),!this._queueRunning){this._queueRunning=!0;var a=function(c){if(c&&console.error("WARNING: File system has desynchronized. Received following error: "+c+`
$`),o._queue.length>0){var p=o._queue.shift(),S=p.arguments;S.push(a),o._async[p.apiMethod].apply(o._async,S)}else o._queueRunning=!1};a()}},t}(et);b.Name="AsyncMirror",b.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function v(r,t,n){switch(n.length){case 0:return r.call(t);case 1:return r.call(t,n[0]);case 2:return r.call(t,n[0],n[1]);case 3:return r.call(t,n[0],n[1],n[2])}return r.apply(t,n)}var g=Math.max;function O(r,t,n){return t=g(t===void 0?r.length-1:t,0),function(){for(var e=arguments,o=-1,a=g(e.length-t,0),c=Array(a);++o<a;)c[o]=e[t+o];o=-1;for(var p=Array(t+1);++o<t;)p[o]=e[o];return p[t]=n(c),v(r,this,p)}}function M(r){return r}function H(r,t){return O(r,t,M)}var $=function(r){return H(function(t){var n=t.pop();r.call(this,t,n)})};function Et(r){return H(function(t,n){var e=$(function(o,a){var c=this;return r(t,function(p,S){p.apply(c,o.concat(S))},a)});return n.length?e.apply(this,n):e})}var Rt=typeof w=="object"&&w&&w.Object===Object&&w,zt=typeof self=="object"&&self&&self.Object===Object&&self,Jt=Rt||zt||Function("return this")(),Ht=Jt.Symbol,Ee=Object.prototype,hn=Ee.hasOwnProperty,fe=Ee.toString,_e=Ht?Ht.toStringTag:void 0;function er(r){var t=hn.call(r,_e),n=r[_e];try{r[_e]=void 0;var e=!0}catch{}var o=fe.call(r);return e&&(t?r[_e]=n:delete r[_e]),o}var co=Object.prototype,uo=co.toString;function G(r){return uo.call(r)}var mt="[object Null]",k="[object Undefined]",bt=Ht?Ht.toStringTag:void 0;function Qt(r){return r==null?r===void 0?k:mt:bt&&bt in Object(r)?er(r):G(r)}function gt(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}var Te="[object AsyncFunction]",xt="[object Function]",le="[object GeneratorFunction]",rt="[object Proxy]";function nt(r){if(!gt(r))return!1;var t=Qt(r);return t==xt||t==le||t==Te||t==rt}var nr=9007199254740991;function $t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=nr}function Ot(r){return r!=null&&$t(r.length)&&!nt(r)}var Ln={};function dn(){}function ie(r){return function(){if(r!==null){var t=r;r=null,t.apply(this,arguments)}}}var Vt=typeof Symbol=="function"&&Symbol.iterator,we=function(r){return Vt&&r[Vt]&&r[Vt]()};function ke(r,t){for(var n=-1,e=Array(r);++n<r;)e[n]=t(n);return e}function Se(r){return r!=null&&typeof r=="object"}var rr="[object Arguments]";function An(r){return Se(r)&&Qt(r)==rr}var ce=Object.prototype,Ne=ce.hasOwnProperty,me=ce.propertyIsEnumerable,Ke=An(function(){return arguments}())?An:function(r){return Se(r)&&Ne.call(r,"callee")&&!me.call(r,"callee")},Xe=Array.isArray;function oi(){return!1}var as=typeof f=="object"&&f&&!f.nodeType&&f,cs=as&&typeof m=="object"&&m&&!m.nodeType&&m,au=cs&&cs.exports===as,us=au?Jt.Buffer:void 0,cu=us?us.isBuffer:void 0,uu=cu||oi,fu=9007199254740991,lu=/^(?:0|[1-9]\d*)$/;function hu(r,t){return t=t??fu,!!t&&(typeof r=="number"||lu.test(r))&&r>-1&&r%1==0&&r<t}var du="[object Arguments]",pu="[object Array]",yu="[object Boolean]",vu="[object Date]",gu="[object Error]",mu="[object Function]",_u="[object Map]",wu="[object Number]",Su="[object Object]",Eu="[object RegExp]",xu="[object Set]",bu="[object String]",Fu="[object WeakMap]",Iu="[object ArrayBuffer]",ku="[object DataView]",Ou="[object Float32Array]",Ru="[object Float64Array]",Tu="[object Int8Array]",Nu="[object Int16Array]",Du="[object Int32Array]",Lu="[object Uint8Array]",Au="[object Uint8ClampedArray]",Cu="[object Uint16Array]",Pu="[object Uint32Array]",te={};te[Ou]=te[Ru]=te[Tu]=te[Nu]=te[Du]=te[Lu]=te[Au]=te[Cu]=te[Pu]=!0,te[du]=te[pu]=te[Iu]=te[yu]=te[ku]=te[vu]=te[gu]=te[mu]=te[_u]=te[wu]=te[Su]=te[Eu]=te[xu]=te[bu]=te[Fu]=!1;function Mu(r){return Se(r)&&$t(r.length)&&!!te[Qt(r)]}function Uu(r){return function(t){return r(t)}}var fs=typeof f=="object"&&f&&!f.nodeType&&f,ls=fs&&typeof m=="object"&&m&&!m.nodeType&&m,ju=ls&&ls.exports===fs,fo=ju&&Rt.process,hs=function(){try{return fo&&fo.binding&&fo.binding("util")}catch{}}(),ds=hs&&hs.isTypedArray,Bu=ds?Uu(ds):Mu,zu=Object.prototype,Wu=zu.hasOwnProperty;function Hu(r,t){var n=Xe(r),e=!n&&Ke(r),o=!n&&!e&&uu(r),a=!n&&!e&&!o&&Bu(r),c=n||e||o||a,p=c?ke(r.length,String):[],S=p.length;for(var I in r)(t||Wu.call(r,I))&&!(c&&(I=="length"||o&&(I=="offset"||I=="parent")||a&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||hu(I,S)))&&p.push(I);return p}var Xu=Object.prototype;function Vu(r){var t=r&&r.constructor,n=typeof t=="function"&&t.prototype||Xu;return r===n}function Yu(r,t){return function(n){return r(t(n))}}var Zu=Yu(Object.keys,Object),Ku=Object.prototype,qu=Ku.hasOwnProperty;function Ju(r){if(!Vu(r))return Zu(r);var t=[];for(var n in Object(r))qu.call(r,n)&&n!="constructor"&&t.push(n);return t}function Gu(r){return Ot(r)?Hu(r):Ju(r)}function Qu(r){var t=-1,n=r.length;return function(){return++t<n?{value:r[t],key:t}:null}}function $u(r){var t=-1;return function(){var e=r.next();return e.done?null:(t++,{value:e.value,key:t})}}function tf(r){var t=Gu(r),n=-1,e=t.length;return function(){var a=t[++n];return n<e?{value:r[a],key:a}:null}}function ef(r){if(Ot(r))return Qu(r);var t=we(r);return t?$u(t):tf(r)}function ps(r){return function(){if(r===null)throw new Error("Callback was already called.");var t=r;r=null,t.apply(this,arguments)}}function ys(r){return function(t,n,e){if(e=ie(e||dn),r<=0||!t)return e(null);var o=ef(t),a=!1,c=0;function p(I,P){if(c-=1,I)a=!0,e(I);else{if(P===Ln||a&&c<=0)return a=!0,e(null);S()}}function S(){for(;c<r&&!a;){var I=o();if(I===null){a=!0,c<=0&&e(null);return}c+=1,n(I.value,I.key,ps(p))}}S()}}function vs(r,t,n,e){ys(t)(r,n,e)}function lo(r,t){return function(n,e,o){return r(n,t,e,o)}}function nf(r,t,n){n=ie(n||dn);var e=0,o=0,a=r.length;a===0&&n(null);function c(p,S){p?n(p):(++o===a||S===Ln)&&n(null)}for(;e<a;e++)t(r[e],e,ps(c))}var rf=lo(vs,1/0),gs=function(r,t,n){var e=Ot(r)?nf:rf;e(r,t,n)};function of(r){return function(t,n,e){return r(gs,t,n,e)}}function ms(r,t,n,e){e=e||dn,t=t||[];var o=[],a=0;r(t,function(c,p,S){var I=a++;n(c,function(P,W){o[I]=W,S(P)})},function(c){e(c,o)})}var sf=of(ms);Et(sf);function af(r){return function(t,n,e,o){return r(ys(n),t,e,o)}}var cf=af(ms),uf=lo(cf,1);Et(uf),H(function(r,t){return H(function(n){return r.apply(null,t.concat(n))})});function ff(r,t){for(var n=-1,e=r==null?0:r.length;++n<e&&t(r[n],n,r)!==!1;);return r}var _s=typeof setImmediate=="function"&&setImmediate,ws=typeof x=="object"&&typeof x.nextTick=="function";function Ss(r){setTimeout(r,0)}function Es(r){return H(function(t,n){r(function(){t.apply(null,n)})})}var si;_s?si=setImmediate:ws?si=x.nextTick:si=Ss,Es(si);var lf=lo(vs,1);function hf(r,t,n,e){e=ie(e||dn),lf(r,function(o,a,c){n(t,o,function(p,S){t=S,c(p)})},function(o){e(o,t)})}var df=H(function(t){return H(function(n){var e=this,o=n[n.length-1];typeof o=="function"?n.pop():o=dn,hf(t,n,function(a,c,p){c.apply(e,a.concat(H(function(S,I){p(S,I)})))},function(a,c){o.apply(e,[a].concat(c))})})});H(function(r){return df.apply(null,r.reverse())}),H(function(r){var t=[null].concat(r);return $(function(n,e){return e.apply(this,t)})});function xs(r){return H(function(t,n){t.apply(null,n.concat(H(function(e,o){typeof console=="object"&&(e?console.error&&console.error(e):console[r]&&ff(o,function(a){console[r](a)}))})))})}xs("dir");function pf(r){return function(t,n,e){return r(t,e)}}function bs(r,t,n){gs(r,pf(t),n)}xs("log");var ai;ws?ai=x.nextTick:_s?ai=setImmediate:ai=Ss,Es(ai);var De;function yf(){De||(De={},De[Dropbox.ApiError.NETWORK_ERROR]=h.EIO,De[Dropbox.ApiError.INVALID_PARAM]=h.EINVAL,De[Dropbox.ApiError.INVALID_TOKEN]=h.EPERM,De[Dropbox.ApiError.OAUTH_ERROR]=h.EPERM,De[Dropbox.ApiError.NOT_FOUND]=h.ENOENT,De[Dropbox.ApiError.INVALID_METHOD]=h.EINVAL,De[Dropbox.ApiError.NOT_ACCEPTABLE]=h.EINVAL,De[Dropbox.ApiError.CONFLICT]=h.EINVAL,De[Dropbox.ApiError.RATE_LIMITED]=h.EBUSY,De[Dropbox.ApiError.SERVER_ERROR]=h.EBUSY,De[Dropbox.ApiError.OVER_QUOTA]=h.ENOSPC)}function vf(r){return r&&r.stat.isFile}function gf(r){return r&&r.stat.isFolder}function mf(r){return r==null||typeof r=="object"&&typeof r.byteLength=="number"}var xe=function(t){this._cache={},this._client=t};xe.prototype.readdir=function(t,n){var e=this,o=this.getCachedDirInfo(t);this._wrap(function(a){o!==null&&o.contents?e._client.readdir(t,{contentHash:o.stat.contentHash},a):e._client.readdir(t,a)},function(a,c,p,S){a?a.status===Dropbox.ApiError.NO_CONTENT&&o!==null?n(null,o.contents.slice(0)):n(a):(e.updateCachedDirInfo(t,p,c.slice(0)),S.forEach(function(I){e.updateCachedInfo(_.join(t,I.name),I)}),n(null,c))})},xe.prototype.remove=function(t,n){var e=this;this._wrap(function(o){e._client.remove(t,o)},function(o,a){o||e.updateCachedInfo(t,a),n(o)})},xe.prototype.move=function(t,n,e){var o=this;this._wrap(function(a){o._client.move(t,n,a)},function(a,c){a||(o.deleteCachedInfo(t),o.updateCachedInfo(n,c)),e(a)})},xe.prototype.stat=function(t,n){var e=this;this._wrap(function(o){e._client.stat(t,o)},function(o,a){o||e.updateCachedInfo(t,a),n(o,a)})},xe.prototype.readFile=function(t,n){var e=this,o=this.getCachedFileInfo(t);o!==null&&o.contents!==null?this.stat(t,function(a,c){a?n(a):c.contentHash===o.stat.contentHash?n(a,o.contents.slice(0),o.stat):e.readFile(t,n)}):this._wrap(function(a){e._client.readFile(t,{arrayBuffer:!0},a)},function(a,c,p){a||e.updateCachedInfo(t,p,c.slice(0)),n(a,c,p)})},xe.prototype.writeFile=function(t,n,e){var o=this;this._wrap(function(a){o._client.writeFile(t,n,a)},function(a,c){a||o.updateCachedInfo(t,c,n.slice(0)),e(a,c)})},xe.prototype.mkdir=function(t,n){var e=this;this._wrap(function(o){e._client.mkdir(t,o)},function(o,a){o||e.updateCachedInfo(t,a,[]),n(o)})},xe.prototype._wrap=function(t,n){var e=0,o=function(a){var c=2;if(a&&3>++e)switch(a.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){t(o)},c*1e3);break;default:n.apply(null,arguments);break}else n.apply(null,arguments)};t(o)},xe.prototype.getCachedInfo=function(t){return this._cache[t.toLowerCase()]},xe.prototype.putCachedInfo=function(t,n){this._cache[t.toLowerCase()]=n},xe.prototype.deleteCachedInfo=function(t){delete this._cache[t.toLowerCase()]},xe.prototype.getCachedDirInfo=function(t){var n=this.getCachedInfo(t);return gf(n)?n:null},xe.prototype.getCachedFileInfo=function(t){var n=this.getCachedInfo(t);return vf(n)?n:null},xe.prototype.updateCachedDirInfo=function(t,n,e){e===void 0&&(e=null);var o=this.getCachedInfo(t);n.contentHash!==null&&(o===void 0||o.stat.contentHash!==n.contentHash)&&this.putCachedInfo(t,{stat:n,contents:e})},xe.prototype.updateCachedFileInfo=function(t,n,e){e===void 0&&(e=null);var o=this.getCachedInfo(t);n.versionTag!==null&&(o===void 0||o.stat.versionTag!==n.versionTag)&&this.putCachedInfo(t,{stat:n,contents:e})},xe.prototype.updateCachedInfo=function(t,n,e){e===void 0&&(e=null),n.isFile&&mf(e)?this.updateCachedFileInfo(t,n,e):n.isFolder&&Array.isArray(e)&&this.updateCachedDirInfo(t,n,e)};var _f=function(r){function t(n,e,o,a,c){r.call(this,n,e,o,a,c)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(this.isDirty()){var a=this.getBuffer(),c=st(a);this._fs._writeFileStrict(this.getPath(),c,function(p){p||o.resetDirty(),e(p)})}else e()},t.prototype.close=function(e){this.sync(e)},t}(pt),ci=function(r){function t(n,e){e===void 0&&(e=!0),r.call(this),this._client=new xe(n),vt(e,t.Name,{client:"authenticated dropbox client instance"}),yf()}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.client,!1))},t.isAvailable=function(){return typeof Dropbox<"u"},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var o=this;this._client.readdir("/",function(a,c){if(a)e(o.convert(a,"/"));else{var p=function(I,P){var W=_.join("/",I);o._client.remove(W,function(tt){P(tt?o.convert(tt,W):null)})},S=function(I){I?e(I):e()};bs(c,p,S)}})},t.prototype.rename=function(e,o,a){var c=this;this._client.move(e,o,function(p){p?c._client.stat(o,function(S,I){if(S||I.isFolder){var P=p.response.error.indexOf(e)>-1?e:o;a(c.convert(p,P))}else c._client.remove(o,function(W){W?a(c.convert(W,o)):c.rename(e,o,a)})}):a()})},t.prototype.stat=function(e,o,a){var c=this;this._client.stat(e,function(p,S){if(p)a(c.convert(p,e));else if(S&&S.isRemoved)a(y.FileError(h.ENOENT,e));else{var I=new B(c._statType(S),S.size);return a(null,I)}})},t.prototype.open=function(e,o,a,c){var p=this;this._client.readFile(e,function(S,I,P){if(S)if(o.isReadable())c(p.convert(S,e));else switch(S.status){case Dropbox.ApiError.NOT_FOUND:var W=new ArrayBuffer(0);return p._writeFileStrict(e,W,function(dt,kt){if(dt)c(dt);else{var Tt=p._makeFile(e,o,kt,Lt(W));c(null,Tt)}});default:return c(p.convert(S,e))}else{var tt;I===null?tt=Xt():tt=Lt(I);var ft=p._makeFile(e,o,P,tt);return c(null,ft)}})},t.prototype._writeFileStrict=function(e,o,a){var c=this,p=_.dirname(e);this.stat(p,!1,function(S,I){S?a(y.FileError(h.ENOENT,p)):c._client.writeFile(e,o,function(P,W){P?a(c.convert(P,e)):a(null,W)})})},t.prototype._statType=function(e){return e.isFile?U.FILE:U.DIRECTORY},t.prototype._makeFile=function(e,o,a,c){var p=this._statType(a),S=new B(p,a.size);return new _f(this,e,o,S,c)},t.prototype._remove=function(e,o,a){var c=this;this._client.stat(e,function(p,S){p?o(c.convert(p,e)):S.isFile&&!a?o(y.FileError(h.ENOTDIR,e)):!S.isFile&&a?o(y.FileError(h.EISDIR,e)):c._client.remove(e,function(I){o(I?c.convert(I,e):null)})})},t.prototype.unlink=function(e,o){this._remove(e,o,!0)},t.prototype.rmdir=function(e,o){this._remove(e,o,!1)},t.prototype.mkdir=function(e,o,a){var c=this,p=_.dirname(e);this._client.stat(p,function(S,I){S?a(c.convert(S,p)):c._client.mkdir(e,function(P){a(P?y.FileError(h.EEXIST,e):null)})})},t.prototype.readdir=function(e,o){var a=this;this._client.readdir(e,function(c,p){return c?o(a.convert(c)):o(null,p)})},t.prototype.convert=function(e,o){o===void 0&&(o=null);var a=De[e.status];return a===void 0&&(a=h.EIO),o?y.FileError(a,o):new y(a)},t}(j);ci.Name="Dropbox",ci.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(r,t){r.isAuthenticated&&r.isAuthenticated()?t():t(new y(h.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function ue(r,t){t===void 0&&(t="");for(var n=r.errno,e=r.node,o=[];e&&(o.unshift(e.name),e!==e.parent);)e=e.parent;return new y(n,F[n],o.length>0?"/"+o.join("/"):t)}var wf=function(r){function t(n,e,o,a){r.call(this),this._fs=n,this._FS=e,this._path=o,this._stream=a}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getPos=function(){},t.prototype.close=function(e){var o=null;try{this.closeSync()}catch(a){o=a}finally{e(o)}},t.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(e){throw ue(e,this._path)}},t.prototype.stat=function(e){try{e(null,this.statSync())}catch(o){e(o)}},t.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(e){throw ue(e,this._path)}},t.prototype.truncate=function(e,o){var a=null;try{this.truncateSync(e)}catch(c){a=c}finally{o(a)}},t.prototype.truncateSync=function(e){try{this._FS.ftruncate(this._stream.fd,e)}catch(o){throw ue(o,this._path)}},t.prototype.write=function(e,o,a,c,p){try{p(null,this.writeSync(e,o,a,c),e)}catch(S){p(S)}},t.prototype.writeSync=function(e,o,a,c){try{var p=wt(e),S=c===null?void 0:c;return this._FS.write(this._stream,p,o,a,S)}catch(I){throw ue(I,this._path)}},t.prototype.read=function(e,o,a,c,p){try{p(null,this.readSync(e,o,a,c),e)}catch(S){p(S)}},t.prototype.readSync=function(e,o,a,c){try{var p=wt(e),S=c===null?void 0:c;return this._FS.read(this._stream,p,o,a,S)}catch(I){throw ue(I,this._path)}},t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.chown=function(e,o,a){var c=null;try{this.chownSync(e,o)}catch(p){c=p}finally{a(c)}},t.prototype.chownSync=function(e,o){try{this._FS.fchown(this._stream.fd,e,o)}catch(a){throw ue(a,this._path)}},t.prototype.chmod=function(e,o){var a=null;try{this.chmodSync(e)}catch(c){a=c}finally{o(a)}},t.prototype.chmodSync=function(e){try{this._FS.fchmod(this._stream.fd,e)}catch(o){throw ue(o,this._path)}},t.prototype.utimes=function(e,o,a){var c=null;try{this.utimesSync(e,o)}catch(p){c=p}finally{a(c)}},t.prototype.utimesSync=function(e,o){this._fs.utimesSync(this._path,e,o)},t}(J),ui=function(r){function t(n){r.call(this),this._FS=n}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.FS))},t.isAvailable=function(){return!0},t.prototype.getName=function(){return this._FS.DB_NAME()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!0},t.prototype.supportsProps=function(){return!0},t.prototype.supportsSynch=function(){return!0},t.prototype.renameSync=function(e,o){try{this._FS.rename(e,o)}catch(a){throw a.errno===h.ENOENT?ue(a,this.existsSync(e)?o:e):ue(a)}},t.prototype.statSync=function(e,o){try{var a=o?this._FS.lstat(e):this._FS.stat(e),c=this.modeToFileType(a.mode);return new B(c,a.size,a.mode,a.atime,a.mtime,a.ctime)}catch(p){throw ue(p,e)}},t.prototype.openSync=function(e,o,a){try{var c=this._FS.open(e,o.getFlagString(),a);if(this._FS.isDir(c.node.mode))throw this._FS.close(c),y.EISDIR(e);return new wf(this,this._FS,e,c)}catch(p){throw ue(p,e)}},t.prototype.unlinkSync=function(e){try{this._FS.unlink(e)}catch(o){throw ue(o,e)}},t.prototype.rmdirSync=function(e){try{this._FS.rmdir(e)}catch(o){throw ue(o,e)}},t.prototype.mkdirSync=function(e,o){try{this._FS.mkdir(e,o)}catch(a){throw ue(a,e)}},t.prototype.readdirSync=function(e){try{return this._FS.readdir(e).filter(function(o){return o!=="."&&o!==".."})}catch(o){throw ue(o,e)}},t.prototype.truncateSync=function(e,o){try{this._FS.truncate(e,o)}catch(a){throw ue(a,e)}},t.prototype.readFileSync=function(e,o,a){try{var c=this._FS.readFile(e,{flags:a.getFlagString()}),p=Dt(c);return o?p.toString(o):p}catch(S){throw ue(S,e)}},t.prototype.writeFileSync=function(e,o,a,c,p){try{a&&(o=d.from(o,a));var S=wt(o);this._FS.writeFile(e,S,{flags:c.getFlagString(),encoding:"binary"}),this._FS.chmod(e,p)}catch(I){throw ue(I,e)}},t.prototype.chmodSync=function(e,o,a){try{o?this._FS.lchmod(e,a):this._FS.chmod(e,a)}catch(c){throw ue(c,e)}},t.prototype.chownSync=function(e,o,a,c){try{o?this._FS.lchown(e,a,c):this._FS.chown(e,a,c)}catch(p){throw ue(p,e)}},t.prototype.symlinkSync=function(e,o,a){try{this._FS.symlink(e,o)}catch(c){throw ue(c)}},t.prototype.readlinkSync=function(e){try{return this._FS.readlink(e)}catch(o){throw ue(o,e)}},t.prototype.utimesSync=function(e,o,a){try{this._FS.utime(e,o.getTime(),a.getTime())}catch(c){throw ue(c,e)}},t.prototype.modeToFileType=function(e){if(this._FS.isDir(e))return U.DIRECTORY;if(this._FS.isFile(e))return U.FILE;if(this._FS.isLink(e))return U.SYMLINK;throw y.EPERM("Invalid mode: "+e)},t}(et);ui.Name="EmscriptenFileSystem",ui.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var ir=function(r){function t(n,e){r.call(this),this._folder=n,this._wrapped=e}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.folder,e.wrapped))},t.isAvailable=function(){return!0},t.prototype.initialize=function(e){var o=this;this._wrapped.exists(this._folder,function(a){a?e():o._wrapped.isReadOnly()?e(y.ENOENT(o._folder)):o._wrapped.mkdir(o._folder,511,e)})},t.prototype.getName=function(){return this._wrapped.getName()},t.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},t.prototype.supportsProps=function(){return this._wrapped.supportsProps()},t.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t}(j);ir.Name="FolderAdapter",ir.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function Fs(r,t){if(t!==null&&typeof t=="object"){var n=t,e=n.path;e&&(e="/"+_.relative(r,e),n.message=n.message.replace(n.path,e),n.path=e)}return t}function Sf(r,t){return typeof t=="function"?function(n){arguments.length>0&&(arguments[0]=Fs(r,n)),t.apply(null,arguments)}:t}function Is(r,t,n){return r.slice(r.length-4)!=="Sync"?function(){return arguments.length>0&&(t&&(arguments[0]=_.join(this._folder,arguments[0])),n&&(arguments[1]=_.join(this._folder,arguments[1])),arguments[arguments.length-1]=Sf(this._folder,arguments[arguments.length-1])),this._wrapped[r].apply(this._wrapped,arguments)}:function(){try{return t&&(arguments[0]=_.join(this._folder,arguments[0])),n&&(arguments[1]=_.join(this._folder,arguments[1])),this._wrapped[r].apply(this._wrapped,arguments)}catch(e){throw Fs(this._folder,e)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(r){ir.prototype[r]=Is(r,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(r){ir.prototype[r]=Is(r,!0,!0)});var fi;typeof window<"u"?fi=window:typeof self<"u"?fi=self:fi=w;var he=fi;function Ef(r){return r.isDirectory}var ho=he.webkitRequestFileSystem||he.requestFileSystem||null;function xf(r,t,n,e){if(typeof navigator.webkitPersistentStorage<"u")switch(r){case he.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(t,n,e);break;case he.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(t,n,e);break;default:e(new TypeError("Invalid storage type: "+r));break}else he.webkitStorageInfo.requestQuota(r,t,n,e)}function bf(r){return Array.prototype.slice.call(r||[],0)}function tn(r,t,n){switch(r.name){case"PathExistsError":return y.EEXIST(t);case"QuotaExceededError":return y.FileError(h.ENOSPC,t);case"NotFoundError":return y.ENOENT(t);case"SecurityError":return y.FileError(h.EACCES,t);case"InvalidModificationError":return y.FileError(h.EPERM,t);case"TypeMismatchError":return y.FileError(n?h.ENOTDIR:h.EISDIR,t);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return y.FileError(h.EINVAL,t)}}var Ff=function(r){function t(n,e,o,a,c,p){r.call(this,n,o,a,c,p),this._entry=e}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(!this.isDirty())return e();this._entry.createWriter(function(a){var c=o.getBuffer(),p=new Blob([st(c)]),S=p.size;a.onwriteend=function(I){a.onwriteend=null,a.onerror=null,a.truncate(S),o.resetDirty(),e()},a.onerror=function(I){e(tn(I,o.getPath(),!1))},a.write(p)})},t.prototype.close=function(e){this.sync(e)},t}(pt),li=function(r){function t(n,e,o){n===void 0&&(n=5),e===void 0&&(e=he.PERSISTENT),o===void 0&&(o=!0),r.call(this),this.size=1024*1024*n,this.type=e,vt(o,t.Name,{size:n,type:e})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t(e.size,e.type,!1);a.allocate(function(c){return c?o(c):o(null,a)},!1)},t.isAvailable=function(){return!!ho},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.allocate=function(e,o){var a=this;e===void 0&&(e=function(){}),o===void 0&&(o=!0),o&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var c=function(S){a.fs=S,e()},p=function(S){e(tn(S,"/",!0))};this.type===he.PERSISTENT?xf(this.type,this.size,function(S){ho(a.type,S,c,p)},p):ho(this.type,this.size,c,p)},t.prototype.empty=function(e){this._readdir("/",function(o,a){if(o)console.error("Failed to empty FS"),e(o);else{var c=function(S){o?(console.error("Failed to empty FS"),e(o)):e()},p=function(S,I){var P=function(){I()},W=function(tt){I(tn(tt,S.fullPath,!S.isDirectory))};Ef(S)?S.removeRecursively(P,W):S.remove(P,W)};bs(a,p,c)}})},t.prototype.rename=function(e,o,a){var c=this,p=2,S=0,I=this.fs.root,P=e,W=function(ft){--p<=0&&a(tn(ft,P,!1))},tt=function(ft){if(++S===2)return a(new y(h.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(e===o)return a();P=_.dirname(o),I.getDirectory(P,{},function(dt){P=_.basename(o),ft.moveTo(dt,P,function(kt){a()},function(kt){ft.isDirectory?(P=o,c.unlink(o,function(Tt){Tt?W(kt):c.rename(e,o,a)})):W(kt)})},W)};I.getFile(e,{},tt,W),I.getDirectory(e,{},tt,W)},t.prototype.stat=function(e,o,a){var c=this,p={create:!1},S=function(tt){var ft=function(dt){var kt=new B(U.FILE,dt.size);a(null,kt)};tt.file(ft,P)},I=function(tt){var ft=4096,dt=new B(U.DIRECTORY,ft);a(null,dt)},P=function(tt){a(tn(tt,e,!1))},W=function(){c.fs.root.getDirectory(e,p,I,P)};this.fs.root.getFile(e,p,S,W)},t.prototype.open=function(e,o,a,c){var p=this,S=function(I){I.name==="InvalidModificationError"&&o.isExclusive()?c(y.EEXIST(e)):c(tn(I,e,!1))};this.fs.root.getFile(e,{create:o.pathNotExistsAction()===T.CREATE_FILE,exclusive:o.isExclusive()},function(I){I.file(function(P){var W=new FileReader;W.onloadend=function(tt){var ft=p._makeFile(e,I,o,P,W.result);c(null,ft)},W.onerror=function(tt){S(W.error)},W.readAsArrayBuffer(P)},S)},S)},t.prototype.unlink=function(e,o){this._remove(e,o,!0)},t.prototype.rmdir=function(e,o){var a=this;this.readdir(e,function(c,p){c?o(c):p.length>0?o(y.ENOTEMPTY(e)):a._remove(e,o,!1)})},t.prototype.mkdir=function(e,o,a){var c={create:!0,exclusive:!0},p=function(I){a()},S=function(I){a(tn(I,e,!0))};this.fs.root.getDirectory(e,c,p,S)},t.prototype.readdir=function(e,o){this._readdir(e,function(a,c){if(c){for(var p=[],S=0,I=c;S<I.length;S+=1){var P=I[S];p.push(P.name)}o(null,p)}else return o(a)})},t.prototype._makeFile=function(e,o,a,c,p){p===void 0&&(p=new ArrayBuffer(0));var S=new B(U.FILE,c.size),I=Lt(p);return new Ff(this,o,e,a,S,I)},t.prototype._readdir=function(e,o){var a=function(c){o(tn(c,e,!0))};this.fs.root.getDirectory(e,{create:!1},function(c){var p=c.createReader(),S=[],I=function(){p.readEntries(function(P){P.length?(S=S.concat(bf(P)),I()):o(null,S)},a)};I()},a)},t.prototype._remove=function(e,o,a){var c=function(I){var P=function(){o()},W=function(tt){o(tn(tt,e,!a))};I.remove(P,W)},p=function(I){o(tn(I,e,!a))},S={create:!1};a?this.fs.root.getFile(e,S,c,p):this.fs.root.getDirectory(e,S,c,p)},t}(j);li.Name="HTML5FS",li.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Le=function(t,n,e,o,a,c){this.id=t,this.size=n,this.mode=e,this.atime=o,this.mtime=a,this.ctime=c};Le.fromBuffer=function(t){if(t===void 0)throw new Error("NO");return new Le(t.toString("ascii",30),t.readUInt32LE(0),t.readUInt16LE(4),t.readDoubleLE(6),t.readDoubleLE(14),t.readDoubleLE(22))},Le.prototype.toStats=function(){return new B((this.mode&61440)===U.DIRECTORY?U.DIRECTORY:U.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Le.prototype.getSize=function(){return 30+this.id.length},Le.prototype.toBuffer=function(t){return t===void 0&&(t=d.alloc(this.getSize())),t.writeUInt32LE(this.size,0),t.writeUInt16LE(this.mode,4),t.writeDoubleLE(this.atime,6),t.writeDoubleLE(this.mtime,14),t.writeDoubleLE(this.ctime,22),t.write(this.id,30,this.id.length,"ascii"),t},Le.prototype.update=function(t){var n=!1;this.size!==t.size&&(this.size=t.size,n=!0),this.mode!==t.mode&&(this.mode=t.mode,n=!0);var e=t.atime.getTime();this.atime!==e&&(this.atime=e,n=!0);var o=t.mtime.getTime();this.mtime!==o&&(this.mtime=o,n=!0);var a=t.ctime.getTime();return this.ctime!==a&&(this.ctime=a,n=!0),n},Le.prototype.isFile=function(){return(this.mode&61440)===U.FILE},Le.prototype.isDirectory=function(){return(this.mode&61440)===U.DIRECTORY};var xn="/",po=null;function ks(){return po||(po=d.from("{}"))}function hi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var t=Math.random()*16|0,n=r==="x"?t:t&3|8;return n.toString(16)})}function Ue(r,t){return r?(t(r),!1):!0}function ve(r,t,n){return r?(t.abort(function(){n(r)}),!1):!0}var pn=function(t){this.store=t,this.originalData={},this.modifiedKeys=[]};pn.prototype.get=function(t){var n=this.store.get(t);return this.stashOldValue(t,n),n},pn.prototype.put=function(t,n,e){return this.markModified(t),this.store.put(t,n,e)},pn.prototype.del=function(t){this.markModified(t),this.store.del(t)},pn.prototype.commit=function(){},pn.prototype.abort=function(){for(var t=this,n=0,e=t.modifiedKeys;n<e.length;n+=1){var o=e[n],a=t.originalData[o];a?t.store.put(o,a,!0):t.store.del(o)}},pn.prototype.stashOldValue=function(t,n){this.originalData.hasOwnProperty(t)||(this.originalData[t]=n)},pn.prototype.markModified=function(t){this.modifiedKeys.indexOf(t)===-1&&(this.modifiedKeys.push(t),this.originalData.hasOwnProperty(t)||(this.originalData[t]=this.store.get(t)))};var Os=function(r){function t(n,e,o,a,c){r.call(this,n,e,o,a,c)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t}(pt),Rs=function(r){function t(n){r.call(this),this.store=n.store,this.makeRootDirectory()}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},t.prototype.renameSync=function(e,o){var a=this.store.beginTransaction("readwrite"),c=_.dirname(e),p=_.basename(e),S=_.dirname(o),I=_.basename(o),P=this.findINode(a,c),W=this.getDirListing(a,c,P);if(!W[p])throw y.ENOENT(e);var tt=W[p];if(delete W[p],(S+"/").indexOf(e+"/")===0)throw new y(h.EBUSY,c);var ft,dt;if(S===c?(ft=P,dt=W):(ft=this.findINode(a,S),dt=this.getDirListing(a,S,ft)),dt[I]){var kt=this.getINode(a,o,dt[I]);if(kt.isFile())try{a.del(kt.id),a.del(dt[I])}catch(Tt){throw a.abort(),Tt}else throw y.EPERM(o)}dt[I]=tt;try{a.put(P.id,d.from(JSON.stringify(W)),!0),a.put(ft.id,d.from(JSON.stringify(dt)),!0)}catch(Tt){throw a.abort(),Tt}a.commit()},t.prototype.statSync=function(e,o){return this.findINode(this.store.beginTransaction("readonly"),e).toStats()},t.prototype.createFileSync=function(e,o,a){var c=this.store.beginTransaction("readwrite"),p=Xt(),S=this.commitNewFile(c,e,U.FILE,a,p);return new Os(this,e,o,S.toStats(),p)},t.prototype.openFileSync=function(e,o){var a=this.store.beginTransaction("readonly"),c=this.findINode(a,e),p=a.get(c.id);if(p===void 0)throw y.ENOENT(e);return new Os(this,e,o,c.toStats(),p)},t.prototype.unlinkSync=function(e){this.removeEntry(e,!1)},t.prototype.rmdirSync=function(e){if(this.readdirSync(e).length>0)throw y.ENOTEMPTY(e);this.removeEntry(e,!0)},t.prototype.mkdirSync=function(e,o){var a=this.store.beginTransaction("readwrite"),c=d.from("{}");this.commitNewFile(a,e,U.DIRECTORY,o,c)},t.prototype.readdirSync=function(e){var o=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(o,e,this.findINode(o,e)))},t.prototype._syncSync=function(e,o,a){var c=this.store.beginTransaction("readwrite"),p=this._findINode(c,_.dirname(e),_.basename(e)),S=this.getINode(c,e,p),I=S.update(a);try{c.put(S.id,o,!0),I&&c.put(p,S.toBuffer(),!0)}catch(P){throw c.abort(),P}c.commit()},t.prototype.makeRootDirectory=function(){var e=this.store.beginTransaction("readwrite");if(e.get(xn)===void 0){var o=new Date().getTime(),a=new Le(hi(),4096,511|U.DIRECTORY,o,o,o);e.put(a.id,ks(),!1),e.put(xn,a.toBuffer(),!1),e.commit()}},t.prototype._findINode=function(e,o,a){var c=this,p=function(S){var I=c.getDirListing(e,o,S);if(I[a])return I[a];throw y.ENOENT(_.resolve(o,a))};return o==="/"?a===""?xn:p(this.getINode(e,o,xn)):p(this.getINode(e,o+_.sep+a,this._findINode(e,_.dirname(o),_.basename(o))))},t.prototype.findINode=function(e,o){return this.getINode(e,o,this._findINode(e,_.dirname(o),_.basename(o)))},t.prototype.getINode=function(e,o,a){var c=e.get(a);if(c===void 0)throw y.ENOENT(o);return Le.fromBuffer(c)},t.prototype.getDirListing=function(e,o,a){if(!a.isDirectory())throw y.ENOTDIR(o);var c=e.get(a.id);if(c===void 0)throw y.ENOENT(o);return JSON.parse(c.toString())},t.prototype.addNewNode=function(e,o){for(var a=0,c;a<5;)try{return c=hi(),e.put(c,o,!1),c}catch{}throw new y(h.EIO,"Unable to commit data to key-value store.")},t.prototype.commitNewFile=function(e,o,a,c,p){var S=_.dirname(o),I=_.basename(o),P=this.findINode(e,S),W=this.getDirListing(e,S,P),tt=new Date().getTime();if(o==="/"||W[I])throw y.EEXIST(o);var ft;try{var dt=this.addNewNode(e,p);ft=new Le(dt,p.length,c|a,tt,tt,tt);var kt=this.addNewNode(e,ft.toBuffer());W[I]=kt,e.put(P.id,d.from(JSON.stringify(W)),!0)}catch(Tt){throw e.abort(),Tt}return e.commit(),ft},t.prototype.removeEntry=function(e,o){var a=this.store.beginTransaction("readwrite"),c=_.dirname(e),p=this.findINode(a,c),S=this.getDirListing(a,c,p),I=_.basename(e);if(!S[I])throw y.ENOENT(e);var P=S[I];delete S[I];var W=this.getINode(a,e,P);if(!o&&W.isDirectory())throw y.EISDIR(e);if(o&&!W.isDirectory())throw y.ENOTDIR(e);try{a.del(W.id),a.del(P),a.put(p.id,d.from(JSON.stringify(S)),!0)}catch(tt){throw a.abort(),tt}a.commit()},t}(et),Ts=function(r){function t(n,e,o,a,c){r.call(this,n,e,o,a,c)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(a){a||o.resetDirty(),e(a)}):e()},t.prototype.close=function(e){this.sync(e)},t}(pt),If=function(r){function t(){r.apply(this,arguments)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.init=function(e,o){this.store=e,this.makeRootDirectory(o)},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var o=this;this.store.clear(function(a){Ue(a,e)&&o.makeRootDirectory(e)})},t.prototype.rename=function(e,o,a){var c=this,p=this.store.beginTransaction("readwrite"),S=_.dirname(e),I=_.basename(e),P=_.dirname(o),W=_.basename(o),tt={},ft={},dt=!1;if((P+"/").indexOf(e+"/")===0)return a(new y(h.EBUSY,S));var kt=function(){if(!(dt||!ft.hasOwnProperty(S)||!ft.hasOwnProperty(P))){var jt=ft[S],se=tt[S],be=ft[P],rn=tt[P];if(!jt[I])a(y.ENOENT(e));else{var on=jt[I];delete jt[I];var lr=function(){be[W]=on,p.put(se.id,d.from(JSON.stringify(jt)),!0,function(gn){ve(gn,p,a)&&(S===P?p.commit(a):p.put(rn.id,d.from(JSON.stringify(be)),!0,function(mn){ve(mn,p,a)&&p.commit(a)}))})};be[W]?c.getINode(p,o,be[W],function(gn,mn){ve(gn,p,a)&&(mn.isFile()?p.del(mn.id,function(ga){ve(ga,p,a)&&p.del(be[W],function(tl){ve(tl,p,a)&&lr()})}):p.abort(function(ga){a(y.EPERM(o))}))}):lr()}}},Tt=function(jt){c.findINodeAndDirListing(p,jt,function(se,be,rn){se?dt||(dt=!0,p.abort(function(){a(se)})):(tt[jt]=be,ft[jt]=rn,kt())})};Tt(S),S!==P&&Tt(P)},t.prototype.stat=function(e,o,a){var c=this.store.beginTransaction("readonly");this.findINode(c,e,function(p,S){Ue(p,a)&&a(null,S.toStats())})},t.prototype.createFile=function(e,o,a,c){var p=this,S=this.store.beginTransaction("readwrite"),I=Xt();this.commitNewFile(S,e,U.FILE,a,I,function(P,W){Ue(P,c)&&c(null,new Ts(p,e,o,W.toStats(),I))})},t.prototype.openFile=function(e,o,a){var c=this,p=this.store.beginTransaction("readonly");this.findINode(p,e,function(S,I){Ue(S,a)&&p.get(I.id,function(P,W){Ue(P,a)&&(W===void 0?a(y.ENOENT(e)):a(null,new Ts(c,e,o,I.toStats(),W)))})})},t.prototype.unlink=function(e,o){this.removeEntry(e,!1,o)},t.prototype.rmdir=function(e,o){var a=this;this.readdir(e,function(c,p){c?o(c):p.length>0?o(y.ENOTEMPTY(e)):a.removeEntry(e,!0,o)})},t.prototype.mkdir=function(e,o,a){var c=this.store.beginTransaction("readwrite"),p=d.from("{}");this.commitNewFile(c,e,U.DIRECTORY,o,p,a)},t.prototype.readdir=function(e,o){var a=this,c=this.store.beginTransaction("readonly");this.findINode(c,e,function(p,S){Ue(p,o)&&a.getDirListing(c,e,S,function(I,P){Ue(I,o)&&o(null,Object.keys(P))})})},t.prototype._sync=function(e,o,a,c){var p=this,S=this.store.beginTransaction("readwrite");this._findINode(S,_.dirname(e),_.basename(e),function(I,P){ve(I,S,c)&&p.getINode(S,e,P,function(W,tt){if(ve(W,S,c)){var ft=tt.update(a);S.put(tt.id,o,!0,function(dt){ve(dt,S,c)&&(ft?S.put(P,tt.toBuffer(),!0,function(kt){ve(kt,S,c)&&S.commit(c)}):S.commit(c))})}})})},t.prototype.makeRootDirectory=function(e){var o=this.store.beginTransaction("readwrite");o.get(xn,function(a,c){if(a||c===void 0){var p=new Date().getTime(),S=new Le(hi(),4096,511|U.DIRECTORY,p,p,p);o.put(S.id,ks(),!1,function(I){ve(I,o,e)&&o.put(xn,S.toBuffer(),!1,function(P){P?o.abort(function(){e(P)}):o.commit(e)})})}else o.commit(e)})},t.prototype._findINode=function(e,o,a,c){var p=this,S=function(I,P,W){I?c(I):W[a]?c(null,W[a]):c(y.ENOENT(_.resolve(o,a)))};o==="/"?a===""?c(null,xn):this.getINode(e,o,xn,function(I,P){Ue(I,c)&&p.getDirListing(e,o,P,function(W,tt){S(W,P,tt)})}):this.findINodeAndDirListing(e,o,S)},t.prototype.findINode=function(e,o,a){var c=this;this._findINode(e,_.dirname(o),_.basename(o),function(p,S){Ue(p,a)&&c.getINode(e,o,S,a)})},t.prototype.getINode=function(e,o,a,c){e.get(a,function(p,S){Ue(p,c)&&(S===void 0?c(y.ENOENT(o)):c(null,Le.fromBuffer(S)))})},t.prototype.getDirListing=function(e,o,a,c){a.isDirectory()?e.get(a.id,function(p,S){if(Ue(p,c))try{c(null,JSON.parse(S.toString()))}catch{c(y.ENOENT(o))}}):c(y.ENOTDIR(o))},t.prototype.findINodeAndDirListing=function(e,o,a){var c=this;this.findINode(e,o,function(p,S){Ue(p,a)&&c.getDirListing(e,o,S,function(I,P){Ue(I,a)&&a(null,S,P)})})},t.prototype.addNewNode=function(e,o,a){var c=0,p,S=function(){++c===5?a(new y(h.EIO,"Unable to commit data to key-value store.")):(p=hi(),e.put(p,o,!1,function(I,P){I||!P?S():a(null,p)}))};S()},t.prototype.commitNewFile=function(e,o,a,c,p,S){var I=this,P=_.dirname(o),W=_.basename(o),tt=new Date().getTime();if(o==="/")return S(y.EEXIST(o));this.findINodeAndDirListing(e,P,function(ft,dt,kt){ve(ft,e,S)&&(kt[W]?e.abort(function(){S(y.EEXIST(o))}):I.addNewNode(e,p,function(Tt,jt){if(ve(Tt,e,S)){var se=new Le(jt,p.length,c|a,tt,tt,tt);I.addNewNode(e,se.toBuffer(),function(be,rn){ve(be,e,S)&&(kt[W]=rn,e.put(dt.id,d.from(JSON.stringify(kt)),!0,function(on){ve(on,e,S)&&e.commit(function(lr){ve(lr,e,S)&&S(null,se)})}))})}}))})},t.prototype.removeEntry=function(e,o,a){var c=this,p=this.store.beginTransaction("readwrite"),S=_.dirname(e),I=_.basename(e);this.findINodeAndDirListing(p,S,function(P,W,tt){if(ve(P,p,a))if(!tt[I])p.abort(function(){a(y.ENOENT(e))});else{var ft=tt[I];delete tt[I],c.getINode(p,e,ft,function(dt,kt){ve(dt,p,a)&&(!o&&kt.isDirectory()?p.abort(function(){a(y.EISDIR(e))}):o&&!kt.isDirectory()?p.abort(function(){a(y.ENOTDIR(e))}):p.del(kt.id,function(Tt){ve(Tt,p,a)&&p.del(ft,function(jt){ve(jt,p,a)&&p.put(W.id,d.from(JSON.stringify(tt)),!0,function(se){ve(se,p,a)&&p.commit(a)})})}))})}})},t}(j),Cn=function(){this.store={}};Cn.prototype.name=function(){return or.Name},Cn.prototype.clear=function(){this.store={}},Cn.prototype.beginTransaction=function(t){return new pn(this)},Cn.prototype.get=function(t){return this.store[t]},Cn.prototype.put=function(t,n,e){return!e&&this.store.hasOwnProperty(t)?!1:(this.store[t]=n,!0)},Cn.prototype.del=function(t){delete this.store[t]};var or=function(r){function t(){r.call(this,{store:new Cn})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t)},t}(Rs);or.Name="InMemory",or.Options={};var yo=he.indexedDB||he.mozIndexedDB||he.webkitIndexedDB||he.msIndexedDB;function Or(r,t){switch(t===void 0&&(t=r.toString()),r.name){case"NotFoundError":return new y(h.ENOENT,t);case"QuotaExceededError":return new y(h.ENOSPC,t);default:return new y(h.EIO,t)}}function Rr(r,t,n){return t===void 0&&(t=h.EIO),n===void 0&&(n=null),function(e){e.preventDefault(),r(new y(t,n!==null?n:void 0))}}var vo=function(t,n){this.tx=t,this.store=n};vo.prototype.get=function(t,n){try{var e=this.store.get(t);e.onerror=Rr(n),e.onsuccess=function(o){var a=o.target.result;a===void 0?n(null,a):n(null,Lt(a))}}catch(o){n(Or(o))}};var kf=function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.put=function(e,o,a,c){try{var p=st(o),S;a?S=this.store.put(p,e):S=this.store.add(p,e),S.onerror=Rr(c),S.onsuccess=function(I){c(null,!0)}}catch(I){c(Or(I))}},t.prototype.del=function(e,o){try{var a=this.store.delete(e);a.onerror=Rr(o),a.onsuccess=function(c){o()}}catch(c){o(Or(c))}},t.prototype.commit=function(e){setTimeout(e,0)},t.prototype.abort=function(e){var o=null;try{this.tx.abort()}catch(a){o=Or(a)}finally{e(o)}},t}(vo),di=function(t,n){var e=this;n===void 0&&(n="browserfs"),this.storeName=n;var o=yo.open(this.storeName,1);o.onupgradeneeded=function(a){var c=a.target.result;c.objectStoreNames.contains(e.storeName)&&c.deleteObjectStore(e.storeName),c.createObjectStore(e.storeName)},o.onsuccess=function(a){e.db=a.target.result,t(null,e)},o.onerror=Rr(t,h.EACCES)};di.prototype.name=function(){return Tr.Name+" - "+this.storeName},di.prototype.clear=function(t){try{var n=this.db.transaction(this.storeName,"readwrite"),e=n.objectStore(this.storeName),o=e.clear();o.onsuccess=function(a){setTimeout(t,0)},o.onerror=Rr(t)}catch(a){t(Or(a))}},di.prototype.beginTransaction=function(t){t===void 0&&(t="readonly");var n=this.db.transaction(this.storeName,t),e=n.objectStore(this.storeName);if(t==="readwrite")return new kf(n,e);if(t==="readonly")return new vo(n,e);throw new y(h.EINVAL,"Invalid transaction type.")};var Tr=function(r){function t(n,e,o){var a=this;o===void 0&&(o=!0),r.call(this),this.store=new di(function(c){c?n(c):a.init(a.store,function(p){n(p,a)})},e),vt(o,t.Name,{storeName:e})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){new t(o,e.storeName,!1)},t.isAvailable=function(){try{return typeof yo<"u"&&yo.open("__browserfs_test__")!==null}catch{return!1}},t}(If);Tr.Name="IndexedDB",Tr.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var go=!1,Nr;try{he.localStorage.setItem("__test__",String.fromCharCode(55296)),go=he.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{go=!1}Nr=go?"binary_string":"binary_string_ie",d.isEncoding(Nr)||(Nr="base64");var Pn=function(){};Pn.prototype.name=function(){return Dr.Name},Pn.prototype.clear=function(){he.localStorage.clear()},Pn.prototype.beginTransaction=function(t){return new pn(this)},Pn.prototype.get=function(t){try{var n=he.localStorage.getItem(t);if(n!==null)return d.from(n,Nr)}catch{}},Pn.prototype.put=function(t,n,e){try{return!e&&he.localStorage.getItem(t)!==null?!1:(he.localStorage.setItem(t,n.toString(Nr)),!0)}catch{throw new y(h.ENOSPC,"LocalStorage is full.")}},Pn.prototype.del=function(t){try{he.localStorage.removeItem(t)}catch(n){throw new y(h.EIO,"Unable to delete key "+t+": "+n)}};var Dr=function(r){function t(){r.call(this,{store:new Pn})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t)},t.isAvailable=function(){return typeof he.localStorage<"u"},t}(Rs);Dr.Name="LocalStorage",Dr.Options={};var sr=function(r){function t(){r.call(this),this.mountList=[],this.mntMap={},this.rootFs=new or}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t;Object.keys(e).forEach(function(c){a.mount(c,e[c])}),o(null,a)},t.isAvailable=function(){return!0},t.prototype.mount=function(e,o){if(e[0]!=="/"&&(e="/"+e),e=_.resolve(e),this.mntMap[e])throw new y(h.EINVAL,"Mount point "+e+" is already taken.");q(e,511,this.rootFs),this.mntMap[e]=o,this.mountList.push(e),this.mountList=this.mountList.sort(function(a,c){return c.length-a.length})},t.prototype.umount=function(e){var o=this;if(e[0]!=="/"&&(e="/"+e),e=_.resolve(e),!this.mntMap[e])throw new y(h.EINVAL,"Mount point "+e+" is already unmounted.");for(delete this.mntMap[e],this.mountList.splice(this.mountList.indexOf(e),1);e!=="/"&&o.rootFs.readdirSync(e).length===0;)o.rootFs.rmdirSync(e),e=_.dirname(e)},t.prototype._getFs=function(e){for(var o=this,a=this.mountList,c=a.length,p=0;p<c;p++){var S=a[p];if(S.length<=e.length&&e.indexOf(S)===0)return e=e.substr(S.length>1?S.length:0),e===""&&(e="/"),{fs:o.mntMap[S],path:e}}return{fs:this.rootFs,path:e}},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,o){o(0,0)},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.standardizeError=function(e,o,a){var c=e.message.indexOf(o);return c!==-1&&(e.message=e.message.substr(0,c)+a+e.message.substr(c+o.length),e.path=a),e},t.prototype.rename=function(e,o,a){var c=this,p=this._getFs(e),S=this._getFs(o);return p.fs===S.fs?p.fs.rename(p.path,S.path,function(I){I&&c.standardizeError(c.standardizeError(I,p.path,e),S.path,o),a(I)}):_t.readFile(e,function(I,P){if(I)return a(I);_t.writeFile(o,P,function(W){if(W)return a(W);_t.unlink(e,a)})})},t.prototype.renameSync=function(e,o){var a=this._getFs(e),c=this._getFs(o);if(a.fs===c.fs)try{return a.fs.renameSync(a.path,c.path)}catch(S){throw this.standardizeError(this.standardizeError(S,a.path,e),c.path,o),S}var p=_t.readFileSync(e);return _t.writeFileSync(o,p),_t.unlinkSync(e)},t.prototype.readdirSync=function(e){var o=this._getFs(e),a=null;if(o.fs!==this.rootFs)try{a=this.rootFs.readdirSync(e)}catch{}try{var c=o.fs.readdirSync(o.path);return a===null?c:c.concat(a.filter(function(p){return c.indexOf(p)===-1}))}catch(p){if(a===null)throw this.standardizeError(p,o.path,e);return a}},t.prototype.readdir=function(e,o){var a=this,c=this._getFs(e);c.fs.readdir(c.path,function(p,S){if(c.fs!==a.rootFs)try{var I=a.rootFs.readdirSync(e);S?S=S.concat(I.filter(function(P){return S.indexOf(P)===-1})):S=I}catch{if(p)return o(a.standardizeError(p,c.path,e))}else if(p)return o(a.standardizeError(p,c.path,e));o(null,S)})},t.prototype.rmdirSync=function(e){var o=this._getFs(e);if(this._containsMountPt(e))throw y.ENOTEMPTY(e);try{o.fs.rmdirSync(o.path)}catch(a){throw this.standardizeError(a,o.path,e)}},t.prototype.rmdir=function(e,o){var a=this,c=this._getFs(e);this._containsMountPt(e)?o(y.ENOTEMPTY(e)):c.fs.rmdir(c.path,function(p){o(p?a.standardizeError(p,c.path,e):null)})},t.prototype._containsMountPt=function(e){for(var o=this.mountList,a=o.length,c=0;c<a;c++){var p=o[c];if(p.length>=e.length&&p.slice(0,e.length)===e)return!0}return!1},t}(j);sr.Name="MountableFileSystem",sr.Options={};function Ns(r,t,n){return t?function(){for(var e=[],o=arguments.length;o--;)e[o]=arguments[o];var a=e[0],c=this._getFs(a);e[0]=c.path;try{return c.fs[r].apply(c.fs,e)}catch(p){throw this.standardizeError(p,c.path,a),p}}:function(){for(var e=this,o=[],a=arguments.length;a--;)o[a]=arguments[a];var c=o[0],p=this._getFs(c);if(o[0]=p.path,typeof o[o.length-1]=="function"){var S=o[o.length-1];o[o.length-1]=function(){for(var I=[],P=arguments.length;P--;)I[P]=arguments[P];I.length>0&&I[0]instanceof y&&e.standardizeError(I[0],p.path,c),S.apply(null,I)}}return p.fs[r].apply(p.fs,o)}}for(var Ds=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],mo=0;mo<Ds.length;mo++)for(var Of=Ds[mo],_o=0,Ls=Of;_o<Ls.length;_o+=1){var pi=Ls[_o];sr.prototype[pi]=Ns(pi,!1),sr.prototype[pi+"Sync"]=Ns(pi+"Sync",!0)}var Lr;if(typeof setImmediate<"u")Lr=setImmediate;else{var Ve=he,ar=[],As="zero-timeout-message",Rf=function(){if(typeof Ve.importScripts<"u"||!Ve.postMessage)return!1;var r=!0,t=Ve.onmessage;return Ve.onmessage=function(){r=!1},Ve.postMessage("","*"),Ve.onmessage=t,r};if(Rf()){Lr=function(r){ar.push(r),Ve.postMessage(As,"*")};var Cs=function(r){if(r.source===self&&r.data===As&&(r.stopPropagation?r.stopPropagation():r.cancelBubble=!0,ar.length>0)){var t=ar.shift();return t()}};Ve.addEventListener?Ve.addEventListener("message",Cs,!0):Ve.attachEvent("onmessage",Cs)}else if(Ve.MessageChannel){var Ps=new Ve.MessageChannel;Ps.port1.onmessage=function(r){if(ar.length>0)return ar.shift()()},Lr=function(r){ar.push(r),Ps.port2.postMessage("")}}else Lr=function(r){return setTimeout(r,0)}}var wo=Lr,Ar=function(){this._locked=!1,this._waiters=[]};Ar.prototype.lock=function(t){if(this._locked){this._waiters.push(t);return}this._locked=!0,t()},Ar.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var t=this._waiters.shift();if(t){wo(t);return}this._locked=!1},Ar.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},Ar.prototype.isLocked=function(){return this._locked};var At=function(t){this._fs=t,this._mu=new Ar};At.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},At.prototype.getFSUnlocked=function(){return this._fs},At.prototype.initialize=function(t){this._fs.initialize(t)},At.prototype.diskSpace=function(t,n){this._fs.diskSpace(t,n)},At.prototype.isReadOnly=function(){return this._fs.isReadOnly()},At.prototype.supportsLinks=function(){return this._fs.supportsLinks()},At.prototype.supportsProps=function(){return this._fs.supportsProps()},At.prototype.supportsSynch=function(){return this._fs.supportsSynch()},At.prototype.rename=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.rename(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.renameSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(t,n)},At.prototype.stat=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.stat(t,n,function(a,c){o._mu.unlock(),e(a,c)})})},At.prototype.statSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(t,n)},At.prototype.open=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.open(t,n,e,function(c,p){a._mu.unlock(),o(c,p)})})},At.prototype.openSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(t,n,e)},At.prototype.unlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.unlink(t,function(o){e._mu.unlock(),n(o)})})},At.prototype.unlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(t)},At.prototype.rmdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.rmdir(t,function(o){e._mu.unlock(),n(o)})})},At.prototype.rmdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(t)},At.prototype.mkdir=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.mkdir(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.mkdirSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(t,n)},At.prototype.readdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.readdir(t,function(o,a){e._mu.unlock(),n(o,a)})})},At.prototype.readdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(t)},At.prototype.exists=function(t,n){var e=this;this._mu.lock(function(){e._fs.exists(t,function(o){e._mu.unlock(),n(o)})})},At.prototype.existsSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(t)},At.prototype.realpath=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.realpath(t,n,function(a,c){o._mu.unlock(),e(a,c)})})},At.prototype.realpathSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(t,n)},At.prototype.truncate=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.truncate(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.truncateSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(t,n)},At.prototype.readFile=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.readFile(t,n,e,function(c,p){a._mu.unlock(),o(c,p)})})},At.prototype.readFileSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(t,n,e)},At.prototype.writeFile=function(t,n,e,o,a,c){var p=this;this._mu.lock(function(){p._fs.writeFile(t,n,e,o,a,function(S){p._mu.unlock(),c(S)})})},At.prototype.writeFileSync=function(t,n,e,o,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(t,n,e,o,a)},At.prototype.appendFile=function(t,n,e,o,a,c){var p=this;this._mu.lock(function(){p._fs.appendFile(t,n,e,o,a,function(S){p._mu.unlock(),c(S)})})},At.prototype.appendFileSync=function(t,n,e,o,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(t,n,e,o,a)},At.prototype.chmod=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.chmod(t,n,e,function(c){a._mu.unlock(),o(c)})})},At.prototype.chmodSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(t,n,e)},At.prototype.chown=function(t,n,e,o,a){var c=this;this._mu.lock(function(){c._fs.chown(t,n,e,o,function(p){c._mu.unlock(),a(p)})})},At.prototype.chownSync=function(t,n,e,o){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(t,n,e,o)},At.prototype.utimes=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.utimes(t,n,e,function(c){a._mu.unlock(),o(c)})})},At.prototype.utimesSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(t,n,e)},At.prototype.link=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.link(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.linkSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(t,n)},At.prototype.symlink=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.symlink(t,n,e,function(c){a._mu.unlock(),o(c)})})},At.prototype.symlinkSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(t,n,e)},At.prototype.readlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.readlink(t,function(o,a){e._mu.unlock(),n(o,a)})})},At.prototype.readlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(t)};var yn="/.deletedFiles.log";function Ms(r){return 146|r}function je(r){return C.getFileFlag(r)}var Us=function(r){function t(n,e,o,a,c){r.call(this,n,e,o,a,c)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(!this.isDirty()){e(null);return}this._fs._syncAsync(this,function(a){o.resetDirty(),e(a)})},t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.close=function(e){this.sync(e)},t.prototype.closeSync=function(){this.syncSync()},t}(pt),js=function(r){function t(n,e){if(r.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=n,this._readable=e,this._writable.isReadOnly())throw new y(h.EINVAL,"Writable file system must be writable.")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},t.prototype._syncAsync=function(e,o){var a=this;this.createParentDirectoriesAsync(e.getPath(),function(c){if(c)return o(c);a._writable.writeFile(e.getPath(),e.getBuffer(),null,je("w"),e.getStats().mode,o)})},t.prototype._syncSync=function(e){this.createParentDirectories(e.getPath()),this._writable.writeFileSync(e.getPath(),e.getBuffer(),null,je("w"),e.getStats().mode)},t.prototype.getName=function(){return Cr.Name},t.prototype.initialize=function(e){var o=this,a=this._initializeCallbacks,c=function(p){o._isInitialized=!p,o._initializeCallbacks=[],a.forEach(function(S){return S(p)})};if(this._isInitialized)return e();a.push(e),a.length===1&&this._writable.readFile(yn,"utf8",je("r"),function(p,S){if(p){if(p.errno!==h.ENOENT)return c(p)}else o._deleteLog=S;o._reparseDeletionLog(),c()})},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},t.prototype.getDeletionLog=function(){return this._deleteLog},t.prototype.restoreDeletionLog=function(e){this._deleteLog=e,this._reparseDeletionLog(),this.updateLog("")},t.prototype.rename=function(e,o,a){var c=this;if(!(!this.checkInitAsync(a)||this.checkPathAsync(e,a)||this.checkPathAsync(o,a))){if(e===yn||o===yn)return a(y.EPERM("Cannot rename deletion log."));if(e===o)return a();this.stat(e,!1,function(p,S){return p?a(p):c.stat(o,!1,function(I,P){var W=c;function tt(dt){var kt=dt.shift();if(!kt)return a();var Tt=_.resolve(e,kt),jt=_.resolve(o,kt);W.rename(Tt,jt,function(se){if(se)return a(se);tt(dt)})}var ft=511;if(S.isDirectory()){if(I)return I.errno!==h.ENOENT?a(I):c._writable.exists(e,function(dt){if(dt)return c._writable.rename(e,o,a);c._writable.mkdir(o,ft,function(kt){if(kt)return a(kt);c._readable.readdir(e,function(Tt,jt){if(Tt)return a();tt(jt)})})});if(ft=P.mode,!P.isDirectory())return a(y.ENOTDIR(o));c.readdir(o,function(dt,kt){if(kt&&kt.length)return a(y.ENOTEMPTY(o));c._readable.readdir(e,function(Tt,jt){if(Tt)return a();tt(jt)})})}if(P&&P.isDirectory())return a(y.EISDIR(o));c.readFile(e,null,je("r"),function(dt,kt){return dt?a(dt):c.writeFile(o,kt,null,je("w"),S.mode,function(Tt){return Tt?a(Tt):c.unlink(e,a)})})})})}},t.prototype.renameSync=function(e,o){var a=this;if(this.checkInitialized(),this.checkPath(e),this.checkPath(o),e===yn||o===yn)throw y.EPERM("Cannot rename deletion log.");var c=this.statSync(e,!1);if(c.isDirectory()){if(e===o)return;var p=511;if(this.existsSync(o)){var S=this.statSync(o,!1);if(p=S.mode,S.isDirectory()){if(this.readdirSync(o).length>0)throw y.ENOTEMPTY(o)}else throw y.ENOTDIR(o)}this._writable.existsSync(e)?this._writable.renameSync(e,o):this._writable.existsSync(o)||this._writable.mkdirSync(o,p),this._readable.existsSync(e)&&this._readable.readdirSync(e).forEach(function(I){a.renameSync(_.resolve(e,I),_.resolve(o,I))})}else{if(this.existsSync(o)&&this.statSync(o,!1).isDirectory())throw y.EISDIR(o);this.writeFileSync(o,this.readFileSync(e,null,je("r")),null,je("w"),c.mode)}e!==o&&this.existsSync(e)&&this.unlinkSync(e)},t.prototype.stat=function(e,o,a){var c=this;this.checkInitAsync(a)&&this._writable.stat(e,o,function(p,S){p&&p.errno===h.ENOENT?(c._deletedFiles[e]&&a(y.ENOENT(e)),c._readable.stat(e,o,function(I,P){P&&(P=P.clone(),P.mode=Ms(P.mode)),a(I,P)})):a(p,S)})},t.prototype.statSync=function(e,o){this.checkInitialized();try{return this._writable.statSync(e,o)}catch{if(this._deletedFiles[e])throw y.ENOENT(e);var a=this._readable.statSync(e,o).clone();return a.mode=Ms(a.mode),a}},t.prototype.open=function(e,o,a,c){var p=this;!this.checkInitAsync(c)||this.checkPathAsync(e,c)||this.stat(e,!1,function(S,I){if(I)switch(o.pathExistsAction()){case T.TRUNCATE_FILE:return p.createParentDirectoriesAsync(e,function(P){if(P)return c(P);p._writable.open(e,o,a,c)});case T.NOP:return p._writable.exists(e,function(P){P?p._writable.open(e,o,a,c):(I=I.clone(),I.mode=a,p._readable.readFile(e,null,je("r"),function(W,tt){if(W)return c(W);I.size===-1&&(I.size=tt.length);var ft=new Us(p,e,o,I,tt);c(null,ft)}))});default:return c(y.EEXIST(e))}else switch(o.pathNotExistsAction()){case T.CREATE_FILE:return p.createParentDirectoriesAsync(e,function(P){return P?c(P):p._writable.open(e,o,a,c)});default:return c(y.ENOENT(e))}})},t.prototype.openSync=function(e,o,a){if(this.checkInitialized(),this.checkPath(e),e===yn)throw y.EPERM("Cannot open deletion log.");if(this.existsSync(e))switch(o.pathExistsAction()){case T.TRUNCATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,o,a);case T.NOP:if(this._writable.existsSync(e))return this._writable.openSync(e,o,a);var c=this._readable.readFileSync(e,null,je("r")),p=this._readable.statSync(e,!1).clone();return p.mode=a,new Us(this,e,o,p,c);default:throw y.EEXIST(e)}else switch(o.pathNotExistsAction()){case T.CREATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,o,a);default:throw y.ENOENT(e)}},t.prototype.unlink=function(e,o){var a=this;!this.checkInitAsync(o)||this.checkPathAsync(e,o)||this.exists(e,function(c){if(!c)return o(y.ENOENT(e));a._writable.exists(e,function(p){if(p)return a._writable.unlink(e,function(S){if(S)return o(S);a.exists(e,function(I){I&&a.deletePath(e),o(null)})});a.deletePath(e),o(null)})})},t.prototype.unlinkSync=function(e){if(this.checkInitialized(),this.checkPath(e),this.existsSync(e))this._writable.existsSync(e)&&this._writable.unlinkSync(e),this.existsSync(e)&&this.deletePath(e);else throw y.ENOENT(e)},t.prototype.rmdir=function(e,o){var a=this;if(this.checkInitAsync(o)){var c=function(){a.readdir(e,function(p,S){if(p)return o(p);if(S.length)return o(y.ENOTEMPTY(e));a.deletePath(e),o(null)})};this.exists(e,function(p){if(!p)return o(y.ENOENT(e));a._writable.exists(e,function(S){S?a._writable.rmdir(e,function(I){if(I)return o(I);a._readable.exists(e,function(P){P?c():o()})}):c()})})}},t.prototype.rmdirSync=function(e){if(this.checkInitialized(),this.existsSync(e)){if(this._writable.existsSync(e)&&this._writable.rmdirSync(e),this.existsSync(e)){if(this.readdirSync(e).length>0)throw y.ENOTEMPTY(e);this.deletePath(e)}}else throw y.ENOENT(e)},t.prototype.mkdir=function(e,o,a){var c=this;this.checkInitAsync(a)&&this.exists(e,function(p){if(p)return a(y.EEXIST(e));c.createParentDirectoriesAsync(e,function(S){if(S)return a(S);c._writable.mkdir(e,o,a)})})},t.prototype.mkdirSync=function(e,o){if(this.checkInitialized(),this.existsSync(e))throw y.EEXIST(e);this.createParentDirectories(e),this._writable.mkdirSync(e,o)},t.prototype.readdir=function(e,o){var a=this;this.checkInitAsync(o)&&this.stat(e,!1,function(c,p){if(c)return o(c);if(!p.isDirectory())return o(y.ENOTDIR(e));a._writable.readdir(e,function(S,I){if(S&&S.code!=="ENOENT")return o(S);(S||!I)&&(I=[]),a._readable.readdir(e,function(P,W){(P||!W)&&(W=[]);var tt={},ft=I.concat(W.filter(function(dt){return!a._deletedFiles[e+"/"+dt]})).filter(function(dt){var kt=!tt[dt];return tt[dt]=!0,kt});o(null,ft)})})})},t.prototype.readdirSync=function(e){var o=this;this.checkInitialized();var a=this.statSync(e,!1);if(!a.isDirectory())throw y.ENOTDIR(e);var c=[];try{c=c.concat(this._writable.readdirSync(e))}catch{}try{c=c.concat(this._readable.readdirSync(e).filter(function(S){return!o._deletedFiles[e+"/"+S]}))}catch{}var p={};return c.filter(function(S){var I=!p[S];return p[S]=!0,I})},t.prototype.exists=function(e,o){var a=this;this.checkInitialized(),this._writable.exists(e,function(c){if(c)return o(!0);a._readable.exists(e,function(p){o(p&&a._deletedFiles[e]!==!0)})})},t.prototype.existsSync=function(e){return this.checkInitialized(),this._writable.existsSync(e)||this._readable.existsSync(e)&&this._deletedFiles[e]!==!0},t.prototype.chmod=function(e,o,a,c){var p=this;this.checkInitAsync(c)&&this.operateOnWritableAsync(e,function(S){if(S)return c(S);p._writable.chmod(e,o,a,c)})},t.prototype.chmodSync=function(e,o,a){var c=this;this.checkInitialized(),this.operateOnWritable(e,function(){c._writable.chmodSync(e,o,a)})},t.prototype.chown=function(e,o,a,c,p){var S=this;this.checkInitAsync(p)&&this.operateOnWritableAsync(e,function(I){if(I)return p(I);S._writable.chown(e,o,a,c,p)})},t.prototype.chownSync=function(e,o,a,c){var p=this;this.checkInitialized(),this.operateOnWritable(e,function(){p._writable.chownSync(e,o,a,c)})},t.prototype.utimes=function(e,o,a,c){var p=this;this.checkInitAsync(c)&&this.operateOnWritableAsync(e,function(S){if(S)return c(S);p._writable.utimes(e,o,a,c)})},t.prototype.utimesSync=function(e,o,a){var c=this;this.checkInitialized(),this.operateOnWritable(e,function(){c._writable.utimesSync(e,o,a)})},t.prototype.deletePath=function(e){this._deletedFiles[e]=!0,this.updateLog("d"+e+`
`)},t.prototype.updateLog=function(e){var o=this;this._deleteLog+=e,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(yn,this._deleteLog,"utf8",C.getFileFlag("w"),420,function(a){o._deleteLogUpdatePending=!1,a?o._deleteLogError=a:o._deleteLogUpdateNeeded&&(o._deleteLogUpdateNeeded=!1,o.updateLog(""))}))},t.prototype._reparseDeletionLog=function(){var e=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(o){e._deletedFiles[o.slice(1)]=o.slice(0,1)==="d"})},t.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var e=this._deleteLogError;throw this._deleteLogError=null,e}}else throw new y(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},t.prototype.checkInitAsync=function(e){if(this._isInitialized){if(this._deleteLogError!==null){var o=this._deleteLogError;return this._deleteLogError=null,e(o),!1}}else return e(new y(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},t.prototype.checkPath=function(e){if(e===yn)throw y.EPERM(e)},t.prototype.checkPathAsync=function(e,o){return e===yn?(o(y.EPERM(e)),!0):!1},t.prototype.createParentDirectoriesAsync=function(e,o){var a=_.dirname(e),c=[],p=this;this._writable.stat(a,!1,S);function S(P,W){P?(c.push(a),a=_.dirname(a),p._writable.stat(a,!1,S)):I()}function I(){if(!c.length)return o();var P=c.pop();p._readable.stat(P,!1,function(W,tt){if(!tt)return o();p._writable.mkdir(P,tt.mode,function(ft){if(ft)return o(ft);I()})})}},t.prototype.createParentDirectories=function(e){for(var o=this,a=_.dirname(e),c=[];!this._writable.existsSync(a);)c.push(a),a=_.dirname(a);c=c.reverse(),c.forEach(function(p){o._writable.mkdirSync(p,o.statSync(p,!1).mode)})},t.prototype.operateOnWritable=function(e,o){if(this.existsSync(e))this._writable.existsSync(e)||this.copyToWritable(e),o();else throw y.ENOENT(e)},t.prototype.operateOnWritableAsync=function(e,o){var a=this;this.exists(e,function(c){if(!c)return o(y.ENOENT(e));a._writable.exists(e,function(p){if(p)o();else return a.copyToWritableAsync(e,o)})})},t.prototype.copyToWritable=function(e){var o=this.statSync(e,!1);o.isDirectory()?this._writable.mkdirSync(e,o.mode):this.writeFileSync(e,this._readable.readFileSync(e,null,je("r")),null,je("w"),this.statSync(e,!1).mode)},t.prototype.copyToWritableAsync=function(e,o){var a=this;this.stat(e,!1,function(c,p){if(c)return o(c);if(p.isDirectory())return a._writable.mkdir(e,p.mode,o);a._readable.readFile(e,null,je("r"),function(S,I){if(S)return o(S);a.writeFile(e,I,null,je("w"),p.mode,o)})})},t}(j),Cr=function(r){function t(n,e,o){o===void 0&&(o=!0),r.call(this,new js(n,e)),vt(o,t.Name,{readable:"readable file system",writable:"writable file system"})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{var a=new t(e.writable,e.readable,!1);a.initialize(function(c){o(c,a)},!1)}catch(c){o(c)}},t.isAvailable=function(){return js.isAvailable()},t.prototype.initialize=function(e,o){o===void 0&&(o=!0),o&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),r.prototype.initialize.call(this,e)},t.prototype.getOverlayedFileSystems=function(){return r.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},t.prototype.unwrap=function(){return r.prototype.getFSUnlocked.call(this)},t}(At);Cr.Name="OverlayFS",Cr.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var oe;(function(r){r[r.CB=0]="CB",r[r.FD=1]="FD",r[r.API_ERROR=2]="API_ERROR",r[r.STATS=3]="STATS",r[r.PROBE=4]="PROBE",r[r.FILEFLAG=5]="FILEFLAG",r[r.BUFFER=6]="BUFFER",r[r.ERROR=7]="ERROR"})(oe||(oe={}));var So=function(){this._callbacks={},this._nextId=0};So.prototype.toRemoteArg=function(t){var n=this._nextId++;return this._callbacks[n]=t,{type:oe.CB,id:n}},So.prototype.toLocalArg=function(t){var n=this._callbacks[t];return delete this._callbacks[t],n};var yi=function(){this._fileDescriptors={},this._nextId=0};yi.prototype.toRemoteArg=function(t,n,e,o){var a=this._nextId++,c,p;this._fileDescriptors[a]=t,t.stat(function(S,I){S?o(S):(p=Mn(I.toBuffer()),e.isReadable()?t.read(d.alloc(I.size),0,I.size,0,function(P,W,tt){P?o(P):(c=Mn(tt),o(null,{type:oe.FD,id:a,data:c,stat:p,path:n,flag:e.getFlagString()}))}):o(null,{type:oe.FD,id:a,data:new ArrayBuffer(0),stat:p,path:n,flag:e.getFlagString()}))})},yi.prototype.applyFdAPIRequest=function(t,n){var e=this,o=t.args[0];this._applyFdChanges(o,function(a,c){a?n(a):c[t.method](function(p){t.method==="close"&&delete e._fileDescriptors[o.id],n(p)})})},yi.prototype._applyFdChanges=function(t,n){var e=this._fileDescriptors[t.id],o=Un(t.data),a=B.fromBuffer(Un(t.stat)),c=C.getFileFlag(t.flag);c.isWriteable()?e.write(o,0,o.length,c.isAppendable()?e.getPos():0,function(p){function S(){e.stat(function(I,P){I?n(I):P.mode!==a.mode?e.chmod(a.mode,function(W){n(W,e)}):n(I,e)})}p?n(p):c.isAppendable()?S():e.truncate(o.length,function(){S()})}):n(null,e)};function vi(r){return{type:oe.API_ERROR,errorData:Mn(r.writeToBuffer())}}function Bs(r){return y.fromBuffer(Un(r.errorData))}function zs(r){return{type:oe.ERROR,name:r.name,message:r.message,stack:r.stack}}function Ws(r){var t=he[r.name];typeof t!="function"&&(t=Error);var n=new t(r.message);return n.stack=r.stack,n}function Hs(r){return{type:oe.STATS,statsData:Mn(r.toBuffer())}}function Xs(r){return B.fromBuffer(Un(r.statsData))}function Vs(r){return{type:oe.FILEFLAG,flagStr:r.getFlagString()}}function Ys(r){return C.getFileFlag(r.flagStr)}function Mn(r){return st(r)}function Un(r){return Lt(r)}function Zs(r){return{type:oe.BUFFER,data:Mn(r)}}function Ks(r){return Un(r.data)}function Tf(r){return r&&typeof r=="object"&&r.hasOwnProperty("browserfsMessage")&&r.browserfsMessage}function Nf(r){return r&&typeof r=="object"&&r.hasOwnProperty("browserfsMessage")&&r.browserfsMessage}var qs=function(r){function t(n,e,o,a,c,p){r.call(this,n,e,o,a,p),this._remoteFdId=c}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getRemoteFdId=function(){return this._remoteFdId},t.prototype.toRemoteArg=function(){return{type:oe.FD,id:this._remoteFdId,data:Mn(this.getBuffer()),stat:Mn(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},t.prototype.sync=function(e){this._syncClose("sync",e)},t.prototype.close=function(e){this._syncClose("close",e)},t.prototype._syncClose=function(e,o){var a=this;this.isDirty()?this._fs.syncClose(e,this,function(c){c||a.resetDirty(),o(c)}):o()},t}(pt),gi=function(r){function t(n,e){var o=this;e===void 0&&(e=!0),r.call(this),this._callbackConverter=new So,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=n,vt(e,t.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(a){var c=a.data;if(Nf(c)){var p,S=c.args,I=new Array(S.length);for(p=0;p<I.length;p++)I[p]=o._argRemote2Local(S[p]);o._callbackConverter.toLocalArg(c.cbId).apply(null,I)}})}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t(e.worker,!1);a.initialize(function(){o(null,a)})},t.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},t.attachRemoteListener=function(e){var o=new yi;function a(p,S,I){switch(typeof p){case"object":p instanceof B?I(null,Hs(p)):p instanceof y?I(null,vi(p)):p instanceof J?I(null,o.toRemoteArg(p,S[0],S[1],I)):p instanceof C?I(null,Vs(p)):p instanceof d?I(null,Zs(p)):p instanceof Error?I(null,zs(p)):I(null,p);break;default:I(null,p);break}}function c(p,S){if(!p)return p;switch(typeof p){case"object":if(typeof p.type=="number"){var I=p;switch(I.type){case oe.CB:var P=p.id;return function(){var W=arguments,tt,ft=new Array(arguments.length),dt,kt=arguments.length;function Tt(jt){kt>0&&(kt=-1,dt={browserfsMessage:!0,cbId:P,args:[vi(jt)]},e.postMessage(dt))}for(tt=0;tt<arguments.length;tt++)(function(jt,se){a(se,S,function(be,rn){ft[jt]=rn,be?Tt(be):--kt===0&&(dt={browserfsMessage:!0,cbId:P,args:ft},e.postMessage(dt))})})(tt,W[tt]);arguments.length===0&&(dt={browserfsMessage:!0,cbId:P,args:ft},e.postMessage(dt))};case oe.API_ERROR:return Bs(I);case oe.STATS:return Xs(I);case oe.FILEFLAG:return Ys(I);case oe.BUFFER:return Ks(I);case oe.ERROR:return Ws(I);default:return p}}else return p;default:return p}}e.addEventListener("message",function(p){var S=p.data;if(Tf(S)){var I=S.args,P=new Array(I.length);switch(S.method){case"close":case"sync":(function(){var ft=I[1];o.applyFdAPIRequest(S,function(dt){var kt={browserfsMessage:!0,cbId:ft.id,args:dt?[vi(dt)]:[]};e.postMessage(kt)})})();break;case"probe":(function(){var ft=_t.getRootFS(),dt=I[1],kt={type:oe.PROBE,isReadOnly:ft.isReadOnly(),supportsLinks:ft.supportsLinks(),supportsProps:ft.supportsProps()},Tt={browserfsMessage:!0,cbId:dt.id,args:[kt]};e.postMessage(Tt)})();break;default:for(var W=0;W<I.length;W++)P[W]=c(I[W],P);var tt=_t.getRootFS();tt[S.method].apply(tt,P);break}}})},t.prototype.getName=function(){return t.Name},t.prototype.initialize=function(e){var o=this;if(this._isInitialized)e();else{var a={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Xt()),this._callbackConverter.toRemoteArg(function(c){o._isInitialized=!0,o._isReadOnly=c.isReadOnly,o._supportLinks=c.supportsLinks,o._supportProps=c.supportsProps,e()})]};this._worker.postMessage(a)}},t.prototype.isReadOnly=function(){return this._isReadOnly},t.prototype.supportsSynch=function(){return!1},t.prototype.supportsLinks=function(){return this._supportLinks},t.prototype.supportsProps=function(){return this._supportProps},t.prototype.rename=function(e,o,a){this._rpc("rename",arguments)},t.prototype.stat=function(e,o,a){this._rpc("stat",arguments)},t.prototype.open=function(e,o,a,c){this._rpc("open",arguments)},t.prototype.unlink=function(e,o){this._rpc("unlink",arguments)},t.prototype.rmdir=function(e,o){this._rpc("rmdir",arguments)},t.prototype.mkdir=function(e,o,a){this._rpc("mkdir",arguments)},t.prototype.readdir=function(e,o){this._rpc("readdir",arguments)},t.prototype.exists=function(e,o){this._rpc("exists",arguments)},t.prototype.realpath=function(e,o,a){this._rpc("realpath",arguments)},t.prototype.truncate=function(e,o,a){this._rpc("truncate",arguments)},t.prototype.readFile=function(e,o,a,c){this._rpc("readFile",arguments)},t.prototype.writeFile=function(e,o,a,c,p,S){this._rpc("writeFile",arguments)},t.prototype.appendFile=function(e,o,a,c,p,S){this._rpc("appendFile",arguments)},t.prototype.chmod=function(e,o,a,c){this._rpc("chmod",arguments)},t.prototype.chown=function(e,o,a,c,p){this._rpc("chown",arguments)},t.prototype.utimes=function(e,o,a,c){this._rpc("utimes",arguments)},t.prototype.link=function(e,o,a){this._rpc("link",arguments)},t.prototype.symlink=function(e,o,a,c){this._rpc("symlink",arguments)},t.prototype.readlink=function(e,o){this._rpc("readlink",arguments)},t.prototype.syncClose=function(e,o,a){this._worker.postMessage({browserfsMessage:!0,method:e,args:[o.toRemoteArg(),this._callbackConverter.toRemoteArg(a)]})},t.prototype._argRemote2Local=function(e){if(!e)return e;switch(typeof e){case"object":if(typeof e.type=="number"){var o=e;switch(o.type){case oe.API_ERROR:return Bs(o);case oe.FD:var a=o;return new qs(this,a.path,C.getFileFlag(a.flag),B.fromBuffer(Un(a.stat)),a.id,Un(a.data));case oe.STATS:return Xs(o);case oe.FILEFLAG:return Ys(o);case oe.BUFFER:return Ks(o);case oe.ERROR:return Ws(o);default:return e}}else return e;default:return e}},t.prototype._rpc=function(e,o){for(var a=this,c=new Array(o.length),p=0;p<o.length;p++)c[p]=a._argLocal2Remote(o[p]);var S={browserfsMessage:!0,method:e,args:c};this._worker.postMessage(S)},t.prototype._argLocal2Remote=function(e){if(!e)return e;switch(typeof e){case"object":return e instanceof B?Hs(e):e instanceof y?vi(e):e instanceof qs?e.toRemoteArg():e instanceof C?Vs(e):e instanceof d?Zs(e):e instanceof Error?zs(e):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(e);default:return e}},t}(j);gi.Name="WorkerFS",gi.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(r,t){r.postMessage?t():t(new y(h.EINVAL,"option must be a Web Worker instance."))}}};function Df(r,t,n){var e=new XMLHttpRequest;e.open("GET",r,!0);var o=!0;switch(t){case"buffer":e.responseType="arraybuffer";break;case"json":try{e.responseType="json",o=e.responseType==="json"}catch{o=!1}break;default:return n(new y(h.EINVAL,"Invalid download type: "+t))}e.onreadystatechange=function(a){if(e.readyState===4)if(e.status===200)switch(t){case"buffer":return n(null,e.response?d.from(e.response):Xt());case"json":return o?n(null,e.response):n(null,JSON.parse(e.responseText))}else return n(new y(e.status,"XHR error."))},e.send()}function Lf(r,t){var n=new XMLHttpRequest;n.open("GET",r,!1);var e=null,o=null;if(n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(a){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":var c=n.responseText;e=d.alloc(c.length);for(var p=0;p<c.length;p++)e[p]=c.charCodeAt(p);return;case"json":e=JSON.parse(n.responseText);return}else{o=new y(n.status,"XHR error.");return}},n.send(),o)throw o;return e}function Af(r,t){var n=new XMLHttpRequest;switch(n.open("GET",r,!1),t){case"buffer":n.responseType="arraybuffer";break;case"json":break;default:throw new y(h.EINVAL,"Invalid download type: "+t)}var e,o;if(n.onreadystatechange=function(a){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":e=d.from(n.response);break;case"json":e=JSON.parse(n.response);break}else o=new y(n.status,"XHR error.")},n.send(),o)throw o;return e}function Js(r,t,n){var e=new XMLHttpRequest;e.open("HEAD",t,r),e.onreadystatechange=function(o){if(e.readyState===4)if(e.status===200)try{return n(null,parseInt(e.getResponseHeader("Content-Length")||"-1",10))}catch{return n(new y(h.EIO,"XHR HEAD error: Could not read content-length."))}else return n(new y(e.status,"XHR HEAD error."))},e.send()}var Gs=Df,Cf=lt&&typeof Blob<"u"?Af:Lf;function Pf(r){var t=-1;return Js(!1,r,function(n,e){if(n)throw n;t=e}),t}function Mf(r,t){Js(!0,r,t)}var Ye=function(){this._index={},this.addPath("/",new Ae)};Ye.fromListing=function(t){var n=new Ye,e=new Ae;n._index["/"]=e;for(var o=[["",t,e]];o.length>0;){var a=void 0,c=o.pop(),p=c[0],S=c[1],I=c[2];for(var P in S)if(S.hasOwnProperty(P)){var W=S[P],tt=p+"/"+P;W?(n._index[tt]=a=new Ae,o.push([tt,W,a])):a=new cr(new B(U.FILE,-1,365)),I&&(I._ls[P]=a)}}return n},Ye.prototype.fileIterator=function(t){var n=this;for(var e in n._index)if(n._index.hasOwnProperty(e))for(var o=n._index[e],a=o.getListing(),c=0,p=a;c<p.length;c+=1){var S=p[c],I=o.getItem(S);vn(I)&&t(I.getData())}},Ye.prototype.addPath=function(t,n){if(!n)throw new Error("Inode must be specified");if(t[0]!=="/")throw new Error("Path must be absolute, got: "+t);if(this._index.hasOwnProperty(t))return this._index[t]===n;var e=this._split_path(t),o=e[0],a=e[1],c=this._index[o];return c===void 0&&t!=="/"&&(c=new Ae,!this.addPath(o,c))||t!=="/"&&!c.addItem(a,n)?!1:(bn(n)&&(this._index[t]=n),!0)},Ye.prototype.addPathFast=function(t,n){var e=t.lastIndexOf("/"),o=e===0?"/":t.substring(0,e),a=t.substring(e+1),c=this._index[o];return c===void 0&&(c=new Ae,this.addPathFast(o,c)),c.addItem(a,n)?(n.isDir()&&(this._index[t]=n),!0):!1},Ye.prototype.removePath=function(t){var n=this,e=this._split_path(t),o=e[0],a=e[1],c=this._index[o];if(c===void 0)return null;var p=c.remItem(a);if(p===null)return null;if(bn(p)){for(var S=p.getListing(),I=0,P=S;I<P.length;I+=1){var W=P[I];n.removePath(t+"/"+W)}t!=="/"&&delete this._index[t]}return p},Ye.prototype.ls=function(t){var n=this._index[t];return n===void 0?null:n.getListing()},Ye.prototype.getInode=function(t){var n=this._split_path(t),e=n[0],o=n[1],a=this._index[e];return a===void 0?null:e===t?a:a.getItem(o)},Ye.prototype._split_path=function(t){var n=_.dirname(t),e=t.substr(n.length+(n==="/"?0:1));return[n,e]};var cr=function(t){this.data=t};cr.prototype.isFile=function(){return!0},cr.prototype.isDir=function(){return!1},cr.prototype.getData=function(){return this.data},cr.prototype.setData=function(t){this.data=t};var Ae=function(t){t===void 0&&(t=null),this.data=t,this._ls={}};Ae.prototype.isFile=function(){return!1},Ae.prototype.isDir=function(){return!0},Ae.prototype.getData=function(){return this.data},Ae.prototype.getStats=function(){return new B(U.DIRECTORY,4096,365)},Ae.prototype.getListing=function(){return Object.keys(this._ls)},Ae.prototype.getItem=function(t){var n=this._ls[t];return n||null},Ae.prototype.addItem=function(t,n){return t in this._ls?!1:(this._ls[t]=n,!0)},Ae.prototype.remItem=function(t){var n=this._ls[t];return n===void 0?null:(delete this._ls[t],n)};function vn(r){return!!r&&r.isFile()}function bn(r){return!!r&&r.isDir()}function Uf(r,t,n){try{n(null,r.toString(t))}catch(e){n(e)}}var mi=function(r){function t(n,e,o){e===void 0&&(e=""),o===void 0&&(o=!0),r.call(this),n||(n="index.json"),e.length>0&&e.charAt(e.length-1)!=="/"&&(e=e+"/"),this.prefixUrl=e;var a=null;if(typeof n=="string"){if(a=this._requestFileSync(n,"json"),!a)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else a=n;vt(o,t.Name,{index:typeof n=="string"?n:"file index as an object",baseUrl:e}),this._index=Ye.fromListing(a)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){e.index===void 0&&(e.index="index.json"),typeof e.index=="string"?t.FromURL(e.index,o,e.baseUrl,!1):o(null,new t(e.index,e.baseUrl,!1))},t.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},t.FromURL=function(e,o,a,c){a===void 0&&(a=e.slice(0,e.lastIndexOf("/")+1)),c===void 0&&(c=!0),c&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+e+'", baseUrl: "'+a+`" }, cb)' instead.`),Gs(e,"json",function(p,S){p?o(p):o(null,new t(S,a,!1))})},t.prototype.empty=function(){this._index.fileIterator(function(e){e.fileData=null})},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,o){o(0,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.preloadFile=function(e,o){var a=this._index.getInode(e);if(vn(a)){if(a===null)throw y.ENOENT(e);var c=a.getData();c.size=o.length,c.fileData=o}else throw y.EISDIR(e)},t.prototype.stat=function(e,o,a){var c=this._index.getInode(e);if(c===null)return a(y.ENOENT(e));var p;vn(c)?(p=c.getData(),p.size<0?this._requestFileSizeAsync(e,function(S,I){if(S)return a(S);p.size=I,a(null,p.clone())}):a(null,p.clone())):bn(c)?(p=c.getStats(),a(null,p)):a(y.FileError(h.EINVAL,e))},t.prototype.statSync=function(e,o){var a=this._index.getInode(e);if(a===null)throw y.ENOENT(e);var c;if(vn(a))c=a.getData(),c.size<0&&(c.size=this._requestFileSizeSync(e));else if(bn(a))c=a.getStats();else throw y.FileError(h.EINVAL,e);return c},t.prototype.open=function(e,o,a,c){if(o.isWriteable())return c(new y(h.EPERM,e));var p=this,S=this._index.getInode(e);if(S===null)return c(y.ENOENT(e));if(vn(S)){var I=S.getData();switch(o.pathExistsAction()){case T.THROW_EXCEPTION:case T.TRUNCATE_FILE:return c(y.EEXIST(e));case T.NOP:if(I.fileData)return c(null,new at(p,e,o,I.clone(),I.fileData));this._requestFileAsync(e,"buffer",function(P,W){return P?c(P):(I.size=W.length,I.fileData=W,c(null,new at(p,e,o,I.clone(),W)))});break;default:return c(new y(h.EINVAL,"Invalid FileMode object."))}}else return c(y.EISDIR(e))},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new y(h.EPERM,e);var c=this._index.getInode(e);if(c===null)throw y.ENOENT(e);if(vn(c)){var p=c.getData();switch(o.pathExistsAction()){case T.THROW_EXCEPTION:case T.TRUNCATE_FILE:throw y.EEXIST(e);case T.NOP:if(p.fileData)return new at(this,e,o,p.clone(),p.fileData);var S=this._requestFileSync(e,"buffer");return p.size=S.length,p.fileData=S,new at(this,e,o,p.clone(),S);default:throw new y(h.EINVAL,"Invalid FileMode object.")}}else throw y.EISDIR(e)},t.prototype.readdir=function(e,o){try{o(null,this.readdirSync(e))}catch(a){o(a)}},t.prototype.readdirSync=function(e){var o=this._index.getInode(e);if(o===null)throw y.ENOENT(e);if(bn(o))return o.getListing();throw y.ENOTDIR(e)},t.prototype.readFile=function(e,o,a,c){var p=c;this.open(e,a,420,function(S,I){if(S)return c(S);c=function(tt,ft){I.close(function(dt){return tt||(tt=dt),p(tt,ft)})};var P=I,W=P.getBuffer();o===null?c(S,Pt(W)):Uf(W,o,c)})},t.prototype.readFileSync=function(e,o,a){var c=this.openSync(e,a,420);try{var p=c,S=p.getBuffer();return o===null?Pt(S):S.toString(o)}finally{c.closeSync()}},t.prototype.getXhrPath=function(e){return e.charAt(0)==="/"&&(e=e.slice(1)),this.prefixUrl+e},t.prototype._requestFileAsync=function(e,o,a){Gs(this.getXhrPath(e),o,a)},t.prototype._requestFileSync=function(e,o){return Cf(this.getXhrPath(e),o)},t.prototype._requestFileSizeAsync=function(e,o){Mf(this.getXhrPath(e),o)},t.prototype._requestFileSizeSync=function(e){return Pf(this.getXhrPath(e))},t}(j);mi.Name="XmlHttpRequest",mi.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var jn=function(){};jn.str2byte=function(t,n){for(var e=t.length>n.length?n.length:t.length,o=0;o<e;o++){var a=t.charCodeAt(o);if(a>127){var c=jn.extendedChars.indexOf(t.charAt(o));c>-1&&(a=c+128)}n[a]=o}return e},jn.byte2str=function(t){for(var n=new Array(t.length),e=0;e<t.length;e++){var o=t[e];o>127?n[e]=jn.extendedChars[o-128]:n[e]=String.fromCharCode(o)}return n.join("")},jn.byteLength=function(t){return t.length},jn.extendedChars=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];var jf=l(31).inflateRaw,Qs={},$s;(function(r){r[r.MSDOS=0]="MSDOS",r[r.AMIGA=1]="AMIGA",r[r.OPENVMS=2]="OPENVMS",r[r.UNIX=3]="UNIX",r[r.VM_CMS=4]="VM_CMS",r[r.ATARI_ST=5]="ATARI_ST",r[r.OS2_HPFS=6]="OS2_HPFS",r[r.MAC=7]="MAC",r[r.Z_SYSTEM=8]="Z_SYSTEM",r[r.CP_M=9]="CP_M",r[r.NTFS=10]="NTFS",r[r.MVS=11]="MVS",r[r.VSE=12]="VSE",r[r.ACORN_RISC=13]="ACORN_RISC",r[r.VFAT=14]="VFAT",r[r.ALT_MVS=15]="ALT_MVS",r[r.BEOS=16]="BEOS",r[r.TANDEM=17]="TANDEM",r[r.OS_400=18]="OS_400",r[r.OSX=19]="OSX"})($s||($s={}));var ur;(function(r){r[r.STORED=0]="STORED",r[r.SHRUNK=1]="SHRUNK",r[r.REDUCED_1=2]="REDUCED_1",r[r.REDUCED_2=3]="REDUCED_2",r[r.REDUCED_3=4]="REDUCED_3",r[r.REDUCED_4=5]="REDUCED_4",r[r.IMPLODE=6]="IMPLODE",r[r.DEFLATE=8]="DEFLATE",r[r.DEFLATE64=9]="DEFLATE64",r[r.TERSE_OLD=10]="TERSE_OLD",r[r.BZIP2=12]="BZIP2",r[r.LZMA=14]="LZMA",r[r.TERSE_NEW=18]="TERSE_NEW",r[r.LZ77=19]="LZ77",r[r.WAVPACK=97]="WAVPACK",r[r.PPMD=98]="PPMD"})(ur||(ur={}));function ta(r,t){var n=t&31,e=(t>>5&15)-1,o=(t>>9)+1980,a=r&31,c=r>>5&63,p=r>>11;return new Date(o,e,n,p,c,a)}function _i(r,t,n,e){return e===0?"":t?r.toString("utf8",n,n+e):jn.byte2str(r.slice(n,n+e))}var Be=function(t){if(this.data=t,t.readUInt32LE(0)!==67324752)throw new y(h.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Be.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Be.prototype.flags=function(){return this.data.readUInt16LE(6)},Be.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Be.prototype.lastModFileTime=function(){return ta(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Be.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Be.prototype.crc32=function(){return this.data.readUInt32LE(14)},Be.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Be.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Be.prototype.fileName=function(){return _i(this.data,this.useUTF8(),30,this.fileNameLength())},Be.prototype.extraField=function(){var t=30+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},Be.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Be.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var Pr=function(t,n,e){this.header=t,this.record=n,this.data=e};Pr.prototype.decompress=function(){var t=this.header.compressionMethod(),n=Qs[t];if(n)return n(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var e=ur[t];throw e||(e="Unknown: "+t),new y(h.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+e)},Pr.prototype.getHeader=function(){return this.header},Pr.prototype.getRecord=function(){return this.record},Pr.prototype.getRawData=function(){return this.data};var Yt=function(t,n){if(this.zipData=t,this.data=n,this.data.readUInt32LE(0)!==33639248)throw new y(h.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};Yt.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},Yt.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},Yt.prototype.flag=function(){return this.data.readUInt16LE(8)},Yt.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},Yt.prototype.lastModFileTime=function(){return ta(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},Yt.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},Yt.prototype.crc32=function(){return this.data.readUInt32LE(16)},Yt.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},Yt.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},Yt.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},Yt.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},Yt.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},Yt.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},Yt.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},Yt.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},Yt.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},Yt.prototype.produceFilename=function(){var t=_i(this.data,this.useUTF8(),46,this.fileNameLength());return t.replace(/\\/g,"/")},Yt.prototype.fileName=function(){return this._filename},Yt.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},Yt.prototype.extraField=function(){var t=44+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},Yt.prototype.fileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return _i(this.data,this.useUTF8(),t,this.fileCommentLength())},Yt.prototype.rawFileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(t,t+this.fileCommentLength())},Yt.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},Yt.prototype.isDirectory=function(){var t=this.fileName();return!!(this.externalAttributes()&16)||t.charAt(t.length-1)==="/"},Yt.prototype.isFile=function(){return!this.isDirectory()},Yt.prototype.useUTF8=function(){return(this.flag()&2048)===2048},Yt.prototype.isEncrypted=function(){return(this.flag()&1)===1},Yt.prototype.getFileData=function(){var t=this.headerRelativeOffset(),n=new Be(this.zipData.slice(t));return new Pr(n,this,this.zipData.slice(t+n.totalSize()))},Yt.prototype.getData=function(){return this.getFileData().decompress()},Yt.prototype.getRawData=function(){return this.getFileData().getRawData()},Yt.prototype.getStats=function(){return new B(U.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var en=function(t){if(this.data=t,this.data.readUInt32LE(0)!==101010256)throw new y(h.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};en.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},en.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},en.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},en.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},en.prototype.cdSize=function(){return this.data.readUInt32LE(12)},en.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},en.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},en.prototype.cdZipComment=function(){return _i(this.data,!0,22,this.cdZipCommentLength())},en.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var ea=function(t,n,e,o){this.index=t,this.directoryEntries=n,this.eocd=e,this.data=o},Bn=function(r){function t(n,e,o){e===void 0&&(e=""),o===void 0&&(o=!0),r.call(this),this.name=e,this._index=new Ye,this._directoryEntries=[],this._eocd=null,vt(o,t.Name,{zipData:"zip data as a Buffer",name:e}),n instanceof ea?(this._index=n.index,this._directoryEntries=n.directoryEntries,this._eocd=n.eocd,this.data=n.data):(this.data=n,this.populateIndex())}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{t.computeIndex(e.zipData,function(a){var c=new t(a,e.name,!1);o(null,c)},!1)}catch(a){o(a)}},t.isAvailable=function(){return!0},t.RegisterDecompressionMethod=function(e,o){Qs[e]=o},t.computeIndex=function(e,o,a){a===void 0&&(a=!0),a&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var c=new Ye,p=t.getEOCD(e);if(p.diskNumber()!==p.cdDiskNumber())throw new y(h.EINVAL,"ZipFS does not support spanned zip files.");var S=p.cdOffset();if(S===4294967295)throw new y(h.EINVAL,"ZipFS does not support Zip64.");var I=S+p.cdSize();t.computeIndexResponsive(e,c,S,I,o,[],p)},t.getEOCD=function(e){for(var o=22,a=Math.min(o+65535,e.length-1),c=o;c<a;c++)if(e.readUInt32LE(e.length-c)===101010256)return new en(e.slice(e.length-c));throw new y(h.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},t.addToIndex=function(e,o){var a=e.fileName();if(a.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");a.charAt(a.length-1)==="/"&&(a=a.substr(0,a.length-1)),e.isDirectory()?o.addPathFast("/"+a,new Ae(e)):o.addPathFast("/"+a,new cr(e))},t.computeIndexResponsive=function(e,o,a,c,p,S,I){if(a<c){for(var P=0;P++<200&&a<c;){var W=new Yt(e,e.slice(a));t.addToIndex(W,o),a+=W.totalSize(),S.push(W)}wo(function(){t.computeIndexResponsive(e,o,a,c,p,S,I)})}else p(new ea(o,S,I,e))},t.prototype.getName=function(){return t.Name+(this.name!==""?" "+this.name:"")},t.prototype.getCentralDirectoryEntry=function(e){var o=this._index.getInode(e);if(o===null)throw y.ENOENT(e);if(vn(o))return o.getData();if(bn(o))return o.getData();throw y.EPERM("Invalid inode: "+o)},t.prototype.getCentralDirectoryEntryAt=function(e){var o=this._directoryEntries[e];if(!o)throw new RangeError("Invalid directory index: "+e+".");return o},t.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},t.prototype.getEndOfCentralDirectory=function(){return this._eocd},t.prototype.diskSpace=function(e,o){o(this.data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,o){var a=this._index.getInode(e);if(a===null)throw y.ENOENT(e);var c;if(vn(a))c=a.getData().getStats();else if(bn(a))c=a.getStats();else throw new y(h.EINVAL,"Invalid inode.");return c},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new y(h.EPERM,e);var c=this._index.getInode(e);if(c)if(vn(c)){var p=c.getData(),S=p.getStats();switch(o.pathExistsAction()){case T.THROW_EXCEPTION:case T.TRUNCATE_FILE:throw y.EEXIST(e);case T.NOP:return new at(this,e,o,S,p.getData());default:throw new y(h.EINVAL,"Invalid FileMode object.")}}else throw y.EISDIR(e);else throw y.ENOENT(e)},t.prototype.readdirSync=function(e){var o=this._index.getInode(e);if(o){if(bn(o))return o.getListing();throw y.ENOTDIR(e)}else throw y.ENOENT(e)},t.prototype.readFileSync=function(e,o,a){var c=this.openSync(e,a,420);try{var p=c,S=p.getBuffer();return o===null?Pt(S):S.toString(o)}finally{c.closeSync()}},t.prototype.populateIndex=function(){var e=this,o=this._eocd=t.getEOCD(this.data);if(o.diskNumber()!==o.cdDiskNumber())throw new y(h.EINVAL,"ZipFS does not support spanned zip files.");var a=o.cdOffset();if(a===4294967295)throw new y(h.EINVAL,"ZipFS does not support Zip64.");for(var c=a+o.cdSize();a<c;){var p=new Yt(e.data,e.data.slice(a));a+=p.totalSize(),t.addToIndex(p,e._index),e._directoryEntries.push(p)}},t}(et);Bn.Name="ZipFS",Bn.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:N},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Bn.CompressionMethod=ur,Bn.RegisterDecompressionMethod(ur.DEFLATE,function(r,t,n){return Ut(jf(r.slice(0,t),{chunkSize:n}))}),Bn.RegisterDecompressionMethod(ur.STORED,function(r,t,n){return Pt(r,0,n)});var Bf="IEEE_P1282";function Ce(r,t,n){return r.toString("ascii",t,t+n).trim()}function Eo(r,t,n){if(n===1)return String.fromCharCode(r[t]);for(var e=Math.floor(n/2),o=new Array(e),a=0;a<e;a++){var c=t+(a<<1);o[a]=String.fromCharCode(r[c+1]|r[c]<<8)}return o.join("")}function nn(r,t){var n=parseInt(Ce(r,t,4),10),e=parseInt(Ce(r,t+4,2),10),o=parseInt(Ce(r,t+6,2),10),a=parseInt(Ce(r,t+8,2),10),c=parseInt(Ce(r,t+10,2),10),p=parseInt(Ce(r,t+12,2),10),S=parseInt(Ce(r,t+14,2),10);return new Date(n,e,o,a,c,p,S*100)}function zn(r,t){var n=r[t],e=r[t+1],o=r[t+2],a=r[t+3],c=r[t+4],p=r[t+5];return new Date(n,e-1,o,a,c,p)}function zf(r,t){var n=r.slice(t),e=new de(n);switch(e.signatureWord()){case 17221:return new sa(n);case 20548:return new Xf(n);case 21328:return new aa(n);case 21332:return new ca(n);case 17746:return new ua(n);case 17747:return new Vf(n);case 20568:return new la(n);case 20558:return new Yf(n);case 21324:return new xo(n);case 20045:return new ha(n);case 17228:return new bo(n);case 20556:return new Zf(n);case 21061:return new da(n);case 21574:return new pa(n);case 21318:return new Kf(n);case 21074:return new fa(n);default:return e}}function na(r,t,n,e){n=n-4;for(var o=new Array;t<n;){var a=zf(r,t),c=a.length();if(c===0)return o;if(t+=c,a instanceof ca)break;a instanceof sa?o=o.concat(a.getEntries(e)):o.push(a)}return o}var fr=function(t){this._data=t};fr.prototype.type=function(){return this._data[0]},fr.prototype.standardIdentifier=function(){return Ce(this._data,1,5)},fr.prototype.version=function(){return this._data[6]},fr.prototype.data=function(){return this._data.slice(7,2048)};var ra=function(r){function t(n){r.call(this,n),this._root=null}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.systemIdentifier=function(){return this._getString32(8)},t.prototype.volumeIdentifier=function(){return this._getString32(40)},t.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},t.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},t.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},t.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},t.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},t.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},t.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},t.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},t.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},t.prototype.rootDirectoryEntry=function(e){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(e)),this._root},t.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},t.prototype.publisherIdentifier=function(){return this._getString(318,128)},t.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},t.prototype.applicationIdentifier=function(){return this._getString(574,128)},t.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},t.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},t.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},t.prototype.volumeCreationDate=function(){return nn(this._data,813)},t.prototype.volumeModificationDate=function(){return nn(this._data,830)},t.prototype.volumeExpirationDate=function(){return nn(this._data,847)},t.prototype.volumeEffectiveDate=function(){return nn(this._data,864)},t.prototype.fileStructureVersion=function(){return this._data[881]},t.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},t.prototype.reserved=function(){return this._data.slice(1395,1395+653)},t.prototype._getString32=function(e){return this._getString(e,32)},t}(fr),Wf=function(r){function t(n){if(r.call(this,n),this.type()!==1)throw new y(h.EIO,"Invalid primary volume descriptor.")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"ISO9660"},t.prototype._constructRootDirectoryRecord=function(e){return new ia(e,-1)},t.prototype._getString=function(e,o){return this._getString(e,o)},t}(ra),Hf=function(r){function t(n){if(r.call(this,n),this.type()!==2)throw new y(h.EIO,"Invalid supplementary volume descriptor.");var e=this.escapeSequence(),o=e[2];if(e[0]!==37||e[1]!==47||o!==64&&o!==67&&o!==69)throw new y(h.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+e.toString())}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"Joliet"},t.prototype.escapeSequence=function(){return this._data.slice(88,120)},t.prototype._constructRootDirectoryRecord=function(e){return new oa(e,-1)},t.prototype._getString=function(e,o){return Eo(this._data,e,o)},t}(ra),ee=function(t,n){this._suEntries=null,this._fileOrDir=null,this._data=t,this._rockRidgeOffset=n};ee.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},ee.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},ee.prototype.rootCheckForRockRidge=function(t){var n=this.getDirectory(t);this._rockRidgeOffset=n.getDotEntry(t)._getRockRidgeOffset(t),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},ee.prototype.length=function(){return this._data[0]},ee.prototype.extendedAttributeRecordLength=function(){return this._data[1]},ee.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},ee.prototype.dataLength=function(){return this._data.readUInt32LE(10)},ee.prototype.recordingDate=function(){return zn(this._data,18)},ee.prototype.fileFlags=function(){return this._data[25]},ee.prototype.fileUnitSize=function(){return this._data[26]},ee.prototype.interleaveGapSize=function(){return this._data[27]},ee.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},ee.prototype.identifier=function(){return this._getString(33,this._data[32])},ee.prototype.fileName=function(t){if(this.hasRockRidge()){var n=this._rockRidgeFilename(t);if(n!==null)return n}var e=this.identifier();if(this.isDirectory(t))return e;var o=e.indexOf(";");return o===-1?e:e[o-1]==="."?e.slice(0,o-1):e.slice(0,o)},ee.prototype.isDirectory=function(t){var n=!!(this.fileFlags()&2);return!n&&this.hasRockRidge()&&(n=this.getSUEntries(t).filter(function(e){return e instanceof bo}).length>0),n},ee.prototype.isSymlink=function(t){return this.hasRockRidge()&&this.getSUEntries(t).filter(function(n){return n instanceof xo}).length>0},ee.prototype.getSymlinkPath=function(t){for(var n="",e=this.getSUEntries(t),o=this._getGetString(),a=0,c=e;a<c.length;a+=1){var p=c[a];if(p instanceof xo){for(var S=p.componentRecords(),I=0,P=S;I<P.length;I+=1){var W=P[I],tt=W.flags();tt&2?n+="./":tt&4?n+="../":tt&8?n+="/":(n+=W.content(o),tt&1||(n+="/"))}if(!p.continueFlag())break}}return n.length>1&&n[n.length-1]==="/"?n.slice(0,n.length-1):n},ee.prototype.getFile=function(t){if(this.isDirectory(t))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=t.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},ee.prototype.getDirectory=function(t){if(!this.isDirectory(t))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(t)),this._fileOrDir},ee.prototype.getSUEntries=function(t){return this._suEntries||this._constructSUEntries(t),this._suEntries},ee.prototype._rockRidgeFilename=function(t){var n=this.getSUEntries(t).filter(function(S){return S instanceof ha});if(n.length===0||n[0].flags()&6)return null;for(var e="",o=this._getGetString(),a=0,c=n;a<c.length;a+=1){var p=c[a];if(e+=p.name(o),!(p.flags()&1))break}return e},ee.prototype._constructSUEntries=function(t){var n=33+this._data[32];n%2===1&&n++,n+=this._rockRidgeOffset,this._suEntries=na(this._data,n,this.length(),t)},ee.prototype._getRockRidgeOffset=function(t){this._rockRidgeOffset=0;var n=this.getSUEntries(t);if(n.length>0){var e=n[0];if(e instanceof aa&&e.checkBytesPass())for(var o=1;o<n.length;o++){var a=n[o];if(a instanceof fa||a instanceof ua&&a.extensionIdentifier()===Bf)return e.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var ia=function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,o){return Ce(this._data,e,o)},t.prototype._constructDirectory=function(e){return new qf(this,e)},t.prototype._getGetString=function(){return Ce},t}(ee),oa=function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,o){return Eo(this._data,e,o)},t.prototype._constructDirectory=function(e){return new Jf(this,e)},t.prototype._getGetString=function(){return Eo},t}(ee),de=function(t){this._data=t};de.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},de.prototype.signatureWordString=function(){return Ce(this._data,0,2)},de.prototype.length=function(){return this._data[2]},de.prototype.suVersion=function(){return this._data[3]};var sa=function(r){function t(n){r.call(this,n),this._entries=null}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},t.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},t.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},t.prototype.getEntries=function(e){if(!this._entries){var o=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=na(e,o,this.continuationLength(),e)}return this._entries},t}(de),Xf=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t}(de),aa=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},t.prototype.bytesSkipped=function(){return this._data[6]},t}(de),ca=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t}(de),ua=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.identifierLength=function(){return this._data[4]},t.prototype.descriptorLength=function(){return this._data[5]},t.prototype.sourceLength=function(){return this._data[6]},t.prototype.extensionVersion=function(){return this._data[7]},t.prototype.extensionIdentifier=function(){return Ce(this._data,8,this.identifierLength())},t.prototype.extensionDescriptor=function(){return Ce(this._data,8+this.identifierLength(),this.descriptorLength())},t.prototype.extensionSource=function(){return Ce(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},t}(de),Vf=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.extensionSequence=function(){return this._data[4]},t}(de),fa=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t}(de),la=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.mode=function(){return this._data.readUInt32LE(4)},t.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},t.prototype.uid=function(){return this._data.readUInt32LE(20)},t.prototype.gid=function(){return this._data.readUInt32LE(28)},t.prototype.inode=function(){return this._data.readUInt32LE(36)},t}(de),Yf=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},t.prototype.devTLow=function(){return this._data.readUInt32LE(12)},t}(de),xo=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.continueFlag=function(){return this.flags()&1},t.prototype.componentRecords=function(){for(var e=this,o=new Array,a=5;a<this.length();){var c=new Mr(e._data.slice(a));o.push(c),a+=c.length()}return o},t}(de),Mr=function(t){this._data=t};Mr.prototype.flags=function(){return this._data[0]},Mr.prototype.length=function(){return 2+this.componentLength()},Mr.prototype.componentLength=function(){return this._data[1]},Mr.prototype.content=function(t){return t(this._data,2,this.componentLength())};var ha=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.name=function(e){return e(this._data,5,this.length()-5)},t}(de),bo=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},t}(de),Zf=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},t}(de),da=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t}(de),pa=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.creation=function(){return this.flags()&1?this._longFormDates()?nn(this._data,5):zn(this._data,5):null},t.prototype.modify=function(){if(this.flags()&2){var e=this.flags()&1?1:0;return this._longFormDates?nn(this._data,5+e*17):zn(this._data,5+e*7)}else return null},t.prototype.access=function(){if(this.flags()&4){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,this._longFormDates?nn(this._data,5+e*17):zn(this._data,5+e*7)}else return null},t.prototype.backup=function(){if(this.flags()&16){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,this._longFormDates?nn(this._data,5+e*17):zn(this._data,5+e*7)}else return null},t.prototype.expiration=function(){if(this.flags()&32){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,this._longFormDates?nn(this._data,5+e*17):zn(this._data,5+e*7)}else return null},t.prototype.effective=function(){if(this.flags()&64){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,e+=this.flags()&32?1:0,this._longFormDates?nn(this._data,5+e*17):zn(this._data,5+e*7)}else return null},t.prototype._longFormDates=function(){return!!this.flags()},t}(de),Kf=function(r){function t(n){r.call(this,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},t.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},t.prototype.tableDepth=function(){return this._data[20]},t}(de),Ur=function(t,n){var e=this;this._fileList=[],this._fileMap={},this._record=t;var o=t.lba(),a=o+t.dataLength();if(!(t.fileFlags()&2)){var c=t.getSUEntries(n).filter(function(P){return P instanceof bo})[0];o=c.childDirectoryLba()*2048,a=1/0}for(;o<a;){var p=n[o];if(p===0){o++;continue}var S=e._constructDirectoryRecord(n.slice(o)),I=S.fileName(n);I!=="\0"&&I!==""?(!S.hasRockRidge()||S.getSUEntries(n).filter(function(P){return P instanceof da}).length===0)&&(e._fileMap[I]=S,e._fileList.push(I)):a===1/0&&(a=o+S.dataLength()),o+=S.length()}};Ur.prototype.getRecord=function(t){return this._fileMap[t]},Ur.prototype.getFileList=function(){return this._fileList},Ur.prototype.getDotEntry=function(t){return this._constructDirectoryRecord(t.slice(this._record.lba()))};var qf=function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new ia(e,this._record.getRockRidgeOffset())},t}(Ur),Jf=function(r){function t(n,e){r.call(this,n,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new oa(e,this._record.getRockRidgeOffset())},t}(Ur),wi=function(r){function t(n,e,o){var a=this;e===void 0&&(e=""),o===void 0&&(o=!0),r.call(this),this._data=n,vt(o,t.Name,{data:"ISO data as a Buffer",name:e});for(var c=!1,p=16*2048,S=new Array;!c;){var I=n.slice(p),P=new fr(I);switch(P.type()){case 1:S.push(new Wf(I));break;case 2:S.push(new Hf(I));break;case 255:c=!0;break}p+=2048}if(S.length===0)throw new y(h.EIO,"Unable to find a suitable volume descriptor.");S.forEach(function(W){(!a._pvd||a._pvd.type()!==2)&&(a._pvd=W)}),this._root=this._pvd.rootDirectoryEntry(n),this._name=e}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a,c;try{a=new t(e.data,e.name,!1)}catch(p){p=p}finally{o(c,a)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){var e="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(e+="-RockRidge"),e},t.prototype.diskSpace=function(e,o){o(this._data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,o){var a=this._getDirectoryRecord(e);if(a===null)throw y.ENOENT(e);return this._getStats(e,a)},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new y(h.EPERM,e);var c=this._getDirectoryRecord(e);if(c){if(c.isSymlink(this._data))return this.openSync(_.resolve(e,c.getSymlinkPath(this._data)),o,a);if(c.isDirectory(this._data))throw y.EISDIR(e);var p=c.getFile(this._data),S=this._getStats(e,c);switch(o.pathExistsAction()){case T.THROW_EXCEPTION:case T.TRUNCATE_FILE:throw y.EEXIST(e);case T.NOP:return new at(this,e,o,S,p);default:throw new y(h.EINVAL,"Invalid FileMode object.")}}else throw y.ENOENT(e)},t.prototype.readdirSync=function(e){var o=this._getDirectoryRecord(e);if(o){if(o.isDirectory(this._data))return o.getDirectory(this._data).getFileList().slice(0);throw y.ENOTDIR(e)}else throw y.ENOENT(e)},t.prototype.readFileSync=function(e,o,a){var c=this.openSync(e,a,420);try{var p=c,S=p.getBuffer();return o===null?Pt(S):S.toString(o)}finally{c.closeSync()}},t.prototype._getDirectoryRecord=function(e){var o=this;if(e==="/")return this._root;for(var a=e.split("/").slice(1),c=this._root,p=0,S=a;p<S.length;p+=1){var I=S[p];if(c.isDirectory(o._data)){if(c=c.getDirectory(o._data).getRecord(I),!c)return null}else return null}return c},t.prototype._getStats=function(e,o){if(o.isSymlink(this._data)){var a=_.resolve(e,o.getSymlinkPath(this._data)),c=this._getDirectoryRecord(a);return c?this._getStats(a,c):null}else{var p=o.dataLength(),S=365,I=o.recordingDate(),P=I,W=I,tt=I;if(o.hasRockRidge())for(var ft=o.getSUEntries(this._data),dt=0,kt=ft;dt<kt.length;dt+=1){var Tt=kt[dt];if(Tt instanceof la)S=Tt.mode();else if(Tt instanceof pa){var jt=Tt.flags();jt&4&&(P=Tt.access()),jt&2&&(W=Tt.modify()),jt&1&&(tt=Tt.creation())}}return S=S&365,new B(o.isDirectory(this._data)?U.DIRECTORY:U.FILE,p,S,P,W,tt)}},t}(et);wi.Name="IsoFS",wi.Options={data:{type:"object",description:"The ISO file in a buffer",validator:N}},[b,ci,ui,ir,li,or,Tr,wi,Dr,sr,Cr,gi,mi,Bn].forEach(function(r){var t=r.Create;r.Create=function(n,e){var o=typeof n=="function",a=o?n:e,c=o?{}:n;function p(S){S?a(S):t.call(r,c,a)}L(r,c,p)}});var Si={AsyncMirror:b,Dropbox:ci,Emscripten:ui,FolderAdapter:ir,HTML5FS:li,InMemory:or,IndexedDB:Tr,IsoFS:wi,LocalStorage:Dr,MountableFileSystem:sr,OverlayFS:Cr,WorkerFS:gi,XmlHttpRequest:mi,ZipFS:Bn};x.initializeTTYs&&x.initializeTTYs();function Gf(r){r.Buffer=d,r.process=x;var t=r.require?r.require:null;r.require=function(n){var e=ya(n);return e||t.apply(null,Array.prototype.slice.call(arguments,0))}}function Qf(r,t){Si[r]=t}function ya(r){switch(r){case"fs":return _t;case"path":return _;case"buffer":return E;case"process":return x;case"bfs_utils":return it;default:return Si[r]}}function va(r){return _t.initialize(r)}function $f(r,t){Fo(r,function(n,e){e?(va(e),t()):t(n)})}function Fo(r,t){var n=r.fs;if(!n)return t(new y(h.EPERM,'Missing "fs" property on configuration object.'));var e=r.options,o=0,a=!1;function c(){if(!a){a=!0;var I=Si[n];I?I.Create(e,t):t(new y(h.EPERM,"File system "+n+" is not available in BrowserFS."))}}if(e!==null&&typeof e=="object"){var p=!1,S=Object.keys(e).filter(function(I){return I!=="fs"});S.forEach(function(I){var P=e[I];P!==null&&typeof P=="object"&&P.fs&&(o++,Fo(P,function(W,tt){if(o--,W){if(a)return;a=!0,t(W)}else e[I]=tt,o===0&&p&&c()}))}),p=!0}o===0&&c()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(r){return function(t,n){return t<0&&(t=this.length+t),r.call(this,t,n)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(r,t){r===void 0&&(r=0),t===void 0&&(t=this.length);var n=this;return r<0&&(r=this.length+r,r<0&&(r=0)),t<0&&(t=this.length+t,t<0&&(t=0)),t<r&&(t=r),new Uint8Array(n.buffer,n.byteOffset+r,t-r)})),f.install=Gf,f.registerFileSystem=Qf,f.BFSRequire=ya,f.initialize=va,f.configure=$f,f.getFileSystem=Fo,f.EmscriptenFS=z,f.FileSystem=Si,f.Errors=D,f.setImmediate=wo}).call(f,l(1),function(){return this}(),l(5)(u),l(6))},function(u,f,l){u.exports=l(2).Buffer},function(u,f,l){(function(h){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var w=l(3),m=l(4);f.Buffer=h,f.SlowBuffer=V,f.INSPECT_MAX_BYTES=50;var x=2147483647;f.kMaxLength=x,h.TYPED_ARRAY_SUPPORT=E(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function E(){try{var b=new Uint8Array(1);return b.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},b.foo()===42}catch{return!1}}function _(b){if(b>x)throw new RangeError("Invalid typed array length");var v=new Uint8Array(b);return v.__proto__=h.prototype,v}function h(b,v,g){if(typeof b=="number"){if(typeof v=="string")throw new Error("If encoding is specified then the first argument must be a string");return T(b)}return F(b,v,g)}typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192;function F(b,v,g){if(typeof b=="number")throw new TypeError('"value" argument must not be a number');return pt(b)?B(b,v,g):typeof b=="string"?C(b,v):Z(b)}h.from=function(b,v,g){return F(b,v,g)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array;function y(b){if(typeof b!="number")throw new TypeError('"size" argument must be a number');if(b<0)throw new RangeError('"size" argument must not be negative')}function D(b,v,g){return y(b),b<=0?_(b):v!==void 0?typeof g=="string"?_(b).fill(v,g):_(b).fill(v):_(b)}h.alloc=function(b,v,g){return D(b,v,g)};function T(b){return y(b),_(b<0?0:X(b)|0)}h.allocUnsafe=function(b){return T(b)},h.allocUnsafeSlow=function(b){return T(b)};function C(b,v){if((typeof v!="string"||v==="")&&(v="utf8"),!h.isEncoding(v))throw new TypeError('"encoding" must be a valid string encoding');var g=yt(b,v)|0,O=_(g),M=O.write(b,v);return M!==g&&(O=O.slice(0,M)),O}function U(b){for(var v=b.length<0?0:X(b.length)|0,g=_(v),O=0;O<v;O+=1)g[O]=b[O]&255;return g}function B(b,v,g){if(v<0||b.byteLength<v)throw new RangeError("'offset' is out of bounds");if(b.byteLength<v+(g||0))throw new RangeError("'length' is out of bounds");var O;return v===void 0&&g===void 0?O=new Uint8Array(b):g===void 0?O=new Uint8Array(b,v):O=new Uint8Array(b,v,g),O.__proto__=h.prototype,O}function Z(b){if(h.isBuffer(b)){var v=X(b.length)|0,g=_(v);return g.length===0||b.copy(g,0,0,v),g}if(b){if(at(b)||"length"in b)return typeof b.length!="number"||ht(b.length)?_(0):U(b);if(b.type==="Buffer"&&Array.isArray(b.data))return U(b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function X(b){if(b>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return b|0}function V(b){return+b!=b&&(b=0),h.alloc(+b)}h.isBuffer=function(v){return v!=null&&v._isBuffer===!0},h.compare=function(v,g){if(!h.isBuffer(v)||!h.isBuffer(g))throw new TypeError("Arguments must be Buffers");if(v===g)return 0;for(var O=v.length,M=g.length,H=0,$=Math.min(O,M);H<$;++H)if(v[H]!==g[H]){O=v[H],M=g[H];break}return O<M?-1:M<O?1:0},h.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(v,g){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return h.alloc(0);var O;if(g===void 0)for(g=0,O=0;O<v.length;++O)g+=v[O].length;var M=h.allocUnsafe(g),H=0;for(O=0;O<v.length;++O){var $=v[O];if(!h.isBuffer($))throw new TypeError('"list" argument must be an Array of Buffers');$.copy(M,H),H+=$.length}return M};function yt(b,v){if(h.isBuffer(b))return b.length;if(at(b)||pt(b))return b.byteLength;typeof b!="string"&&(b=""+b);var g=b.length;if(g===0)return 0;for(var O=!1;;)switch(v){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return A(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return et(b).length;default:if(O)return A(b).length;v=(""+v).toLowerCase(),O=!0}}h.byteLength=yt;function Q(b,v,g){var O=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,v>>>=0,g<=v))return"";for(b||(b="utf8");;)switch(b){case"hex":return Ut(this,v,g);case"utf8":case"utf-8":return It(this,v,g);case"ascii":return st(this,v,g);case"latin1":case"binary":return wt(this,v,g);case"base64":return lt(this,v,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dt(this,v,g);default:if(O)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),O=!0}}h.prototype._isBuffer=!0;function ut(b,v,g){var O=b[v];b[v]=b[g],b[g]=O}h.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<v;g+=2)ut(this,g,g+1);return this},h.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<v;g+=4)ut(this,g,g+3),ut(this,g+1,g+2);return this},h.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<v;g+=8)ut(this,g,g+7),ut(this,g+1,g+6),ut(this,g+2,g+5),ut(this,g+3,g+4);return this},h.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?It(this,0,v):Q.apply(this,arguments)},h.prototype.equals=function(v){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:h.compare(this,v)===0},h.prototype.inspect=function(){var v="",g=f.INSPECT_MAX_BYTES;return this.length>0&&(v=this.toString("hex",0,g).match(/.{2}/g).join(" "),this.length>g&&(v+=" ... ")),"<Buffer "+v+">"},h.prototype.compare=function(v,g,O,M,H){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");if(g===void 0&&(g=0),O===void 0&&(O=v?v.length:0),M===void 0&&(M=0),H===void 0&&(H=this.length),g<0||O>v.length||M<0||H>this.length)throw new RangeError("out of range index");if(M>=H&&g>=O)return 0;if(M>=H)return-1;if(g>=O)return 1;if(g>>>=0,O>>>=0,M>>>=0,H>>>=0,this===v)return 0;for(var $=H-M,Et=O-g,Rt=Math.min($,Et),zt=this.slice(M,H),Jt=v.slice(g,O),Ht=0;Ht<Rt;++Ht)if(zt[Ht]!==Jt[Ht]){$=zt[Ht],Et=Jt[Ht];break}return $<Et?-1:Et<$?1:0};function St(b,v,g,O,M){if(b.length===0)return-1;if(typeof g=="string"?(O=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,ht(g)&&(g=M?0:b.length-1),g<0&&(g=b.length+g),g>=b.length){if(M)return-1;g=b.length-1}else if(g<0)if(M)g=0;else return-1;if(typeof v=="string"&&(v=h.from(v,O)),h.isBuffer(v))return v.length===0?-1:Y(b,v,g,O,M);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?M?Uint8Array.prototype.indexOf.call(b,v,g):Uint8Array.prototype.lastIndexOf.call(b,v,g):Y(b,[v],g,O,M);throw new TypeError("val must be string, number or Buffer")}function Y(b,v,g,O,M){var H=1,$=b.length,Et=v.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(b.length<2||v.length<2)return-1;H=2,$/=2,Et/=2,g/=2}function Rt(hn,fe){return H===1?hn[fe]:hn.readUInt16BE(fe*H)}var zt;if(M){var Jt=-1;for(zt=g;zt<$;zt++)if(Rt(b,zt)===Rt(v,Jt===-1?0:zt-Jt)){if(Jt===-1&&(Jt=zt),zt-Jt+1===Et)return Jt*H}else Jt!==-1&&(zt-=zt-Jt),Jt=-1}else for(g+Et>$&&(g=$-Et),zt=g;zt>=0;zt--){for(var Ht=!0,Ee=0;Ee<Et;Ee++)if(Rt(b,zt+Ee)!==Rt(v,Ee)){Ht=!1;break}if(Ht)return zt}return-1}h.prototype.includes=function(v,g,O){return this.indexOf(v,g,O)!==-1},h.prototype.indexOf=function(v,g,O){return St(this,v,g,O,!0)},h.prototype.lastIndexOf=function(v,g,O){return St(this,v,g,O,!1)};function ot(b,v,g,O){g=Number(g)||0;var M=b.length-g;O?(O=Number(O),O>M&&(O=M)):O=M;var H=v.length;if(H%2!==0)throw new TypeError("Invalid hex string");O>H/2&&(O=H/2);for(var $=0;$<O;++$){var Et=parseInt(v.substr($*2,2),16);if(ht(Et))return $;b[g+$]=Et}return $}function _t(b,v,g,O){return J(A(v,b.length-g),b,g,O)}function Mt(b,v,g,O){return J(z(v),b,g,O)}function Ft(b,v,g,O){return Mt(b,v,g,O)}function Nt(b,v,g,O){return J(et(v),b,g,O)}function vt(b,v,g,O){return J(j(v,b.length-g),b,g,O)}h.prototype.write=function(v,g,O,M){if(g===void 0)M="utf8",O=this.length,g=0;else if(O===void 0&&typeof g=="string")M=g,O=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(O)?(O=O>>>0,M===void 0&&(M="utf8")):(M=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var H=this.length-g;if((O===void 0||O>H)&&(O=H),v.length>0&&(O<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");for(var $=!1;;)switch(M){case"hex":return ot(this,v,g,O);case"utf8":case"utf-8":return _t(this,v,g,O);case"ascii":return Mt(this,v,g,O);case"latin1":case"binary":return Ft(this,v,g,O);case"base64":return Nt(this,v,g,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vt(this,v,g,O);default:if($)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),$=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function lt(b,v,g){return v===0&&g===b.length?w.fromByteArray(b):w.fromByteArray(b.slice(v,g))}function It(b,v,g){g=Math.min(b.length,g);for(var O=[],M=v;M<g;){var H=b[M],$=null,Et=H>239?4:H>223?3:H>191?2:1;if(M+Et<=g){var Rt,zt,Jt,Ht;switch(Et){case 1:H<128&&($=H);break;case 2:Rt=b[M+1],(Rt&192)===128&&(Ht=(H&31)<<6|Rt&63,Ht>127&&($=Ht));break;case 3:Rt=b[M+1],zt=b[M+2],(Rt&192)===128&&(zt&192)===128&&(Ht=(H&15)<<12|(Rt&63)<<6|zt&63,Ht>2047&&(Ht<55296||Ht>57343)&&($=Ht));break;case 4:Rt=b[M+1],zt=b[M+2],Jt=b[M+3],(Rt&192)===128&&(zt&192)===128&&(Jt&192)===128&&(Ht=(H&15)<<18|(Rt&63)<<12|(zt&63)<<6|Jt&63,Ht>65535&&Ht<1114112&&($=Ht))}}$===null?($=65533,Et=1):$>65535&&($-=65536,O.push($>>>10&1023|55296),$=56320|$&1023),O.push($),M+=Et}return q(O)}var K=4096;function q(b){var v=b.length;if(v<=K)return String.fromCharCode.apply(String,b);for(var g="",O=0;O<v;)g+=String.fromCharCode.apply(String,b.slice(O,O+=K));return g}function st(b,v,g){var O="";g=Math.min(b.length,g);for(var M=v;M<g;++M)O+=String.fromCharCode(b[M]&127);return O}function wt(b,v,g){var O="";g=Math.min(b.length,g);for(var M=v;M<g;++M)O+=String.fromCharCode(b[M]);return O}function Ut(b,v,g){var O=b.length;(!v||v<0)&&(v=0),(!g||g<0||g>O)&&(g=O);for(var M="",H=v;H<g;++H)M+=R(b[H]);return M}function Dt(b,v,g){for(var O=b.slice(v,g),M="",H=0;H<O.length;H+=2)M+=String.fromCharCode(O[H]+O[H+1]*256);return M}h.prototype.slice=function(v,g){var O=this.length;v=~~v,g=g===void 0?O:~~g,v<0?(v+=O,v<0&&(v=0)):v>O&&(v=O),g<0?(g+=O,g<0&&(g=0)):g>O&&(g=O),g<v&&(g=v);var M=this.subarray(v,g);return M.__proto__=h.prototype,M};function Lt(b,v,g){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+v>g)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function(v,g,O){v=v>>>0,g=g>>>0,O||Lt(v,g,this.length);for(var M=this[v],H=1,$=0;++$<g&&(H*=256);)M+=this[v+$]*H;return M},h.prototype.readUIntBE=function(v,g,O){v=v>>>0,g=g>>>0,O||Lt(v,g,this.length);for(var M=this[v+--g],H=1;g>0&&(H*=256);)M+=this[v+--g]*H;return M},h.prototype.readUInt8=function(v,g){return v=v>>>0,g||Lt(v,1,this.length),this[v]},h.prototype.readUInt16LE=function(v,g){return v=v>>>0,g||Lt(v,2,this.length),this[v]|this[v+1]<<8},h.prototype.readUInt16BE=function(v,g){return v=v>>>0,g||Lt(v,2,this.length),this[v]<<8|this[v+1]},h.prototype.readUInt32LE=function(v,g){return v=v>>>0,g||Lt(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},h.prototype.readUInt32BE=function(v,g){return v=v>>>0,g||Lt(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},h.prototype.readIntLE=function(v,g,O){v=v>>>0,g=g>>>0,O||Lt(v,g,this.length);for(var M=this[v],H=1,$=0;++$<g&&(H*=256);)M+=this[v+$]*H;return H*=128,M>=H&&(M-=Math.pow(2,8*g)),M},h.prototype.readIntBE=function(v,g,O){v=v>>>0,g=g>>>0,O||Lt(v,g,this.length);for(var M=g,H=1,$=this[v+--M];M>0&&(H*=256);)$+=this[v+--M]*H;return H*=128,$>=H&&($-=Math.pow(2,8*g)),$},h.prototype.readInt8=function(v,g){return v=v>>>0,g||Lt(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},h.prototype.readInt16LE=function(v,g){v=v>>>0,g||Lt(v,2,this.length);var O=this[v]|this[v+1]<<8;return O&32768?O|4294901760:O},h.prototype.readInt16BE=function(v,g){v=v>>>0,g||Lt(v,2,this.length);var O=this[v+1]|this[v]<<8;return O&32768?O|4294901760:O},h.prototype.readInt32LE=function(v,g){return v=v>>>0,g||Lt(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},h.prototype.readInt32BE=function(v,g){return v=v>>>0,g||Lt(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},h.prototype.readFloatLE=function(v,g){return v=v>>>0,g||Lt(v,4,this.length),m.read(this,v,!0,23,4)},h.prototype.readFloatBE=function(v,g){return v=v>>>0,g||Lt(v,4,this.length),m.read(this,v,!1,23,4)},h.prototype.readDoubleLE=function(v,g){return v=v>>>0,g||Lt(v,8,this.length),m.read(this,v,!0,52,8)},h.prototype.readDoubleBE=function(v,g){return v=v>>>0,g||Lt(v,8,this.length),m.read(this,v,!1,52,8)};function Pt(b,v,g,O,M,H){if(!h.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>M||v<H)throw new RangeError('"value" argument is out of bounds');if(g+O>b.length)throw new RangeError("Index out of range")}h.prototype.writeUIntLE=function(v,g,O,M){if(v=+v,g=g>>>0,O=O>>>0,!M){var H=Math.pow(2,8*O)-1;Pt(this,v,g,O,H,0)}var $=1,Et=0;for(this[g]=v&255;++Et<O&&($*=256);)this[g+Et]=v/$&255;return g+O},h.prototype.writeUIntBE=function(v,g,O,M){if(v=+v,g=g>>>0,O=O>>>0,!M){var H=Math.pow(2,8*O)-1;Pt(this,v,g,O,H,0)}var $=O-1,Et=1;for(this[g+$]=v&255;--$>=0&&(Et*=256);)this[g+$]=v/Et&255;return g+O},h.prototype.writeUInt8=function(v,g,O){return v=+v,g=g>>>0,O||Pt(this,v,g,1,255,0),this[g]=v&255,g+1},h.prototype.writeUInt16LE=function(v,g,O){return v=+v,g=g>>>0,O||Pt(this,v,g,2,65535,0),this[g]=v&255,this[g+1]=v>>>8,g+2},h.prototype.writeUInt16BE=function(v,g,O){return v=+v,g=g>>>0,O||Pt(this,v,g,2,65535,0),this[g]=v>>>8,this[g+1]=v&255,g+2},h.prototype.writeUInt32LE=function(v,g,O){return v=+v,g=g>>>0,O||Pt(this,v,g,4,4294967295,0),this[g+3]=v>>>24,this[g+2]=v>>>16,this[g+1]=v>>>8,this[g]=v&255,g+4},h.prototype.writeUInt32BE=function(v,g,O){return v=+v,g=g>>>0,O||Pt(this,v,g,4,4294967295,0),this[g]=v>>>24,this[g+1]=v>>>16,this[g+2]=v>>>8,this[g+3]=v&255,g+4},h.prototype.writeIntLE=function(v,g,O,M){if(v=+v,g=g>>>0,!M){var H=Math.pow(2,8*O-1);Pt(this,v,g,O,H-1,-H)}var $=0,Et=1,Rt=0;for(this[g]=v&255;++$<O&&(Et*=256);)v<0&&Rt===0&&this[g+$-1]!==0&&(Rt=1),this[g+$]=(v/Et>>0)-Rt&255;return g+O},h.prototype.writeIntBE=function(v,g,O,M){if(v=+v,g=g>>>0,!M){var H=Math.pow(2,8*O-1);Pt(this,v,g,O,H-1,-H)}var $=O-1,Et=1,Rt=0;for(this[g+$]=v&255;--$>=0&&(Et*=256);)v<0&&Rt===0&&this[g+$+1]!==0&&(Rt=1),this[g+$]=(v/Et>>0)-Rt&255;return g+O},h.prototype.writeInt8=function(v,g,O){return v=+v,g=g>>>0,O||Pt(this,v,g,1,127,-128),v<0&&(v=255+v+1),this[g]=v&255,g+1},h.prototype.writeInt16LE=function(v,g,O){return v=+v,g=g>>>0,O||Pt(this,v,g,2,32767,-32768),this[g]=v&255,this[g+1]=v>>>8,g+2},h.prototype.writeInt16BE=function(v,g,O){return v=+v,g=g>>>0,O||Pt(this,v,g,2,32767,-32768),this[g]=v>>>8,this[g+1]=v&255,g+2},h.prototype.writeInt32LE=function(v,g,O){return v=+v,g=g>>>0,O||Pt(this,v,g,4,2147483647,-2147483648),this[g]=v&255,this[g+1]=v>>>8,this[g+2]=v>>>16,this[g+3]=v>>>24,g+4},h.prototype.writeInt32BE=function(v,g,O){return v=+v,g=g>>>0,O||Pt(this,v,g,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[g]=v>>>24,this[g+1]=v>>>16,this[g+2]=v>>>8,this[g+3]=v&255,g+4};function qt(b,v,g,O,M,H){if(g+O>b.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Xt(b,v,g,O,M){return v=+v,g=g>>>0,M||qt(b,v,g,4),m.write(b,v,g,O,23,4),g+4}h.prototype.writeFloatLE=function(v,g,O){return Xt(this,v,g,!0,O)},h.prototype.writeFloatBE=function(v,g,O){return Xt(this,v,g,!1,O)};function N(b,v,g,O,M){return v=+v,g=g>>>0,M||qt(b,v,g,8),m.write(b,v,g,O,52,8),g+8}h.prototype.writeDoubleLE=function(v,g,O){return N(this,v,g,!0,O)},h.prototype.writeDoubleBE=function(v,g,O){return N(this,v,g,!1,O)},h.prototype.copy=function(v,g,O,M){if(O||(O=0),!M&&M!==0&&(M=this.length),g>=v.length&&(g=v.length),g||(g=0),M>0&&M<O&&(M=O),M===O||v.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("sourceStart out of bounds");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),v.length-g<M-O&&(M=v.length-g+O);var H=M-O,$;if(this===v&&O<g&&g<M)for($=H-1;$>=0;--$)v[$+g]=this[$+O];else if(H<1e3)for($=0;$<H;++$)v[$+g]=this[$+O];else Uint8Array.prototype.set.call(v,this.subarray(O,O+H),g);return H},h.prototype.fill=function(v,g,O,M){if(typeof v=="string"){if(typeof g=="string"?(M=g,g=0,O=this.length):typeof O=="string"&&(M=O,O=this.length),v.length===1){var H=v.charCodeAt(0);H<256&&(v=H)}if(M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!h.isEncoding(M))throw new TypeError("Unknown encoding: "+M)}else typeof v=="number"&&(v=v&255);if(g<0||this.length<g||this.length<O)throw new RangeError("Out of range index");if(O<=g)return this;g=g>>>0,O=O===void 0?this.length:O>>>0,v||(v=0);var $;if(typeof v=="number")for($=g;$<O;++$)this[$]=v;else{var Et=h.isBuffer(v)?v:new h(v,M),Rt=Et.length;for($=0;$<O-g;++$)this[$+g]=Et[$%Rt]}return this};var L=/[^+/0-9A-Za-z-_]/g;function it(b){if(b=b.trim().replace(L,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function R(b){return b<16?"0"+b.toString(16):b.toString(16)}function A(b,v){v=v||1/0;for(var g,O=b.length,M=null,H=[],$=0;$<O;++$){if(g=b.charCodeAt($),g>55295&&g<57344){if(!M){if(g>56319){(v-=3)>-1&&H.push(239,191,189);continue}else if($+1===O){(v-=3)>-1&&H.push(239,191,189);continue}M=g;continue}if(g<56320){(v-=3)>-1&&H.push(239,191,189),M=g;continue}g=(M-55296<<10|g-56320)+65536}else M&&(v-=3)>-1&&H.push(239,191,189);if(M=null,g<128){if((v-=1)<0)break;H.push(g)}else if(g<2048){if((v-=2)<0)break;H.push(g>>6|192,g&63|128)}else if(g<65536){if((v-=3)<0)break;H.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((v-=4)<0)break;H.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return H}function z(b){for(var v=[],g=0;g<b.length;++g)v.push(b.charCodeAt(g)&255);return v}function j(b,v){for(var g,O,M,H=[],$=0;$<b.length&&!((v-=2)<0);++$)g=b.charCodeAt($),O=g>>8,M=g%256,H.push(M),H.push(O);return H}function et(b){return w.toByteArray(it(b))}function J(b,v,g,O){for(var M=0;M<O&&!(M+g>=v.length||M>=b.length);++M)v[M+g]=b[M];return M}function pt(b){return b instanceof ArrayBuffer||b!=null&&b.constructor!=null&&b.constructor.name==="ArrayBuffer"&&typeof b.byteLength=="number"}function at(b){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(b)}function ht(b){return b!==b}}).call(f,l(1))},function(u,f){f.byteLength=h,f.toByteArray=F,f.fromByteArray=T;for(var l=[],d=[],w=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=0,E=m.length;x<E;++x)l[x]=m[x],d[m.charCodeAt(x)]=x;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63;function _(C){var U=C.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return C[U-2]==="="?2:C[U-1]==="="?1:0}function h(C){return C.length*3/4-_(C)}function F(C){var U,B,Z,X,V,yt,Q=C.length;V=_(C),yt=new w(Q*3/4-V),Z=V>0?Q-4:Q;var ut=0;for(U=0,B=0;U<Z;U+=4,B+=3)X=d[C.charCodeAt(U)]<<18|d[C.charCodeAt(U+1)]<<12|d[C.charCodeAt(U+2)]<<6|d[C.charCodeAt(U+3)],yt[ut++]=X>>16&255,yt[ut++]=X>>8&255,yt[ut++]=X&255;return V===2?(X=d[C.charCodeAt(U)]<<2|d[C.charCodeAt(U+1)]>>4,yt[ut++]=X&255):V===1&&(X=d[C.charCodeAt(U)]<<10|d[C.charCodeAt(U+1)]<<4|d[C.charCodeAt(U+2)]>>2,yt[ut++]=X>>8&255,yt[ut++]=X&255),yt}function y(C){return l[C>>18&63]+l[C>>12&63]+l[C>>6&63]+l[C&63]}function D(C,U,B){for(var Z,X=[],V=U;V<B;V+=3)Z=(C[V]<<16)+(C[V+1]<<8)+C[V+2],X.push(y(Z));return X.join("")}function T(C){for(var U,B=C.length,Z=B%3,X="",V=[],yt=16383,Q=0,ut=B-Z;Q<ut;Q+=yt)V.push(D(C,Q,Q+yt>ut?ut:Q+yt));return Z===1?(U=C[B-1],X+=l[U>>2],X+=l[U<<4&63],X+="=="):Z===2&&(U=(C[B-2]<<8)+C[B-1],X+=l[U>>10],X+=l[U>>4&63],X+=l[U<<2&63],X+="="),V.push(X),V.join("")}},function(u,f){f.read=function(l,d,w,m,x){var E,_,h=x*8-m-1,F=(1<<h)-1,y=F>>1,D=-7,T=w?x-1:0,C=w?-1:1,U=l[d+T];for(T+=C,E=U&(1<<-D)-1,U>>=-D,D+=h;D>0;E=E*256+l[d+T],T+=C,D-=8);for(_=E&(1<<-D)-1,E>>=-D,D+=m;D>0;_=_*256+l[d+T],T+=C,D-=8);if(E===0)E=1-y;else{if(E===F)return _?NaN:(U?-1:1)*(1/0);_=_+Math.pow(2,m),E=E-y}return(U?-1:1)*_*Math.pow(2,E-m)},f.write=function(l,d,w,m,x,E){var _,h,F,y=E*8-x-1,D=(1<<y)-1,T=D>>1,C=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,U=m?0:E-1,B=m?1:-1,Z=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(h=isNaN(d)?1:0,_=D):(_=Math.floor(Math.log(d)/Math.LN2),d*(F=Math.pow(2,-_))<1&&(_--,F*=2),_+T>=1?d+=C/F:d+=C*Math.pow(2,1-T),d*F>=2&&(_++,F/=2),_+T>=D?(h=0,_=D):_+T>=1?(h=(d*F-1)*Math.pow(2,x),_=_+T):(h=d*Math.pow(2,T-1)*Math.pow(2,x),_=0));x>=8;l[w+U]=h&255,U+=B,h/=256,x-=8);for(_=_<<x|h,y+=x;y>0;l[w+U]=_&255,U+=B,_/=256,y-=8);l[w+U-B]|=Z*128}},function(u,f){u.exports=function(l){return l.webpackPolyfill||(l.deprecate=function(){},l.paths=[],l.children=[],l.webpackPolyfill=1),l}},function(u,f,l){var d=l(7),w=new d,m={};function x(_){m[_]||(typeof w[_]=="function"?m[_]=function(){return w[_].apply(w,arguments)}:m[_]=w[_])}for(var E in w)x(E);m.initializeTTYs=function(){w.stdin===null&&(w.initializeTTYs(),m.stdin=w.stdin,m.stdout=w.stdout,m.stderr=w.stderr)},w.nextTick(function(){m.initializeTTYs()}),u.exports=m},function(u,f,l){(function(d){var w=this&&this.__extends||function(F,y){for(var D in y)y.hasOwnProperty(D)&&(F[D]=y[D]);function T(){this.constructor=F}F.prototype=y===null?Object.create(y):(T.prototype=y.prototype,new T)},m=l(8),x=null,E=function(){function F(y,D){this.fun=y,this.array=D}return F.prototype.run=function(){this.fun.apply(null,this.array)},F}(),_=function(){function F(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return F.prototype.push=function(y){var D=this;this._queue.push(y)===1&&!this._draining&&setTimeout(function(){return D._drainQueue()},0)},F.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},F.prototype._drainQueue=function(){var y=this;if(!this._draining){var D=setTimeout(function(){return y._cleanUpNextTick()});this._draining=!0;for(var T=this._queue.length;T;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<T;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,T=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(D)}},F}(),h=function(F){w(y,F);function y(){F.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new _,this.execPath=d,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return y.prototype.chdir=function(D){x===null&&(x=l(9)),this._cwd=x.resolve(D)},y.prototype.cwd=function(){return this._cwd},y.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},y.prototype.nextTick=function(D){for(var T=[],C=1;C<arguments.length;C++)T[C-1]=arguments[C];this._queue.push(new E(D,T))},y.prototype.abort=function(){this.emit("abort")},y.prototype.exit=function(D){this.exitCode=D,this.emit("exit",[D])},y.prototype.getgid=function(){return this._gid},y.prototype.setgid=function(D){typeof D=="number"?this._gid=D:this._gid=1},y.prototype.getuid=function(){return this._uid},y.prototype.setuid=function(D){typeof D=="number"?this._uid=D:this._uid=1},y.prototype.kill=function(D,T){this.emit("kill",[D,T])},y.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},y.prototype.umask=function(D){D===void 0&&(D=this._mask);var T=this._mask;return this._mask=D,this.emit("umask",[D]),T},y.prototype.hrtime=function(){var D;typeof performance<"u"?D=performance.now():Date.now?D=Date.now():D=new Date().getTime();var T=D/1e3|0;return D-=T*1e3,D=D*1e6|0,[T,D]},y.prototype.initializeTTYs=function(){if(this.stdout===null){var D=l(10);this.stdout=new D,this.stderr=new D,this.stdin=new D}},y.prototype.disconnect=function(){},y}(m.EventEmitter);u.exports=h}).call(f,"/")},function(u,f){function l(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}u.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0,l.defaultMaxListeners=10,l.prototype.setMaxListeners=function(E){if(!w(E)||E<0||isNaN(E))throw TypeError("n must be a positive number");return this._maxListeners=E,this},l.prototype.emit=function(E){var _,h,F,y,D,T;if(this._events||(this._events={}),E==="error"&&(!this._events.error||m(this._events.error)&&!this._events.error.length)){if(_=arguments[1],_ instanceof Error)throw _;var C=new Error('Uncaught, unspecified "error" event. ('+_+")");throw C.context=_,C}if(h=this._events[E],x(h))return!1;if(d(h))switch(arguments.length){case 1:h.call(this);break;case 2:h.call(this,arguments[1]);break;case 3:h.call(this,arguments[1],arguments[2]);break;default:y=Array.prototype.slice.call(arguments,1),h.apply(this,y)}else if(m(h))for(y=Array.prototype.slice.call(arguments,1),T=h.slice(),F=T.length,D=0;D<F;D++)T[D].apply(this,y);return!0},l.prototype.addListener=function(E,_){var h;if(!d(_))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",E,d(_.listener)?_.listener:_),this._events[E]?m(this._events[E])?this._events[E].push(_):this._events[E]=[this._events[E],_]:this._events[E]=_,m(this._events[E])&&!this._events[E].warned&&(x(this._maxListeners)?h=l.defaultMaxListeners:h=this._maxListeners,h&&h>0&&this._events[E].length>h&&(this._events[E].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[E].length),typeof console.trace=="function"&&console.trace())),this},l.prototype.on=l.prototype.addListener,l.prototype.once=function(E,_){if(!d(_))throw TypeError("listener must be a function");var h=!1;function F(){this.removeListener(E,F),h||(h=!0,_.apply(this,arguments))}return F.listener=_,this.on(E,F),this},l.prototype.removeListener=function(E,_){var h,F,y,D;if(!d(_))throw TypeError("listener must be a function");if(!this._events||!this._events[E])return this;if(h=this._events[E],y=h.length,F=-1,h===_||d(h.listener)&&h.listener===_)delete this._events[E],this._events.removeListener&&this.emit("removeListener",E,_);else if(m(h)){for(D=y;D-- >0;)if(h[D]===_||h[D].listener&&h[D].listener===_){F=D;break}if(F<0)return this;h.length===1?(h.length=0,delete this._events[E]):h.splice(F,1),this._events.removeListener&&this.emit("removeListener",E,_)}return this},l.prototype.removeAllListeners=function(E){var _,h;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[E]&&delete this._events[E],this;if(arguments.length===0){for(_ in this._events)_!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events={},this}if(h=this._events[E],d(h))this.removeListener(E,h);else if(h)for(;h.length;)this.removeListener(E,h[h.length-1]);return delete this._events[E],this},l.prototype.listeners=function(E){var _;return!this._events||!this._events[E]?_=[]:d(this._events[E])?_=[this._events[E]]:_=this._events[E].slice(),_},l.prototype.listenerCount=function(E){if(this._events){var _=this._events[E];if(d(_))return 1;if(_)return _.length}return 0},l.listenerCount=function(E,_){return E.listenerCount(_)};function d(E){return typeof E=="function"}function w(E){return typeof E=="number"}function m(E){return typeof E=="object"&&E!==null}function x(E){return E===void 0}},function(u,f,l){(function(d){var w=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function m(E){var _=w.exec(E);return _.shift(),_}var x=function(){function E(){}return E.normalize=function(_){_===""&&(_=".");var h=_.charAt(0)===E.sep;_=E._removeDuplicateSeps(_);for(var F=_.split(E.sep),y=[],D=0;D<F.length;D++){var T=F[D];T!=="."&&(T===".."&&(h||!h&&y.length>0&&y[0]!=="..")?y.pop():y.push(T))}if(!h&&y.length<2)switch(y.length){case 1:y[0]===""&&y.unshift(".");break;default:y.push(".")}return _=y.join(E.sep),h&&_.charAt(0)!==E.sep&&(_=E.sep+_),_},E.join=function(){for(var _=[],h=0;h<arguments.length;h++)_[h-0]=arguments[h];for(var F=[],y=0;y<_.length;y++){var D=_[y];if(typeof D!="string")throw new TypeError("Invalid argument type to path.join: "+typeof D);D!==""&&F.push(D)}return E.normalize(F.join(E.sep))},E.resolve=function(){for(var _=[],h=0;h<arguments.length;h++)_[h-0]=arguments[h];for(var F=[],y=0;y<_.length;y++){var D=_[y];if(typeof D!="string")throw new TypeError("Invalid argument type to path.join: "+typeof D);D!==""&&(D.charAt(0)===E.sep&&(F=[]),F.push(D))}var T=E.normalize(F.join(E.sep));if(T.length>1&&T.charAt(T.length-1)===E.sep)return T.substr(0,T.length-1);if(T.charAt(0)!==E.sep){T.charAt(0)==="."&&(T.length===1||T.charAt(1)===E.sep)&&(T=T.length===1?"":T.substr(2));var C=d.cwd();T!==""?T=this.normalize(C+(C!=="/"?E.sep:"")+T):T=C}return T},E.relative=function(_,h){var F;_=E.resolve(_),h=E.resolve(h);var y=_.split(E.sep),D=h.split(E.sep);D.shift(),y.shift();var T=0,C=[];for(F=0;F<y.length;F++){var U=y[F];if(U!==D[F]){T=y.length-F;break}}C=D.slice(F),y.length===1&&y[0]===""&&(T=0),T>y.length&&(T=y.length);var B="";for(F=0;F<T;F++)B+="../";return B+=C.join(E.sep),B.length>1&&B.charAt(B.length-1)===E.sep&&(B=B.substr(0,B.length-1)),B},E.dirname=function(_){_=E._removeDuplicateSeps(_);var h=_.charAt(0)===E.sep,F=_.split(E.sep);return F.pop()===""&&F.length>0&&F.pop(),F.length>1||F.length===1&&!h?F.join(E.sep):h?E.sep:"."},E.basename=function(_,h){if(h===void 0&&(h=""),_==="")return _;_=E.normalize(_);var F=_.split(E.sep),y=F[F.length-1];if(y===""&&F.length>1)return F[F.length-2];if(h.length>0){var D=y.substr(y.length-h.length);if(D===h)return y.substr(0,y.length-h.length)}return y},E.extname=function(_){_=E.normalize(_);var h=_.split(E.sep);if(_=h.pop(),_===""&&h.length>0&&(_=h.pop()),_==="..")return"";var F=_.lastIndexOf(".");return F===-1||F===0?"":_.substr(F)},E.isAbsolute=function(_){return _.length>0&&_.charAt(0)===E.sep},E._makeLong=function(_){return _},E.parse=function(_){var h=m(_);return{root:h[0],dir:h[0]+h[1].slice(0,-1),base:h[2],ext:h[3],name:h[2].slice(0,h[2].length-h[3].length)}},E.format=function(_){if(_===null||typeof _!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof _);var h=_.root||"";if(typeof h!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof _.root);var F=_.dir?_.dir+E.sep:"",y=_.base||"";return F+y},E._removeDuplicateSeps=function(_){return _=_.replace(this._replaceRegex,this.sep),_},E.sep="/",E._replaceRegex=new RegExp("//+","g"),E.delimiter=":",E.posix=E,E.win32=E,E}();u.exports=x}).call(f,l(6))},function(u,f,l){(function(d){var w=this&&this.__extends||function(E,_){for(var h in _)_.hasOwnProperty(h)&&(E[h]=_[h]);function F(){this.constructor=E}E.prototype=_===null?Object.create(_):(F.prototype=_.prototype,new F)},m=l(11),x=function(E){w(_,E);function _(){E.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return _.prototype.setRawMode=function(h){this.isRaw!==h&&(this.isRaw=h,this.emit("modeChange"))},_.prototype.changeColumns=function(h){h!==this.columns&&(this.columns=h,this.emit("resize"))},_.prototype.changeRows=function(h){h!==this.rows&&(this.rows=h,this.emit("resize"))},_.isatty=function(h){return h&&h instanceof _},_.prototype._write=function(h,F,y){var D;try{var T;typeof h=="string"?T=new d(h,F):T=h,this._bufferedWrites.push(T),this._waitingForWrites&&this._read(1024)}catch(C){D=C}finally{y(D)}},_.prototype._read=function(h){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},_}(m.Duplex);u.exports=x}).call(f,l(1))},function(u,f,l){u.exports=m;var d=l(8).EventEmitter,w=l(12);w(m,d),m.Readable=l(13),m.Writable=l(27),m.Duplex=l(28),m.Transform=l(29),m.PassThrough=l(30),m.Stream=m;function m(){d.call(this)}m.prototype.pipe=function(x,E){var _=this;function h(B){x.writable&&x.write(B)===!1&&_.pause&&_.pause()}_.on("data",h);function F(){_.readable&&_.resume&&_.resume()}x.on("drain",F),!x._isStdio&&(!E||E.end!==!1)&&(_.on("end",D),_.on("close",T));var y=!1;function D(){y||(y=!0,x.end())}function T(){y||(y=!0,typeof x.destroy=="function"&&x.destroy())}function C(B){if(U(),d.listenerCount(this,"error")===0)throw B}_.on("error",C),x.on("error",C);function U(){_.removeListener("data",h),x.removeListener("drain",F),_.removeListener("end",D),_.removeListener("close",T),_.removeListener("error",C),x.removeListener("error",C),_.removeListener("end",U),_.removeListener("close",U),x.removeListener("close",U)}return _.on("end",U),_.on("close",U),x.on("close",U),x.emit("pipe",_),x}},function(u,f){typeof Object.create=="function"?u.exports=function(d,w){d.super_=w,d.prototype=Object.create(w.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:u.exports=function(d,w){d.super_=w;var m=function(){};m.prototype=w.prototype,d.prototype=new m,d.prototype.constructor=d}},function(u,f,l){(function(d){var w=function(){try{return l(11)}catch{}}();f=u.exports=l(14),f.Stream=w||f,f.Readable=f,f.Writable=l(22),f.Duplex=l(21),f.Transform=l(25),f.PassThrough=l(26),!d.browser&&{}.READABLE_STREAM==="disable"&&w&&(u.exports=w)}).call(f,l(6))},function(u,f,l){(function(d){u.exports=X;var w=l(15),m=l(16),x;X.ReadableState=Z,l(8).EventEmitter;var E=function(N,L){return N.listeners(L).length},_;(function(){try{_=l(11)}catch{}finally{_||(_=l(8).EventEmitter)}})();var h=l(2).Buffer,F=l(17),y=l(18);y.inherits=l(12);var D=l(19),T=void 0;D&&D.debuglog?T=D.debuglog("stream"):T=function(){};var C=l(20),U;y.inherits(X,_);function B(N,L,it){if(typeof N.prependListener=="function")return N.prependListener(L,it);!N._events||!N._events[L]?N.on(L,it):m(N._events[L])?N._events[L].unshift(it):N._events[L]=[it,N._events[L]]}function Z(N,L){x=x||l(21),N=N||{},this.objectMode=!!N.objectMode,L instanceof x&&(this.objectMode=this.objectMode||!!N.readableObjectMode);var it=N.highWaterMark,R=this.objectMode?16:16*1024;this.highWaterMark=it||it===0?it:R,this.highWaterMark=~~this.highWaterMark,this.buffer=new C,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(U||(U=l(24).StringDecoder),this.decoder=new U(N.encoding),this.encoding=N.encoding)}function X(N){if(x=x||l(21),!(this instanceof X))return new X(N);this._readableState=new Z(N,this),this.readable=!0,N&&typeof N.read=="function"&&(this._read=N.read),_.call(this)}X.prototype.push=function(N,L){var it=this._readableState;return!it.objectMode&&typeof N=="string"&&(L=L||it.defaultEncoding,L!==it.encoding&&(N=F.from(N,L),L="")),V(this,it,N,L,!1)},X.prototype.unshift=function(N){var L=this._readableState;return V(this,L,N,"",!0)},X.prototype.isPaused=function(){return this._readableState.flowing===!1};function V(N,L,it,R,A){var z=Y(L,it);if(z)N.emit("error",z);else if(it===null)L.reading=!1,ot(N,L);else if(L.objectMode||it&&it.length>0)if(L.ended&&!A){var j=new Error("stream.push() after EOF");N.emit("error",j)}else if(L.endEmitted&&A){var et=new Error("stream.unshift() after end event");N.emit("error",et)}else{var J;L.decoder&&!A&&!R&&(it=L.decoder.write(it),J=!L.objectMode&&it.length===0),A||(L.reading=!1),J||(L.flowing&&L.length===0&&!L.sync?(N.emit("data",it),N.read(0)):(L.length+=L.objectMode?1:it.length,A?L.buffer.unshift(it):L.buffer.push(it),L.needReadable&&_t(N))),Ft(N,L)}else A||(L.reading=!1);return yt(L)}function yt(N){return!N.ended&&(N.needReadable||N.length<N.highWaterMark||N.length===0)}X.prototype.setEncoding=function(N){return U||(U=l(24).StringDecoder),this._readableState.decoder=new U(N),this._readableState.encoding=N,this};var Q=8388608;function ut(N){return N>=Q?N=Q:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}function St(N,L){return N<=0||L.length===0&&L.ended?0:L.objectMode?1:N!==N?L.flowing&&L.length?L.buffer.head.data.length:L.length:(N>L.highWaterMark&&(L.highWaterMark=ut(N)),N<=L.length?N:L.ended?L.length:(L.needReadable=!0,0))}X.prototype.read=function(N){T("read",N),N=parseInt(N,10);var L=this._readableState,it=N;if(N!==0&&(L.emittedReadable=!1),N===0&&L.needReadable&&(L.length>=L.highWaterMark||L.ended))return T("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?Lt(this):_t(this),null;if(N=St(N,L),N===0&&L.ended)return L.length===0&&Lt(this),null;var R=L.needReadable;T("need readable",R),(L.length===0||L.length-N<L.highWaterMark)&&(R=!0,T("length less than watermark",R)),L.ended||L.reading?(R=!1,T("reading or ended",R)):R&&(T("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(N=St(it,L)));var A;return N>0?A=st(N,L):A=null,A===null?(L.needReadable=!0,N=0):L.length-=N,L.length===0&&(L.ended||(L.needReadable=!0),it!==N&&L.ended&&Lt(this)),A!==null&&this.emit("data",A),A};function Y(N,L){var it=null;return!h.isBuffer(L)&&typeof L!="string"&&L!==null&&L!==void 0&&!N.objectMode&&(it=new TypeError("Invalid non-string/buffer chunk")),it}function ot(N,L){if(!L.ended){if(L.decoder){var it=L.decoder.end();it&&it.length&&(L.buffer.push(it),L.length+=L.objectMode?1:it.length)}L.ended=!0,_t(N)}}function _t(N){var L=N._readableState;L.needReadable=!1,L.emittedReadable||(T("emitReadable",L.flowing),L.emittedReadable=!0,L.sync?w(Mt,N):Mt(N))}function Mt(N){T("emit readable"),N.emit("readable"),q(N)}function Ft(N,L){L.readingMore||(L.readingMore=!0,w(Nt,N,L))}function Nt(N,L){for(var it=L.length;!L.reading&&!L.flowing&&!L.ended&&L.length<L.highWaterMark&&(T("maybeReadMore read 0"),N.read(0),it!==L.length);)it=L.length;L.readingMore=!1}X.prototype._read=function(N){this.emit("error",new Error("_read() is not implemented"))},X.prototype.pipe=function(N,L){var it=this,R=this._readableState;switch(R.pipesCount){case 0:R.pipes=N;break;case 1:R.pipes=[R.pipes,N];break;default:R.pipes.push(N);break}R.pipesCount+=1,T("pipe count=%d opts=%j",R.pipesCount,L);var A=(!L||L.end!==!1)&&N!==d.stdout&&N!==d.stderr,z=A?et:at;R.endEmitted?w(z):it.once("end",z),N.on("unpipe",j);function j(H){T("onunpipe"),H===it&&at()}function et(){T("onend"),N.end()}var J=vt(it);N.on("drain",J);var pt=!1;function at(){T("cleanup"),N.removeListener("close",g),N.removeListener("finish",O),N.removeListener("drain",J),N.removeListener("error",v),N.removeListener("unpipe",j),it.removeListener("end",et),it.removeListener("end",at),it.removeListener("data",b),pt=!0,R.awaitDrain&&(!N._writableState||N._writableState.needDrain)&&J()}var ht=!1;it.on("data",b);function b(H){T("ondata"),ht=!1;var $=N.write(H);$===!1&&!ht&&((R.pipesCount===1&&R.pipes===N||R.pipesCount>1&&Xt(R.pipes,N)!==-1)&&!pt&&(T("false write response, pause",it._readableState.awaitDrain),it._readableState.awaitDrain++,ht=!0),it.pause())}function v(H){T("onerror",H),M(),N.removeListener("error",v),E(N,"error")===0&&N.emit("error",H)}B(N,"error",v);function g(){N.removeListener("finish",O),M()}N.once("close",g);function O(){T("onfinish"),N.removeListener("close",g),M()}N.once("finish",O);function M(){T("unpipe"),it.unpipe(N)}return N.emit("pipe",it),R.flowing||(T("pipe resume"),it.resume()),N};function vt(N){return function(){var L=N._readableState;T("pipeOnDrain",L.awaitDrain),L.awaitDrain&&L.awaitDrain--,L.awaitDrain===0&&E(N,"data")&&(L.flowing=!0,q(N))}}X.prototype.unpipe=function(N){var L=this._readableState;if(L.pipesCount===0)return this;if(L.pipesCount===1)return N&&N!==L.pipes?this:(N||(N=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,N&&N.emit("unpipe",this),this);if(!N){var it=L.pipes,R=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var A=0;A<R;A++)it[A].emit("unpipe",this);return this}var z=Xt(L.pipes,N);return z===-1?this:(L.pipes.splice(z,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),N.emit("unpipe",this),this)},X.prototype.on=function(N,L){var it=_.prototype.on.call(this,N,L);if(N==="data")this._readableState.flowing!==!1&&this.resume();else if(N==="readable"){var R=this._readableState;!R.endEmitted&&!R.readableListening&&(R.readableListening=R.needReadable=!0,R.emittedReadable=!1,R.reading?R.length&&_t(this):w(lt,this))}return it},X.prototype.addListener=X.prototype.on;function lt(N){T("readable nexttick read 0"),N.read(0)}X.prototype.resume=function(){var N=this._readableState;return N.flowing||(T("resume"),N.flowing=!0,It(this,N)),this};function It(N,L){L.resumeScheduled||(L.resumeScheduled=!0,w(K,N,L))}function K(N,L){L.reading||(T("resume read 0"),N.read(0)),L.resumeScheduled=!1,L.awaitDrain=0,N.emit("resume"),q(N),L.flowing&&!L.reading&&N.read(0)}X.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function q(N){var L=N._readableState;for(T("flow",L.flowing);L.flowing&&N.read()!==null;);}X.prototype.wrap=function(N){var L=this._readableState,it=!1,R=this;N.on("end",function(){if(T("wrapped end"),L.decoder&&!L.ended){var j=L.decoder.end();j&&j.length&&R.push(j)}R.push(null)}),N.on("data",function(j){if(T("wrapped data"),L.decoder&&(j=L.decoder.write(j)),!(L.objectMode&&j==null)&&!(!L.objectMode&&(!j||!j.length))){var et=R.push(j);et||(it=!0,N.pause())}});for(var A in N)this[A]===void 0&&typeof N[A]=="function"&&(this[A]=function(j){return function(){return N[j].apply(N,arguments)}}(A));var z=["error","close","destroy","pause","resume"];return qt(z,function(j){N.on(j,R.emit.bind(R,j))}),R._read=function(j){T("wrapped _read",j),it&&(it=!1,N.resume())},R},X._fromList=st;function st(N,L){if(L.length===0)return null;var it;return L.objectMode?it=L.buffer.shift():!N||N>=L.length?(L.decoder?it=L.buffer.join(""):L.buffer.length===1?it=L.buffer.head.data:it=L.buffer.concat(L.length),L.buffer.clear()):it=wt(N,L.buffer,L.decoder),it}function wt(N,L,it){var R;return N<L.head.data.length?(R=L.head.data.slice(0,N),L.head.data=L.head.data.slice(N)):N===L.head.data.length?R=L.shift():R=it?Ut(N,L):Dt(N,L),R}function Ut(N,L){var it=L.head,R=1,A=it.data;for(N-=A.length;it=it.next;){var z=it.data,j=N>z.length?z.length:N;if(j===z.length?A+=z:A+=z.slice(0,N),N-=j,N===0){j===z.length?(++R,it.next?L.head=it.next:L.head=L.tail=null):(L.head=it,it.data=z.slice(j));break}++R}return L.length-=R,A}function Dt(N,L){var it=F.allocUnsafe(N),R=L.head,A=1;for(R.data.copy(it),N-=R.data.length;R=R.next;){var z=R.data,j=N>z.length?z.length:N;if(z.copy(it,it.length-N,0,j),N-=j,N===0){j===z.length?(++A,R.next?L.head=R.next:L.head=L.tail=null):(L.head=R,R.data=z.slice(j));break}++A}return L.length-=A,it}function Lt(N){var L=N._readableState;if(L.length>0)throw new Error('"endReadable()" called on non-empty stream');L.endEmitted||(L.ended=!0,w(Pt,L,N))}function Pt(N,L){!N.endEmitted&&N.length===0&&(N.endEmitted=!0,L.readable=!1,L.emit("end"))}function qt(N,L){for(var it=0,R=N.length;it<R;it++)L(N[it],it)}function Xt(N,L){for(var it=0,R=N.length;it<R;it++)if(N[it]===L)return it;return-1}}).call(f,l(6))},function(u,f,l){(function(d){!d.version||d.version.indexOf("v0.")===0||d.version.indexOf("v1.")===0&&d.version.indexOf("v1.8.")!==0?u.exports=w:u.exports=d.nextTick;function w(m,x,E,_){if(typeof m!="function")throw new TypeError('"callback" argument must be a function');var h=arguments.length,F,y;switch(h){case 0:case 1:return d.nextTick(m);case 2:return d.nextTick(function(){m.call(null,x)});case 3:return d.nextTick(function(){m.call(null,x,E)});case 4:return d.nextTick(function(){m.call(null,x,E,_)});default:for(F=new Array(h-1),y=0;y<F.length;)F[y++]=arguments[y];return d.nextTick(function(){m.apply(null,F)})}}}).call(f,l(6))},function(u,f){var l={}.toString;u.exports=Array.isArray||function(d){return l.call(d)=="[object Array]"}},function(u,f,l){(function(d){var w=l(2),m=w.Buffer,x=w.SlowBuffer,E=w.kMaxLength||2147483647;f.alloc=function(h,F,y){if(typeof m.alloc=="function")return m.alloc(h,F,y);if(typeof y=="number")throw new TypeError("encoding must not be number");if(typeof h!="number")throw new TypeError("size must be a number");if(h>E)throw new RangeError("size is too large");var D=y,T=F;T===void 0&&(D=void 0,T=0);var C=new m(h);if(typeof T=="string")for(var U=new m(T,D),B=U.length,Z=-1;++Z<h;)C[Z]=U[Z%B];else C.fill(T);return C},f.allocUnsafe=function(h){if(typeof m.allocUnsafe=="function")return m.allocUnsafe(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>E)throw new RangeError("size is too large");return new m(h)},f.from=function(h,F,y){if(typeof m.from=="function"&&(!d.Uint8Array||Uint8Array.from!==m.from))return m.from(h,F,y);if(typeof h=="number")throw new TypeError('"value" argument must not be a number');if(typeof h=="string")return new m(h,F);if(typeof ArrayBuffer<"u"&&h instanceof ArrayBuffer){var D=F;if(arguments.length===1)return new m(h);typeof D>"u"&&(D=0);var T=y;if(typeof T>"u"&&(T=h.byteLength-D),D>=h.byteLength)throw new RangeError("'offset' is out of bounds");if(T>h.byteLength-D)throw new RangeError("'length' is out of bounds");return new m(h.slice(D,D+T))}if(m.isBuffer(h)){var C=new m(h.length);return h.copy(C,0,0,h.length),C}if(h){if(Array.isArray(h)||typeof ArrayBuffer<"u"&&h.buffer instanceof ArrayBuffer||"length"in h)return new m(h);if(h.type==="Buffer"&&Array.isArray(h.data))return new m(h.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},f.allocUnsafeSlow=function(h){if(typeof m.allocUnsafeSlow=="function")return m.allocUnsafeSlow(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>=E)throw new RangeError("size is too large");return new x(h)}}).call(f,function(){return this}())},function(u,f,l){(function(d){function w(V){return Array.isArray?Array.isArray(V):X(V)==="[object Array]"}f.isArray=w;function m(V){return typeof V=="boolean"}f.isBoolean=m;function x(V){return V===null}f.isNull=x;function E(V){return V==null}f.isNullOrUndefined=E;function _(V){return typeof V=="number"}f.isNumber=_;function h(V){return typeof V=="string"}f.isString=h;function F(V){return typeof V=="symbol"}f.isSymbol=F;function y(V){return V===void 0}f.isUndefined=y;function D(V){return X(V)==="[object RegExp]"}f.isRegExp=D;function T(V){return typeof V=="object"&&V!==null}f.isObject=T;function C(V){return X(V)==="[object Date]"}f.isDate=C;function U(V){return X(V)==="[object Error]"||V instanceof Error}f.isError=U;function B(V){return typeof V=="function"}f.isFunction=B;function Z(V){return V===null||typeof V=="boolean"||typeof V=="number"||typeof V=="string"||typeof V=="symbol"||typeof V>"u"}f.isPrimitive=Z,f.isBuffer=d.isBuffer;function X(V){return Object.prototype.toString.call(V)}}).call(f,l(1))},function(u,f){},function(u,f,l){l(2).Buffer;var d=l(17);u.exports=w;function w(){this.head=null,this.tail=null,this.length=0}w.prototype.push=function(m){var x={data:m,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length},w.prototype.unshift=function(m){var x={data:m,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length},w.prototype.shift=function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}},w.prototype.clear=function(){this.head=this.tail=null,this.length=0},w.prototype.join=function(m){if(this.length===0)return"";for(var x=this.head,E=""+x.data;x=x.next;)E+=m+x.data;return E},w.prototype.concat=function(m){if(this.length===0)return d.alloc(0);if(this.length===1)return this.head.data;for(var x=d.allocUnsafe(m>>>0),E=this.head,_=0;E;)E.data.copy(x,_),_+=E.data.length,E=E.next;return x}},function(u,f,l){var d=Object.keys||function(C){var U=[];for(var B in C)U.push(B);return U};u.exports=y;var w=l(15),m=l(18);m.inherits=l(12);var x=l(14),E=l(22);m.inherits(y,x);for(var _=d(E.prototype),h=0;h<_.length;h++){var F=_[h];y.prototype[F]||(y.prototype[F]=E.prototype[F])}function y(C){if(!(this instanceof y))return new y(C);x.call(this,C),E.call(this,C),C&&C.readable===!1&&(this.readable=!1),C&&C.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,C&&C.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",D)}function D(){this.allowHalfOpen||this._writableState.ended||w(T,this)}function T(C){C.end()}},function(u,f,l){(function(d){u.exports=B;var w=l(15),m=!d.browser&&["v0.10","v0.9."].indexOf(d.version.slice(0,5))>-1?setImmediate:w,x;B.WritableState=C;var E=l(18);E.inherits=l(12);var _={deprecate:l(23)},h;(function(){try{h=l(11)}catch{}finally{h||(h=l(8).EventEmitter)}})();var F=l(2).Buffer,y=l(17);E.inherits(B,h);function D(){}function T(K,q,st){this.chunk=K,this.encoding=q,this.callback=st,this.next=null}function C(K,q){x=x||l(21),K=K||{},this.objectMode=!!K.objectMode,q instanceof x&&(this.objectMode=this.objectMode||!!K.writableObjectMode);var st=K.highWaterMark,wt=this.objectMode?16:16*1024;this.highWaterMark=st||st===0?st:wt,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var Ut=K.decodeStrings===!1;this.decodeStrings=!Ut,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Dt){Y(q,Dt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new It(this)}C.prototype.getBuffer=function(){for(var q=this.bufferedRequest,st=[];q;)st.push(q),q=q.next;return st},function(){try{Object.defineProperty(C.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var U;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(U=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(K){return U.call(this,K)?!0:K&&K._writableState instanceof C}})):U=function(K){return K instanceof this};function B(K){if(x=x||l(21),!U.call(B,this)&&!(this instanceof x))return new B(K);this._writableState=new C(K,this),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev)),h.call(this)}B.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Z(K,q){var st=new Error("write after end");K.emit("error",st),w(q,st)}function X(K,q,st,wt){var Ut=!0,Dt=!1;return st===null?Dt=new TypeError("May not write null values to stream"):typeof st!="string"&&st!==void 0&&!q.objectMode&&(Dt=new TypeError("Invalid non-string/buffer chunk")),Dt&&(K.emit("error",Dt),w(wt,Dt),Ut=!1),Ut}B.prototype.write=function(K,q,st){var wt=this._writableState,Ut=!1,Dt=F.isBuffer(K);return typeof q=="function"&&(st=q,q=null),Dt?q="buffer":q||(q=wt.defaultEncoding),typeof st!="function"&&(st=D),wt.ended?Z(this,st):(Dt||X(this,wt,K,st))&&(wt.pendingcb++,Ut=yt(this,wt,Dt,K,q,st)),Ut},B.prototype.cork=function(){var K=this._writableState;K.corked++},B.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.finished&&!K.bufferProcessing&&K.bufferedRequest&&Mt(this,K))},B.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((q+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+q);return this._writableState.defaultEncoding=q,this};function V(K,q,st){return!K.objectMode&&K.decodeStrings!==!1&&typeof q=="string"&&(q=y.from(q,st)),q}function yt(K,q,st,wt,Ut,Dt){st||(wt=V(q,wt,Ut),F.isBuffer(wt)&&(Ut="buffer"));var Lt=q.objectMode?1:wt.length;q.length+=Lt;var Pt=q.length<q.highWaterMark;if(Pt||(q.needDrain=!0),q.writing||q.corked){var qt=q.lastBufferedRequest;q.lastBufferedRequest=new T(wt,Ut,Dt),qt?qt.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else Q(K,q,!1,Lt,wt,Ut,Dt);return Pt}function Q(K,q,st,wt,Ut,Dt,Lt){q.writelen=wt,q.writecb=Lt,q.writing=!0,q.sync=!0,st?K._writev(Ut,q.onwrite):K._write(Ut,Dt,q.onwrite),q.sync=!1}function ut(K,q,st,wt,Ut){--q.pendingcb,st?w(Ut,wt):Ut(wt),K._writableState.errorEmitted=!0,K.emit("error",wt)}function St(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function Y(K,q){var st=K._writableState,wt=st.sync,Ut=st.writecb;if(St(st),q)ut(K,st,wt,q,Ut);else{var Dt=Ft(st);!Dt&&!st.corked&&!st.bufferProcessing&&st.bufferedRequest&&Mt(K,st),wt?m(ot,K,st,Dt,Ut):ot(K,st,Dt,Ut)}}function ot(K,q,st,wt){st||_t(K,q),q.pendingcb--,wt(),vt(K,q)}function _t(K,q){q.length===0&&q.needDrain&&(q.needDrain=!1,K.emit("drain"))}function Mt(K,q){q.bufferProcessing=!0;var st=q.bufferedRequest;if(K._writev&&st&&st.next){var wt=q.bufferedRequestCount,Ut=new Array(wt),Dt=q.corkedRequestsFree;Dt.entry=st;for(var Lt=0;st;)Ut[Lt]=st,st=st.next,Lt+=1;Q(K,q,!0,q.length,Ut,"",Dt.finish),q.pendingcb++,q.lastBufferedRequest=null,Dt.next?(q.corkedRequestsFree=Dt.next,Dt.next=null):q.corkedRequestsFree=new It(q)}else{for(;st;){var Pt=st.chunk,qt=st.encoding,Xt=st.callback,N=q.objectMode?1:Pt.length;if(Q(K,q,!1,N,Pt,qt,Xt),st=st.next,q.writing)break}st===null&&(q.lastBufferedRequest=null)}q.bufferedRequestCount=0,q.bufferedRequest=st,q.bufferProcessing=!1}B.prototype._write=function(K,q,st){st(new Error("_write() is not implemented"))},B.prototype._writev=null,B.prototype.end=function(K,q,st){var wt=this._writableState;typeof K=="function"?(st=K,K=null,q=null):typeof q=="function"&&(st=q,q=null),K!=null&&this.write(K,q),wt.corked&&(wt.corked=1,this.uncork()),!wt.ending&&!wt.finished&&lt(this,wt,st)};function Ft(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function Nt(K,q){q.prefinished||(q.prefinished=!0,K.emit("prefinish"))}function vt(K,q){var st=Ft(q);return st&&(q.pendingcb===0?(Nt(K,q),q.finished=!0,K.emit("finish")):Nt(K,q)),st}function lt(K,q,st){q.ending=!0,vt(K,q),st&&(q.finished?w(st):K.once("finish",st)),q.ended=!0,K.writable=!1}function It(K){var q=this;this.next=null,this.entry=null,this.finish=function(st){var wt=q.entry;for(q.entry=null;wt;){var Ut=wt.callback;K.pendingcb--,Ut(st),wt=wt.next}K.corkedRequestsFree?K.corkedRequestsFree.next=q:K.corkedRequestsFree=q}}}).call(f,l(6))},function(u,f){(function(l){u.exports=d;function d(m,x){if(w("noDeprecation"))return m;var E=!1;function _(){if(!E){if(w("throwDeprecation"))throw new Error(x);w("traceDeprecation")?console.trace(x):console.warn(x),E=!0}return m.apply(this,arguments)}return _}function w(m){try{if(!l.localStorage)return!1}catch{return!1}var x=l.localStorage[m];return x==null?!1:String(x).toLowerCase()==="true"}}).call(f,function(){return this}())},function(u,f,l){var d=l(2).Buffer,w=d.isEncoding||function(F){switch(F&&F.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function m(F){if(F&&!w(F))throw new Error("Unknown encoding: "+F)}var x=f.StringDecoder=function(F){switch(this.encoding=(F||"utf8").toLowerCase().replace(/[-_]/,""),m(F),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=_;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=h;break;default:this.write=E;return}this.charBuffer=new d(6),this.charReceived=0,this.charLength=0};x.prototype.write=function(F){for(var y="";this.charLength;){var D=F.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:F.length;if(F.copy(this.charBuffer,this.charReceived,0,D),this.charReceived+=D,this.charReceived<this.charLength)return"";F=F.slice(D,F.length),y=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var C=y.charCodeAt(y.length-1);if(C>=55296&&C<=56319){this.charLength+=this.surrogateSize,y="";continue}if(this.charReceived=this.charLength=0,F.length===0)return y;break}this.detectIncompleteChar(F);var T=F.length;this.charLength&&(F.copy(this.charBuffer,0,F.length-this.charReceived,T),T-=this.charReceived),y+=F.toString(this.encoding,0,T);var T=y.length-1,C=y.charCodeAt(T);if(C>=55296&&C<=56319){var U=this.surrogateSize;return this.charLength+=U,this.charReceived+=U,this.charBuffer.copy(this.charBuffer,U,0,U),F.copy(this.charBuffer,0,0,U),y.substring(0,T)}return y},x.prototype.detectIncompleteChar=function(F){for(var y=F.length>=3?3:F.length;y>0;y--){var D=F[F.length-y];if(y==1&&D>>5==6){this.charLength=2;break}if(y<=2&&D>>4==14){this.charLength=3;break}if(y<=3&&D>>3==30){this.charLength=4;break}}this.charReceived=y},x.prototype.end=function(F){var y="";if(F&&F.length&&(y=this.write(F)),this.charReceived){var D=this.charReceived,T=this.charBuffer,C=this.encoding;y+=T.slice(0,D).toString(C)}return y};function E(F){return F.toString(this.encoding)}function _(F){this.charReceived=F.length%2,this.charLength=this.charReceived?2:0}function h(F){this.charReceived=F.length%3,this.charLength=this.charReceived?3:0}},function(u,f,l){u.exports=E;var d=l(21),w=l(18);w.inherits=l(12),w.inherits(E,d);function m(h){this.afterTransform=function(F,y){return x(h,F,y)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function x(h,F,y){var D=h._transformState;D.transforming=!1;var T=D.writecb;if(!T)return h.emit("error",new Error("no writecb in Transform class"));D.writechunk=null,D.writecb=null,y!=null&&h.push(y),T(F);var C=h._readableState;C.reading=!1,(C.needReadable||C.length<C.highWaterMark)&&h._read(C.highWaterMark)}function E(h){if(!(this instanceof E))return new E(h);d.call(this,h),this._transformState=new m(this);var F=this;this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(y,D){_(F,y,D)}):_(F)})}E.prototype.push=function(h,F){return this._transformState.needTransform=!1,d.prototype.push.call(this,h,F)},E.prototype._transform=function(h,F,y){throw new Error("_transform() is not implemented")},E.prototype._write=function(h,F,y){var D=this._transformState;if(D.writecb=y,D.writechunk=h,D.writeencoding=F,!D.transforming){var T=this._readableState;(D.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},E.prototype._read=function(h){var F=this._transformState;F.writechunk!==null&&F.writecb&&!F.transforming?(F.transforming=!0,this._transform(F.writechunk,F.writeencoding,F.afterTransform)):F.needTransform=!0};function _(h,F,y){if(F)return h.emit("error",F);y!=null&&h.push(y);var D=h._writableState,T=h._transformState;if(D.length)throw new Error("Calling transform done when ws.length != 0");if(T.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}},function(u,f,l){u.exports=m;var d=l(25),w=l(18);w.inherits=l(12),w.inherits(m,d);function m(x){if(!(this instanceof m))return new m(x);d.call(this,x)}m.prototype._transform=function(x,E,_){_(null,x)}},function(u,f,l){u.exports=l(22)},function(u,f,l){u.exports=l(21)},function(u,f,l){u.exports=l(25)},function(u,f,l){u.exports=l(26)},function(u,f,l){var d=l(32),w=l(33),m=l(38),x=l(39),E=l(40),_=l(41),h=l(42),F=Object.prototype.toString;function y(C){if(!(this instanceof y))return new y(C);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},C||{});var U=this.options;U.raw&&U.windowBits>=0&&U.windowBits<16&&(U.windowBits=-U.windowBits,U.windowBits===0&&(U.windowBits=-15)),U.windowBits>=0&&U.windowBits<16&&!(C&&C.windowBits)&&(U.windowBits+=32),U.windowBits>15&&U.windowBits<48&&(U.windowBits&15||(U.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var B=d.inflateInit2(this.strm,U.windowBits);if(B!==x.Z_OK)throw new Error(E[B]);this.header=new h,d.inflateGetHeader(this.strm,this.header)}y.prototype.push=function(C,U){var B=this.strm,Z=this.options.chunkSize,X=this.options.dictionary,V,yt,Q,ut,St,Y,ot=!1;if(this.ended)return!1;yt=U===~~U?U:U===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof C=="string"?B.input=m.binstring2buf(C):F.call(C)==="[object ArrayBuffer]"?B.input=new Uint8Array(C):B.input=C,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new w.Buf8(Z),B.next_out=0,B.avail_out=Z),V=d.inflate(B,x.Z_NO_FLUSH),V===x.Z_NEED_DICT&&X&&(typeof X=="string"?Y=m.string2buf(X):F.call(X)==="[object ArrayBuffer]"?Y=new Uint8Array(X):Y=X,V=d.inflateSetDictionary(this.strm,Y)),V===x.Z_BUF_ERROR&&ot===!0&&(V=x.Z_OK,ot=!1),V!==x.Z_STREAM_END&&V!==x.Z_OK)return this.onEnd(V),this.ended=!0,!1;B.next_out&&(B.avail_out===0||V===x.Z_STREAM_END||B.avail_in===0&&(yt===x.Z_FINISH||yt===x.Z_SYNC_FLUSH))&&(this.options.to==="string"?(Q=m.utf8border(B.output,B.next_out),ut=B.next_out-Q,St=m.buf2string(B.output,Q),B.next_out=ut,B.avail_out=Z-ut,ut&&w.arraySet(B.output,B.output,Q,ut,0),this.onData(St)):this.onData(w.shrinkBuf(B.output,B.next_out))),B.avail_in===0&&B.avail_out===0&&(ot=!0)}while((B.avail_in>0||B.avail_out===0)&&V!==x.Z_STREAM_END);return V===x.Z_STREAM_END&&(yt=x.Z_FINISH),yt===x.Z_FINISH?(V=d.inflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===x.Z_OK):(yt===x.Z_SYNC_FLUSH&&(this.onEnd(x.Z_OK),B.avail_out=0),!0)},y.prototype.onData=function(C){this.chunks.push(C)},y.prototype.onEnd=function(C){C===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function D(C,U){var B=new y(U);if(B.push(C,!0),B.err)throw B.msg||E[B.err];return B.result}function T(C,U){return U=U||{},U.raw=!0,D(C,U)}f.Inflate=y,f.inflate=D,f.inflateRaw=T,f.ungzip=D},function(u,f,l){var d=l(33),w=l(34),m=l(35),x=l(36),E=l(37),_=0,h=1,F=2,y=4,D=5,T=6,C=0,U=1,B=2,Z=-2,X=-3,V=-4,yt=-5,Q=8,ut=1,St=2,Y=3,ot=4,_t=5,Mt=6,Ft=7,Nt=8,vt=9,lt=10,It=11,K=12,q=13,st=14,wt=15,Ut=16,Dt=17,Lt=18,Pt=19,qt=20,Xt=21,N=22,L=23,it=24,R=25,A=26,z=27,j=28,et=29,J=30,pt=31,at=32,ht=852,b=592,v=15,g=v;function O(G){return(G>>>24&255)+(G>>>8&65280)+((G&65280)<<8)+((G&255)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function H(G){var mt;return!G||!G.state?Z:(mt=G.state,G.total_in=G.total_out=mt.total=0,G.msg="",mt.wrap&&(G.adler=mt.wrap&1),mt.mode=ut,mt.last=0,mt.havedict=0,mt.dmax=32768,mt.head=null,mt.hold=0,mt.bits=0,mt.lencode=mt.lendyn=new d.Buf32(ht),mt.distcode=mt.distdyn=new d.Buf32(b),mt.sane=1,mt.back=-1,C)}function $(G){var mt;return!G||!G.state?Z:(mt=G.state,mt.wsize=0,mt.whave=0,mt.wnext=0,H(G))}function Et(G,mt){var k,bt;return!G||!G.state||(bt=G.state,mt<0?(k=0,mt=-mt):(k=(mt>>4)+1,mt<48&&(mt&=15)),mt&&(mt<8||mt>15))?Z:(bt.window!==null&&bt.wbits!==mt&&(bt.window=null),bt.wrap=k,bt.wbits=mt,$(G))}function Rt(G,mt){var k,bt;return G?(bt=new M,G.state=bt,bt.window=null,k=Et(G,mt),k!==C&&(G.state=null),k):Z}function zt(G){return Rt(G,g)}var Jt=!0,Ht,Ee;function hn(G){if(Jt){var mt;for(Ht=new d.Buf32(512),Ee=new d.Buf32(32),mt=0;mt<144;)G.lens[mt++]=8;for(;mt<256;)G.lens[mt++]=9;for(;mt<280;)G.lens[mt++]=7;for(;mt<288;)G.lens[mt++]=8;for(E(h,G.lens,0,288,Ht,0,G.work,{bits:9}),mt=0;mt<32;)G.lens[mt++]=5;E(F,G.lens,0,32,Ee,0,G.work,{bits:5}),Jt=!1}G.lencode=Ht,G.lenbits=9,G.distcode=Ee,G.distbits=5}function fe(G,mt,k,bt){var Qt,gt=G.state;return gt.window===null&&(gt.wsize=1<<gt.wbits,gt.wnext=0,gt.whave=0,gt.window=new d.Buf8(gt.wsize)),bt>=gt.wsize?(d.arraySet(gt.window,mt,k-gt.wsize,gt.wsize,0),gt.wnext=0,gt.whave=gt.wsize):(Qt=gt.wsize-gt.wnext,Qt>bt&&(Qt=bt),d.arraySet(gt.window,mt,k-bt,Qt,gt.wnext),bt-=Qt,bt?(d.arraySet(gt.window,mt,k-bt,bt,0),gt.wnext=bt,gt.whave=gt.wsize):(gt.wnext+=Qt,gt.wnext===gt.wsize&&(gt.wnext=0),gt.whave<gt.wsize&&(gt.whave+=Qt))),0}function _e(G,mt){var k,bt,Qt,gt,Te,xt,le,rt,nt,nr,$t,Ot,Ln,dn,ie=0,Vt,we,ke,Se,rr,An,ce,Ne,me=new d.Buf8(4),Ke,Xe,oi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!G||!G.state||!G.output||!G.input&&G.avail_in!==0)return Z;k=G.state,k.mode===K&&(k.mode=q),Te=G.next_out,Qt=G.output,le=G.avail_out,gt=G.next_in,bt=G.input,xt=G.avail_in,rt=k.hold,nt=k.bits,nr=xt,$t=le,Ne=C;t:for(;;)switch(k.mode){case ut:if(k.wrap===0){k.mode=q;break}for(;nt<16;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}if(k.wrap&2&&rt===35615){k.check=0,me[0]=rt&255,me[1]=rt>>>8&255,k.check=m(k.check,me,2,0),rt=0,nt=0,k.mode=St;break}if(k.flags=0,k.head&&(k.head.done=!1),!(k.wrap&1)||(((rt&255)<<8)+(rt>>8))%31){G.msg="incorrect header check",k.mode=J;break}if((rt&15)!==Q){G.msg="unknown compression method",k.mode=J;break}if(rt>>>=4,nt-=4,ce=(rt&15)+8,k.wbits===0)k.wbits=ce;else if(ce>k.wbits){G.msg="invalid window size",k.mode=J;break}k.dmax=1<<ce,G.adler=k.check=1,k.mode=rt&512?lt:K,rt=0,nt=0;break;case St:for(;nt<16;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}if(k.flags=rt,(k.flags&255)!==Q){G.msg="unknown compression method",k.mode=J;break}if(k.flags&57344){G.msg="unknown header flags set",k.mode=J;break}k.head&&(k.head.text=rt>>8&1),k.flags&512&&(me[0]=rt&255,me[1]=rt>>>8&255,k.check=m(k.check,me,2,0)),rt=0,nt=0,k.mode=Y;case Y:for(;nt<32;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}k.head&&(k.head.time=rt),k.flags&512&&(me[0]=rt&255,me[1]=rt>>>8&255,me[2]=rt>>>16&255,me[3]=rt>>>24&255,k.check=m(k.check,me,4,0)),rt=0,nt=0,k.mode=ot;case ot:for(;nt<16;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}k.head&&(k.head.xflags=rt&255,k.head.os=rt>>8),k.flags&512&&(me[0]=rt&255,me[1]=rt>>>8&255,k.check=m(k.check,me,2,0)),rt=0,nt=0,k.mode=_t;case _t:if(k.flags&1024){for(;nt<16;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}k.length=rt,k.head&&(k.head.extra_len=rt),k.flags&512&&(me[0]=rt&255,me[1]=rt>>>8&255,k.check=m(k.check,me,2,0)),rt=0,nt=0}else k.head&&(k.head.extra=null);k.mode=Mt;case Mt:if(k.flags&1024&&(Ot=k.length,Ot>xt&&(Ot=xt),Ot&&(k.head&&(ce=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),d.arraySet(k.head.extra,bt,gt,Ot,ce)),k.flags&512&&(k.check=m(k.check,bt,Ot,gt)),xt-=Ot,gt+=Ot,k.length-=Ot),k.length))break t;k.length=0,k.mode=Ft;case Ft:if(k.flags&2048){if(xt===0)break t;Ot=0;do ce=bt[gt+Ot++],k.head&&ce&&k.length<65536&&(k.head.name+=String.fromCharCode(ce));while(ce&&Ot<xt);if(k.flags&512&&(k.check=m(k.check,bt,Ot,gt)),xt-=Ot,gt+=Ot,ce)break t}else k.head&&(k.head.name=null);k.length=0,k.mode=Nt;case Nt:if(k.flags&4096){if(xt===0)break t;Ot=0;do ce=bt[gt+Ot++],k.head&&ce&&k.length<65536&&(k.head.comment+=String.fromCharCode(ce));while(ce&&Ot<xt);if(k.flags&512&&(k.check=m(k.check,bt,Ot,gt)),xt-=Ot,gt+=Ot,ce)break t}else k.head&&(k.head.comment=null);k.mode=vt;case vt:if(k.flags&512){for(;nt<16;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}if(rt!==(k.check&65535)){G.msg="header crc mismatch",k.mode=J;break}rt=0,nt=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),G.adler=k.check=0,k.mode=K;break;case lt:for(;nt<32;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}G.adler=k.check=O(rt),rt=0,nt=0,k.mode=It;case It:if(k.havedict===0)return G.next_out=Te,G.avail_out=le,G.next_in=gt,G.avail_in=xt,k.hold=rt,k.bits=nt,B;G.adler=k.check=1,k.mode=K;case K:if(mt===D||mt===T)break t;case q:if(k.last){rt>>>=nt&7,nt-=nt&7,k.mode=z;break}for(;nt<3;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}switch(k.last=rt&1,rt>>>=1,nt-=1,rt&3){case 0:k.mode=st;break;case 1:if(hn(k),k.mode=qt,mt===T){rt>>>=2,nt-=2;break t}break;case 2:k.mode=Dt;break;case 3:G.msg="invalid block type",k.mode=J}rt>>>=2,nt-=2;break;case st:for(rt>>>=nt&7,nt-=nt&7;nt<32;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}if((rt&65535)!==(rt>>>16^65535)){G.msg="invalid stored block lengths",k.mode=J;break}if(k.length=rt&65535,rt=0,nt=0,k.mode=wt,mt===T)break t;case wt:k.mode=Ut;case Ut:if(Ot=k.length,Ot){if(Ot>xt&&(Ot=xt),Ot>le&&(Ot=le),Ot===0)break t;d.arraySet(Qt,bt,gt,Ot,Te),xt-=Ot,gt+=Ot,le-=Ot,Te+=Ot,k.length-=Ot;break}k.mode=K;break;case Dt:for(;nt<14;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}if(k.nlen=(rt&31)+257,rt>>>=5,nt-=5,k.ndist=(rt&31)+1,rt>>>=5,nt-=5,k.ncode=(rt&15)+4,rt>>>=4,nt-=4,k.nlen>286||k.ndist>30){G.msg="too many length or distance symbols",k.mode=J;break}k.have=0,k.mode=Lt;case Lt:for(;k.have<k.ncode;){for(;nt<3;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}k.lens[oi[k.have++]]=rt&7,rt>>>=3,nt-=3}for(;k.have<19;)k.lens[oi[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,Ke={bits:k.lenbits},Ne=E(_,k.lens,0,19,k.lencode,0,k.work,Ke),k.lenbits=Ke.bits,Ne){G.msg="invalid code lengths set",k.mode=J;break}k.have=0,k.mode=Pt;case Pt:for(;k.have<k.nlen+k.ndist;){for(;ie=k.lencode[rt&(1<<k.lenbits)-1],Vt=ie>>>24,we=ie>>>16&255,ke=ie&65535,!(Vt<=nt);){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}if(ke<16)rt>>>=Vt,nt-=Vt,k.lens[k.have++]=ke;else{if(ke===16){for(Xe=Vt+2;nt<Xe;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}if(rt>>>=Vt,nt-=Vt,k.have===0){G.msg="invalid bit length repeat",k.mode=J;break}ce=k.lens[k.have-1],Ot=3+(rt&3),rt>>>=2,nt-=2}else if(ke===17){for(Xe=Vt+3;nt<Xe;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}rt>>>=Vt,nt-=Vt,ce=0,Ot=3+(rt&7),rt>>>=3,nt-=3}else{for(Xe=Vt+7;nt<Xe;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}rt>>>=Vt,nt-=Vt,ce=0,Ot=11+(rt&127),rt>>>=7,nt-=7}if(k.have+Ot>k.nlen+k.ndist){G.msg="invalid bit length repeat",k.mode=J;break}for(;Ot--;)k.lens[k.have++]=ce}}if(k.mode===J)break;if(k.lens[256]===0){G.msg="invalid code -- missing end-of-block",k.mode=J;break}if(k.lenbits=9,Ke={bits:k.lenbits},Ne=E(h,k.lens,0,k.nlen,k.lencode,0,k.work,Ke),k.lenbits=Ke.bits,Ne){G.msg="invalid literal/lengths set",k.mode=J;break}if(k.distbits=6,k.distcode=k.distdyn,Ke={bits:k.distbits},Ne=E(F,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,Ke),k.distbits=Ke.bits,Ne){G.msg="invalid distances set",k.mode=J;break}if(k.mode=qt,mt===T)break t;case qt:k.mode=Xt;case Xt:if(xt>=6&&le>=258){G.next_out=Te,G.avail_out=le,G.next_in=gt,G.avail_in=xt,k.hold=rt,k.bits=nt,x(G,$t),Te=G.next_out,Qt=G.output,le=G.avail_out,gt=G.next_in,bt=G.input,xt=G.avail_in,rt=k.hold,nt=k.bits,k.mode===K&&(k.back=-1);break}for(k.back=0;ie=k.lencode[rt&(1<<k.lenbits)-1],Vt=ie>>>24,we=ie>>>16&255,ke=ie&65535,!(Vt<=nt);){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}if(we&&!(we&240)){for(Se=Vt,rr=we,An=ke;ie=k.lencode[An+((rt&(1<<Se+rr)-1)>>Se)],Vt=ie>>>24,we=ie>>>16&255,ke=ie&65535,!(Se+Vt<=nt);){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}rt>>>=Se,nt-=Se,k.back+=Se}if(rt>>>=Vt,nt-=Vt,k.back+=Vt,k.length=ke,we===0){k.mode=A;break}if(we&32){k.back=-1,k.mode=K;break}if(we&64){G.msg="invalid literal/length code",k.mode=J;break}k.extra=we&15,k.mode=N;case N:if(k.extra){for(Xe=k.extra;nt<Xe;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}k.length+=rt&(1<<k.extra)-1,rt>>>=k.extra,nt-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=L;case L:for(;ie=k.distcode[rt&(1<<k.distbits)-1],Vt=ie>>>24,we=ie>>>16&255,ke=ie&65535,!(Vt<=nt);){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}if(!(we&240)){for(Se=Vt,rr=we,An=ke;ie=k.distcode[An+((rt&(1<<Se+rr)-1)>>Se)],Vt=ie>>>24,we=ie>>>16&255,ke=ie&65535,!(Se+Vt<=nt);){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}rt>>>=Se,nt-=Se,k.back+=Se}if(rt>>>=Vt,nt-=Vt,k.back+=Vt,we&64){G.msg="invalid distance code",k.mode=J;break}k.offset=ke,k.extra=we&15,k.mode=it;case it:if(k.extra){for(Xe=k.extra;nt<Xe;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}k.offset+=rt&(1<<k.extra)-1,rt>>>=k.extra,nt-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){G.msg="invalid distance too far back",k.mode=J;break}k.mode=R;case R:if(le===0)break t;if(Ot=$t-le,k.offset>Ot){if(Ot=k.offset-Ot,Ot>k.whave&&k.sane){G.msg="invalid distance too far back",k.mode=J;break}Ot>k.wnext?(Ot-=k.wnext,Ln=k.wsize-Ot):Ln=k.wnext-Ot,Ot>k.length&&(Ot=k.length),dn=k.window}else dn=Qt,Ln=Te-k.offset,Ot=k.length;Ot>le&&(Ot=le),le-=Ot,k.length-=Ot;do Qt[Te++]=dn[Ln++];while(--Ot);k.length===0&&(k.mode=Xt);break;case A:if(le===0)break t;Qt[Te++]=k.length,le--,k.mode=Xt;break;case z:if(k.wrap){for(;nt<32;){if(xt===0)break t;xt--,rt|=bt[gt++]<<nt,nt+=8}if($t-=le,G.total_out+=$t,k.total+=$t,$t&&(G.adler=k.check=k.flags?m(k.check,Qt,$t,Te-$t):w(k.check,Qt,$t,Te-$t)),$t=le,(k.flags?rt:O(rt))!==k.check){G.msg="incorrect data check",k.mode=J;break}rt=0,nt=0}k.mode=j;case j:if(k.wrap&&k.flags){for(;nt<32;){if(xt===0)break t;xt--,rt+=bt[gt++]<<nt,nt+=8}if(rt!==(k.total&4294967295)){G.msg="incorrect length check",k.mode=J;break}rt=0,nt=0}k.mode=et;case et:Ne=U;break t;case J:Ne=X;break t;case pt:return V;case at:default:return Z}return G.next_out=Te,G.avail_out=le,G.next_in=gt,G.avail_in=xt,k.hold=rt,k.bits=nt,(k.wsize||$t!==G.avail_out&&k.mode<J&&(k.mode<z||mt!==y))&&fe(G,G.output,G.next_out,$t-G.avail_out),nr-=G.avail_in,$t-=G.avail_out,G.total_in+=nr,G.total_out+=$t,k.total+=$t,k.wrap&&$t&&(G.adler=k.check=k.flags?m(k.check,Qt,$t,G.next_out-$t):w(k.check,Qt,$t,G.next_out-$t)),G.data_type=k.bits+(k.last?64:0)+(k.mode===K?128:0)+(k.mode===qt||k.mode===wt?256:0),(nr===0&&$t===0||mt===y)&&Ne===C&&(Ne=yt),Ne}function er(G){if(!G||!G.state)return Z;var mt=G.state;return mt.window&&(mt.window=null),G.state=null,C}function co(G,mt){var k;return!G||!G.state||(k=G.state,!(k.wrap&2))?Z:(k.head=mt,mt.done=!1,C)}function uo(G,mt){var k=mt.length,bt,Qt,gt;return!G||!G.state||(bt=G.state,bt.wrap!==0&&bt.mode!==It)?Z:bt.mode===It&&(Qt=1,Qt=w(Qt,mt,k,0),Qt!==bt.check)?X:(gt=fe(G,mt,k,k),gt?(bt.mode=pt,V):(bt.havedict=1,C))}f.inflateReset=$,f.inflateReset2=Et,f.inflateResetKeep=H,f.inflateInit=zt,f.inflateInit2=Rt,f.inflate=_e,f.inflateEnd=er,f.inflateGetHeader=co,f.inflateSetDictionary=uo,f.inflateInfo="pako inflate (from Nodeca project)"},function(u,f){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";f.assign=function(m){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var E=x.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var _ in E)E.hasOwnProperty(_)&&(m[_]=E[_])}}return m},f.shrinkBuf=function(m,x){return m.length===x?m:m.subarray?m.subarray(0,x):(m.length=x,m)};var d={arraySet:function(m,x,E,_,h){if(x.subarray&&m.subarray){m.set(x.subarray(E,E+_),h);return}for(var F=0;F<_;F++)m[h+F]=x[E+F]},flattenChunks:function(m){var x,E,_,h,F,y;for(_=0,x=0,E=m.length;x<E;x++)_+=m[x].length;for(y=new Uint8Array(_),h=0,x=0,E=m.length;x<E;x++)F=m[x],y.set(F,h),h+=F.length;return y}},w={arraySet:function(m,x,E,_,h){for(var F=0;F<_;F++)m[h+F]=x[E+F]},flattenChunks:function(m){return[].concat.apply([],m)}};f.setTyped=function(m){m?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,d)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,w))},f.setTyped(l)},function(u,f){function l(d,w,m,x){for(var E=d&65535|0,_=d>>>16&65535|0,h=0;m!==0;){h=m>2e3?2e3:m,m-=h;do E=E+w[x++]|0,_=_+E|0;while(--h);E%=65521,_%=65521}return E|_<<16|0}u.exports=l},function(u,f){function l(){for(var m,x=[],E=0;E<256;E++){m=E;for(var _=0;_<8;_++)m=m&1?3988292384^m>>>1:m>>>1;x[E]=m}return x}var d=l();function w(m,x,E,_){var h=d,F=_+E;m^=-1;for(var y=_;y<F;y++)m=m>>>8^h[(m^x[y])&255];return m^-1}u.exports=w},function(u,f){var l=30,d=12;u.exports=function(m,x){var E,_,h,F,y,D,T,C,U,B,Z,X,V,yt,Q,ut,St,Y,ot,_t,Mt,Ft,Nt,vt,lt;E=m.state,_=m.next_in,vt=m.input,h=_+(m.avail_in-5),F=m.next_out,lt=m.output,y=F-(x-m.avail_out),D=F+(m.avail_out-257),T=E.dmax,C=E.wsize,U=E.whave,B=E.wnext,Z=E.window,X=E.hold,V=E.bits,yt=E.lencode,Q=E.distcode,ut=(1<<E.lenbits)-1,St=(1<<E.distbits)-1;t:do{V<15&&(X+=vt[_++]<<V,V+=8,X+=vt[_++]<<V,V+=8),Y=yt[X&ut];e:for(;;){if(ot=Y>>>24,X>>>=ot,V-=ot,ot=Y>>>16&255,ot===0)lt[F++]=Y&65535;else if(ot&16){_t=Y&65535,ot&=15,ot&&(V<ot&&(X+=vt[_++]<<V,V+=8),_t+=X&(1<<ot)-1,X>>>=ot,V-=ot),V<15&&(X+=vt[_++]<<V,V+=8,X+=vt[_++]<<V,V+=8),Y=Q[X&St];n:for(;;){if(ot=Y>>>24,X>>>=ot,V-=ot,ot=Y>>>16&255,ot&16){if(Mt=Y&65535,ot&=15,V<ot&&(X+=vt[_++]<<V,V+=8,V<ot&&(X+=vt[_++]<<V,V+=8)),Mt+=X&(1<<ot)-1,Mt>T){m.msg="invalid distance too far back",E.mode=l;break t}if(X>>>=ot,V-=ot,ot=F-y,Mt>ot){if(ot=Mt-ot,ot>U&&E.sane){m.msg="invalid distance too far back",E.mode=l;break t}if(Ft=0,Nt=Z,B===0){if(Ft+=C-ot,ot<_t){_t-=ot;do lt[F++]=Z[Ft++];while(--ot);Ft=F-Mt,Nt=lt}}else if(B<ot){if(Ft+=C+B-ot,ot-=B,ot<_t){_t-=ot;do lt[F++]=Z[Ft++];while(--ot);if(Ft=0,B<_t){ot=B,_t-=ot;do lt[F++]=Z[Ft++];while(--ot);Ft=F-Mt,Nt=lt}}}else if(Ft+=B-ot,ot<_t){_t-=ot;do lt[F++]=Z[Ft++];while(--ot);Ft=F-Mt,Nt=lt}for(;_t>2;)lt[F++]=Nt[Ft++],lt[F++]=Nt[Ft++],lt[F++]=Nt[Ft++],_t-=3;_t&&(lt[F++]=Nt[Ft++],_t>1&&(lt[F++]=Nt[Ft++]))}else{Ft=F-Mt;do lt[F++]=lt[Ft++],lt[F++]=lt[Ft++],lt[F++]=lt[Ft++],_t-=3;while(_t>2);_t&&(lt[F++]=lt[Ft++],_t>1&&(lt[F++]=lt[Ft++]))}}else if(ot&64){m.msg="invalid distance code",E.mode=l;break t}else{Y=Q[(Y&65535)+(X&(1<<ot)-1)];continue n}break}}else if(ot&64)if(ot&32){E.mode=d;break t}else{m.msg="invalid literal/length code",E.mode=l;break t}else{Y=yt[(Y&65535)+(X&(1<<ot)-1)];continue e}break}}while(_<h&&F<D);_t=V>>3,_-=_t,V-=_t<<3,X&=(1<<V)-1,m.next_in=_,m.next_out=F,m.avail_in=_<h?5+(h-_):5-(_-h),m.avail_out=F<D?257+(D-F):257-(F-D),E.hold=X,E.bits=V}},function(u,f,l){var d=l(33),w=15,m=852,x=592,E=0,_=1,h=2,F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],D=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];u.exports=function(U,B,Z,X,V,yt,Q,ut){var St=ut.bits,Y=0,ot=0,_t=0,Mt=0,Ft=0,Nt=0,vt=0,lt=0,It=0,K=0,q,st,wt,Ut,Dt,Lt=null,Pt=0,qt,Xt=new d.Buf16(w+1),N=new d.Buf16(w+1),L=null,it=0,R,A,z;for(Y=0;Y<=w;Y++)Xt[Y]=0;for(ot=0;ot<X;ot++)Xt[B[Z+ot]]++;for(Ft=St,Mt=w;Mt>=1&&Xt[Mt]===0;Mt--);if(Ft>Mt&&(Ft=Mt),Mt===0)return V[yt++]=1<<24|64<<16|0,V[yt++]=1<<24|64<<16|0,ut.bits=1,0;for(_t=1;_t<Mt&&Xt[_t]===0;_t++);for(Ft<_t&&(Ft=_t),lt=1,Y=1;Y<=w;Y++)if(lt<<=1,lt-=Xt[Y],lt<0)return-1;if(lt>0&&(U===E||Mt!==1))return-1;for(N[1]=0,Y=1;Y<w;Y++)N[Y+1]=N[Y]+Xt[Y];for(ot=0;ot<X;ot++)B[Z+ot]!==0&&(Q[N[B[Z+ot]]++]=ot);if(U===E?(Lt=L=Q,qt=19):U===_?(Lt=F,Pt-=257,L=y,it-=257,qt=256):(Lt=D,L=T,qt=-1),K=0,ot=0,Y=_t,Dt=yt,Nt=Ft,vt=0,wt=-1,It=1<<Ft,Ut=It-1,U===_&&It>m||U===h&&It>x)return 1;for(;;){R=Y-vt,Q[ot]<qt?(A=0,z=Q[ot]):Q[ot]>qt?(A=L[it+Q[ot]],z=Lt[Pt+Q[ot]]):(A=32+64,z=0),q=1<<Y-vt,st=1<<Nt,_t=st;do st-=q,V[Dt+(K>>vt)+st]=R<<24|A<<16|z|0;while(st!==0);for(q=1<<Y-1;K&q;)q>>=1;if(q!==0?(K&=q-1,K+=q):K=0,ot++,--Xt[Y]===0){if(Y===Mt)break;Y=B[Z+Q[ot]]}if(Y>Ft&&(K&Ut)!==wt){for(vt===0&&(vt=Ft),Dt+=_t,Nt=Y-vt,lt=1<<Nt;Nt+vt<Mt&&(lt-=Xt[Nt+vt],!(lt<=0));)Nt++,lt<<=1;if(It+=1<<Nt,U===_&&It>m||U===h&&It>x)return 1;wt=K&Ut,V[wt]=Ft<<24|Nt<<16|Dt-yt|0}}return K!==0&&(V[Dt+K]=Y-vt<<24|64<<16|0),ut.bits=Ft,0}},function(u,f,l){var d=l(33),w=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var x=new d.Buf8(256),E=0;E<256;E++)x[E]=E>=252?6:E>=248?5:E>=240?4:E>=224?3:E>=192?2:1;x[254]=x[254]=1,f.string2buf=function(h){var F,y,D,T,C,U=h.length,B=0;for(T=0;T<U;T++)y=h.charCodeAt(T),(y&64512)===55296&&T+1<U&&(D=h.charCodeAt(T+1),(D&64512)===56320&&(y=65536+(y-55296<<10)+(D-56320),T++)),B+=y<128?1:y<2048?2:y<65536?3:4;for(F=new d.Buf8(B),C=0,T=0;C<B;T++)y=h.charCodeAt(T),(y&64512)===55296&&T+1<U&&(D=h.charCodeAt(T+1),(D&64512)===56320&&(y=65536+(y-55296<<10)+(D-56320),T++)),y<128?F[C++]=y:y<2048?(F[C++]=192|y>>>6,F[C++]=128|y&63):y<65536?(F[C++]=224|y>>>12,F[C++]=128|y>>>6&63,F[C++]=128|y&63):(F[C++]=240|y>>>18,F[C++]=128|y>>>12&63,F[C++]=128|y>>>6&63,F[C++]=128|y&63);return F};function _(h,F){if(F<65537&&(h.subarray&&m||!h.subarray&&w))return String.fromCharCode.apply(null,d.shrinkBuf(h,F));for(var y="",D=0;D<F;D++)y+=String.fromCharCode(h[D]);return y}f.buf2binstring=function(h){return _(h,h.length)},f.binstring2buf=function(h){for(var F=new d.Buf8(h.length),y=0,D=F.length;y<D;y++)F[y]=h.charCodeAt(y);return F},f.buf2string=function(h,F){var y,D,T,C,U=F||h.length,B=new Array(U*2);for(D=0,y=0;y<U;){if(T=h[y++],T<128){B[D++]=T;continue}if(C=x[T],C>4){B[D++]=65533,y+=C-1;continue}for(T&=C===2?31:C===3?15:7;C>1&&y<U;)T=T<<6|h[y++]&63,C--;if(C>1){B[D++]=65533;continue}T<65536?B[D++]=T:(T-=65536,B[D++]=55296|T>>10&1023,B[D++]=56320|T&1023)}return _(B,D)},f.utf8border=function(h,F){var y;for(F=F||h.length,F>h.length&&(F=h.length),y=F-1;y>=0&&(h[y]&192)===128;)y--;return y<0||y===0?F:y+x[h[y]]>F?y:F}},function(u,f){u.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(u,f){u.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(u,f){function l(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}u.exports=l},function(u,f){function l(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}u.exports=l}])})})(Jd);class nu{constructor(){hr(this,"_fs");hr(this,"_cwd","/");const s=Ze();this._fs=s==null?void 0:s.appContext.config.globalProperties.$fs}setFs(s){this._fs=s}init(){let s=["/bin","/boot","/dev","/lib","/lib32","/lib64","/proc","/sbin","/run","/usr","/sys","/etc","/opt","/home","/root","/var","/var/log","/tmp"];for(let u=0;u<s.length;u++){const f=s[u];this._fs.existsSync(f)||this._fs.mkdirSync(f)}}joinPath(...s){const[u,f,l]=[0,s.length-1,"/"],d=new RegExp("^"+l),w=new RegExp(l+"$");return s=s.map(function(m,x){return x===u&&m==="file://"||(x>u&&(m=m.replace(d,"")),x<f&&(m=m.replace(w,""))),m}),s.join(l)}getClient(){return this._fs}getCurrentDirectory(){return this._cwd}isDir(s){return s.startsWith("/")||(s=this.joinPath(this._cwd,s)),this._fs.existsSync(s)&&this._fs.lstatSync(s).isDirectory()===!0}emptyPath(s){return s==null&&(s=this._cwd),s}list(s){return this._fs.readdirSync(s)}cd(s){if(s===".."&&this._cwd!=="/"){let u=this._cwd.split("/");u.pop(),this._cwd=u.join("/"),this._cwd===""&&(this._cwd="/");return}else if(s===".."&&this._cwd==="/")return;if(s.startsWith("/")||(s=this.joinPath(this._cwd,s)),this.isDir(s))this._cwd=s,this._cwd.startsWith("/")||(this._cwd="/"+this._cwd);else throw new Error("directory does not exist: "+this.joinPath(this._cwd,s))}mkdir(s,u){!s.startsWith("/")&&!s.startsWith("./")?s="/"+s:s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),this._fs.mkdirSync(s)}rm(s){if(!s.startsWith("/")&&!s.startsWith("./")?s=this.joinPath(this._cwd,s):s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),this.isDir(s))this._fs.rmdirSync(s);else if(this._fs.existsSync(s))this._fs.unlinkSync(s);else throw new Error("no file or directory found: "+s)}writeFile(s,u){s.startsWith("/")||(s=this.joinPath(this._cwd,s)),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),console.log("write data: ",u),this._fs.writeFileSync(s,u)}exists(s){return s.startsWith("/")||this.joinPath(this._cwd,s),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),this._fs.existsSync(s)}read(s){s.startsWith("/")||(s=this.joinPath(this._cwd,s)),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1)));let u=this._fs.readFileSync(s).toString();return console.log("data: res",u),u}}const $e=i=>(ni("data-v-633ff82b"),i=i(),ri(),i),Gd={id:"toolbar"},Qd=$e(()=>ct("div",{class:"linuxmenu item explorer"},[ct("img",{src:rl})],-1)),$d=[Qd],tp=$e(()=>ct("div",{class:"dividor"},null,-1)),ep=$e(()=>ct("div",{class:"item"},[ct("img",{src:Ga,"data-action":"explorer"})],-1)),np=[ep],rp=$e(()=>ct("div",{class:"item"},[ct("img",{src:Qa,"data-action":"terminal"})],-1)),ip=[rp],op=$e(()=>ct("div",{class:"dividor"},null,-1)),sp={id:"openWindows"},ap=["onClick"],cp=$e(()=>ct("img",{src:Qa,class:"item-logo"},null,-1)),up=$e(()=>ct("span",{class:"item-label"},"Terminal",-1)),fp=[cp,up],lp=$e(()=>ct("img",{src:Ga,class:"item-logo"},null,-1)),hp=$e(()=>ct("span",{class:"item-label"},"Explorer",-1)),dp=[lp,hp],pp=$e(()=>ct("img",{src:il,class:"item-logo"},null,-1)),yp=$e(()=>ct("span",{class:"item-label"},"Paramtres",-1)),vp=[pp,yp],gp=ln({__name:"Toolbar",setup(i){const s=Ze(),u=s==null?void 0:s.appContext.config.globalProperties.$emitter,f=Ir({}),l=Wt(),d=Wt(!1);function w(){d.value=!d.value}function m(y){d.value=!1;let D=y.target.getAttribute("data-action");D!=null&&u.emit("desktop/openwindow",D)}function x(y){d.value=!1,l.value=y}function E(y){f[y.id]=y,l.value=y.id}function _(y){delete f[y]}function h(){u.on("window/focus",x),u.on("toolbar/openwindow",E),u.on("toolbar/closewindow",_)}function F(y){d.value=!1,u.emit("window/focus",y)}return Dn(()=>{h()}),(y,D)=>(Gt(),ae(Fe,null,[ct("div",Gd,[ct("div",{class:"toolbar-item",onClick:w,"data-action":"linuxmenu"},$d),tp,ct("div",{class:"toolbar-item",onClick:m,"data-action":"explorer"},np),ct("div",{class:"toolbar-item",onClick:m,"data-action":"terminal"},ip),op,ct("div",sp,[(Gt(!0),ae(Fe,null,kr(f,T=>(Gt(),ae("div",{onClick:C=>F(T.id),key:T.id,class:un(["toolbar-window-tab",{active:T.id==l.value}])},wn(T.type),11,ap))),128))])]),ct("div",{class:un(["linuxmenu",{active:d.value}]),id:"linuxmenu"},[ct("div",{class:"linuxmenu-item",onClick:m,"data-action":"terminal"},fp),ct("div",{class:"linuxmenu-item",onClick:m,"data-action":"explorer"},dp),ct("div",{class:"linuxmenu-item",onClick:m,"data-action":"settings"},vp)],2)],64))}});const tr=(i,s)=>{const u=i.__vccOpts||i;for(const[f,l]of s)u[f]=l;return u},mp=tr(gp,[["__scopeId","data-v-633ff82b"]]),oo=os("state",()=>{const i=Wt({turnedOn:!1,open:!1,user:null});function s(u){i.value=u}return{state:i,setState:s}}),Wi=class{constructor(){hr(this,"_fs");hr(this,"_history");this._history=[],this._fs=new nu}setFs(s){this._fs.setFs(s)}execute(s,u){return this.handleCommand(s,u)}_updateHistory(s){this._history.includes(s)||this._history.push(s),this._history.length>20&&this._history.shift()}getLastCommand(){return this._history[this._history.length-1]}async handleCommand(s,u){let l=u.split(" ")[0].trim();if(l==null||l=="")return s+=" ";if(this._updateHistory(u),l==="ls"){let w=new RegExp(Wi.REGEX.ls).exec(u.trim());if(w!=null){let m=this.list(w[3]);return s+=m}}else if(l==="cd"){let w=u.trim().split(" ")[1],m=this.cd(w);return m!=null&&(s+=m),s}else{if(l==="whereami")return s+=this._fs.getCurrentDirectory();if(l==="mkdir"){let w=new RegExp(Wi.REGEX.mkdir).exec(u.trim());if(w!=null){let m=w[3],x=w[2],E=this.mkdir(m,x);return E!=null&&(s+=E),s}}else if(l==="rm"){let d=u.trim().split(" "),w;if(d.length==2?w=d[1]:w=d[2],w==null||w=="")return s+="rm: missing operand";let m=this.rm(w);return m!=null&&(s+=m),s}else if(l==="cat"){let w=u.trim().split(" ")[1];if(w==null)return s+"command incorrect, path argument required.";let m=this.read(w);return s+m}}return s+=`command not found: ${l}`}whereami(){return this._fs.getCurrentDirectory()}list(s){if(s=this._fs.emptyPath(s),s!=null&&!this._fs.isDir(s))return"directory does not exist: "+s;let u=this._fs.list(s),f="";return u.length>0&&(f=u.join("<br>")),f}cd(s){if(s==null&&(s="/"),!this._fs.isDir(s))return"directory does not exist: "+this._fs.joinPath(this._fs.getCurrentDirectory(),s);try{this._fs.cd(s)}catch(u){return u.toString()}}mkdir(s,u){if(s=s.trim(),!(s=="/"||s=="")){if(this._fs.isDir(s))return"mkdir: cannot create directory "+s+": File exists";this._fs.mkdir(s,u)}}rm(s){if(s=s.trim(),!(s=="/"||s==""))try{this._fs.rm(s);return}catch(u){return u.toString()}}cat(s){return this.exists(s)&&!this._fs.isDir(s)?this.read(s):"file not found: "+s}writeFile(s,u){this._fs.writeFile(s,u)}exists(s){return this._fs.exists(s)}read(s){return this._fs.read(s)}explorer(){let s=[],u=this._fs.getCurrentDirectory(),f=this._fs.list(u);for(let l=0;l<f.length;l++){const d=f[l];let w={filename:d,path:u,fullPath:this._fs.joinPath(u,d),type:"dir"};this.exists(w.fullPath)&&(this._fs.isDir(w.fullPath)||(w.type="file"),s.push(w))}return s}};let Vr=Wi;hr(Vr,"REGEX",{ls:/^(\w+)\s*(-\w+)*\s*(\/?(\w+(\/\w+)*\/?)|\/|(\w+(\.\w+)?)?)?$/gi,mkdir:/^(mkdir)\s+(-p\s+)?([\.\/a-z1-9]+)/gi});const ru=i=>(ni("data-v-a70d1079"),i=i(),ri(),i),_p=ru(()=>ct("div",{class:"logo"},[ct("img",{src:ol,class:"window-logo"})],-1)),wp=ru(()=>ct("div",{class:"window-action window-action-minimize"},null,-1)),Sp={key:0,class:"content"},Ep=["innerHTML"],xp={class:"prompt-zone"},bp={class:"prompt-user"},Fp=["onKeydown"],Ip={key:1,class:"content"},kp={class:"prompt-zone"},Op=["onKeydown"],Rp={key:0,class:"nano-message"},Tp=ln({__name:"TerminalWindow",props:["id","focus"],setup(i){const s=i,u=new Vr,f=Wt(s.focus),l=Wt("bash"),d=Wt(),w=Wt({x:0,y:0,movementX:0,movementY:0}),m=Wt("root@kali"),x=Wt("/"),E=Wt(""),_=Wt(""),h=Wt(),F=Wt(),y=Wt(""),D=Wt(""),T=Wt(""),C=oo(),U=Ze(),B=U==null?void 0:U.appContext.config.globalProperties.$emitter;Dn(()=>{C.state.user!=null&&(m.value=C.state.user.name+"@kali$",X(),B.emit("window/focus",s.id)),u.setFs(U==null?void 0:U.appContext.config.globalProperties.$fs),x.value=u.whereami()});function Z(vt){vt===s.id?f.value=!0:f.value=!1}function X(){B.on("window/focus",Z)}function V(){B.emit("desktop/closeWindow",s.id)}function yt(vt){vt.preventDefault();let lt=u.getLastCommand();lt!=null&&(_.value=lt)}async function Q(vt){if(vt.preventDefault(),_.value=_.value.trim(),_.value==="exit"){V();return}if(["clear","cls"].includes(_.value)){E.value="",_.value="";return}if(E.value+=`<span style="color: rgb(78, 122, 255);">${m.value}:${x.value}</span> ${_.value}`,_.value!=""&&(E.value+="<br>"),_.value.includes("nano ")){ut();return}let lt=await u.execute(E.value,_.value);lt!=""?E.value=lt+" <br>":E.value=lt,_.value="",x.value=u.whereami(),setTimeout(()=>{let It=document.querySelector(".content");It.scrollTop=It.scrollHeight-It.clientHeight},15)}function ut(){let lt=_.value.split(" ")[1].trim();D.value=lt;try{u.exists(lt)||u.writeFile(lt,""),u.exists(lt)&&(y.value=u.read(lt))}catch(It){E.value+=It.toString()+" <br>";return}_.value="",x.value=u.whereami(),l.value="nano",setTimeout(Nt,200)}function St(){h.value!=null&&h.value.focus(),f.value||B.emit("window/focus",s.id)}function Y(vt){vt.preventDefault(),w.value.movementX=w.value.x-vt.clientX,w.value.movementY=w.value.y-vt.clientY,w.value.x=vt.clientX,w.value.y=vt.clientY,d.value.style.top=d.value.offsetTop-w.value.movementY+"px",d.value.style.left=d.value.offsetLeft-w.value.movementX+"px"}function ot(){document.onmouseup=null,document.onmousemove=null}function _t(vt){w.value.x=vt.clientX,w.value.y=vt.clientY,document.onmousemove=Y,document.onmouseup=ot}function Mt(vt){vt.preventDefault(),u.writeFile(D.value,y.value)}function Ft(){D.value="",y.value="",l.value="bash",St()}function Nt(){var It;let vt=document.querySelector(".prompt.nano"),lt=(It=document.querySelector(".content"))==null?void 0:It.clientHeight;lt&&(vt.style.height=lt+"px")}return(vt,lt)=>(Gt(),ae("div",{ref_key:"containerElem",ref:d,class:un(["window terminal-window resizable",{"window-focused":f.value}]),onClick:St},[ct("div",{class:"window-header",onMousedown:_t},[_p,ct("div",{class:"header-action-buttons"},[wp,ct("div",{class:"window-action window-action-close",onClick:V})])],32),l.value=="bash"?(Gt(),ae("div",Sp,[ct("div",{class:"output",innerHTML:E.value},null,8,Ep),ct("div",xp,[ct("div",bp,wn(m.value)+":"+wn(x.value),1),Sr(ct("textarea",{ref_key:"promptField",ref:h,"onUpdate:modelValue":lt[0]||(lt[0]=It=>_.value=It),onKeydown:[pr(Q,["enter"]),pr(yt,["up"])],class:"prompt",rows:"3"},null,40,Fp),[[$r,_.value]])])])):mr("",!0),l.value=="nano"?(Gt(),ae("div",Ip,[ct("div",kp,[Sr(ct("textarea",{onKeydown:[pr(Za(Mt,["ctrl"]),["s"]),pr(Za(Ft,["ctrl"]),["x"])],ref_key:"nanoField",ref:F,"onUpdate:modelValue":lt[1]||(lt[1]=It=>y.value=It),class:"prompt nano",onInput:Nt,rows:"3"},null,40,Op),[[$r,y.value]])]),T.value!=""?(Gt(),ae("div",Rp,wn(T.value),1)):mr("",!0)])):mr("",!0)],2))}});const Np=tr(Tp,[["__scopeId","data-v-a70d1079"]]),ss=i=>(ni("data-v-ea735de4"),i=i(),ri(),i),Dp=ss(()=>ct("div",{class:"logo"},[ct("img",{src:$a,class:"window-logo"}),ct("div",{class:"title"},"Explorer")],-1)),Lp=ss(()=>ct("div",{class:"window-action window-action-minimize"},null,-1)),Ap={class:"content"},Cp={class:"explorer-toolbar"},Pp=ss(()=>ct("div",{class:"next"},">",-1)),Mp={class:"path"},Up={class:"explorer-content"},jp={class:"directory-content"},Bp=["data-type","data-dir-path"],zp=["data-type","data-dir-path"],Wp=["data-type","data-dir-path"],Hp=["data-type","data-dir-path"],Xp=ln({__name:"ExplorerWindow",props:["id","focus"],setup(i){const s=i,u=new Vr,f=Wt(s.focus),l=Wt(),d=Wt({x:0,y:0,movementX:0,movementY:0}),w=Ze(),m=w==null?void 0:w.appContext.config.globalProperties.$emitter,x=Wt(""),E=Wt();function _(yt){yt===s.id?f.value=!0:f.value=!1}function h(){m.emit("window/focus",s.id)}function F(){m.on("window/focus",_)}Dn(()=>{u.setFs(w==null?void 0:w.appContext.config.globalProperties.$fs),x.value=u.whereami(),E.value=u.explorer(),F()});const y=Wt([u.whereami()]),D=Wt(y.value.length-1);function T(yt){u.cd(yt),x.value=u.whereami(),E.value=u.explorer(),y.value.includes(yt)||(y.value.push(yt),D.value=y.value.length-1)}function C(){let yt=y.value.length-2;if(yt>=0&&y.value[yt]!=null){let Q=y.value[yt];T(Q)}}function U(yt){let Q=yt.target;if(Q!=null){let ut=Q.getAttribute("data-type"),St=Q.getAttribute("data-dir-path");if(ut!=="dir")return;T(St)}}function B(yt){yt.preventDefault(),d.value.movementX=d.value.x-yt.clientX,d.value.movementY=d.value.y-yt.clientY,d.value.x=yt.clientX,d.value.y=yt.clientY,l.value.style.top=l.value.offsetTop-d.value.movementY+"px",l.value.style.left=l.value.offsetLeft-d.value.movementX+"px"}function Z(){document.onmouseup=null,document.onmousemove=null}function X(yt){d.value.x=yt.clientX,d.value.y=yt.clientY,document.onmousemove=B,document.onmouseup=Z}function V(){m.emit("desktop/closeWindow",s.id)}return(yt,Q)=>(Gt(),ae("div",{ref_key:"containerElem",ref:l,onClick:h,class:un(["window explorer-window resizable",{"window-focused":f.value}])},[ct("div",{class:"window-header",onMousedown:X},[Dp,ct("div",{class:"header-action-buttons"},[Lp,ct("div",{class:"window-action window-action-close",onClick:V})])],32),ct("div",Ap,[ct("div",Cp,[ct("div",{onClick:C,class:"prev"},wn("<")),Pp,ct("div",Mp,[Sr(ct("input",{onKeyup:Q[0]||(Q[0]=pr(ut=>T(x.value),["enter"])),"onUpdate:modelValue":Q[1]||(Q[1]=ut=>x.value=ut),type:"text",placeholder:"/home/user/"},null,544),[[$r,x.value]])])]),ct("div",Up,[ct("div",jp,[(Gt(!0),ae(Fe,null,kr(E.value,ut=>(Gt(),ae("div",{class:"item",onClick:U,"data-type":ut.type,"data-dir-path":ut.fullPath},[ut.type=="dir"?(Gt(),ae("img",{key:0,"data-type":ut.type,"data-dir-path":ut.fullPath,src:$a},null,8,zp)):mr("",!0),ut.type=="file"?(Gt(),ae("img",{key:1,"data-type":ut.type,"data-dir-path":ut.fullPath,src:sl},null,8,Wp)):mr("",!0),ct("div",{"data-type":ut.type,"data-dir-path":ut.fullPath,class:"label"},wn(ut.filename),9,Hp)],8,Bp))),256))])])])],2))}});const Vp=tr(Xp,[["__scopeId","data-v-ea735de4"]]),so=os("settings",()=>{const i=Wt({wallpaperUrl:"/static/img/kali-bright.jpg",wallpaperSelection:["/static/img/kali-bright.jpg","/static/img/wallpapers/kali-dark.jpg","/static/img/wallpapers/kali-green.jpg","/static/img/wallpapers/kosmos.jpg","/static/img/wallpapers/city2.jpg","/static/img/wallpapers/nightcity.jpg","/static/img/wallpapers/0xibra-mysterious-individual.png"],programs:[{id:"terminal",name:"Terminal",program:"terminal",installed:!0},{id:"firefox",name:"Firefox",program:"firefox",installed:!0}]});function s(u){i.value=u}return{settings:i,setSettings:s}}),ii=i=>(ni("data-v-b594b4e6"),i=i(),ri(),i),Yp=ii(()=>ct("div",{class:"logo"},[ct("img",{src:al,class:"window-logo"}),ct("div",{class:"title"},"Paramtres")],-1)),Zp=ii(()=>ct("div",{class:"window-action window-action-minimize"},null,-1)),Kp={class:"content"},qp={class:"content-container"},Jp=ii(()=>ct("div",{class:"sidebar"},[ct("div",{class:"sidebar-item"},[ct("img",{src:cl,class:"logo"}),ct("div",{class:"label"},"Fond d'cran")])],-1)),Gp={class:"main-content"},Qp={key:0,class:"background-settings"},$p={class:"preview-zone"},ty=["src"],ey=ii(()=>ct("br",null,null,-1)),ny=ii(()=>ct("div",{class:"w-100"},[ct("div",{class:"h-dividor"})],-1)),ry={class:"background-images"},iy=["onClick"],oy=["src"],sy={class:"custom-background"},ay=ln({__name:"SettingsWindow",props:["id","focus"],setup(i){const s=i,u=Wt(s.focus),f=so(),l=Wt("background"),d=Wt(""),w=Wt(),m=Wt({x:0,y:0,movementX:0,movementY:0}),x=Ze(),E=x==null?void 0:x.appContext.config.globalProperties.$emitter;function _(Z){Z===s.id?u.value=!0:u.value=!1}function h(){E.emit("window/focus",s.id)}function F(){E.on("window/focus",_)}Dn(()=>{F()});function y(Z){f.settings.wallpaperUrl=Z}function D(){try{new URL(d.value),f.settings.wallpaperUrl=d.value}catch{}}function T(Z){Z.preventDefault(),m.value.movementX=m.value.x-Z.clientX,m.value.movementY=m.value.y-Z.clientY,m.value.x=Z.clientX,m.value.y=Z.clientY,w.value.style.top=w.value.offsetTop-m.value.movementY+"px",w.value.style.left=w.value.offsetLeft-m.value.movementX+"px"}function C(){document.onmouseup=null,document.onmousemove=null}function U(Z){m.value.x=Z.clientX,m.value.y=Z.clientY,document.onmousemove=T,document.onmouseup=C}function B(){E.emit("desktop/closeWindow",s.id)}return(Z,X)=>(Gt(),ae("div",{ref_key:"containerElem",ref:w,onClick:h,class:un(["window explorer-window resizable",{"window-focused":u.value}])},[ct("div",{class:"window-header",onMousedown:U},[Yp,ct("div",{class:"header-action-buttons"},[Zp,ct("div",{class:"window-action window-action-close",onClick:B})])],32),ct("div",Kp,[ct("div",qp,[Jp,ct("div",Gp,[l.value=="background"?(Gt(),ae("div",Qp,[ct("div",$p,[ct("img",{draggable:"false",src:Kn(f).settings.wallpaperUrl,alt:"",class:"preview-img"},null,8,ty)]),ey,ny,ct("div",ry,[(Gt(!0),ae(Fe,null,kr(Kn(f).settings.wallpaperSelection,V=>(Gt(),ae("div",{onClick:yt=>y(V),class:"img-item"},[ct("img",{src:V,draggable:"false"},null,8,oy)],8,iy))),256))]),ct("div",sy,[Sr(ct("input",{"onUpdate:modelValue":X[0]||(X[0]=V=>d.value=V),type:"text",placeholder:"URL..."},null,512),[[$r,d.value]]),ct("button",{onClick:D},"Tlcharger")])])):mr("",!0)])])])],2))}});const cy=tr(ay,[["__scopeId","data-v-b594b4e6"]]),uy=os("darknet",()=>{const i=Wt({posts:[]});async function s(u={}){const f=await fetch("https://qb-laptop/GetDarknetPosts",u);console.log("darknet post response: ",f)}return{darknet:i,GetPosts:s}}),iu=i=>(ni("data-v-3ea1e8b3"),i=i(),ri(),i),fy={class:"website"},ly=rd('<div class="navbar" data-v-3ea1e8b3><div class="container" data-v-3ea1e8b3><div class="brand-container" data-v-3ea1e8b3><div class="brand-logo" data-v-3ea1e8b3><img src="'+ul+'" data-v-3ea1e8b3></div><div class="brand" data-v-3ea1e8b3>Shadow<span class="highlight" data-v-3ea1e8b3>NET</span></div></div></div></div>',1),hy={class:"maincontent"},dy={class:"filters"},py={class:"category-filter-wrapper"},yy=iu(()=>ct("option",{value:""},"Catgorie de posts",-1)),vy=["value"],gy=iu(()=>ct("div",{class:"posts"},null,-1)),my=ln({__name:"DarknetWebsite",setup(i){const s=Wt({hacking:"Hacking",drugs:"Drogues",guns:"Armes"}),u=Wt(""),f=uy();return Dn(()=>{f.GetPosts()}),(l,d)=>(Gt(),ae("div",fy,[ly,ct("div",hy,[ct("div",dy,[ct("div",py,[Sr(ct("select",{"onUpdate:modelValue":d[0]||(d[0]=w=>u.value=w),class:"category-filter"},[yy,(Gt(!0),ae(Fe,null,kr(s.value,(w,m,x)=>(Gt(),ae("option",{value:m},wn(w),9,vy))),256))],512),[[Ad,u.value]])])]),gy])]))}});const _y=tr(my,[["__scopeId","data-v-3ea1e8b3"]]),wy=ct("div",{class:"logo"},null,-1),Sy=ct("div",{class:"window-action window-action-minimize"},null,-1),Ey={class:"content"},xy={class:"content-header"},by=ct("div",{class:"actions"},[ct("div",{class:"prev"},wn("<")),ct("div",{class:"next"},">")],-1),Fy={class:"urlbar"},Iy=["onKeydown"],ky={class:"web-content"},Oy=ln({__name:"FirefoxWindow",props:["id","focus"],setup(i){const s=i,u=Wt(s.focus),f=Ze(),l=f==null?void 0:f.appContext.config.globalProperties.$emitter,d=Wt("");Wt([]);function w(){}const m=Wt(),x=Wt({x:0,y:0,movementX:0,movementY:0});function E(){l.emit("window/focus",s.id)}function _(D){D.preventDefault(),x.value.movementX=x.value.x-D.clientX,x.value.movementY=x.value.y-D.clientY,x.value.x=D.clientX,x.value.y=D.clientY,m.value.style.top=m.value.offsetTop-x.value.movementY+"px",m.value.style.left=m.value.offsetLeft-x.value.movementX+"px"}function h(){document.onmouseup=null,document.onmousemove=null}function F(D){x.value.x=D.clientX,x.value.y=D.clientY,document.onmousemove=_,document.onmouseup=h}function y(){l.emit("desktop/closeWindow",s.id)}return(D,T)=>(Gt(),ae("div",{ref_key:"containerElem",ref:m,onClick:E,class:un(["window explorer-window resizable",{"window-focused":u.value}])},[ct("div",{class:"window-header",onMousedown:F},[wy,ct("div",{class:"header-action-buttons"},[Sy,ct("div",{class:"window-action window-action-close",onClick:y})])],32),ct("div",Ey,[ct("div",xy,[by,ct("div",Fy,[Sr(ct("input",{"onUpdate:modelValue":T[0]||(T[0]=C=>d.value=C),onKeydown:pr(w,["enter"]),type:"text",placeholder:"Enter URL..."},null,40,Iy),[[$r,d.value]])])]),ct("div",ky,[He(_y)])])],2))}});const Ry=ln({__name:"DesktopWindows",setup(i){so(),oo();const s=Ir({});Wt();const u=Ze(),f=u==null?void 0:u.appContext.config.globalProperties.$emitter,l=function(){return Date.now().toString(36)+Math.random().toString(36).substr(2)};function d(E){return E=="terminal"?Np:E=="explorer"?Vp:E=="settings"?cy:E=="firefox"?Oy:null}function w(E){var F;let _={type:E,component:()=>d(E),id:"window-"+l(),render:!0};s[_.id]=_,f.emit("toolbar/openwindow",{id:_.id,type:_.type});let h=Ze();(F=h==null?void 0:h.proxy)==null||F.$forceUpdate()}function m(E){var h;delete s[E],f.emit("toolbar/closewindow",E);let _=Ze();(h=_==null?void 0:_.proxy)==null||h.$forceUpdate()}function x(){f.on("desktop/openwindow",w),f.on("desktop/closeWindow",m)}return Dn(()=>{x()}),(E,_)=>(Gt(!0),ae(Fe,null,kr(s,(h,F)=>(Gt(),eo(Uc(h.component()),{key:F,id:h.id,focus:!0},null,8,["id"]))),128))}});const Ty={class:"program-name"},Ny=ln({__name:"ProgramIcon",props:["id","program","name","focus"],setup(i){const s=i,u="static/img/programs/"+s.program+".png",f=Ze(),l=f==null?void 0:f.appContext.config.globalProperties.$emitter;function d(){l.emit("desktop/openwindow",s.program)}return(w,m)=>(Gt(),ae("div",{class:"desktop-program-icon",onDblclick:d},[ct("div",{class:"logo-container"},[ct("img",{src:u})]),ct("div",Ty,wn(s.name),1)],32))}});function Dy(i){const s=oo();switch(so(),i.data.action){case"turnon":s.state.open=!0,s.state.user=i.data.user;break;case"turnoff":s.state.open=!1;break}}function Ja(i){if(!(i==null||i.data==null||i.data.action==null))switch(i.data.action){case"turnon":case"turnoff":Dy(i);break;default:throw new Error(`Unsupported action: ${i.data.action}`)}}const Ly={id:"programs"},Ay=ln({__name:"Desktop",setup(i){const s=Ze();s==null||s.appContext.config.globalProperties.$fs;const u=so(),f=oo();Dn(()=>{window.addEventListener("message",Ja),document.addEventListener("keydown",function(d){d.keyCode===27&&l()})}),Ac(()=>{window.removeEventListener("message",Ja)});function l(){f.state.open&&fetch("https://qb-laptop/TurnOffLaptop",{method:"POST"}).then(d=>{f.state.open=!1})}return(d,w)=>(Gt(),ae("div",{id:"laptop-desktop",class:un({open:Kn(f).state.open}),style:Hi(Kn(f).state.open?{background:`url(${Kn(u).settings.wallpaperUrl}) center no-repeat`}:{})},[He(mp),He(Ry),ct("div",Ly,[(Gt(!0),ae(Fe,null,kr(Kn(u).settings.programs,m=>(Gt(),eo(Uc(Ny),{key:m.id,id:m.id,name:m.name,program:m.id,focus:!0},null,8,["id","name","program"]))),128))])],6))}});const Cy=tr(Ay,[["__scopeId","data-v-01a14dfc"]]),Py=ln({__name:"App",setup(i){return(s,u)=>(Gt(),eo(Cy))}});const My=tr(Py,[["__scopeId","data-v-a7df78f6"]]);ti.install(window);ti.configure({fs:"LocalStorage",options:null},i=>{if(i)throw i});const ou=ti.BFSRequire("fs"),su=new nu;su.setFs(ou);su.init();const Uy=Kd(),ao=Bd(My);ao.use(Hd());ao.config.globalProperties.$emitter=Uy;ao.config.globalProperties.$fs=ou;ao.mount("#app");
