var nf=Object.defineProperty;var rf=(r,s,c)=>s in r?nf(r,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):r[s]=c;var Qe=(r,s,c)=>(rf(r,typeof s!="symbol"?s+"":s,c),c);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const w of d.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&l(w)}).observe(document,{childList:!0,subtree:!0});function c(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerpolicy&&(d.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?d.credentials="include":f.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(f){if(f.ep)return;f.ep=!0;const d=c(f);fetch(f.href,d)}})();function Yo(r,s){const c=Object.create(null),l=r.split(",");for(let f=0;f<l.length;f++)c[l[f]]=!0;return s?f=>!!c[f.toLowerCase()]:f=>!!c[f]}function qi(r){if(Pt(r)){const s={};for(let c=0;c<r.length;c++){const l=r[c],f=ge(l)?uf(l):qi(l);if(f)for(const d in f)s[d]=f[d]}return s}else{if(ge(r))return r;if(ie(r))return r}}const of=/;(?![^(]*\))/g,sf=/:([^]+)/,af=/\/\*.*?\*\//gs;function uf(r){const s={};return r.replace(af,"").split(of).forEach(c=>{if(c){const l=c.split(sf);l.length>1&&(s[l[0].trim()]=l[1].trim())}}),s}function vn(r){let s="";if(ge(r))s=r;else if(Pt(r))for(let c=0;c<r.length;c++){const l=vn(r[c]);l&&(s+=l+" ")}else if(ie(r))for(const c in r)r[c]&&(s+=c+" ");return s.trim()}const cf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lf=Yo(cf);function ru(r){return!!r||r===""}function ff(r,s){if(r.length!==s.length)return!1;let c=!0;for(let l=0;c&&l<r.length;l++)c=Ki(r[l],s[l]);return c}function Ki(r,s){if(r===s)return!0;let c=Ea(r),l=Ea(s);if(c||l)return c&&l?r.getTime()===s.getTime():!1;if(c=Jr(r),l=Jr(s),c||l)return r===s;if(c=Pt(r),l=Pt(s),c||l)return c&&l?ff(r,s):!1;if(c=ie(r),l=ie(s),c||l){if(!c||!l)return!1;const f=Object.keys(r).length,d=Object.keys(s).length;if(f!==d)return!1;for(const w in r){const m=r.hasOwnProperty(w),E=s.hasOwnProperty(w);if(m&&!E||!m&&E||!Ki(r[w],s[w]))return!1}}return String(r)===String(s)}function hf(r,s){return r.findIndex(c=>Ki(c,s))}const $e=r=>ge(r)?r:r==null?"":Pt(r)||ie(r)&&(r.toString===su||!Wt(r.toString))?JSON.stringify(r,iu,2):String(r),iu=(r,s)=>s&&s.__v_isRef?iu(r,s.value):Er(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((c,[l,f])=>(c[`${l} =>`]=f,c),{})}:Gi(s)?{[`Set(${s.size})`]:[...s.values()]}:ie(s)&&!Pt(s)&&!au(s)?String(s):s,re={},Sr=[],rn=()=>{},df=()=>!1,pf=/^on[^a-z]/,Ji=r=>pf.test(r),Zo=r=>r.startsWith("onUpdate:"),Ne=Object.assign,qo=(r,s)=>{const c=r.indexOf(s);c>-1&&r.splice(c,1)},yf=Object.prototype.hasOwnProperty,Kt=(r,s)=>yf.call(r,s),Pt=Array.isArray,Er=r=>ii(r)==="[object Map]",Gi=r=>ii(r)==="[object Set]",Ea=r=>ii(r)==="[object Date]",Wt=r=>typeof r=="function",ge=r=>typeof r=="string",Jr=r=>typeof r=="symbol",ie=r=>r!==null&&typeof r=="object",ou=r=>ie(r)&&Wt(r.then)&&Wt(r.catch),su=Object.prototype.toString,ii=r=>su.call(r),vf=r=>ii(r).slice(8,-1),au=r=>ii(r)==="[object Object]",Ko=r=>ge(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Li=Yo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qi=r=>{const s=Object.create(null);return c=>s[c]||(s[c]=r(c))},gf=/-(\w)/g,gn=Qi(r=>r.replace(gf,(s,c)=>c?c.toUpperCase():"")),mf=/\B([A-Z])/g,or=Qi(r=>r.replace(mf,"-$1").toLowerCase()),$i=Qi(r=>r.charAt(0).toUpperCase()+r.slice(1)),To=Qi(r=>r?`on${$i(r)}`:""),Gr=(r,s)=>!Object.is(r,s),Ci=(r,s)=>{for(let c=0;c<r.length;c++)r[c](s)},ji=(r,s,c)=>{Object.defineProperty(r,s,{configurable:!0,enumerable:!1,value:c})},Bi=r=>{const s=parseFloat(r);return isNaN(s)?r:s};let xa;const _f=()=>xa||(xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Xe;class uu{constructor(s=!1){this.detached=s,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xe,!s&&Xe&&(this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}get active(){return this._active}run(s){if(this._active){const c=Xe;try{return Xe=this,s()}finally{Xe=c}}}on(){Xe=this}off(){Xe=this.parent}stop(s){if(this._active){let c,l;for(c=0,l=this.effects.length;c<l;c++)this.effects[c].stop();for(c=0,l=this.cleanups.length;c<l;c++)this.cleanups[c]();if(this.scopes)for(c=0,l=this.scopes.length;c<l;c++)this.scopes[c].stop(!0);if(!this.detached&&this.parent&&!s){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this._active=!1}}}function cu(r){return new uu(r)}function wf(r,s=Xe){s&&s.active&&s.effects.push(r)}function lu(){return Xe}function Sf(r){Xe&&Xe.cleanups.push(r)}const Jo=r=>{const s=new Set(r);return s.w=0,s.n=0,s},fu=r=>(r.w&Mn)>0,hu=r=>(r.n&Mn)>0,Ef=({deps:r})=>{if(r.length)for(let s=0;s<r.length;s++)r[s].w|=Mn},xf=r=>{const{deps:s}=r;if(s.length){let c=0;for(let l=0;l<s.length;l++){const f=s[l];fu(f)&&!hu(f)?f.delete(r):s[c++]=f,f.w&=~Mn,f.n&=~Mn}s.length=c}},zi=new WeakMap;let Hr=0,Mn=1;const Co=30;let en;const er=Symbol(""),Ao=Symbol("");class Go{constructor(s,c=null,l){this.fn=s,this.scheduler=c,this.active=!0,this.deps=[],this.parent=void 0,wf(this,l)}run(){if(!this.active)return this.fn();let s=en,c=Cn;for(;s;){if(s===this)return;s=s.parent}try{return this.parent=en,en=this,Cn=!0,Mn=1<<++Hr,Hr<=Co?Ef(this):ba(this),this.fn()}finally{Hr<=Co&&xf(this),Mn=1<<--Hr,en=this.parent,Cn=c,this.parent=void 0,this.deferStop&&this.stop()}}stop(){en===this?this.deferStop=!0:this.active&&(ba(this),this.onStop&&this.onStop(),this.active=!1)}}function ba(r){const{deps:s}=r;if(s.length){for(let c=0;c<s.length;c++)s[c].delete(r);s.length=0}}let Cn=!0;const du=[];function Or(){du.push(Cn),Cn=!1}function Tr(){const r=du.pop();Cn=r===void 0?!0:r}function ze(r,s,c){if(Cn&&en){let l=zi.get(r);l||zi.set(r,l=new Map);let f=l.get(c);f||l.set(c,f=Jo()),pu(f)}}function pu(r,s){let c=!1;Hr<=Co?hu(r)||(r.n|=Mn,c=!fu(r)):c=!r.has(en),c&&(r.add(en),en.deps.push(r))}function kn(r,s,c,l,f,d){const w=zi.get(r);if(!w)return;let m=[];if(s==="clear")m=[...w.values()];else if(c==="length"&&Pt(r)){const E=Number(l);w.forEach((S,_)=>{(_==="length"||_>=E)&&m.push(S)})}else switch(c!==void 0&&m.push(w.get(c)),s){case"add":Pt(r)?Ko(c)&&m.push(w.get("length")):(m.push(w.get(er)),Er(r)&&m.push(w.get(Ao)));break;case"delete":Pt(r)||(m.push(w.get(er)),Er(r)&&m.push(w.get(Ao)));break;case"set":Er(r)&&m.push(w.get(er));break}if(m.length===1)m[0]&&Po(m[0]);else{const E=[];for(const S of m)S&&E.push(...S);Po(Jo(E))}}function Po(r,s){const c=Pt(r)?r:[...r];for(const l of c)l.computed&&Fa(l);for(const l of c)l.computed||Fa(l)}function Fa(r,s){(r!==en||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}function bf(r,s){var c;return(c=zi.get(r))===null||c===void 0?void 0:c.get(s)}const Ff=Yo("__proto__,__v_isRef,__isVue"),yu=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Jr)),If=Qo(),kf=Qo(!1,!0),Of=Qo(!0),Ia=Tf();function Tf(){const r={};return["includes","indexOf","lastIndexOf"].forEach(s=>{r[s]=function(...c){const l=Jt(this);for(let d=0,w=this.length;d<w;d++)ze(l,"get",d+"");const f=l[s](...c);return f===-1||f===!1?l[s](...c.map(Jt)):f}}),["push","pop","shift","unshift","splice"].forEach(s=>{r[s]=function(...c){Or();const l=Jt(this)[s].apply(this,c);return Tr(),l}}),r}function Rf(r){const s=Jt(this);return ze(s,"has",r),s.hasOwnProperty(r)}function Qo(r=!1,s=!1){return function(l,f,d){if(f==="__v_isReactive")return!r;if(f==="__v_isReadonly")return r;if(f==="__v_isShallow")return s;if(f==="__v_raw"&&d===(r?s?Yf:wu:s?_u:mu).get(l))return l;const w=Pt(l);if(!r){if(w&&Kt(Ia,f))return Reflect.get(Ia,f,d);if(f==="hasOwnProperty")return Rf}const m=Reflect.get(l,f,d);return(Jr(f)?yu.has(f):Ff(f))||(r||ze(l,"get",f),s)?m:ye(m)?w&&Ko(f)?m:m.value:ie(m)?r?Su(m):Rr(m):m}}const Nf=vu(),Df=vu(!0);function vu(r=!1){return function(c,l,f,d){let w=c[l];if(br(w)&&ye(w)&&!ye(f))return!1;if(!r&&(!Wi(f)&&!br(f)&&(w=Jt(w),f=Jt(f)),!Pt(c)&&ye(w)&&!ye(f)))return w.value=f,!0;const m=Pt(c)&&Ko(l)?Number(l)<c.length:Kt(c,l),E=Reflect.set(c,l,f,d);return c===Jt(d)&&(m?Gr(f,w)&&kn(c,"set",l,f):kn(c,"add",l,f)),E}}function Lf(r,s){const c=Kt(r,s);r[s];const l=Reflect.deleteProperty(r,s);return l&&c&&kn(r,"delete",s,void 0),l}function Cf(r,s){const c=Reflect.has(r,s);return(!Jr(s)||!yu.has(s))&&ze(r,"has",s),c}function Af(r){return ze(r,"iterate",Pt(r)?"length":er),Reflect.ownKeys(r)}const gu={get:If,set:Nf,deleteProperty:Lf,has:Cf,ownKeys:Af},Pf={get:Of,set(r,s){return!0},deleteProperty(r,s){return!0}},Mf=Ne({},gu,{get:kf,set:Df}),$o=r=>r,to=r=>Reflect.getPrototypeOf(r);function ki(r,s,c=!1,l=!1){r=r.__v_raw;const f=Jt(r),d=Jt(s);c||(s!==d&&ze(f,"get",s),ze(f,"get",d));const{has:w}=to(f),m=l?$o:c?ns:Qr;if(w.call(f,s))return m(r.get(s));if(w.call(f,d))return m(r.get(d));r!==f&&r.get(s)}function Oi(r,s=!1){const c=this.__v_raw,l=Jt(c),f=Jt(r);return s||(r!==f&&ze(l,"has",r),ze(l,"has",f)),r===f?c.has(r):c.has(r)||c.has(f)}function Ti(r,s=!1){return r=r.__v_raw,!s&&ze(Jt(r),"iterate",er),Reflect.get(r,"size",r)}function ka(r){r=Jt(r);const s=Jt(this);return to(s).has.call(s,r)||(s.add(r),kn(s,"add",r,r)),this}function Oa(r,s){s=Jt(s);const c=Jt(this),{has:l,get:f}=to(c);let d=l.call(c,r);d||(r=Jt(r),d=l.call(c,r));const w=f.call(c,r);return c.set(r,s),d?Gr(s,w)&&kn(c,"set",r,s):kn(c,"add",r,s),this}function Ta(r){const s=Jt(this),{has:c,get:l}=to(s);let f=c.call(s,r);f||(r=Jt(r),f=c.call(s,r)),l&&l.call(s,r);const d=s.delete(r);return f&&kn(s,"delete",r,void 0),d}function Ra(){const r=Jt(this),s=r.size!==0,c=r.clear();return s&&kn(r,"clear",void 0,void 0),c}function Ri(r,s){return function(l,f){const d=this,w=d.__v_raw,m=Jt(w),E=s?$o:r?ns:Qr;return!r&&ze(m,"iterate",er),w.forEach((S,_)=>l.call(f,E(S),E(_),d))}}function Ni(r,s,c){return function(...l){const f=this.__v_raw,d=Jt(f),w=Er(d),m=r==="entries"||r===Symbol.iterator&&w,E=r==="keys"&&w,S=f[r](...l),_=c?$o:s?ns:Qr;return!s&&ze(d,"iterate",E?Ao:er),{next(){const{value:h,done:b}=S.next();return b?{value:h,done:b}:{value:m?[_(h[0]),_(h[1])]:_(h),done:b}},[Symbol.iterator](){return this}}}}function Nn(r){return function(...s){return r==="delete"?!1:this}}function Uf(){const r={get(d){return ki(this,d)},get size(){return Ti(this)},has:Oi,add:ka,set:Oa,delete:Ta,clear:Ra,forEach:Ri(!1,!1)},s={get(d){return ki(this,d,!1,!0)},get size(){return Ti(this)},has:Oi,add:ka,set:Oa,delete:Ta,clear:Ra,forEach:Ri(!1,!0)},c={get(d){return ki(this,d,!0)},get size(){return Ti(this,!0)},has(d){return Oi.call(this,d,!0)},add:Nn("add"),set:Nn("set"),delete:Nn("delete"),clear:Nn("clear"),forEach:Ri(!0,!1)},l={get(d){return ki(this,d,!0,!0)},get size(){return Ti(this,!0)},has(d){return Oi.call(this,d,!0)},add:Nn("add"),set:Nn("set"),delete:Nn("delete"),clear:Nn("clear"),forEach:Ri(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{r[d]=Ni(d,!1,!1),c[d]=Ni(d,!0,!1),s[d]=Ni(d,!1,!0),l[d]=Ni(d,!0,!0)}),[r,c,s,l]}const[jf,Bf,zf,Wf]=Uf();function ts(r,s){const c=s?r?Wf:zf:r?Bf:jf;return(l,f,d)=>f==="__v_isReactive"?!r:f==="__v_isReadonly"?r:f==="__v_raw"?l:Reflect.get(Kt(c,f)&&f in l?c:l,f,d)}const Hf={get:ts(!1,!1)},Vf={get:ts(!1,!0)},Xf={get:ts(!0,!1)},mu=new WeakMap,_u=new WeakMap,wu=new WeakMap,Yf=new WeakMap;function Zf(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qf(r){return r.__v_skip||!Object.isExtensible(r)?0:Zf(vf(r))}function Rr(r){return br(r)?r:es(r,!1,gu,Hf,mu)}function Kf(r){return es(r,!1,Mf,Vf,_u)}function Su(r){return es(r,!0,Pf,Xf,wu)}function es(r,s,c,l,f){if(!ie(r)||r.__v_raw&&!(s&&r.__v_isReactive))return r;const d=f.get(r);if(d)return d;const w=qf(r);if(w===0)return r;const m=new Proxy(r,w===2?l:c);return f.set(r,m),m}function An(r){return br(r)?An(r.__v_raw):!!(r&&r.__v_isReactive)}function br(r){return!!(r&&r.__v_isReadonly)}function Wi(r){return!!(r&&r.__v_isShallow)}function Eu(r){return An(r)||br(r)}function Jt(r){const s=r&&r.__v_raw;return s?Jt(s):r}function Fr(r){return ji(r,"__v_skip",!0),r}const Qr=r=>ie(r)?Rr(r):r,ns=r=>ie(r)?Su(r):r;function xu(r){Cn&&en&&(r=Jt(r),pu(r.dep||(r.dep=Jo())))}function bu(r,s){r=Jt(r);const c=r.dep;c&&Po(c)}function ye(r){return!!(r&&r.__v_isRef===!0)}function Tt(r){return Jf(r,!1)}function Jf(r,s){return ye(r)?r:new Gf(r,s)}class Gf{constructor(s,c){this.__v_isShallow=c,this.dep=void 0,this.__v_isRef=!0,this._rawValue=c?s:Jt(s),this._value=c?s:Qr(s)}get value(){return xu(this),this._value}set value(s){const c=this.__v_isShallow||Wi(s)||br(s);s=c?s:Jt(s),Gr(s,this._rawValue)&&(this._rawValue=s,this._value=c?s:Qr(s),bu(this))}}function Be(r){return ye(r)?r.value:r}const Qf={get:(r,s,c)=>Be(Reflect.get(r,s,c)),set:(r,s,c,l)=>{const f=r[s];return ye(f)&&!ye(c)?(f.value=c,!0):Reflect.set(r,s,c,l)}};function Fu(r){return An(r)?r:new Proxy(r,Qf)}function $f(r){const s=Pt(r)?new Array(r.length):{};for(const c in r)s[c]=eh(r,c);return s}class th{constructor(s,c,l){this._object=s,this._key=c,this._defaultValue=l,this.__v_isRef=!0}get value(){const s=this._object[this._key];return s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return bf(Jt(this._object),this._key)}}function eh(r,s,c){const l=r[s];return ye(l)?l:new th(r,s,c)}var Iu;class nh{constructor(s,c,l,f){this._setter=c,this.dep=void 0,this.__v_isRef=!0,this[Iu]=!1,this._dirty=!0,this.effect=new Go(s,()=>{this._dirty||(this._dirty=!0,bu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=l}get value(){const s=Jt(this);return xu(s),(s._dirty||!s._cacheable)&&(s._dirty=!1,s._value=s.effect.run()),s._value}set value(s){this._setter(s)}}Iu="__v_isReadonly";function rh(r,s,c=!1){let l,f;const d=Wt(r);return d?(l=r,f=rn):(l=r.get,f=r.set),new nh(l,f,d||!f,c)}function Pn(r,s,c,l){let f;try{f=l?r(...l):r()}catch(d){eo(d,s,c)}return f}function on(r,s,c,l){if(Wt(r)){const d=Pn(r,s,c,l);return d&&ou(d)&&d.catch(w=>{eo(w,s,c)}),d}const f=[];for(let d=0;d<r.length;d++)f.push(on(r[d],s,c,l));return f}function eo(r,s,c,l=!0){const f=s?s.vnode:null;if(s){let d=s.parent;const w=s.proxy,m=c;for(;d;){const S=d.ec;if(S){for(let _=0;_<S.length;_++)if(S[_](r,w,m)===!1)return}d=d.parent}const E=s.appContext.config.errorHandler;if(E){Pn(E,null,10,[r,w,m]);return}}ih(r,c,f,l)}function ih(r,s,c,l=!0){console.error(r)}let $r=!1,Mo=!1;const Oe=[];let yn=0;const xr=[];let In=null,Jn=0;const ku=Promise.resolve();let rs=null;function Ou(r){const s=rs||ku;return r?s.then(this?r.bind(this):r):s}function oh(r){let s=yn+1,c=Oe.length;for(;s<c;){const l=s+c>>>1;ti(Oe[l])<r?s=l+1:c=l}return s}function is(r){(!Oe.length||!Oe.includes(r,$r&&r.allowRecurse?yn+1:yn))&&(r.id==null?Oe.push(r):Oe.splice(oh(r.id),0,r),Tu())}function Tu(){!$r&&!Mo&&(Mo=!0,rs=ku.then(Nu))}function sh(r){const s=Oe.indexOf(r);s>yn&&Oe.splice(s,1)}function ah(r){Pt(r)?xr.push(...r):(!In||!In.includes(r,r.allowRecurse?Jn+1:Jn))&&xr.push(r),Tu()}function Na(r,s=$r?yn+1:0){for(;s<Oe.length;s++){const c=Oe[s];c&&c.pre&&(Oe.splice(s,1),s--,c())}}function Ru(r){if(xr.length){const s=[...new Set(xr)];if(xr.length=0,In){In.push(...s);return}for(In=s,In.sort((c,l)=>ti(c)-ti(l)),Jn=0;Jn<In.length;Jn++)In[Jn]();In=null,Jn=0}}const ti=r=>r.id==null?1/0:r.id,uh=(r,s)=>{const c=ti(r)-ti(s);if(c===0){if(r.pre&&!s.pre)return-1;if(s.pre&&!r.pre)return 1}return c};function Nu(r){Mo=!1,$r=!0,Oe.sort(uh);const s=rn;try{for(yn=0;yn<Oe.length;yn++){const c=Oe[yn];c&&c.active!==!1&&Pn(c,null,14)}}finally{yn=0,Oe.length=0,Ru(),$r=!1,rs=null,(Oe.length||xr.length)&&Nu()}}function ch(r,s,...c){if(r.isUnmounted)return;const l=r.vnode.props||re;let f=c;const d=s.startsWith("update:"),w=d&&s.slice(7);if(w&&w in l){const _=`${w==="modelValue"?"model":w}Modifiers`,{number:h,trim:b}=l[_]||re;b&&(f=c.map(p=>ge(p)?p.trim():p)),h&&(f=c.map(Bi))}let m,E=l[m=To(s)]||l[m=To(gn(s))];!E&&d&&(E=l[m=To(or(s))]),E&&on(E,r,6,f);const S=l[m+"Once"];if(S){if(!r.emitted)r.emitted={};else if(r.emitted[m])return;r.emitted[m]=!0,on(S,r,6,f)}}function Du(r,s,c=!1){const l=s.emitsCache,f=l.get(r);if(f!==void 0)return f;const d=r.emits;let w={},m=!1;if(!Wt(r)){const E=S=>{const _=Du(S,s,!0);_&&(m=!0,Ne(w,_))};!c&&s.mixins.length&&s.mixins.forEach(E),r.extends&&E(r.extends),r.mixins&&r.mixins.forEach(E)}return!d&&!m?(ie(r)&&l.set(r,null),null):(Pt(d)?d.forEach(E=>w[E]=null):Ne(w,d),ie(r)&&l.set(r,w),w)}function no(r,s){return!r||!Ji(s)?!1:(s=s.slice(2).replace(/Once$/,""),Kt(r,s[0].toLowerCase()+s.slice(1))||Kt(r,or(s))||Kt(r,s))}let Ye=null,ro=null;function Hi(r){const s=Ye;return Ye=r,ro=r&&r.type.__scopeId||null,s}function oi(r){ro=r}function si(){ro=null}function lh(r,s=Ye,c){if(!s||r._n)return r;const l=(...f)=>{l._d&&Ba(-1);const d=Hi(s);let w;try{w=r(...f)}finally{Hi(d),l._d&&Ba(1)}return w};return l._n=!0,l._c=!0,l._d=!0,l}function Ro(r){const{type:s,vnode:c,proxy:l,withProxy:f,props:d,propsOptions:[w],slots:m,attrs:E,emit:S,render:_,renderCache:h,data:b,setupState:p,ctx:C,inheritAttrs:R}=r;let D,M;const B=Hi(r);try{if(c.shapeFlag&4){const V=f||l;D=pn(_.call(V,V,h,d,p,b,C)),M=E}else{const V=s;D=pn(V.length>1?V(d,{attrs:E,slots:m,emit:S}):V(d,null)),M=s.props?E:fh(E)}}catch(V){Zr.length=0,eo(V,r,1),D=Ze(ir)}let G=D;if(M&&R!==!1){const V=Object.keys(M),{shapeFlag:Z}=G;V.length&&Z&7&&(w&&V.some(Zo)&&(M=hh(M,w)),G=Ir(G,M))}return c.dirs&&(G=Ir(G),G.dirs=G.dirs?G.dirs.concat(c.dirs):c.dirs),c.transition&&(G.transition=c.transition),D=G,Hi(B),D}const fh=r=>{let s;for(const c in r)(c==="class"||c==="style"||Ji(c))&&((s||(s={}))[c]=r[c]);return s},hh=(r,s)=>{const c={};for(const l in r)(!Zo(l)||!(l.slice(9)in s))&&(c[l]=r[l]);return c};function dh(r,s,c){const{props:l,children:f,component:d}=r,{props:w,children:m,patchFlag:E}=s,S=d.emitsOptions;if(s.dirs||s.transition)return!0;if(c&&E>=0){if(E&1024)return!0;if(E&16)return l?Da(l,w,S):!!w;if(E&8){const _=s.dynamicProps;for(let h=0;h<_.length;h++){const b=_[h];if(w[b]!==l[b]&&!no(S,b))return!0}}}else return(f||m)&&(!m||!m.$stable)?!0:l===w?!1:l?w?Da(l,w,S):!0:!!w;return!1}function Da(r,s,c){const l=Object.keys(s);if(l.length!==Object.keys(r).length)return!0;for(let f=0;f<l.length;f++){const d=l[f];if(s[d]!==r[d]&&!no(c,d))return!0}return!1}function ph({vnode:r,parent:s},c){for(;s&&s.subTree===r;)(r=s.vnode).el=c,s=s.parent}const yh=r=>r.__isSuspense;function vh(r,s){s&&s.pendingBranch?Pt(r)?s.effects.push(...r):s.effects.push(r):ah(r)}function gh(r,s){if(pe){let c=pe.provides;const l=pe.parent&&pe.parent.provides;l===c&&(c=pe.provides=Object.create(l)),c[r]=s}}function Xr(r,s,c=!1){const l=pe||Ye;if(l){const f=l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides;if(f&&r in f)return f[r];if(arguments.length>1)return c&&Wt(s)?s.call(l.proxy):s}}const Di={};function Ai(r,s,c){return Lu(r,s,c)}function Lu(r,s,{immediate:c,deep:l,flush:f,onTrack:d,onTrigger:w}=re){const m=lu()===(pe==null?void 0:pe.scope)?pe:null;let E,S=!1,_=!1;if(ye(r)?(E=()=>r.value,S=Wi(r)):An(r)?(E=()=>r,l=!0):Pt(r)?(_=!0,S=r.some(G=>An(G)||Wi(G)),E=()=>r.map(G=>{if(ye(G))return G.value;if(An(G))return $n(G);if(Wt(G))return Pn(G,m,2)})):Wt(r)?s?E=()=>Pn(r,m,2):E=()=>{if(!(m&&m.isUnmounted))return h&&h(),on(r,m,3,[b])}:E=rn,s&&l){const G=E;E=()=>$n(G())}let h,b=G=>{h=M.onStop=()=>{Pn(G,m,4)}},p;if(ni)if(b=rn,s?c&&on(s,m,3,[E(),_?[]:void 0,b]):E(),f==="sync"){const G=cd();p=G.__watcherHandles||(G.__watcherHandles=[])}else return rn;let C=_?new Array(r.length).fill(Di):Di;const R=()=>{if(M.active)if(s){const G=M.run();(l||S||(_?G.some((V,Z)=>Gr(V,C[Z])):Gr(G,C)))&&(h&&h(),on(s,m,3,[G,C===Di?void 0:_&&C[0]===Di?[]:C,b]),C=G)}else M.run()};R.allowRecurse=!!s;let D;f==="sync"?D=R:f==="post"?D=()=>Ue(R,m&&m.suspense):(R.pre=!0,m&&(R.id=m.uid),D=()=>is(R));const M=new Go(E,D);s?c?R():C=M.run():f==="post"?Ue(M.run.bind(M),m&&m.suspense):M.run();const B=()=>{M.stop(),m&&m.scope&&qo(m.scope.effects,M)};return p&&p.push(B),B}function mh(r,s,c){const l=this.proxy,f=ge(r)?r.includes(".")?Cu(l,r):()=>l[r]:r.bind(l,l);let d;Wt(s)?d=s:(d=s.handler,c=s);const w=pe;kr(this);const m=Lu(f,d.bind(l),c);return w?kr(w):nr(),m}function Cu(r,s){const c=s.split(".");return()=>{let l=r;for(let f=0;f<c.length&&l;f++)l=l[c[f]];return l}}function $n(r,s){if(!ie(r)||r.__v_skip||(s=s||new Set,s.has(r)))return r;if(s.add(r),ye(r))$n(r.value,s);else if(Pt(r))for(let c=0;c<r.length;c++)$n(r[c],s);else if(Gi(r)||Er(r))r.forEach(c=>{$n(c,s)});else if(au(r))for(const c in r)$n(r[c],s);return r}function sn(r){return Wt(r)?{setup:r,name:r.name}:r}const Pi=r=>!!r.type.__asyncLoader,Au=r=>r.type.__isKeepAlive;function _h(r,s){Pu(r,"a",s)}function wh(r,s){Pu(r,"da",s)}function Pu(r,s,c=pe){const l=r.__wdc||(r.__wdc=()=>{let f=c;for(;f;){if(f.isDeactivated)return;f=f.parent}return r()});if(io(s,l,c),c){let f=c.parent;for(;f&&f.parent;)Au(f.parent.vnode)&&Sh(l,s,c,f),f=f.parent}}function Sh(r,s,c,l){const f=io(s,r,l,!0);Uu(()=>{qo(l[s],f)},c)}function io(r,s,c=pe,l=!1){if(c){const f=c[r]||(c[r]=[]),d=s.__weh||(s.__weh=(...w)=>{if(c.isUnmounted)return;Or(),kr(c);const m=on(s,c,r,w);return nr(),Tr(),m});return l?f.unshift(d):f.push(d),d}}const On=r=>(s,c=pe)=>(!ni||r==="sp")&&io(r,(...l)=>s(...l),c),Eh=On("bm"),mn=On("m"),xh=On("bu"),bh=On("u"),Mu=On("bum"),Uu=On("um"),Fh=On("sp"),Ih=On("rtg"),kh=On("rtc");function Oh(r,s=pe){io("ec",r,s)}function ke(r,s){const c=Ye;if(c===null)return r;const l=ao(c)||c.proxy,f=r.dirs||(r.dirs=[]);for(let d=0;d<s.length;d++){let[w,m,E,S=re]=s[d];w&&(Wt(w)&&(w={mounted:w,updated:w}),w.deep&&$n(m),f.push({dir:w,instance:l,value:m,oldValue:void 0,arg:E,modifiers:S}))}return r}function Zn(r,s,c,l){const f=r.dirs,d=s&&s.dirs;for(let w=0;w<f.length;w++){const m=f[w];d&&(m.oldValue=d[w].value);let E=m.dir[l];E&&(Or(),on(E,c,8,[r.el,m,r,s]),Tr())}}const ju="components",Bu=Symbol();function os(r){return ge(r)?Th(ju,r,!1)||r:r||Bu}function Th(r,s,c=!0,l=!1){const f=Ye||pe;if(f){const d=f.type;if(r===ju){const m=sd(d,!1);if(m&&(m===s||m===gn(s)||m===$i(gn(s))))return d}const w=La(f[r]||d[r],s)||La(f.appContext[r],s);return!w&&l?d:w}}function La(r,s){return r&&(r[s]||r[gn(s)]||r[$i(gn(s))])}function rr(r,s,c,l){let f;const d=c&&c[l];if(Pt(r)||ge(r)){f=new Array(r.length);for(let w=0,m=r.length;w<m;w++)f[w]=s(r[w],w,void 0,d&&d[w])}else if(typeof r=="number"){f=new Array(r);for(let w=0;w<r;w++)f[w]=s(w+1,w,void 0,d&&d[w])}else if(ie(r))if(r[Symbol.iterator])f=Array.from(r,(w,m)=>s(w,m,void 0,d&&d[m]));else{const w=Object.keys(r);f=new Array(w.length);for(let m=0,E=w.length;m<E;m++){const S=w[m];f[m]=s(r[S],S,m,d&&d[m])}}else f=[];return c&&(c[l]=f),f}const Uo=r=>r?Qu(r)?ao(r)||r.proxy:Uo(r.parent):null,Yr=Ne(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Uo(r.parent),$root:r=>Uo(r.root),$emit:r=>r.emit,$options:r=>ss(r),$forceUpdate:r=>r.f||(r.f=()=>is(r.update)),$nextTick:r=>r.n||(r.n=Ou.bind(r.proxy)),$watch:r=>mh.bind(r)}),No=(r,s)=>r!==re&&!r.__isScriptSetup&&Kt(r,s),Rh={get({_:r},s){const{ctx:c,setupState:l,data:f,props:d,accessCache:w,type:m,appContext:E}=r;let S;if(s[0]!=="$"){const p=w[s];if(p!==void 0)switch(p){case 1:return l[s];case 2:return f[s];case 4:return c[s];case 3:return d[s]}else{if(No(l,s))return w[s]=1,l[s];if(f!==re&&Kt(f,s))return w[s]=2,f[s];if((S=r.propsOptions[0])&&Kt(S,s))return w[s]=3,d[s];if(c!==re&&Kt(c,s))return w[s]=4,c[s];jo&&(w[s]=0)}}const _=Yr[s];let h,b;if(_)return s==="$attrs"&&ze(r,"get",s),_(r);if((h=m.__cssModules)&&(h=h[s]))return h;if(c!==re&&Kt(c,s))return w[s]=4,c[s];if(b=E.config.globalProperties,Kt(b,s))return b[s]},set({_:r},s,c){const{data:l,setupState:f,ctx:d}=r;return No(f,s)?(f[s]=c,!0):l!==re&&Kt(l,s)?(l[s]=c,!0):Kt(r.props,s)||s[0]==="$"&&s.slice(1)in r?!1:(d[s]=c,!0)},has({_:{data:r,setupState:s,accessCache:c,ctx:l,appContext:f,propsOptions:d}},w){let m;return!!c[w]||r!==re&&Kt(r,w)||No(s,w)||(m=d[0])&&Kt(m,w)||Kt(l,w)||Kt(Yr,w)||Kt(f.config.globalProperties,w)},defineProperty(r,s,c){return c.get!=null?r._.accessCache[s]=0:Kt(c,"value")&&this.set(r,s,c.value,null),Reflect.defineProperty(r,s,c)}};let jo=!0;function Nh(r){const s=ss(r),c=r.proxy,l=r.ctx;jo=!1,s.beforeCreate&&Ca(s.beforeCreate,r,"bc");const{data:f,computed:d,methods:w,watch:m,provide:E,inject:S,created:_,beforeMount:h,mounted:b,beforeUpdate:p,updated:C,activated:R,deactivated:D,beforeDestroy:M,beforeUnmount:B,destroyed:G,unmounted:V,render:Z,renderTracked:yt,renderTriggered:K,errorCaptured:Q,serverPrefetch:ut,expose:Y,inheritAttrs:at,components:mt,directives:Ut,filters:Ft}=s;if(S&&Dh(S,l,null,r.appContext.config.unwrapInjectedRef),w)for(const _t in w){const wt=w[_t];Wt(wt)&&(l[_t]=wt.bind(c))}if(f){const _t=f.call(c,c);ie(_t)&&(r.data=Rr(_t))}if(jo=!0,d)for(const _t in d){const wt=d[_t],W=Wt(wt)?wt.bind(c,c):Wt(wt.get)?wt.get.bind(c,c):rn,q=!Wt(wt)&&Wt(wt.set)?wt.set.bind(c):rn,ct=tc({get:W,set:q});Object.defineProperty(l,_t,{enumerable:!0,configurable:!0,get:()=>ct.value,set:St=>ct.value=St})}if(m)for(const _t in m)zu(m[_t],l,c,_t);if(E){const _t=Wt(E)?E.call(c):E;Reflect.ownKeys(_t).forEach(wt=>{gh(wt,_t[wt])})}_&&Ca(_,r,"c");function Ot(_t,wt){Pt(wt)?wt.forEach(W=>_t(W.bind(c))):wt&&_t(wt.bind(c))}if(Ot(Eh,h),Ot(mn,b),Ot(xh,p),Ot(bh,C),Ot(_h,R),Ot(wh,D),Ot(Oh,Q),Ot(kh,yt),Ot(Ih,K),Ot(Mu,B),Ot(Uu,V),Ot(Fh,ut),Pt(Y))if(Y.length){const _t=r.exposed||(r.exposed={});Y.forEach(wt=>{Object.defineProperty(_t,wt,{get:()=>c[wt],set:W=>c[wt]=W})})}else r.exposed||(r.exposed={});Z&&r.render===rn&&(r.render=Z),at!=null&&(r.inheritAttrs=at),mt&&(r.components=mt),Ut&&(r.directives=Ut)}function Dh(r,s,c=rn,l=!1){Pt(r)&&(r=Bo(r));for(const f in r){const d=r[f];let w;ie(d)?"default"in d?w=Xr(d.from||f,d.default,!0):w=Xr(d.from||f):w=Xr(d),ye(w)&&l?Object.defineProperty(s,f,{enumerable:!0,configurable:!0,get:()=>w.value,set:m=>w.value=m}):s[f]=w}}function Ca(r,s,c){on(Pt(r)?r.map(l=>l.bind(s.proxy)):r.bind(s.proxy),s,c)}function zu(r,s,c,l){const f=l.includes(".")?Cu(c,l):()=>c[l];if(ge(r)){const d=s[r];Wt(d)&&Ai(f,d)}else if(Wt(r))Ai(f,r.bind(c));else if(ie(r))if(Pt(r))r.forEach(d=>zu(d,s,c,l));else{const d=Wt(r.handler)?r.handler.bind(c):s[r.handler];Wt(d)&&Ai(f,d,r)}}function ss(r){const s=r.type,{mixins:c,extends:l}=s,{mixins:f,optionsCache:d,config:{optionMergeStrategies:w}}=r.appContext,m=d.get(s);let E;return m?E=m:!f.length&&!c&&!l?E=s:(E={},f.length&&f.forEach(S=>Vi(E,S,w,!0)),Vi(E,s,w)),ie(s)&&d.set(s,E),E}function Vi(r,s,c,l=!1){const{mixins:f,extends:d}=s;d&&Vi(r,d,c,!0),f&&f.forEach(w=>Vi(r,w,c,!0));for(const w in s)if(!(l&&w==="expose")){const m=Lh[w]||c&&c[w];r[w]=m?m(r[w],s[w]):s[w]}return r}const Lh={data:Aa,props:Kn,emits:Kn,methods:Kn,computed:Kn,beforeCreate:Re,created:Re,beforeMount:Re,mounted:Re,beforeUpdate:Re,updated:Re,beforeDestroy:Re,beforeUnmount:Re,destroyed:Re,unmounted:Re,activated:Re,deactivated:Re,errorCaptured:Re,serverPrefetch:Re,components:Kn,directives:Kn,watch:Ah,provide:Aa,inject:Ch};function Aa(r,s){return s?r?function(){return Ne(Wt(r)?r.call(this,this):r,Wt(s)?s.call(this,this):s)}:s:r}function Ch(r,s){return Kn(Bo(r),Bo(s))}function Bo(r){if(Pt(r)){const s={};for(let c=0;c<r.length;c++)s[r[c]]=r[c];return s}return r}function Re(r,s){return r?[...new Set([].concat(r,s))]:s}function Kn(r,s){return r?Ne(Ne(Object.create(null),r),s):s}function Ah(r,s){if(!r)return s;if(!s)return r;const c=Ne(Object.create(null),r);for(const l in s)c[l]=Re(r[l],s[l]);return c}function Ph(r,s,c,l=!1){const f={},d={};ji(d,so,1),r.propsDefaults=Object.create(null),Wu(r,s,f,d);for(const w in r.propsOptions[0])w in f||(f[w]=void 0);c?r.props=l?f:Kf(f):r.type.props?r.props=f:r.props=d,r.attrs=d}function Mh(r,s,c,l){const{props:f,attrs:d,vnode:{patchFlag:w}}=r,m=Jt(f),[E]=r.propsOptions;let S=!1;if((l||w>0)&&!(w&16)){if(w&8){const _=r.vnode.dynamicProps;for(let h=0;h<_.length;h++){let b=_[h];if(no(r.emitsOptions,b))continue;const p=s[b];if(E)if(Kt(d,b))p!==d[b]&&(d[b]=p,S=!0);else{const C=gn(b);f[C]=zo(E,m,C,p,r,!1)}else p!==d[b]&&(d[b]=p,S=!0)}}}else{Wu(r,s,f,d)&&(S=!0);let _;for(const h in m)(!s||!Kt(s,h)&&((_=or(h))===h||!Kt(s,_)))&&(E?c&&(c[h]!==void 0||c[_]!==void 0)&&(f[h]=zo(E,m,h,void 0,r,!0)):delete f[h]);if(d!==m)for(const h in d)(!s||!Kt(s,h))&&(delete d[h],S=!0)}S&&kn(r,"set","$attrs")}function Wu(r,s,c,l){const[f,d]=r.propsOptions;let w=!1,m;if(s)for(let E in s){if(Li(E))continue;const S=s[E];let _;f&&Kt(f,_=gn(E))?!d||!d.includes(_)?c[_]=S:(m||(m={}))[_]=S:no(r.emitsOptions,E)||(!(E in l)||S!==l[E])&&(l[E]=S,w=!0)}if(d){const E=Jt(c),S=m||re;for(let _=0;_<d.length;_++){const h=d[_];c[h]=zo(f,E,h,S[h],r,!Kt(S,h))}}return w}function zo(r,s,c,l,f,d){const w=r[c];if(w!=null){const m=Kt(w,"default");if(m&&l===void 0){const E=w.default;if(w.type!==Function&&Wt(E)){const{propsDefaults:S}=f;c in S?l=S[c]:(kr(f),l=S[c]=E.call(null,s),nr())}else l=E}w[0]&&(d&&!m?l=!1:w[1]&&(l===""||l===or(c))&&(l=!0))}return l}function Hu(r,s,c=!1){const l=s.propsCache,f=l.get(r);if(f)return f;const d=r.props,w={},m=[];let E=!1;if(!Wt(r)){const _=h=>{E=!0;const[b,p]=Hu(h,s,!0);Ne(w,b),p&&m.push(...p)};!c&&s.mixins.length&&s.mixins.forEach(_),r.extends&&_(r.extends),r.mixins&&r.mixins.forEach(_)}if(!d&&!E)return ie(r)&&l.set(r,Sr),Sr;if(Pt(d))for(let _=0;_<d.length;_++){const h=gn(d[_]);Pa(h)&&(w[h]=re)}else if(d)for(const _ in d){const h=gn(_);if(Pa(h)){const b=d[_],p=w[h]=Pt(b)||Wt(b)?{type:b}:Object.assign({},b);if(p){const C=ja(Boolean,p.type),R=ja(String,p.type);p[0]=C>-1,p[1]=R<0||C<R,(C>-1||Kt(p,"default"))&&m.push(h)}}}const S=[w,m];return ie(r)&&l.set(r,S),S}function Pa(r){return r[0]!=="$"}function Ma(r){const s=r&&r.toString().match(/^\s*(function|class) (\w+)/);return s?s[2]:r===null?"null":""}function Ua(r,s){return Ma(r)===Ma(s)}function ja(r,s){return Pt(s)?s.findIndex(c=>Ua(c,r)):Wt(s)&&Ua(s,r)?0:-1}const Vu=r=>r[0]==="_"||r==="$stable",as=r=>Pt(r)?r.map(pn):[pn(r)],Uh=(r,s,c)=>{if(s._n)return s;const l=lh((...f)=>as(s(...f)),c);return l._c=!1,l},Xu=(r,s,c)=>{const l=r._ctx;for(const f in r){if(Vu(f))continue;const d=r[f];if(Wt(d))s[f]=Uh(f,d,l);else if(d!=null){const w=as(d);s[f]=()=>w}}},Yu=(r,s)=>{const c=as(s);r.slots.default=()=>c},jh=(r,s)=>{if(r.vnode.shapeFlag&32){const c=s._;c?(r.slots=Jt(s),ji(s,"_",c)):Xu(s,r.slots={})}else r.slots={},s&&Yu(r,s);ji(r.slots,so,1)},Bh=(r,s,c)=>{const{vnode:l,slots:f}=r;let d=!0,w=re;if(l.shapeFlag&32){const m=s._;m?c&&m===1?d=!1:(Ne(f,s),!c&&m===1&&delete f._):(d=!s.$stable,Xu(s,f)),w=s}else s&&(Yu(r,s),w={default:1});if(d)for(const m in f)!Vu(m)&&!(m in w)&&delete f[m]};function Zu(){return{app:null,config:{isNativeTag:df,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zh=0;function Wh(r,s){return function(l,f=null){Wt(l)||(l=Object.assign({},l)),f!=null&&!ie(f)&&(f=null);const d=Zu(),w=new Set;let m=!1;const E=d.app={_uid:zh++,_component:l,_props:f,_container:null,_context:d,_instance:null,version:ld,get config(){return d.config},set config(S){},use(S,..._){return w.has(S)||(S&&Wt(S.install)?(w.add(S),S.install(E,..._)):Wt(S)&&(w.add(S),S(E,..._))),E},mixin(S){return d.mixins.includes(S)||d.mixins.push(S),E},component(S,_){return _?(d.components[S]=_,E):d.components[S]},directive(S,_){return _?(d.directives[S]=_,E):d.directives[S]},mount(S,_,h){if(!m){const b=Ze(l,f);return b.appContext=d,_&&s?s(b,S):r(b,S,h),m=!0,E._container=S,S.__vue_app__=E,ao(b.component)||b.component.proxy}},unmount(){m&&(r(null,E._container),delete E._container.__vue_app__)},provide(S,_){return d.provides[S]=_,E}};return E}}function Wo(r,s,c,l,f=!1){if(Pt(r)){r.forEach((b,p)=>Wo(b,s&&(Pt(s)?s[p]:s),c,l,f));return}if(Pi(l)&&!f)return;const d=l.shapeFlag&4?ao(l.component)||l.component.proxy:l.el,w=f?null:d,{i:m,r:E}=r,S=s&&s.r,_=m.refs===re?m.refs={}:m.refs,h=m.setupState;if(S!=null&&S!==E&&(ge(S)?(_[S]=null,Kt(h,S)&&(h[S]=null)):ye(S)&&(S.value=null)),Wt(E))Pn(E,m,12,[w,_]);else{const b=ge(E),p=ye(E);if(b||p){const C=()=>{if(r.f){const R=b?Kt(h,E)?h[E]:_[E]:E.value;f?Pt(R)&&qo(R,d):Pt(R)?R.includes(d)||R.push(d):b?(_[E]=[d],Kt(h,E)&&(h[E]=_[E])):(E.value=[d],r.k&&(_[r.k]=E.value))}else b?(_[E]=w,Kt(h,E)&&(h[E]=w)):p&&(E.value=w,r.k&&(_[r.k]=w))};w?(C.id=-1,Ue(C,c)):C()}}}const Ue=vh;function Hh(r){return Vh(r)}function Vh(r,s){const c=_f();c.__VUE__=!0;const{insert:l,remove:f,patchProp:d,createElement:w,createText:m,createComment:E,setText:S,setElementText:_,parentNode:h,nextSibling:b,setScopeId:p=rn,insertStaticContent:C}=r,R=(T,A,z,j=null,rt=null,$=null,pt=!1,lt=null,ht=!!A.dynamicChildren)=>{if(T===A)return;T&&!Wr(T,A)&&(j=Gt(T),St(T,rt,$,!0),T=null),A.patchFlag===-2&&(ht=!1,A.dynamicChildren=null);const{type:F,ref:v,shapeFlag:g}=A;switch(F){case oo:D(T,A,z,j);break;case ir:M(T,A,z,j);break;case Mi:T==null&&B(A,z,j,pt);break;case Ie:mt(T,A,z,j,rt,$,pt,lt,ht);break;default:g&1?Z(T,A,z,j,rt,$,pt,lt,ht):g&6?Ut(T,A,z,j,rt,$,pt,lt,ht):(g&64||g&128)&&F.process(T,A,z,j,rt,$,pt,lt,ht,N)}v!=null&&rt&&Wo(v,T&&T.ref,$,A||T,!A)},D=(T,A,z,j)=>{if(T==null)l(A.el=m(A.children),z,j);else{const rt=A.el=T.el;A.children!==T.children&&S(rt,A.children)}},M=(T,A,z,j)=>{T==null?l(A.el=E(A.children||""),z,j):A.el=T.el},B=(T,A,z,j)=>{[T.el,T.anchor]=C(T.children,A,z,j,T.el,T.anchor)},G=({el:T,anchor:A},z,j)=>{let rt;for(;T&&T!==A;)rt=b(T),l(T,z,j),T=rt;l(A,z,j)},V=({el:T,anchor:A})=>{let z;for(;T&&T!==A;)z=b(T),f(T),T=z;f(A)},Z=(T,A,z,j,rt,$,pt,lt,ht)=>{pt=pt||A.type==="svg",T==null?yt(A,z,j,rt,$,pt,lt,ht):ut(T,A,rt,$,pt,lt,ht)},yt=(T,A,z,j,rt,$,pt,lt)=>{let ht,F;const{type:v,props:g,shapeFlag:O,transition:U,dirs:X}=T;if(ht=T.el=w(T.type,$,g&&g.is,g),O&8?_(ht,T.children):O&16&&Q(T.children,ht,null,j,rt,$&&v!=="foreignObject",pt,lt),X&&Zn(T,null,j,"created"),K(ht,T,T.scopeId,pt,j),g){for(const Et in g)Et!=="value"&&!Li(Et)&&d(ht,Et,null,g[Et],$,T.children,j,rt,Mt);"value"in g&&d(ht,"value",null,g.value),(F=g.onVnodeBeforeMount)&&dn(F,j,T)}X&&Zn(T,null,j,"beforeMount");const et=(!rt||rt&&!rt.pendingBranch)&&U&&!U.persisted;et&&U.beforeEnter(ht),l(ht,A,z),((F=g&&g.onVnodeMounted)||et||X)&&Ue(()=>{F&&dn(F,j,T),et&&U.enter(ht),X&&Zn(T,null,j,"mounted")},rt)},K=(T,A,z,j,rt)=>{if(z&&p(T,z),j)for(let $=0;$<j.length;$++)p(T,j[$]);if(rt){let $=rt.subTree;if(A===$){const pt=rt.vnode;K(T,pt,pt.scopeId,pt.slotScopeIds,rt.parent)}}},Q=(T,A,z,j,rt,$,pt,lt,ht=0)=>{for(let F=ht;F<T.length;F++){const v=T[F]=lt?Dn(T[F]):pn(T[F]);R(null,v,A,z,j,rt,$,pt,lt)}},ut=(T,A,z,j,rt,$,pt)=>{const lt=A.el=T.el;let{patchFlag:ht,dynamicChildren:F,dirs:v}=A;ht|=T.patchFlag&16;const g=T.props||re,O=A.props||re;let U;z&&qn(z,!1),(U=O.onVnodeBeforeUpdate)&&dn(U,z,A,T),v&&Zn(A,T,z,"beforeUpdate"),z&&qn(z,!0);const X=rt&&A.type!=="foreignObject";if(F?Y(T.dynamicChildren,F,lt,z,j,X,$):pt||wt(T,A,lt,null,z,j,X,$,!1),ht>0){if(ht&16)at(lt,A,g,O,z,j,rt);else if(ht&2&&g.class!==O.class&&d(lt,"class",null,O.class,rt),ht&4&&d(lt,"style",g.style,O.style,rt),ht&8){const et=A.dynamicProps;for(let Et=0;Et<et.length;Et++){const Rt=et[Et],Ht=g[Rt],Qt=O[Rt];(Qt!==Ht||Rt==="value")&&d(lt,Rt,Ht,Qt,rt,T.children,z,j,Mt)}}ht&1&&T.children!==A.children&&_(lt,A.children)}else!pt&&F==null&&at(lt,A,g,O,z,j,rt);((U=O.onVnodeUpdated)||v)&&Ue(()=>{U&&dn(U,z,A,T),v&&Zn(A,T,z,"updated")},j)},Y=(T,A,z,j,rt,$,pt)=>{for(let lt=0;lt<A.length;lt++){const ht=T[lt],F=A[lt],v=ht.el&&(ht.type===Ie||!Wr(ht,F)||ht.shapeFlag&70)?h(ht.el):z;R(ht,F,v,null,j,rt,$,pt,!0)}},at=(T,A,z,j,rt,$,pt)=>{if(z!==j){if(z!==re)for(const lt in z)!Li(lt)&&!(lt in j)&&d(T,lt,z[lt],null,pt,A.children,rt,$,Mt);for(const lt in j){if(Li(lt))continue;const ht=j[lt],F=z[lt];ht!==F&&lt!=="value"&&d(T,lt,F,ht,pt,A.children,rt,$,Mt)}"value"in j&&d(T,"value",z.value,j.value)}},mt=(T,A,z,j,rt,$,pt,lt,ht)=>{const F=A.el=T?T.el:m(""),v=A.anchor=T?T.anchor:m("");let{patchFlag:g,dynamicChildren:O,slotScopeIds:U}=A;U&&(lt=lt?lt.concat(U):U),T==null?(l(F,z,j),l(v,z,j),Q(A.children,z,v,rt,$,pt,lt,ht)):g>0&&g&64&&O&&T.dynamicChildren?(Y(T.dynamicChildren,O,z,rt,$,pt,lt),(A.key!=null||rt&&A===rt.subTree)&&qu(T,A,!0)):wt(T,A,z,v,rt,$,pt,lt,ht)},Ut=(T,A,z,j,rt,$,pt,lt,ht)=>{A.slotScopeIds=lt,T==null?A.shapeFlag&512?rt.ctx.activate(A,z,j,pt,ht):Ft(A,z,j,rt,$,pt,ht):Dt(T,A,ht)},Ft=(T,A,z,j,rt,$,pt)=>{const lt=T.component=ed(T,j,rt);if(Au(T)&&(lt.ctx.renderer=N),nd(lt),lt.asyncDep){if(rt&&rt.registerDep(lt,Ot),!T.el){const ht=lt.subTree=Ze(ir);M(null,ht,A,z)}return}Ot(lt,T,A,z,rt,$,pt)},Dt=(T,A,z)=>{const j=A.component=T.component;if(dh(T,A,z))if(j.asyncDep&&!j.asyncResolved){_t(j,A,z);return}else j.next=A,sh(j.update),j.update();else A.el=T.el,j.vnode=A},Ot=(T,A,z,j,rt,$,pt)=>{const lt=()=>{if(T.isMounted){let{next:v,bu:g,u:O,parent:U,vnode:X}=T,et=v,Et;qn(T,!1),v?(v.el=X.el,_t(T,v,pt)):v=X,g&&Ci(g),(Et=v.props&&v.props.onVnodeBeforeUpdate)&&dn(Et,U,v,X),qn(T,!0);const Rt=Ro(T),Ht=T.subTree;T.subTree=Rt,R(Ht,Rt,h(Ht.el),Gt(Ht),T,rt,$),v.el=Rt.el,et===null&&ph(T,Rt.el),O&&Ue(O,rt),(Et=v.props&&v.props.onVnodeUpdated)&&Ue(()=>dn(Et,U,v,X),rt)}else{let v;const{el:g,props:O}=A,{bm:U,m:X,parent:et}=T,Et=Pi(A);if(qn(T,!1),U&&Ci(U),!Et&&(v=O&&O.onVnodeBeforeMount)&&dn(v,et,A),qn(T,!0),g&&st){const Rt=()=>{T.subTree=Ro(T),st(g,T.subTree,T,rt,null)};Et?A.type.__asyncLoader().then(()=>!T.isUnmounted&&Rt()):Rt()}else{const Rt=T.subTree=Ro(T);R(null,Rt,z,j,T,rt,$),A.el=Rt.el}if(X&&Ue(X,rt),!Et&&(v=O&&O.onVnodeMounted)){const Rt=A;Ue(()=>dn(v,et,Rt),rt)}(A.shapeFlag&256||et&&Pi(et.vnode)&&et.vnode.shapeFlag&256)&&T.a&&Ue(T.a,rt),T.isMounted=!0,A=z=j=null}},ht=T.effect=new Go(lt,()=>is(F),T.scope),F=T.update=()=>ht.run();F.id=T.uid,qn(T,!0),F()},_t=(T,A,z)=>{A.component=T;const j=T.vnode.props;T.vnode=A,T.next=null,Mh(T,A.props,j,z),Bh(T,A.children,z),Or(),Na(),Tr()},wt=(T,A,z,j,rt,$,pt,lt,ht=!1)=>{const F=T&&T.children,v=T?T.shapeFlag:0,g=A.children,{patchFlag:O,shapeFlag:U}=A;if(O>0){if(O&128){q(F,g,z,j,rt,$,pt,lt,ht);return}else if(O&256){W(F,g,z,j,rt,$,pt,lt,ht);return}}U&8?(v&16&&Mt(F,rt,$),g!==F&&_(z,g)):v&16?U&16?q(F,g,z,j,rt,$,pt,lt,ht):Mt(F,rt,$,!0):(v&8&&_(z,""),U&16&&Q(g,z,j,rt,$,pt,lt,ht))},W=(T,A,z,j,rt,$,pt,lt,ht)=>{T=T||Sr,A=A||Sr;const F=T.length,v=A.length,g=Math.min(F,v);let O;for(O=0;O<g;O++){const U=A[O]=ht?Dn(A[O]):pn(A[O]);R(T[O],U,z,null,rt,$,pt,lt,ht)}F>v?Mt(T,rt,$,!0,!1,g):Q(A,z,j,rt,$,pt,lt,ht,g)},q=(T,A,z,j,rt,$,pt,lt,ht)=>{let F=0;const v=A.length;let g=T.length-1,O=v-1;for(;F<=g&&F<=O;){const U=T[F],X=A[F]=ht?Dn(A[F]):pn(A[F]);if(Wr(U,X))R(U,X,z,null,rt,$,pt,lt,ht);else break;F++}for(;F<=g&&F<=O;){const U=T[g],X=A[O]=ht?Dn(A[O]):pn(A[O]);if(Wr(U,X))R(U,X,z,null,rt,$,pt,lt,ht);else break;g--,O--}if(F>g){if(F<=O){const U=O+1,X=U<v?A[U].el:j;for(;F<=O;)R(null,A[F]=ht?Dn(A[F]):pn(A[F]),z,X,rt,$,pt,lt,ht),F++}}else if(F>O)for(;F<=g;)St(T[F],rt,$,!0),F++;else{const U=F,X=F,et=new Map;for(F=X;F<=O;F++){const le=A[F]=ht?Dn(A[F]):pn(A[F]);le.key!=null&&et.set(le.key,F)}let Et,Rt=0;const Ht=O-X+1;let Qt=!1,Xt=0;const Ee=new Array(Ht);for(F=0;F<Ht;F++)Ee[F]=0;for(F=U;F<=g;F++){const le=T[F];if(Rt>=Ht){St(le,rt,$,!0);continue}let _e;if(le.key!=null)_e=et.get(le.key);else for(Et=X;Et<=O;Et++)if(Ee[Et-X]===0&&Wr(le,A[Et])){_e=Et;break}_e===void 0?St(le,rt,$,!0):(Ee[_e-X]=F+1,_e>=Xt?Xt=_e:Qt=!0,R(le,A[_e],z,null,rt,$,pt,lt,ht),Rt++)}const _n=Qt?Xh(Ee):Sr;for(Et=_n.length-1,F=Ht-1;F>=0;F--){const le=X+F,_e=A[le],ur=le+1<v?A[le+1].el:j;Ee[F]===0?R(null,_e,z,ur,rt,$,pt,lt,ht):Qt&&(Et<0||F!==_n[Et]?ct(_e,z,ur,2):Et--)}}},ct=(T,A,z,j,rt=null)=>{const{el:$,type:pt,transition:lt,children:ht,shapeFlag:F}=T;if(F&6){ct(T.component.subTree,A,z,j);return}if(F&128){T.suspense.move(A,z,j);return}if(F&64){pt.move(T,A,z,N);return}if(pt===Ie){l($,A,z);for(let g=0;g<ht.length;g++)ct(ht[g],A,z,j);l(T.anchor,A,z);return}if(pt===Mi){G(T,A,z);return}if(j!==2&&F&1&&lt)if(j===0)lt.beforeEnter($),l($,A,z),Ue(()=>lt.enter($),rt);else{const{leave:g,delayLeave:O,afterLeave:U}=lt,X=()=>l($,A,z),et=()=>{g($,()=>{X(),U&&U()})};O?O($,X,et):et()}else l($,A,z)},St=(T,A,z,j=!1,rt=!1)=>{const{type:$,props:pt,ref:lt,children:ht,dynamicChildren:F,shapeFlag:v,patchFlag:g,dirs:O}=T;if(lt!=null&&Wo(lt,null,z,T,!0),v&256){A.ctx.deactivate(T);return}const U=v&1&&O,X=!Pi(T);let et;if(X&&(et=pt&&pt.onVnodeBeforeUnmount)&&dn(et,A,T),v&6)Ct(T.component,z,j);else{if(v&128){T.suspense.unmount(z,j);return}U&&Zn(T,null,A,"beforeUnmount"),v&64?T.type.remove(T,A,z,rt,N,j):F&&($!==Ie||g>0&&g&64)?Mt(F,A,z,!1,!0):($===Ie&&g&384||!rt&&v&16)&&Mt(ht,A,z),j&&jt(T)}(X&&(et=pt&&pt.onVnodeUnmounted)||U)&&Ue(()=>{et&&dn(et,A,T),U&&Zn(T,null,A,"unmounted")},z)},jt=T=>{const{type:A,el:z,anchor:j,transition:rt}=T;if(A===Ie){Lt(z,j);return}if(A===Mi){V(T);return}const $=()=>{f(z),rt&&!rt.persisted&&rt.afterLeave&&rt.afterLeave()};if(T.shapeFlag&1&&rt&&!rt.persisted){const{leave:pt,delayLeave:lt}=rt,ht=()=>pt(z,$);lt?lt(T.el,$,ht):ht()}else $()},Lt=(T,A)=>{let z;for(;T!==A;)z=b(T),f(T),T=z;f(A)},Ct=(T,A,z)=>{const{bum:j,scope:rt,update:$,subTree:pt,um:lt}=T;j&&Ci(j),rt.stop(),$&&($.active=!1,St(pt,T,A,z)),lt&&Ue(lt,A),Ue(()=>{T.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},Mt=(T,A,z,j=!1,rt=!1,$=0)=>{for(let pt=$;pt<T.length;pt++)St(T[pt],A,z,j,rt)},Gt=T=>T.shapeFlag&6?Gt(T.component.subTree):T.shapeFlag&128?T.suspense.next():b(T.anchor||T.el),Yt=(T,A,z)=>{T==null?A._vnode&&St(A._vnode,null,null,!0):R(A._vnode||null,T,A,null,null,null,z),Na(),Ru(),A._vnode=T},N={p:R,um:St,m:ct,r:jt,mt:Ft,mc:Q,pc:wt,pbc:Y,n:Gt,o:r};let L,st;return s&&([L,st]=s(N)),{render:Yt,hydrate:L,createApp:Wh(Yt,L)}}function qn({effect:r,update:s},c){r.allowRecurse=s.allowRecurse=c}function qu(r,s,c=!1){const l=r.children,f=s.children;if(Pt(l)&&Pt(f))for(let d=0;d<l.length;d++){const w=l[d];let m=f[d];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=f[d]=Dn(f[d]),m.el=w.el),c||qu(w,m)),m.type===oo&&(m.el=w.el)}}function Xh(r){const s=r.slice(),c=[0];let l,f,d,w,m;const E=r.length;for(l=0;l<E;l++){const S=r[l];if(S!==0){if(f=c[c.length-1],r[f]<S){s[l]=f,c.push(l);continue}for(d=0,w=c.length-1;d<w;)m=d+w>>1,r[c[m]]<S?d=m+1:w=m;S<r[c[d]]&&(d>0&&(s[l]=c[d-1]),c[d]=l)}}for(d=c.length,w=c[d-1];d-- >0;)c[d]=w,w=s[w];return c}const Yh=r=>r.__isTeleport,Ie=Symbol(void 0),oo=Symbol(void 0),ir=Symbol(void 0),Mi=Symbol(void 0),Zr=[];let nn=null;function zt(r=!1){Zr.push(nn=r?null:[])}function Zh(){Zr.pop(),nn=Zr[Zr.length-1]||null}let ei=1;function Ba(r){ei+=r}function Ku(r){return r.dynamicChildren=ei>0?nn||Sr:null,Zh(),ei>0&&nn&&nn.push(r),r}function Vt(r,s,c,l,f,d){return Ku(J(r,s,c,l,f,d,!0))}function ai(r,s,c,l,f){return Ku(Ze(r,s,c,l,f,!0))}function qh(r){return r?r.__v_isVNode===!0:!1}function Wr(r,s){return r.type===s.type&&r.key===s.key}const so="__vInternal",Ju=({key:r})=>r??null,Ui=({ref:r,ref_key:s,ref_for:c})=>r!=null?ge(r)||ye(r)||Wt(r)?{i:Ye,r,k:s,f:!!c}:r:null;function J(r,s=null,c=null,l=0,f=null,d=r===Ie?0:1,w=!1,m=!1){const E={__v_isVNode:!0,__v_skip:!0,type:r,props:s,key:s&&Ju(s),ref:s&&Ui(s),scopeId:ro,slotScopeIds:null,children:c,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:l,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:Ye};return m?(us(E,c),d&128&&r.normalize(E)):c&&(E.shapeFlag|=ge(c)?8:16),ei>0&&!w&&nn&&(E.patchFlag>0||d&6)&&E.patchFlag!==32&&nn.push(E),E}const Ze=Kh;function Kh(r,s=null,c=null,l=0,f=null,d=!1){if((!r||r===Bu)&&(r=ir),qh(r)){const m=Ir(r,s,!0);return c&&us(m,c),ei>0&&!d&&nn&&(m.shapeFlag&6?nn[nn.indexOf(r)]=m:nn.push(m)),m.patchFlag|=-2,m}if(ad(r)&&(r=r.__vccOpts),s){s=Jh(s);let{class:m,style:E}=s;m&&!ge(m)&&(s.class=vn(m)),ie(E)&&(Eu(E)&&!Pt(E)&&(E=Ne({},E)),s.style=qi(E))}const w=ge(r)?1:yh(r)?128:Yh(r)?64:ie(r)?4:Wt(r)?2:0;return J(r,s,c,l,f,w,d,!0)}function Jh(r){return r?Eu(r)||so in r?Ne({},r):r:null}function Ir(r,s,c=!1){const{props:l,ref:f,patchFlag:d,children:w}=r,m=s?Qh(l||{},s):l;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:m,key:m&&Ju(m),ref:s&&s.ref?c&&f?Pt(f)?f.concat(Ui(s)):[f,Ui(s)]:Ui(s):f,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:w,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:s&&r.type!==Ie?d===-1?16:d|16:d,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Ir(r.ssContent),ssFallback:r.ssFallback&&Ir(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce}}function Gu(r=" ",s=0){return Ze(oo,null,r,s)}function Gh(r,s){const c=Ze(Mi,null,r);return c.staticCount=s,c}function Fe(r="",s=!1){return s?(zt(),ai(ir,null,r)):Ze(ir,null,r)}function pn(r){return r==null||typeof r=="boolean"?Ze(ir):Pt(r)?Ze(Ie,null,r.slice()):typeof r=="object"?Dn(r):Ze(oo,null,String(r))}function Dn(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Ir(r)}function us(r,s){let c=0;const{shapeFlag:l}=r;if(s==null)s=null;else if(Pt(s))c=16;else if(typeof s=="object")if(l&65){const f=s.default;f&&(f._c&&(f._d=!1),us(r,f()),f._c&&(f._d=!0));return}else{c=32;const f=s._;!f&&!(so in s)?s._ctx=Ye:f===3&&Ye&&(Ye.slots._===1?s._=1:(s._=2,r.patchFlag|=1024))}else Wt(s)?(s={default:s,_ctx:Ye},c=32):(s=String(s),l&64?(c=16,s=[Gu(s)]):c=8);r.children=s,r.shapeFlag|=c}function Qh(...r){const s={};for(let c=0;c<r.length;c++){const l=r[c];for(const f in l)if(f==="class")s.class!==l.class&&(s.class=vn([s.class,l.class]));else if(f==="style")s.style=qi([s.style,l.style]);else if(Ji(f)){const d=s[f],w=l[f];w&&d!==w&&!(Pt(d)&&d.includes(w))&&(s[f]=d?[].concat(d,w):w)}else f!==""&&(s[f]=l[f])}return s}function dn(r,s,c,l=null){on(r,s,7,[c,l])}const $h=Zu();let td=0;function ed(r,s,c){const l=r.type,f=(s?s.appContext:r.appContext)||$h,d={uid:td++,vnode:r,type:l,parent:s,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new uu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hu(l,f),emitsOptions:Du(l,f),emit:null,emitted:null,propsDefaults:re,inheritAttrs:l.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:c,suspenseId:c?c.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=s?s.root:d,d.emit=ch.bind(null,d),r.ce&&r.ce(d),d}let pe=null;const qe=()=>pe||Ye,kr=r=>{pe=r,r.scope.on()},nr=()=>{pe&&pe.scope.off(),pe=null};function Qu(r){return r.vnode.shapeFlag&4}let ni=!1;function nd(r,s=!1){ni=s;const{props:c,children:l}=r.vnode,f=Qu(r);Ph(r,c,f,s),jh(r,l);const d=f?rd(r,s):void 0;return ni=!1,d}function rd(r,s){const c=r.type;r.accessCache=Object.create(null),r.proxy=Fr(new Proxy(r.ctx,Rh));const{setup:l}=c;if(l){const f=r.setupContext=l.length>1?od(r):null;kr(r),Or();const d=Pn(l,r,0,[r.props,f]);if(Tr(),nr(),ou(d)){if(d.then(nr,nr),s)return d.then(w=>{za(r,w,s)}).catch(w=>{eo(w,r,0)});r.asyncDep=d}else za(r,d,s)}else $u(r,s)}function za(r,s,c){Wt(s)?r.type.__ssrInlineRender?r.ssrRender=s:r.render=s:ie(s)&&(r.setupState=Fu(s)),$u(r,c)}let Wa;function $u(r,s,c){const l=r.type;if(!r.render){if(!s&&Wa&&!l.render){const f=l.template||ss(r).template;if(f){const{isCustomElement:d,compilerOptions:w}=r.appContext.config,{delimiters:m,compilerOptions:E}=l,S=Ne(Ne({isCustomElement:d,delimiters:m},w),E);l.render=Wa(f,S)}}r.render=l.render||rn}kr(r),Or(),Nh(r),Tr(),nr()}function id(r){return new Proxy(r.attrs,{get(s,c){return ze(r,"get","$attrs"),s[c]}})}function od(r){const s=l=>{r.exposed=l||{}};let c;return{get attrs(){return c||(c=id(r))},slots:r.slots,emit:r.emit,expose:s}}function ao(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Fu(Fr(r.exposed)),{get(s,c){if(c in s)return s[c];if(c in Yr)return Yr[c](r)},has(s,c){return c in s||c in Yr}}))}function sd(r,s=!0){return Wt(r)?r.displayName||r.name:r.name||s&&r.__name}function ad(r){return Wt(r)&&"__vccOpts"in r}const tc=(r,s)=>rh(r,s,ni),ud=Symbol(""),cd=()=>Xr(ud),ld="3.2.47",fd="http://www.w3.org/2000/svg",Gn=typeof document<"u"?document:null,Ha=Gn&&Gn.createElement("template"),hd={insert:(r,s,c)=>{s.insertBefore(r,c||null)},remove:r=>{const s=r.parentNode;s&&s.removeChild(r)},createElement:(r,s,c,l)=>{const f=s?Gn.createElementNS(fd,r):Gn.createElement(r,c?{is:c}:void 0);return r==="select"&&l&&l.multiple!=null&&f.setAttribute("multiple",l.multiple),f},createText:r=>Gn.createTextNode(r),createComment:r=>Gn.createComment(r),setText:(r,s)=>{r.nodeValue=s},setElementText:(r,s)=>{r.textContent=s},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Gn.querySelector(r),setScopeId(r,s){r.setAttribute(s,"")},insertStaticContent(r,s,c,l,f,d){const w=c?c.previousSibling:s.lastChild;if(f&&(f===d||f.nextSibling))for(;s.insertBefore(f.cloneNode(!0),c),!(f===d||!(f=f.nextSibling)););else{Ha.innerHTML=l?`<svg>${r}</svg>`:r;const m=Ha.content;if(l){const E=m.firstChild;for(;E.firstChild;)m.appendChild(E.firstChild);m.removeChild(E)}s.insertBefore(m,c)}return[w?w.nextSibling:s.firstChild,c?c.previousSibling:s.lastChild]}};function dd(r,s,c){const l=r._vtc;l&&(s=(s?[s,...l]:[...l]).join(" ")),s==null?r.removeAttribute("class"):c?r.setAttribute("class",s):r.className=s}function pd(r,s,c){const l=r.style,f=ge(c);if(c&&!f){if(s&&!ge(s))for(const d in s)c[d]==null&&Ho(l,d,"");for(const d in c)Ho(l,d,c[d])}else{const d=l.display;f?s!==c&&(l.cssText=c):s&&r.removeAttribute("style"),"_vod"in r&&(l.display=d)}}const Va=/\s*!important$/;function Ho(r,s,c){if(Pt(c))c.forEach(l=>Ho(r,s,l));else if(c==null&&(c=""),s.startsWith("--"))r.setProperty(s,c);else{const l=yd(r,s);Va.test(c)?r.setProperty(or(l),c.replace(Va,""),"important"):r[l]=c}}const Xa=["Webkit","Moz","ms"],Do={};function yd(r,s){const c=Do[s];if(c)return c;let l=gn(s);if(l!=="filter"&&l in r)return Do[s]=l;l=$i(l);for(let f=0;f<Xa.length;f++){const d=Xa[f]+l;if(d in r)return Do[s]=d}return s}const Ya="http://www.w3.org/1999/xlink";function vd(r,s,c,l,f){if(l&&s.startsWith("xlink:"))c==null?r.removeAttributeNS(Ya,s.slice(6,s.length)):r.setAttributeNS(Ya,s,c);else{const d=lf(s);c==null||d&&!ru(c)?r.removeAttribute(s):r.setAttribute(s,d?"":c)}}function gd(r,s,c,l,f,d,w){if(s==="innerHTML"||s==="textContent"){l&&w(l,f,d),r[s]=c??"";return}if(s==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=c;const E=c??"";(r.value!==E||r.tagName==="OPTION")&&(r.value=E),c==null&&r.removeAttribute(s);return}let m=!1;if(c===""||c==null){const E=typeof r[s];E==="boolean"?c=ru(c):c==null&&E==="string"?(c="",m=!0):E==="number"&&(c=0,m=!0)}try{r[s]=c}catch{}m&&r.removeAttribute(s)}function Qn(r,s,c,l){r.addEventListener(s,c,l)}function md(r,s,c,l){r.removeEventListener(s,c,l)}function _d(r,s,c,l,f=null){const d=r._vei||(r._vei={}),w=d[s];if(l&&w)w.value=l;else{const[m,E]=wd(s);if(l){const S=d[s]=xd(l,f);Qn(r,m,S,E)}else w&&(md(r,m,w,E),d[s]=void 0)}}const Za=/(?:Once|Passive|Capture)$/;function wd(r){let s;if(Za.test(r)){s={};let l;for(;l=r.match(Za);)r=r.slice(0,r.length-l[0].length),s[l[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):or(r.slice(2)),s]}let Lo=0;const Sd=Promise.resolve(),Ed=()=>Lo||(Sd.then(()=>Lo=0),Lo=Date.now());function xd(r,s){const c=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=c.attached)return;on(bd(l,c.value),s,5,[l])};return c.value=r,c.attached=Ed(),c}function bd(r,s){if(Pt(s)){const c=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{c.call(r),r._stopped=!0},s.map(l=>f=>!f._stopped&&l&&l(f))}else return s}const qa=/^on[a-z]/,Fd=(r,s,c,l,f=!1,d,w,m,E)=>{s==="class"?dd(r,l,f):s==="style"?pd(r,c,l):Ji(s)?Zo(s)||_d(r,s,c,l,w):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Id(r,s,l,f))?gd(r,s,l,d,w,m,E):(s==="true-value"?r._trueValue=l:s==="false-value"&&(r._falseValue=l),vd(r,s,l,f))};function Id(r,s,c,l){return l?!!(s==="innerHTML"||s==="textContent"||s in r&&qa.test(s)&&Wt(c)):s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&r.tagName==="INPUT"||s==="type"&&r.tagName==="TEXTAREA"||qa.test(s)&&ge(c)?!1:s in r}const Xi=r=>{const s=r.props["onUpdate:modelValue"]||!1;return Pt(s)?c=>Ci(s,c):s};function kd(r){r.target.composing=!0}function Ka(r){const s=r.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const je={created(r,{modifiers:{lazy:s,trim:c,number:l}},f){r._assign=Xi(f);const d=l||f.props&&f.props.type==="number";Qn(r,s?"change":"input",w=>{if(w.target.composing)return;let m=r.value;c&&(m=m.trim()),d&&(m=Bi(m)),r._assign(m)}),c&&Qn(r,"change",()=>{r.value=r.value.trim()}),s||(Qn(r,"compositionstart",kd),Qn(r,"compositionend",Ka),Qn(r,"change",Ka))},mounted(r,{value:s}){r.value=s??""},beforeUpdate(r,{value:s,modifiers:{lazy:c,trim:l,number:f}},d){if(r._assign=Xi(d),r.composing||document.activeElement===r&&r.type!=="range"&&(c||l&&r.value.trim()===s||(f||r.type==="number")&&Bi(r.value)===s))return;const w=s??"";r.value!==w&&(r.value=w)}},Ja={deep:!0,created(r,{value:s,modifiers:{number:c}},l){const f=Gi(s);Qn(r,"change",()=>{const d=Array.prototype.filter.call(r.options,w=>w.selected).map(w=>c?Bi(Yi(w)):Yi(w));r._assign(r.multiple?f?new Set(d):d:d[0])}),r._assign=Xi(l)},mounted(r,{value:s}){Ga(r,s)},beforeUpdate(r,s,c){r._assign=Xi(c)},updated(r,{value:s}){Ga(r,s)}};function Ga(r,s){const c=r.multiple;if(!(c&&!Pt(s)&&!Gi(s))){for(let l=0,f=r.options.length;l<f;l++){const d=r.options[l],w=Yi(d);if(c)Pt(s)?d.selected=hf(s,w)>-1:d.selected=s.has(w);else if(Ki(Yi(d),s)){r.selectedIndex!==l&&(r.selectedIndex=l);return}}!c&&r.selectedIndex!==-1&&(r.selectedIndex=-1)}}function Yi(r){return"_value"in r?r._value:r.value}const Od=["ctrl","shift","alt","meta"],Td={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,s)=>Od.some(c=>r[`${c}Key`]&&!s.includes(c))},Qa=(r,s)=>(c,...l)=>{for(let f=0;f<s.length;f++){const d=Td[s[f]];if(d&&d(c,s))return}return r(c,...l)},Rd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},tr=(r,s)=>c=>{if(!("key"in c))return;const l=or(c.key);if(s.some(f=>f===l||Rd[f]===l))return r(c)},Nd=Ne({patchProp:Fd},hd);let $a;function Dd(){return $a||($a=Hh(Nd))}const Ld=(...r)=>{const s=Dd().createApp(...r),{mount:c}=s;return s.mount=l=>{const f=Cd(l);if(!f)return;const d=s._component;!Wt(d)&&!d.render&&!d.template&&(d.template=f.innerHTML),f.innerHTML="";const w=c(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),w},s};function Cd(r){return ge(r)?document.querySelector(r):r}var Ad=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let ec;const uo=r=>ec=r,nc=Symbol();function Vo(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var qr;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(qr||(qr={}));function Pd(){const r=cu(!0),s=r.run(()=>Tt({}));let c=[],l=[];const f=Fr({install(d){uo(f),f._a=d,d.provide(nc,f),d.config.globalProperties.$pinia=f,l.forEach(w=>c.push(w)),l=[]},use(d){return!this._a&&!Ad?l.push(d):c.push(d),this},_p:c,_a:null,_e:r,_s:new Map,state:s});return f}const rc=()=>{};function tu(r,s,c,l=rc){r.push(s);const f=()=>{const d=r.indexOf(s);d>-1&&(r.splice(d,1),l())};return!c&&lu()&&Sf(f),f}function _r(r,...s){r.slice().forEach(c=>{c(...s)})}function Xo(r,s){r instanceof Map&&s instanceof Map&&s.forEach((c,l)=>r.set(l,c)),r instanceof Set&&s instanceof Set&&s.forEach(r.add,r);for(const c in s){if(!s.hasOwnProperty(c))continue;const l=s[c],f=r[c];Vo(f)&&Vo(l)&&r.hasOwnProperty(c)&&!ye(l)&&!An(l)?r[c]=Xo(f,l):r[c]=l}return r}const Md=Symbol();function Ud(r){return!Vo(r)||!r.hasOwnProperty(Md)}const{assign:Ln}=Object;function jd(r){return!!(ye(r)&&r.effect)}function Bd(r,s,c,l){const{state:f,actions:d,getters:w}=s,m=c.state.value[r];let E;function S(){m||(c.state.value[r]=f?f():{});const _=$f(c.state.value[r]);return Ln(_,d,Object.keys(w||{}).reduce((h,b)=>(h[b]=Fr(tc(()=>{uo(c);const p=c._s.get(r);return w[b].call(p,p)})),h),{}))}return E=ic(r,S,s,c,l,!0),E.$reset=function(){const h=f?f():{};this.$patch(b=>{Ln(b,h)})},E}function ic(r,s,c={},l,f,d){let w;const m=Ln({actions:{}},c),E={deep:!0};let S,_,h=Fr([]),b=Fr([]),p;const C=l.state.value[r];!d&&!C&&(l.state.value[r]={}),Tt({});let R;function D(K){let Q;S=_=!1,typeof K=="function"?(K(l.state.value[r]),Q={type:qr.patchFunction,storeId:r,events:p}):(Xo(l.state.value[r],K),Q={type:qr.patchObject,payload:K,storeId:r,events:p});const ut=R=Symbol();Ou().then(()=>{R===ut&&(S=!0)}),_=!0,_r(h,Q,l.state.value[r])}const M=rc;function B(){w.stop(),h=[],b=[],l._s.delete(r)}function G(K,Q){return function(){uo(l);const ut=Array.from(arguments),Y=[],at=[];function mt(Dt){Y.push(Dt)}function Ut(Dt){at.push(Dt)}_r(b,{args:ut,name:K,store:Z,after:mt,onError:Ut});let Ft;try{Ft=Q.apply(this&&this.$id===r?this:Z,ut)}catch(Dt){throw _r(at,Dt),Dt}return Ft instanceof Promise?Ft.then(Dt=>(_r(Y,Dt),Dt)).catch(Dt=>(_r(at,Dt),Promise.reject(Dt))):(_r(Y,Ft),Ft)}}const V={_p:l,$id:r,$onAction:tu.bind(null,b),$patch:D,$reset:M,$subscribe(K,Q={}){const ut=tu(h,K,Q.detached,()=>Y()),Y=w.run(()=>Ai(()=>l.state.value[r],at=>{(Q.flush==="sync"?_:S)&&K({storeId:r,type:qr.direct,events:p},at)},Ln({},E,Q)));return ut},$dispose:B},Z=Rr(V);l._s.set(r,Z);const yt=l._e.run(()=>(w=cu(),w.run(()=>s())));for(const K in yt){const Q=yt[K];if(ye(Q)&&!jd(Q)||An(Q))d||(C&&Ud(Q)&&(ye(Q)?Q.value=C[K]:Xo(Q,C[K])),l.state.value[r][K]=Q);else if(typeof Q=="function"){const ut=G(K,Q);yt[K]=ut,m.actions[K]=Q}}return Ln(Z,yt),Ln(Jt(Z),yt),Object.defineProperty(Z,"$state",{get:()=>l.state.value[r],set:K=>{D(Q=>{Ln(Q,K)})}}),l._p.forEach(K=>{Ln(Z,w.run(()=>K({store:Z,app:l._a,pinia:l,options:m})))}),C&&d&&c.hydrate&&c.hydrate(Z.$state,C),S=!0,_=!0,Z}function cs(r,s,c){let l,f;const d=typeof s=="function";typeof r=="string"?(l=r,f=d?c:s):(f=r,l=r.id);function w(m,E){const S=qe();return m=m||S&&Xr(nc,null),m&&uo(m),m=ec,m._s.has(l)||(d?ic(l,s,f,m):Bd(l,f,m)),m._s.get(l)}return w.$id=l,w}function zd(r){return{all:r=r||new Map,on:function(s,c){var l=r.get(s);l?l.push(c):r.set(s,[c])},off:function(s,c){var l=r.get(s);l&&(c?l.splice(l.indexOf(c)>>>0,1):r.set(s,[]))},emit:function(s,c){var l=r.get(s);l&&l.slice().map(function(f){f(c)}),(l=r.get("*"))&&l.slice().map(function(f){f(s,c)})}}}var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ri={},Hd={get exports(){return ri},set exports(r){ri=r}};(function(r,s){(function(l,f){r.exports=f()})(Wd,function(){return function(c){var l={};function f(d){if(l[d])return l[d].exports;var w=l[d]={exports:{},id:d,loaded:!1};return c[d].call(w.exports,w,w.exports,f),w.loaded=!0,w.exports}return f.m=c,f.c=l,f.p="",f(0)}([function(c,l,f){(function(d,w,m,E){Object.defineProperty(l,"__esModule",{value:!0});var S=f(2),_=f(9),h;(function(i){i[i.EPERM=1]="EPERM",i[i.ENOENT=2]="ENOENT",i[i.EIO=5]="EIO",i[i.EBADF=9]="EBADF",i[i.EACCES=13]="EACCES",i[i.EBUSY=16]="EBUSY",i[i.EEXIST=17]="EEXIST",i[i.ENOTDIR=20]="ENOTDIR",i[i.EISDIR=21]="EISDIR",i[i.EINVAL=22]="EINVAL",i[i.EFBIG=27]="EFBIG",i[i.ENOSPC=28]="ENOSPC",i[i.EROFS=30]="EROFS",i[i.ENOTEMPTY=39]="ENOTEMPTY",i[i.ENOTSUP=95]="ENOTSUP"})(h||(h={}));var b={};b[h.EPERM]="Operation not permitted.",b[h.ENOENT]="No such file or directory.",b[h.EIO]="Input/output error.",b[h.EBADF]="Bad file descriptor.",b[h.EACCES]="Permission denied.",b[h.EBUSY]="Resource busy or locked.",b[h.EEXIST]="File exists.",b[h.ENOTDIR]="File is not a directory.",b[h.EISDIR]="File is a directory.",b[h.EINVAL]="Invalid argument.",b[h.EFBIG]="File is too big.",b[h.ENOSPC]="No space left on disk.",b[h.EROFS]="Cannot modify a read-only file system.",b[h.ENOTEMPTY]="Directory is not empty.",b[h.ENOTSUP]="Operation is not supported.";var p=function(i){function t(n,e,o){e===void 0&&(e=b[n]),i.call(this,e),this.syscall="",this.errno=n,this.code=h[n],this.path=o,this.stack=new i().stack,this.message="Error: "+this.code+": "+e+(this.path?", '"+this.path+"'":"")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.fromJSON=function(e){var o=new t(0);return o.errno=e.errno,o.code=e.code,o.path=e.path,o.stack=e.stack,o.message=e.message,o},t.fromBuffer=function(e,o){return o===void 0&&(o=0),t.fromJSON(JSON.parse(e.toString("utf8",o+4,o+4+e.readUInt32LE(o))))},t.FileError=function(e,o){return new t(e,b[e],o)},t.ENOENT=function(e){return this.FileError(h.ENOENT,e)},t.EEXIST=function(e){return this.FileError(h.EEXIST,e)},t.EISDIR=function(e){return this.FileError(h.EISDIR,e)},t.ENOTDIR=function(e){return this.FileError(h.ENOTDIR,e)},t.EPERM=function(e){return this.FileError(h.EPERM,e)},t.ENOTEMPTY=function(e){return this.FileError(h.ENOTEMPTY,e)},t.prototype.toString=function(){return this.message},t.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},t.prototype.writeToBuffer=function(e,o){e===void 0&&(e=d.alloc(this.bufferSize())),o===void 0&&(o=0);var a=e.write(JSON.stringify(this.toJSON()),o+4);return e.writeUInt32LE(a,o),e},t.prototype.bufferSize=function(){return 4+d.byteLength(JSON.stringify(this.toJSON()))},t}(Error),C=Object.freeze({get ErrorCode(){return h},ErrorStrings:b,ApiError:p}),R;(function(i){i[i.NOP=0]="NOP",i[i.THROW_EXCEPTION=1]="THROW_EXCEPTION",i[i.TRUNCATE_FILE=2]="TRUNCATE_FILE",i[i.CREATE_FILE=3]="CREATE_FILE"})(R||(R={}));var D=function i(t){if(this.flagStr=t,i.validFlagStrs.indexOf(t)<0)throw new p(h.EINVAL,"Invalid flag: "+t)};D.getFileFlag=function(t){return D.flagCache.hasOwnProperty(t)?D.flagCache[t]:D.flagCache[t]=new D(t)},D.prototype.getFlagString=function(){return this.flagStr},D.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},D.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},D.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},D.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},D.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},D.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},D.prototype.pathExistsAction=function(){return this.isExclusive()?R.THROW_EXCEPTION:this.isTruncating()?R.TRUNCATE_FILE:R.NOP},D.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?R.CREATE_FILE:R.THROW_EXCEPTION},D.flagCache={},D.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var M;(function(i){i[i.FILE=32768]="FILE",i[i.DIRECTORY=16384]="DIRECTORY",i[i.SYMLINK=40960]="SYMLINK"})(M||(M={}));var B=function(t,n,e,o,a,u){if(o===void 0&&(o=new Date),a===void 0&&(a=new Date),u===void 0&&(u=new Date),this.size=n,this.atime=o,this.mtime=a,this.ctime=u,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,e)this.mode=e;else switch(t){case M.FILE:this.mode=420;break;case M.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(n/512),this.mode<4096&&(this.mode|=t)};B.fromBuffer=function(t){var n=t.readUInt32LE(0),e=t.readUInt32LE(4),o=t.readDoubleLE(8),a=t.readDoubleLE(16),u=t.readDoubleLE(24);return new B(e&61440,n,e&4095,new Date(o),new Date(a),new Date(u))},B.prototype.toBuffer=function(){var t=d.alloc(32);return t.writeUInt32LE(this.size,0),t.writeUInt32LE(this.mode,4),t.writeDoubleLE(this.atime.getTime(),8),t.writeDoubleLE(this.mtime.getTime(),16),t.writeDoubleLE(this.ctime.getTime(),24),t},B.prototype.clone=function(){return new B(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},B.prototype.isFile=function(){return(this.mode&61440)===M.FILE},B.prototype.isDirectory=function(){return(this.mode&61440)===M.DIRECTORY},B.prototype.isSymbolicLink=function(){return(this.mode&61440)===M.SYMLINK},B.prototype.chmod=function(t){this.mode=this.mode&61440|t},B.prototype.isSocket=function(){return!1},B.prototype.isBlockDevice=function(){return!1},B.prototype.isCharacterDevice=function(){return!1},B.prototype.isFIFO=function(){return!1};var G=function(i,t){return i};function V(i){if(i)return i;throw new p(h.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function Z(i,t){switch(typeof i){case"number":return i;case"string":var n=parseInt(i,8);return isNaN(n)?t:n;default:return t}}function yt(i){if(i instanceof Date)return i;if(typeof i=="number")return new Date(i*1e3);throw new p(h.EINVAL,"Invalid time.")}function K(i){if(i.indexOf("\0")>=0)throw new p(h.EINVAL,"Path must be a string without null bytes.");if(i==="")throw new p(h.EINVAL,"Path must not be empty.");return _.resolve(i)}function Q(i,t,n,e){switch(typeof i){case"object":return{encoding:typeof i.encoding<"u"?i.encoding:t,flag:typeof i.flag<"u"?i.flag:n,mode:Z(i.mode,e)};case"string":return{encoding:i,flag:n,mode:e};default:return{encoding:t,flag:n,mode:e}}}function ut(){}var Y=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};Y.prototype.initialize=function(t){if(!t.constructor.isAvailable())throw new p(h.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=t},Y.prototype._toUnixTimestamp=function(t){if(typeof t=="number")return t;if(t instanceof Date)return t.getTime()/1e3;throw new Error("Cannot parse time: "+t)},Y.prototype.getRootFS=function(){return this.root?this.root:null},Y.prototype.rename=function(t,n,e){e===void 0&&(e=ut);var o=G(e,1);try{V(this.root).rename(K(t),K(n),o)}catch(a){o(a)}},Y.prototype.renameSync=function(t,n){V(this.root).renameSync(K(t),K(n))},Y.prototype.exists=function(t,n){n===void 0&&(n=ut);var e=G(n,1);try{return V(this.root).exists(K(t),e)}catch{return e(!1)}},Y.prototype.existsSync=function(t){try{return V(this.root).existsSync(K(t))}catch{return!1}},Y.prototype.stat=function(t,n){n===void 0&&(n=ut);var e=G(n,2);try{return V(this.root).stat(K(t),!1,e)}catch(o){return e(o)}},Y.prototype.statSync=function(t){return V(this.root).statSync(K(t),!1)},Y.prototype.lstat=function(t,n){n===void 0&&(n=ut);var e=G(n,2);try{return V(this.root).stat(K(t),!0,e)}catch(o){return e(o)}},Y.prototype.lstatSync=function(t){return V(this.root).statSync(K(t),!0)},Y.prototype.truncate=function(t,n,e){n===void 0&&(n=0),e===void 0&&(e=ut);var o=0;typeof n=="function"?e=n:typeof n=="number"&&(o=n);var a=G(e,1);try{if(o<0)throw new p(h.EINVAL);return V(this.root).truncate(K(t),o,a)}catch(u){return a(u)}},Y.prototype.truncateSync=function(t,n){if(n===void 0&&(n=0),n<0)throw new p(h.EINVAL);return V(this.root).truncateSync(K(t),n)},Y.prototype.unlink=function(t,n){n===void 0&&(n=ut);var e=G(n,1);try{return V(this.root).unlink(K(t),e)}catch(o){return e(o)}},Y.prototype.unlinkSync=function(t){return V(this.root).unlinkSync(K(t))},Y.prototype.open=function(t,n,e,o){var a=this;o===void 0&&(o=ut);var u=Z(e,420);o=typeof e=="function"?e:o;var y=G(o,2);try{V(this.root).open(K(t),D.getFileFlag(n),u,function(x,I){I?y(x,a.getFdForFile(I)):y(x)})}catch(x){y(x)}},Y.prototype.openSync=function(t,n,e){return e===void 0&&(e=420),this.getFdForFile(V(this.root).openSync(K(t),D.getFileFlag(n),Z(e,420)))},Y.prototype.readFile=function(t,n,e){n===void 0&&(n={}),e===void 0&&(e=ut);var o=Q(n,null,"r",null);e=typeof n=="function"?n:e;var a=G(e,2);try{var u=D.getFileFlag(o.flag);return u.isReadable()?V(this.root).readFile(K(t),o.encoding,u,a):a(new p(h.EINVAL,"Flag passed to readFile must allow for reading."))}catch(y){return a(y)}},Y.prototype.readFileSync=function(t,n){n===void 0&&(n={});var e=Q(n,null,"r",null),o=D.getFileFlag(e.flag);if(!o.isReadable())throw new p(h.EINVAL,"Flag passed to readFile must allow for reading.");return V(this.root).readFileSync(K(t),e.encoding,o)},Y.prototype.writeFile=function(t,n,e,o){e===void 0&&(e={}),o===void 0&&(o=ut);var a=Q(e,"utf8","w",420);o=typeof e=="function"?e:o;var u=G(o,1);try{var y=D.getFileFlag(a.flag);return y.isWriteable()?V(this.root).writeFile(K(t),n,a.encoding,y,a.mode,u):u(new p(h.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(x){return u(x)}},Y.prototype.writeFileSync=function(t,n,e){var o=Q(e,"utf8","w",420),a=D.getFileFlag(o.flag);if(!a.isWriteable())throw new p(h.EINVAL,"Flag passed to writeFile must allow for writing.");return V(this.root).writeFileSync(K(t),n,o.encoding,a,o.mode)},Y.prototype.appendFile=function(t,n,e,o){o===void 0&&(o=ut);var a=Q(e,"utf8","a",420);o=typeof e=="function"?e:o;var u=G(o,1);try{var y=D.getFileFlag(a.flag);if(!y.isAppendable())return u(new p(h.EINVAL,"Flag passed to appendFile must allow for appending."));V(this.root).appendFile(K(t),n,a.encoding,y,a.mode,u)}catch(x){u(x)}},Y.prototype.appendFileSync=function(t,n,e){var o=Q(e,"utf8","a",420),a=D.getFileFlag(o.flag);if(!a.isAppendable())throw new p(h.EINVAL,"Flag passed to appendFile must allow for appending.");return V(this.root).appendFileSync(K(t),n,o.encoding,a,o.mode)},Y.prototype.fstat=function(t,n){n===void 0&&(n=ut);var e=G(n,2);try{var o=this.fd2file(t);o.stat(e)}catch(a){e(a)}},Y.prototype.fstatSync=function(t){return this.fd2file(t).statSync()},Y.prototype.close=function(t,n){var e=this;n===void 0&&(n=ut);var o=G(n,1);try{this.fd2file(t).close(function(a){a||e.closeFd(t),o(a)})}catch(a){o(a)}},Y.prototype.closeSync=function(t){this.fd2file(t).closeSync(),this.closeFd(t)},Y.prototype.ftruncate=function(t,n,e){e===void 0&&(e=ut);var o=typeof n=="number"?n:0;e=typeof n=="function"?n:e;var a=G(e,1);try{var u=this.fd2file(t);if(o<0)throw new p(h.EINVAL);u.truncate(o,a)}catch(y){a(y)}},Y.prototype.ftruncateSync=function(t,n){n===void 0&&(n=0);var e=this.fd2file(t);if(n<0)throw new p(h.EINVAL);e.truncateSync(n)},Y.prototype.fsync=function(t,n){n===void 0&&(n=ut);var e=G(n,1);try{this.fd2file(t).sync(e)}catch(o){e(o)}},Y.prototype.fsyncSync=function(t){this.fd2file(t).syncSync()},Y.prototype.fdatasync=function(t,n){n===void 0&&(n=ut);var e=G(n,1);try{this.fd2file(t).datasync(e)}catch(o){e(o)}},Y.prototype.fdatasyncSync=function(t){this.fd2file(t).datasyncSync()},Y.prototype.write=function(t,n,e,o,a,u){u===void 0&&(u=ut);var y,x,I,P=null;if(typeof n=="string"){var H="utf8";switch(typeof e){case"function":u=e;break;case"number":P=e,H=typeof o=="string"?o:"utf8",u=typeof a=="function"?a:u;break;default:return u=typeof o=="function"?o:typeof a=="function"?a:u,u(new p(h.EINVAL,"Invalid arguments."))}y=d.from(n,H),x=0,I=y.length}else y=n,x=e,I=o,P=typeof a=="number"?a:null,u=typeof a=="function"?a:u;var nt=G(u,3);try{var ft=this.fd2file(t);P==null&&(P=ft.getPos()),ft.write(y,x,I,P,nt)}catch(dt){nt(dt)}},Y.prototype.writeSync=function(t,n,e,o,a){var u,y=0,x,I;if(typeof n=="string"){I=typeof e=="number"?e:null;var P=typeof o=="string"?o:"utf8";y=0,u=d.from(n,P),x=u.length}else u=n,y=e,x=o,I=typeof a=="number"?a:null;var H=this.fd2file(t);return I==null&&(I=H.getPos()),H.writeSync(u,y,x,I)},Y.prototype.read=function(t,n,e,o,a,u){u===void 0&&(u=ut);var y,x,I,P,H;if(typeof n=="number"){I=n,y=e;var nt=o;u=typeof a=="function"?a:u,x=0,P=d.alloc(I),H=G(function(dt,It,Nt){if(dt)return u(dt);u(dt,Nt.toString(nt),It)},3)}else P=n,x=e,I=o,y=a,H=G(u,3);try{var ft=this.fd2file(t);y==null&&(y=ft.getPos()),ft.read(P,x,I,y,H)}catch(dt){H(dt)}},Y.prototype.readSync=function(t,n,e,o,a){var u=!1,y,x,I,P,H="utf8";typeof n=="number"?(I=n,P=e,H=o,x=0,y=d.alloc(I),u=!0):(y=n,x=e,I=o,P=a);var nt=this.fd2file(t);P==null&&(P=nt.getPos());var ft=nt.readSync(y,x,I,P);return u?[y.toString(H),ft]:ft},Y.prototype.fchown=function(t,n,e,o){o===void 0&&(o=ut);var a=G(o,1);try{this.fd2file(t).chown(n,e,a)}catch(u){a(u)}},Y.prototype.fchownSync=function(t,n,e){this.fd2file(t).chownSync(n,e)},Y.prototype.fchmod=function(t,n,e){var o=G(e,1);try{var a=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmod(a,o)}catch(u){o(u)}},Y.prototype.fchmodSync=function(t,n){var e=typeof n=="string"?parseInt(n,8):n;this.fd2file(t).chmodSync(e)},Y.prototype.futimes=function(t,n,e,o){o===void 0&&(o=ut);var a=G(o,1);try{var u=this.fd2file(t);typeof n=="number"&&(n=new Date(n*1e3)),typeof e=="number"&&(e=new Date(e*1e3)),u.utimes(n,e,a)}catch(y){a(y)}},Y.prototype.futimesSync=function(t,n,e){this.fd2file(t).utimesSync(yt(n),yt(e))},Y.prototype.rmdir=function(t,n){n===void 0&&(n=ut);var e=G(n,1);try{t=K(t),V(this.root).rmdir(t,e)}catch(o){e(o)}},Y.prototype.rmdirSync=function(t){return t=K(t),V(this.root).rmdirSync(t)},Y.prototype.mkdir=function(t,n,e){e===void 0&&(e=ut),typeof n=="function"&&(e=n,n=511);var o=G(e,1);try{t=K(t),V(this.root).mkdir(t,n,o)}catch(a){o(a)}},Y.prototype.mkdirSync=function(t,n){V(this.root).mkdirSync(K(t),Z(n,511))},Y.prototype.readdir=function(t,n){n===void 0&&(n=ut);var e=G(n,2);try{t=K(t),V(this.root).readdir(t,e)}catch(o){e(o)}},Y.prototype.readdirSync=function(t){return t=K(t),V(this.root).readdirSync(t)},Y.prototype.link=function(t,n,e){e===void 0&&(e=ut);var o=G(e,1);try{t=K(t),n=K(n),V(this.root).link(t,n,o)}catch(a){o(a)}},Y.prototype.linkSync=function(t,n){return t=K(t),n=K(n),V(this.root).linkSync(t,n)},Y.prototype.symlink=function(t,n,e,o){o===void 0&&(o=ut);var a=typeof e=="string"?e:"file";o=typeof e=="function"?e:o;var u=G(o,1);try{if(a!=="file"&&a!=="dir")return u(new p(h.EINVAL,"Invalid type: "+a));t=K(t),n=K(n),V(this.root).symlink(t,n,a,u)}catch(y){u(y)}},Y.prototype.symlinkSync=function(t,n,e){if(!e)e="file";else if(e!=="file"&&e!=="dir")throw new p(h.EINVAL,"Invalid type: "+e);return t=K(t),n=K(n),V(this.root).symlinkSync(t,n,e)},Y.prototype.readlink=function(t,n){n===void 0&&(n=ut);var e=G(n,2);try{t=K(t),V(this.root).readlink(t,e)}catch(o){e(o)}},Y.prototype.readlinkSync=function(t){return t=K(t),V(this.root).readlinkSync(t)},Y.prototype.chown=function(t,n,e,o){o===void 0&&(o=ut);var a=G(o,1);try{t=K(t),V(this.root).chown(t,!1,n,e,a)}catch(u){a(u)}},Y.prototype.chownSync=function(t,n,e){t=K(t),V(this.root).chownSync(t,!1,n,e)},Y.prototype.lchown=function(t,n,e,o){o===void 0&&(o=ut);var a=G(o,1);try{t=K(t),V(this.root).chown(t,!0,n,e,a)}catch(u){a(u)}},Y.prototype.lchownSync=function(t,n,e){t=K(t),V(this.root).chownSync(t,!0,n,e)},Y.prototype.chmod=function(t,n,e){e===void 0&&(e=ut);var o=G(e,1);try{var a=Z(n,-1);if(a<0)throw new p(h.EINVAL,"Invalid mode.");V(this.root).chmod(K(t),!1,a,o)}catch(u){o(u)}},Y.prototype.chmodSync=function(t,n){var e=Z(n,-1);if(e<0)throw new p(h.EINVAL,"Invalid mode.");t=K(t),V(this.root).chmodSync(t,!1,e)},Y.prototype.lchmod=function(t,n,e){e===void 0&&(e=ut);var o=G(e,1);try{var a=Z(n,-1);if(a<0)throw new p(h.EINVAL,"Invalid mode.");V(this.root).chmod(K(t),!0,a,o)}catch(u){o(u)}},Y.prototype.lchmodSync=function(t,n){var e=Z(n,-1);if(e<1)throw new p(h.EINVAL,"Invalid mode.");V(this.root).chmodSync(K(t),!0,e)},Y.prototype.utimes=function(t,n,e,o){o===void 0&&(o=ut);var a=G(o,1);try{V(this.root).utimes(K(t),yt(n),yt(e),a)}catch(u){a(u)}},Y.prototype.utimesSync=function(t,n,e){V(this.root).utimesSync(K(t),yt(n),yt(e))},Y.prototype.realpath=function(t,n,e){e===void 0&&(e=ut);var o=typeof n=="object"?n:{};e=typeof n=="function"?n:ut;var a=G(e,2);try{t=K(t),V(this.root).realpath(t,o,a)}catch(u){a(u)}},Y.prototype.realpathSync=function(t,n){return n===void 0&&(n={}),t=K(t),V(this.root).realpathSync(t,n)},Y.prototype.watchFile=function(t,n,e){throw new p(h.ENOTSUP)},Y.prototype.unwatchFile=function(t,n){throw new p(h.ENOTSUP)},Y.prototype.watch=function(t,n,e){throw new p(h.ENOTSUP)},Y.prototype.access=function(t,n,e){throw new p(h.ENOTSUP)},Y.prototype.accessSync=function(t,n){throw new p(h.ENOTSUP)},Y.prototype.createReadStream=function(t,n){throw new p(h.ENOTSUP)},Y.prototype.createWriteStream=function(t,n){throw new p(h.ENOTSUP)},Y.prototype.wrapCallbacks=function(t){G=t},Y.prototype.getFdForFile=function(t){var n=this.nextFd++;return this.fdMap[n]=t,n},Y.prototype.fd2file=function(t){var n=this.fdMap[t];if(n)return n;throw new p(h.EBADF,"Invalid file descriptor.")},Y.prototype.closeFd=function(t){delete this.fdMap[t]},Y.Stats=B;var at=new Y,mt={},Ut=Y.prototype;Object.keys(Ut).forEach(function(i){typeof at[i]=="function"?mt[i]=function(){return at[i].apply(at,arguments)}:mt[i]=at[i]}),mt.changeFSModule=function(i){at=i},mt.getFSModule=function(){return at},mt.FS=Y;function Ft(i,t,n,e,o){return i<t||n<t?i>n?n+1:i+1:e===o?t:t+1}function Dt(i,t){if(i===t)return 0;if(i.length>t.length){var n=i;i=t,t=n}for(var e=i.length,o=t.length;e>0&&i.charCodeAt(e-1)===t.charCodeAt(o-1);)e--,o--;for(var a=0;a<e&&i.charCodeAt(a)===t.charCodeAt(a);)a++;if(e-=a,o-=a,e===0||o===1)return o;for(var u=new Array(e<<1),y=0;y<e;)u[e+y]=i.charCodeAt(a+y),u[y]=++y;var x,I,P,H,nt;for(x=0;x+3<o;)for(var ft=t.charCodeAt(a+(I=x)),dt=t.charCodeAt(a+(P=x+1)),It=t.charCodeAt(a+(H=x+2)),Nt=t.charCodeAt(a+(nt=x+3)),Bt=x+=4,ae=0;ae<e;){var be=u[e+ae],fn=u[ae];I=Ft(fn,I,P,ft,be),P=Ft(I,P,H,dt,be),H=Ft(P,H,nt,It,be),Bt=Ft(H,nt,Bt,Nt,be),u[ae++]=Bt,nt=H,H=P,P=I,I=fn}for(var hn=0;x<o;){var mr=t.charCodeAt(a+(I=x));hn=++x;for(var bn=0;bn<e;bn++){var Fn=u[bn];u[bn]=hn=Fn<I||hn<I?Fn>hn?hn+1:Fn+1:mr===u[e+bn]?I:I+1,I=Fn}}return hn}function Ot(i,t,n){i&&console.warn("["+t+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+t+".Create("+JSON.stringify(n)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var _t=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),wt=typeof window>"u";function W(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function q(i,t,n){n.existsSync(i)||(q(_.dirname(i),t,n),n.mkdirSync(i,t))}function ct(i){var t=St(i),n=t.byteOffset,e=t.byteLength;return n===0&&e===t.buffer.byteLength?t.buffer:t.buffer.slice(n,n+e)}function St(i){return i instanceof Uint8Array?i:new Uint8Array(i)}function jt(i){return i instanceof d?i:i instanceof Uint8Array?Lt(i):d.from(i)}function Lt(i){return i instanceof d?i:i.byteOffset===0&&i.byteLength===i.buffer.byteLength?Ct(i.buffer):d.from(i.buffer,i.byteOffset,i.byteLength)}function Ct(i){return d.from(i)}function Mt(i,t,n){if(t===void 0&&(t=0),n===void 0&&(n=i.length),t<0||n<0||n>i.length||t>n)throw new TypeError("Invalid slice bounds on buffer of length "+i.length+": ["+t+", "+n+"]");if(i.length===0)return Yt();var e=St(i),o=i[0],a=(o+1)%255;return i[0]=a,e[0]===a?(e[0]=o,Lt(e.slice(t,n))):(i[0]=o,Lt(e.subarray(t,n)))}var Gt=null;function Yt(){return Gt||(Gt=d.alloc(0))}function N(i,t){d.isBuffer(i)?t():t(new p(h.EINVAL,"option must be a Buffer."))}function L(i,t,n){var e=i.Options,o=i.Name,a=0,u=!1,y=!1;function x(nt){u||(nt&&(u=!0,n(nt)),a--,a===0&&y&&n())}var I=function(nt){if(e.hasOwnProperty(nt)){var ft=e[nt],dt=t[nt];if(dt==null){if(!ft.optional){var It=Object.keys(t).filter(function(Bt){return!(Bt in e)}).map(function(Bt){return{str:Bt,distance:Dt(nt,Bt)}}).filter(function(Bt){return Bt.distance<5}).sort(function(Bt,ae){return Bt.distance-ae.distance});return u?{}:(u=!0,{v:n(new p(h.EINVAL,"["+o+"] Required option '"+nt+"' not provided."+(It.length>0?" You provided unrecognized option '"+It[0].str+"'; perhaps you meant to type '"+nt+"'.":"")+`
Option description: `+ft.description))})}}else{var Nt=!1;if(Array.isArray(ft.type)?Nt=ft.type.indexOf(typeof dt)!==-1:Nt=typeof dt===ft.type,Nt)ft.validator&&(a++,ft.validator(dt,x));else return u?{}:(u=!0,{v:n(new p(h.EINVAL,"["+o+"] Value provided for option "+nt+" is not the proper type. Expected "+(Array.isArray(ft.type)?"one of {"+ft.type.join(", ")+"}":ft.type)+", but received "+typeof dt+`
Option description: `+ft.description))})}}};for(var P in e){var H=I(P);if(H)return H.v}y=!0,a===0&&!u&&n()}var st=Object.freeze({deprecationMessage:Ot,isIE:_t,isWebWorker:wt,fail:W,mkdirpSync:q,buffer2ArrayBuffer:ct,buffer2Uint8array:St,arrayish2Buffer:jt,uint8Array2Buffer:Lt,arrayBuffer2Buffer:Ct,copyingSlice:Mt,emptyBuffer:Yt,bufferValidator:N,checkOptions:L}),T=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};T.prototype.open=function(t){var n=this.fs.realPath(t.node),e=this.FS;try{e.isFile(t.node.mode)&&(t.nfd=this.nodefs.openSync(n,this.fs.flagsToPermissionString(t.flags)))}catch(o){throw o.code?new e.ErrnoError(this.ERRNO_CODES[o.code]):o}},T.prototype.close=function(t){var n=this.FS;try{n.isFile(t.node.mode)&&t.nfd&&this.nodefs.closeSync(t.nfd)}catch(e){throw e.code?new n.ErrnoError(this.ERRNO_CODES[e.code]):e}},T.prototype.read=function(t,n,e,o,a){try{return this.nodefs.readSync(t.nfd,Lt(n),e,o,a)}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}},T.prototype.write=function(t,n,e,o,a){try{return this.nodefs.writeSync(t.nfd,Lt(n),e,o,a)}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}},T.prototype.llseek=function(t,n,e){var o=n;if(e===1)o+=t.position;else if(e===2&&this.FS.isFile(t.node.mode))try{var a=this.nodefs.fstatSync(t.nfd);o+=a.size}catch(u){throw new this.FS.ErrnoError(this.ERRNO_CODES[u.code])}if(o<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return t.position=o,o};var A=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};A.prototype.getattr=function(t){var n=this.fs.realPath(t),e;try{e=this.nodefs.lstatSync(n)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}return{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},A.prototype.setattr=function(t,n){var e=this.fs.realPath(t);try{if(n.mode!==void 0&&(this.nodefs.chmodSync(e,n.mode),t.mode=n.mode),n.timestamp!==void 0){var o=new Date(n.timestamp);this.nodefs.utimesSync(e,o,o)}}catch(a){if(!a.code)throw a;if(a.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[a.code])}if(n.size!==void 0)try{this.nodefs.truncateSync(e,n.size)}catch(a){throw a.code?new this.FS.ErrnoError(this.ERRNO_CODES[a.code]):a}},A.prototype.lookup=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n),o=this.fs.getMode(e);return this.fs.createNode(t,n,o)},A.prototype.mknod=function(t,n,e,o){var a=this.fs.createNode(t,n,e,o),u=this.fs.realPath(a);try{this.FS.isDir(a.mode)?this.nodefs.mkdirSync(u,a.mode):this.nodefs.writeFileSync(u,"",{mode:a.mode})}catch(y){throw y.code?new this.FS.ErrnoError(this.ERRNO_CODES[y.code]):y}return a},A.prototype.rename=function(t,n,e){var o=this.fs.realPath(t),a=this.PATH.join2(this.fs.realPath(n),e);try{this.nodefs.renameSync(o,a),t.name=e,t.parent=n}catch(u){throw u.code?new this.FS.ErrnoError(this.ERRNO_CODES[u.code]):u}},A.prototype.unlink=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.unlinkSync(e)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},A.prototype.rmdir=function(t,n){var e=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.rmdirSync(e)}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},A.prototype.readdir=function(t){var n=this.fs.realPath(t);try{var e=this.nodefs.readdirSync(n);return e.push(".",".."),e}catch(o){throw o.code?new this.FS.ErrnoError(this.ERRNO_CODES[o.code]):o}},A.prototype.symlink=function(t,n,e){var o=this.PATH.join2(this.fs.realPath(t),n);try{this.nodefs.symlinkSync(e,o)}catch(a){throw a.code?new this.FS.ErrnoError(this.ERRNO_CODES[a.code]):a}},A.prototype.readlink=function(t){var n=this.fs.realPath(t);try{return this.nodefs.readlinkSync(n)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}};var z=function(t,n,e,o){t===void 0&&(t=self.FS),n===void 0&&(n=self.PATH),e===void 0&&(e=self.ERRNO_CODES),o===void 0&&(o=mt),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=o,this.FS=t,this.PATH=n,this.ERRNO_CODES=e,this.node_ops=new A(this),this.stream_ops=new T(this)};z.prototype.mount=function(t){return this.createNode(null,"/",this.getMode(t.opts.root),0)},z.prototype.createNode=function(t,n,e,o){var a=this.FS;if(!a.isDir(e)&&!a.isFile(e)&&!a.isLink(e))throw new a.ErrnoError(this.ERRNO_CODES.EINVAL);var u=a.createNode(t,n,e);return u.node_ops=this.node_ops,u.stream_ops=this.stream_ops,u},z.prototype.getMode=function(t){var n;try{n=this.nodefs.lstatSync(t)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}return n.mode},z.prototype.realPath=function(t){for(var n=[];t.parent!==t;)n.push(t.name),t=t.parent;return n.push(t.mount.opts.root),n.reverse(),this.PATH.join.apply(null,n)},z.prototype.flagsToPermissionString=function(t){var n=typeof t=="string"?parseInt(t,10):t;return n&=8191,n in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[n]:t},z.prototype.getNodeFS=function(){return this.nodefs},z.prototype.getFS=function(){return this.FS},z.prototype.getPATH=function(){return this.PATH},z.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var j=function(){};j.prototype.supportsLinks=function(){return!1},j.prototype.diskSpace=function(t,n){n(0,0)},j.prototype.openFile=function(t,n,e){throw new p(h.ENOTSUP)},j.prototype.createFile=function(t,n,e,o){throw new p(h.ENOTSUP)},j.prototype.open=function(t,n,e,o){var a=this,u=function(y,x){if(y)switch(n.pathNotExistsAction()){case R.CREATE_FILE:return a.stat(_.dirname(t),!1,function(I,P){I?o(I):P&&!P.isDirectory()?o(p.ENOTDIR(_.dirname(t))):a.createFile(t,n,e,o)});case R.THROW_EXCEPTION:return o(p.ENOENT(t));default:return o(new p(h.EINVAL,"Invalid FileFlag object."))}else{if(x&&x.isDirectory())return o(p.EISDIR(t));switch(n.pathExistsAction()){case R.THROW_EXCEPTION:return o(p.EEXIST(t));case R.TRUNCATE_FILE:return a.openFile(t,n,function(I,P){I?o(I):P?P.truncate(0,function(){P.sync(function(){o(null,P)})}):W()});case R.NOP:return a.openFile(t,n,o);default:return o(new p(h.EINVAL,"Invalid FileFlag object."))}}};this.stat(t,!1,u)},j.prototype.rename=function(t,n,e){e(new p(h.ENOTSUP))},j.prototype.renameSync=function(t,n){throw new p(h.ENOTSUP)},j.prototype.stat=function(t,n,e){e(new p(h.ENOTSUP))},j.prototype.statSync=function(t,n){throw new p(h.ENOTSUP)},j.prototype.openFileSync=function(t,n,e){throw new p(h.ENOTSUP)},j.prototype.createFileSync=function(t,n,e){throw new p(h.ENOTSUP)},j.prototype.openSync=function(t,n,e){var o;try{o=this.statSync(t,!1)}catch{switch(n.pathNotExistsAction()){case R.CREATE_FILE:var a=this.statSync(_.dirname(t),!1);if(!a.isDirectory())throw p.ENOTDIR(_.dirname(t));return this.createFileSync(t,n,e);case R.THROW_EXCEPTION:throw p.ENOENT(t);default:throw new p(h.EINVAL,"Invalid FileFlag object.")}}if(o.isDirectory())throw p.EISDIR(t);switch(n.pathExistsAction()){case R.THROW_EXCEPTION:throw p.EEXIST(t);case R.TRUNCATE_FILE:return this.unlinkSync(t),this.createFileSync(t,n,o.mode);case R.NOP:return this.openFileSync(t,n,e);default:throw new p(h.EINVAL,"Invalid FileFlag object.")}},j.prototype.unlink=function(t,n){n(new p(h.ENOTSUP))},j.prototype.unlinkSync=function(t){throw new p(h.ENOTSUP)},j.prototype.rmdir=function(t,n){n(new p(h.ENOTSUP))},j.prototype.rmdirSync=function(t){throw new p(h.ENOTSUP)},j.prototype.mkdir=function(t,n,e){e(new p(h.ENOTSUP))},j.prototype.mkdirSync=function(t,n){throw new p(h.ENOTSUP)},j.prototype.readdir=function(t,n){n(new p(h.ENOTSUP))},j.prototype.readdirSync=function(t){throw new p(h.ENOTSUP)},j.prototype.exists=function(t,n){this.stat(t,null,function(e){n(!e)})},j.prototype.existsSync=function(t){try{return this.statSync(t,!0),!0}catch{return!1}},j.prototype.realpath=function(t,n,e){if(this.supportsLinks())for(var o=t.split(_.sep),a=0;a<o.length;a++){var u=o.slice(0,a+1);o[a]=_.join.apply(null,u)}else this.exists(t,function(y){y?e(null,t):e(p.ENOENT(t))})},j.prototype.realpathSync=function(t,n){if(this.supportsLinks()){for(var e=t.split(_.sep),o=0;o<e.length;o++){var a=e.slice(0,o+1);e[o]=_.join.apply(_,a)}return e.join(_.sep)}else{if(this.existsSync(t))return t;throw p.ENOENT(t)}},j.prototype.truncate=function(t,n,e){this.open(t,D.getFileFlag("r+"),420,function(o,a){if(o)return e(o);a.truncate(n,function(u){a.close(function(y){e(u||y)})})})},j.prototype.truncateSync=function(t,n){var e=this.openSync(t,D.getFileFlag("r+"),420);try{e.truncateSync(n)}catch(o){throw o}finally{e.closeSync()}},j.prototype.readFile=function(t,n,e,o){var a=o;this.open(t,e,420,function(u,y){if(u)return o(u);o=function(x,I){y.close(function(P){return x||(x=P),a(x,I)})},y.stat(function(x,I){if(x)return o(x);var P=d.alloc(I.size);y.read(P,0,I.size,0,function(H){if(H)return o(H);if(n===null)return o(H,P);try{o(null,P.toString(n))}catch(nt){o(nt)}})})})},j.prototype.readFileSync=function(t,n,e){var o=this.openSync(t,e,420);try{var a=o.statSync(),u=d.alloc(a.size);return o.readSync(u,0,a.size,0),o.closeSync(),n===null?u:u.toString(n)}finally{o.closeSync()}},j.prototype.writeFile=function(t,n,e,o,a,u){var y=u;this.open(t,o,420,function(x,I){if(x)return u(x);u=function(P){I.close(function(H){y(P||H)})};try{typeof n=="string"&&(n=d.from(n,e))}catch(P){return u(P)}I.write(n,0,n.length,0,u)})},j.prototype.writeFileSync=function(t,n,e,o,a){var u=this.openSync(t,o,a);try{typeof n=="string"&&(n=d.from(n,e)),u.writeSync(n,0,n.length,0)}finally{u.closeSync()}},j.prototype.appendFile=function(t,n,e,o,a,u){var y=u;this.open(t,o,a,function(x,I){if(x)return u(x);u=function(P){I.close(function(H){y(P||H)})},typeof n=="string"&&(n=d.from(n,e)),I.write(n,0,n.length,null,u)})},j.prototype.appendFileSync=function(t,n,e,o,a){var u=this.openSync(t,o,a);try{typeof n=="string"&&(n=d.from(n,e)),u.writeSync(n,0,n.length,null)}finally{u.closeSync()}},j.prototype.chmod=function(t,n,e,o){o(new p(h.ENOTSUP))},j.prototype.chmodSync=function(t,n,e){throw new p(h.ENOTSUP)},j.prototype.chown=function(t,n,e,o,a){a(new p(h.ENOTSUP))},j.prototype.chownSync=function(t,n,e,o){throw new p(h.ENOTSUP)},j.prototype.utimes=function(t,n,e,o){o(new p(h.ENOTSUP))},j.prototype.utimesSync=function(t,n,e){throw new p(h.ENOTSUP)},j.prototype.link=function(t,n,e){e(new p(h.ENOTSUP))},j.prototype.linkSync=function(t,n){throw new p(h.ENOTSUP)},j.prototype.symlink=function(t,n,e,o){o(new p(h.ENOTSUP))},j.prototype.symlinkSync=function(t,n,e){throw new p(h.ENOTSUP)},j.prototype.readlink=function(t,n){n(new p(h.ENOTSUP))},j.prototype.readlinkSync=function(t){throw new p(h.ENOTSUP)};var rt=function(i){function t(){i.apply(this,arguments)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.supportsSynch=function(){return!0},t.prototype.rename=function(e,o,a){try{this.renameSync(e,o),a()}catch(u){a(u)}},t.prototype.stat=function(e,o,a){try{a(null,this.statSync(e,o))}catch(u){a(u)}},t.prototype.open=function(e,o,a,u){try{u(null,this.openSync(e,o,a))}catch(y){u(y)}},t.prototype.unlink=function(e,o){try{this.unlinkSync(e),o()}catch(a){o(a)}},t.prototype.rmdir=function(e,o){try{this.rmdirSync(e),o()}catch(a){o(a)}},t.prototype.mkdir=function(e,o,a){try{this.mkdirSync(e,o),a()}catch(u){a(u)}},t.prototype.readdir=function(e,o){try{o(null,this.readdirSync(e))}catch(a){o(a)}},t.prototype.chmod=function(e,o,a,u){try{this.chmodSync(e,o,a),u()}catch(y){u(y)}},t.prototype.chown=function(e,o,a,u,y){try{this.chownSync(e,o,a,u),y()}catch(x){y(x)}},t.prototype.utimes=function(e,o,a,u){try{this.utimesSync(e,o,a),u()}catch(y){u(y)}},t.prototype.link=function(e,o,a){try{this.linkSync(e,o),a()}catch(u){a(u)}},t.prototype.symlink=function(e,o,a,u){try{this.symlinkSync(e,o,a),u()}catch(y){u(y)}},t.prototype.readlink=function(e,o){try{o(null,this.readlinkSync(e))}catch(a){o(a)}},t}(j),$=function(){};$.prototype.sync=function(t){t(new p(h.ENOTSUP))},$.prototype.syncSync=function(){throw new p(h.ENOTSUP)},$.prototype.datasync=function(t){this.sync(t)},$.prototype.datasyncSync=function(){return this.syncSync()},$.prototype.chown=function(t,n,e){e(new p(h.ENOTSUP))},$.prototype.chownSync=function(t,n){throw new p(h.ENOTSUP)},$.prototype.chmod=function(t,n){n(new p(h.ENOTSUP))},$.prototype.chmodSync=function(t){throw new p(h.ENOTSUP)},$.prototype.utimes=function(t,n,e){e(new p(h.ENOTSUP))},$.prototype.utimesSync=function(t,n){throw new p(h.ENOTSUP)};var pt=function(i){function t(n,e,o,a,u){if(i.call(this),this._pos=0,this._dirty=!1,this._fs=n,this._path=e,this._flag=o,this._stat=a,u?this._buffer=u:this._buffer=Yt(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.getBuffer=function(){return this._buffer},t.prototype.getStats=function(){return this._stat},t.prototype.getFlag=function(){return this._flag},t.prototype.getPath=function(){return this._path},t.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},t.prototype.advancePos=function(e){return this._pos+=e},t.prototype.setPos=function(e){return this._pos=e},t.prototype.sync=function(e){try{this.syncSync(),e()}catch(o){e(o)}},t.prototype.syncSync=function(){throw new p(h.ENOTSUP)},t.prototype.close=function(e){try{this.closeSync(),e()}catch(o){e(o)}},t.prototype.closeSync=function(){throw new p(h.ENOTSUP)},t.prototype.stat=function(e){try{e(null,this._stat.clone())}catch(o){e(o)}},t.prototype.statSync=function(){return this._stat.clone()},t.prototype.truncate=function(e,o){try{this.truncateSync(e),this._flag.isSynchronous()&&!mt.getRootFS().supportsSynch()&&this.sync(o),o()}catch(a){return o(a)}},t.prototype.truncateSync=function(e){if(this._dirty=!0,!this._flag.isWriteable())throw new p(h.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,e>this._buffer.length){var o=d.alloc(e-this._buffer.length,0);this.writeSync(o,0,o.length,this._buffer.length),this._flag.isSynchronous()&&mt.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=e;var a=d.alloc(e);this._buffer.copy(a,0,0,e),this._buffer=a,this._flag.isSynchronous()&&mt.getRootFS().supportsSynch()&&this.syncSync()},t.prototype.write=function(e,o,a,u,y){try{y(null,this.writeSync(e,o,a,u),e)}catch(x){y(x)}},t.prototype.writeSync=function(e,o,a,u){if(this._dirty=!0,u==null&&(u=this.getPos()),!this._flag.isWriteable())throw new p(h.EPERM,"File not opened with a writeable mode.");var y=u+a;if(y>this._stat.size&&(this._stat.size=y,y>this._buffer.length)){var x=d.alloc(y);this._buffer.copy(x),this._buffer=x}var I=e.copy(this._buffer,u,o,o+a);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),I):(this.setPos(u+I),I)},t.prototype.read=function(e,o,a,u,y){try{y(null,this.readSync(e,o,a,u),e)}catch(x){y(x)}},t.prototype.readSync=function(e,o,a,u){if(!this._flag.isReadable())throw new p(h.EPERM,"File not opened with a readable mode.");u==null&&(u=this.getPos());var y=u+a;y>this._stat.size&&(a=this._stat.size-u);var x=this._buffer.copy(e,o,u,u+a);return this._stat.atime=new Date,this._pos=u+a,x},t.prototype.chmod=function(e,o){try{this.chmodSync(e),o()}catch(a){o(a)}},t.prototype.chmodSync=function(e){if(!this._fs.supportsProps())throw new p(h.ENOTSUP);this._dirty=!0,this._stat.chmod(e),this.syncSync()},t.prototype.isDirty=function(){return this._dirty},t.prototype.resetDirty=function(){this._dirty=!1},t}($),lt=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.close=function(e){e()},t.prototype.closeSync=function(){},t}(pt),ht=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t}(pt),F=function(i){function t(n,e,o){if(o===void 0&&(o=!0),i.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=n,this._async=e,!n.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Ot(o,t.Name,{sync:"sync file system instance",async:"async file system instance"})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{var a=new t(e.sync,e.async,!1);a.initialize(function(u){u?o(u):o(null,a)},!1)}catch(u){o(u)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){return t.Name},t.prototype._syncSync=function(e){this._sync.writeFileSync(e.getPath(),e.getBuffer(),null,D.getFileFlag("w"),e.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[e.getPath(),e.getBuffer(),null,e.getFlag(),e.getStats().mode]})},t.prototype.initialize=function(e,o){var a=this;o===void 0&&(o=!0),o&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var u=this._initializeCallbacks,y=function(H){a._isInitialized=!H,a._initializeCallbacks=[],u.forEach(function(nt){return nt(H)})};if(this._isInitialized)e();else if(u.push(e)===1){var x=function(H,nt,ft){H!=="/"&&a._sync.mkdirSync(H,nt),a._async.readdir(H,function(dt,It){var Nt=0;function Bt(ae){ae?ft(ae):Nt<It.length?(P(_.join(H,It[Nt]),Bt),Nt++):ft()}dt?ft(dt):Bt()})},I=function(H,nt,ft){a._async.readFile(H,null,D.getFileFlag("r"),function(dt,It){if(dt)ft(dt);else try{a._sync.writeFileSync(H,It,null,D.getFileFlag("w"),nt)}catch(Nt){dt=Nt}finally{ft(dt)}})},P=function(H,nt){a._async.stat(H,!1,function(ft,dt){ft?nt(ft):dt.isDirectory()?x(H,dt.mode,nt):I(H,dt.mode,nt)})};x("/",0,y)}},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},t.prototype.renameSync=function(e,o){this.checkInitialized(),this._sync.renameSync(e,o),this.enqueueOp({apiMethod:"rename",arguments:[e,o]})},t.prototype.statSync=function(e,o){return this.checkInitialized(),this._sync.statSync(e,o)},t.prototype.openSync=function(e,o,a){this.checkInitialized();var u=this._sync.openSync(e,o,a);return u.closeSync(),new ht(this,e,o,this._sync.statSync(e,!1),this._sync.readFileSync(e,null,D.getFileFlag("r")))},t.prototype.unlinkSync=function(e){this.checkInitialized(),this._sync.unlinkSync(e),this.enqueueOp({apiMethod:"unlink",arguments:[e]})},t.prototype.rmdirSync=function(e){this.checkInitialized(),this._sync.rmdirSync(e),this.enqueueOp({apiMethod:"rmdir",arguments:[e]})},t.prototype.mkdirSync=function(e,o){this.checkInitialized(),this._sync.mkdirSync(e,o),this.enqueueOp({apiMethod:"mkdir",arguments:[e,o]})},t.prototype.readdirSync=function(e){return this.checkInitialized(),this._sync.readdirSync(e)},t.prototype.existsSync=function(e){return this.checkInitialized(),this._sync.existsSync(e)},t.prototype.chmodSync=function(e,o,a){this.checkInitialized(),this._sync.chmodSync(e,o,a),this.enqueueOp({apiMethod:"chmod",arguments:[e,o,a]})},t.prototype.chownSync=function(e,o,a,u){this.checkInitialized(),this._sync.chownSync(e,o,a,u),this.enqueueOp({apiMethod:"chown",arguments:[e,o,a,u]})},t.prototype.utimesSync=function(e,o,a){this.checkInitialized(),this._sync.utimesSync(e,o,a),this.enqueueOp({apiMethod:"utimes",arguments:[e,o,a]})},t.prototype.checkInitialized=function(){if(!this._isInitialized)throw new p(h.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},t.prototype.enqueueOp=function(e){var o=this;if(this._queue.push(e),!this._queueRunning){this._queueRunning=!0;var a=function(u){if(u&&console.error("WARNING: File system has desynchronized. Received following error: "+u+`
$`),o._queue.length>0){var y=o._queue.shift(),x=y.arguments;x.push(a),o._async[y.apiMethod].apply(o._async,x)}else o._queueRunning=!1};a()}},t}(rt);F.Name="AsyncMirror",F.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function v(i,t,n){switch(n.length){case 0:return i.call(t);case 1:return i.call(t,n[0]);case 2:return i.call(t,n[0],n[1]);case 3:return i.call(t,n[0],n[1],n[2])}return i.apply(t,n)}var g=Math.max;function O(i,t,n){return t=g(t===void 0?i.length-1:t,0),function(){for(var e=arguments,o=-1,a=g(e.length-t,0),u=Array(a);++o<a;)u[o]=e[t+o];o=-1;for(var y=Array(t+1);++o<t;)y[o]=e[o];return y[t]=n(u),v(i,this,y)}}function U(i){return i}function X(i,t){return O(i,t,U)}var et=function(i){return X(function(t){var n=t.pop();i.call(this,t,n)})};function Et(i){return X(function(t,n){var e=et(function(o,a){var u=this;return i(t,function(y,x){y.apply(u,o.concat(x))},a)});return n.length?e.apply(this,n):e})}var Rt=typeof w=="object"&&w&&w.Object===Object&&w,Ht=typeof self=="object"&&self&&self.Object===Object&&self,Qt=Rt||Ht||Function("return this")(),Xt=Qt.Symbol,Ee=Object.prototype,_n=Ee.hasOwnProperty,le=Ee.toString,_e=Xt?Xt.toStringTag:void 0;function ur(i){var t=_n.call(i,_e),n=i[_e];try{i[_e]=void 0;var e=!0}catch{}var o=le.call(i);return e&&(t?i[_e]=n:delete i[_e]),o}var fo=Object.prototype,ho=fo.toString;function tt(i){return ho.call(i)}var gt="[object Null]",k="[object Undefined]",bt=Xt?Xt.toStringTag:void 0;function $t(i){return i==null?i===void 0?k:gt:bt&&bt in Object(i)?ur(i):tt(i)}function vt(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}var De="[object AsyncFunction]",xt="[object Function]",fe="[object GeneratorFunction]",ot="[object Proxy]";function it(i){if(!vt(i))return!1;var t=$t(i);return t==xt||t==fe||t==De||t==ot}var cr=9007199254740991;function te(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=cr}function kt(i){return i!=null&&te(i.length)&&!it(i)}var Un={};function wn(){}function oe(i){return function(){if(i!==null){var t=i;i=null,t.apply(this,arguments)}}}var Zt=typeof Symbol=="function"&&Symbol.iterator,we=function(i){return Zt&&i[Zt]&&i[Zt]()};function Te(i,t){for(var n=-1,e=Array(i);++n<i;)e[n]=t(n);return e}function Se(i){return i!=null&&typeof i=="object"}var lr="[object Arguments]";function jn(i){return Se(i)&&$t(i)==lr}var ue=Object.prototype,Le=ue.hasOwnProperty,me=ue.propertyIsEnumerable,tn=jn(function(){return arguments}())?jn:function(i){return Se(i)&&Le.call(i,"callee")&&!me.call(i,"callee")},Ke=Array.isArray;function li(){return!1}var fs=typeof l=="object"&&l&&!l.nodeType&&l,hs=fs&&typeof m=="object"&&m&&!m.nodeType&&m,cc=hs&&hs.exports===fs,ds=cc?Qt.Buffer:void 0,lc=ds?ds.isBuffer:void 0,fc=lc||li,hc=9007199254740991,dc=/^(?:0|[1-9]\d*)$/;function pc(i,t){return t=t??hc,!!t&&(typeof i=="number"||dc.test(i))&&i>-1&&i%1==0&&i<t}var yc="[object Arguments]",vc="[object Array]",gc="[object Boolean]",mc="[object Date]",_c="[object Error]",wc="[object Function]",Sc="[object Map]",Ec="[object Number]",xc="[object Object]",bc="[object RegExp]",Fc="[object Set]",Ic="[object String]",kc="[object WeakMap]",Oc="[object ArrayBuffer]",Tc="[object DataView]",Rc="[object Float32Array]",Nc="[object Float64Array]",Dc="[object Int8Array]",Lc="[object Int16Array]",Cc="[object Int32Array]",Ac="[object Uint8Array]",Pc="[object Uint8ClampedArray]",Mc="[object Uint16Array]",Uc="[object Uint32Array]",ee={};ee[Rc]=ee[Nc]=ee[Dc]=ee[Lc]=ee[Cc]=ee[Ac]=ee[Pc]=ee[Mc]=ee[Uc]=!0,ee[yc]=ee[vc]=ee[Oc]=ee[gc]=ee[Tc]=ee[mc]=ee[_c]=ee[wc]=ee[Sc]=ee[Ec]=ee[xc]=ee[bc]=ee[Fc]=ee[Ic]=ee[kc]=!1;function jc(i){return Se(i)&&te(i.length)&&!!ee[$t(i)]}function Bc(i){return function(t){return i(t)}}var ps=typeof l=="object"&&l&&!l.nodeType&&l,ys=ps&&typeof m=="object"&&m&&!m.nodeType&&m,zc=ys&&ys.exports===ps,po=zc&&Rt.process,vs=function(){try{return po&&po.binding&&po.binding("util")}catch{}}(),gs=vs&&vs.isTypedArray,Wc=gs?Bc(gs):jc,Hc=Object.prototype,Vc=Hc.hasOwnProperty;function Xc(i,t){var n=Ke(i),e=!n&&tn(i),o=!n&&!e&&fc(i),a=!n&&!e&&!o&&Wc(i),u=n||e||o||a,y=u?Te(i.length,String):[],x=y.length;for(var I in i)(t||Vc.call(i,I))&&!(u&&(I=="length"||o&&(I=="offset"||I=="parent")||a&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||pc(I,x)))&&y.push(I);return y}var Yc=Object.prototype;function Zc(i){var t=i&&i.constructor,n=typeof t=="function"&&t.prototype||Yc;return i===n}function qc(i,t){return function(n){return i(t(n))}}var Kc=qc(Object.keys,Object),Jc=Object.prototype,Gc=Jc.hasOwnProperty;function Qc(i){if(!Zc(i))return Kc(i);var t=[];for(var n in Object(i))Gc.call(i,n)&&n!="constructor"&&t.push(n);return t}function $c(i){return kt(i)?Xc(i):Qc(i)}function tl(i){var t=-1,n=i.length;return function(){return++t<n?{value:i[t],key:t}:null}}function el(i){var t=-1;return function(){var e=i.next();return e.done?null:(t++,{value:e.value,key:t})}}function nl(i){var t=$c(i),n=-1,e=t.length;return function(){var a=t[++n];return n<e?{value:i[a],key:a}:null}}function rl(i){if(kt(i))return tl(i);var t=we(i);return t?el(t):nl(i)}function ms(i){return function(){if(i===null)throw new Error("Callback was already called.");var t=i;i=null,t.apply(this,arguments)}}function _s(i){return function(t,n,e){if(e=oe(e||wn),i<=0||!t)return e(null);var o=rl(t),a=!1,u=0;function y(I,P){if(u-=1,I)a=!0,e(I);else{if(P===Un||a&&u<=0)return a=!0,e(null);x()}}function x(){for(;u<i&&!a;){var I=o();if(I===null){a=!0,u<=0&&e(null);return}u+=1,n(I.value,I.key,ms(y))}}x()}}function ws(i,t,n,e){_s(t)(i,n,e)}function yo(i,t){return function(n,e,o){return i(n,t,e,o)}}function il(i,t,n){n=oe(n||wn);var e=0,o=0,a=i.length;a===0&&n(null);function u(y,x){y?n(y):(++o===a||x===Un)&&n(null)}for(;e<a;e++)t(i[e],e,ms(u))}var ol=yo(ws,1/0),Ss=function(i,t,n){var e=kt(i)?il:ol;e(i,t,n)};function sl(i){return function(t,n,e){return i(Ss,t,n,e)}}function Es(i,t,n,e){e=e||wn,t=t||[];var o=[],a=0;i(t,function(u,y,x){var I=a++;n(u,function(P,H){o[I]=H,x(P)})},function(u){e(u,o)})}var al=sl(Es);Et(al);function ul(i){return function(t,n,e,o){return i(_s(n),t,e,o)}}var cl=ul(Es),ll=yo(cl,1);Et(ll),X(function(i,t){return X(function(n){return i.apply(null,t.concat(n))})});function fl(i,t){for(var n=-1,e=i==null?0:i.length;++n<e&&t(i[n],n,i)!==!1;);return i}var xs=typeof setImmediate=="function"&&setImmediate,bs=typeof E=="object"&&typeof E.nextTick=="function";function Fs(i){setTimeout(i,0)}function Is(i){return X(function(t,n){i(function(){t.apply(null,n)})})}var fi;xs?fi=setImmediate:bs?fi=E.nextTick:fi=Fs,Is(fi);var hl=yo(ws,1);function dl(i,t,n,e){e=oe(e||wn),hl(i,function(o,a,u){n(t,o,function(y,x){t=x,u(y)})},function(o){e(o,t)})}var pl=X(function(t){return X(function(n){var e=this,o=n[n.length-1];typeof o=="function"?n.pop():o=wn,dl(t,n,function(a,u,y){u.apply(e,a.concat(X(function(x,I){y(x,I)})))},function(a,u){o.apply(e,[a].concat(u))})})});X(function(i){return pl.apply(null,i.reverse())}),X(function(i){var t=[null].concat(i);return et(function(n,e){return e.apply(this,t)})});function ks(i){return X(function(t,n){t.apply(null,n.concat(X(function(e,o){typeof console=="object"&&(e?console.error&&console.error(e):console[i]&&fl(o,function(a){console[i](a)}))})))})}ks("dir");function yl(i){return function(t,n,e){return i(t,e)}}function Os(i,t,n){Ss(i,yl(t),n)}ks("log");var hi;bs?hi=E.nextTick:xs?hi=setImmediate:hi=Fs,Is(hi);var Ce;function vl(){Ce||(Ce={},Ce[Dropbox.ApiError.NETWORK_ERROR]=h.EIO,Ce[Dropbox.ApiError.INVALID_PARAM]=h.EINVAL,Ce[Dropbox.ApiError.INVALID_TOKEN]=h.EPERM,Ce[Dropbox.ApiError.OAUTH_ERROR]=h.EPERM,Ce[Dropbox.ApiError.NOT_FOUND]=h.ENOENT,Ce[Dropbox.ApiError.INVALID_METHOD]=h.EINVAL,Ce[Dropbox.ApiError.NOT_ACCEPTABLE]=h.EINVAL,Ce[Dropbox.ApiError.CONFLICT]=h.EINVAL,Ce[Dropbox.ApiError.RATE_LIMITED]=h.EBUSY,Ce[Dropbox.ApiError.SERVER_ERROR]=h.EBUSY,Ce[Dropbox.ApiError.OVER_QUOTA]=h.ENOSPC)}function gl(i){return i&&i.stat.isFile}function ml(i){return i&&i.stat.isFolder}function _l(i){return i==null||typeof i=="object"&&typeof i.byteLength=="number"}var xe=function(t){this._cache={},this._client=t};xe.prototype.readdir=function(t,n){var e=this,o=this.getCachedDirInfo(t);this._wrap(function(a){o!==null&&o.contents?e._client.readdir(t,{contentHash:o.stat.contentHash},a):e._client.readdir(t,a)},function(a,u,y,x){a?a.status===Dropbox.ApiError.NO_CONTENT&&o!==null?n(null,o.contents.slice(0)):n(a):(e.updateCachedDirInfo(t,y,u.slice(0)),x.forEach(function(I){e.updateCachedInfo(_.join(t,I.name),I)}),n(null,u))})},xe.prototype.remove=function(t,n){var e=this;this._wrap(function(o){e._client.remove(t,o)},function(o,a){o||e.updateCachedInfo(t,a),n(o)})},xe.prototype.move=function(t,n,e){var o=this;this._wrap(function(a){o._client.move(t,n,a)},function(a,u){a||(o.deleteCachedInfo(t),o.updateCachedInfo(n,u)),e(a)})},xe.prototype.stat=function(t,n){var e=this;this._wrap(function(o){e._client.stat(t,o)},function(o,a){o||e.updateCachedInfo(t,a),n(o,a)})},xe.prototype.readFile=function(t,n){var e=this,o=this.getCachedFileInfo(t);o!==null&&o.contents!==null?this.stat(t,function(a,u){a?n(a):u.contentHash===o.stat.contentHash?n(a,o.contents.slice(0),o.stat):e.readFile(t,n)}):this._wrap(function(a){e._client.readFile(t,{arrayBuffer:!0},a)},function(a,u,y){a||e.updateCachedInfo(t,y,u.slice(0)),n(a,u,y)})},xe.prototype.writeFile=function(t,n,e){var o=this;this._wrap(function(a){o._client.writeFile(t,n,a)},function(a,u){a||o.updateCachedInfo(t,u,n.slice(0)),e(a,u)})},xe.prototype.mkdir=function(t,n){var e=this;this._wrap(function(o){e._client.mkdir(t,o)},function(o,a){o||e.updateCachedInfo(t,a,[]),n(o)})},xe.prototype._wrap=function(t,n){var e=0,o=function(a){var u=2;if(a&&3>++e)switch(a.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){t(o)},u*1e3);break;default:n.apply(null,arguments);break}else n.apply(null,arguments)};t(o)},xe.prototype.getCachedInfo=function(t){return this._cache[t.toLowerCase()]},xe.prototype.putCachedInfo=function(t,n){this._cache[t.toLowerCase()]=n},xe.prototype.deleteCachedInfo=function(t){delete this._cache[t.toLowerCase()]},xe.prototype.getCachedDirInfo=function(t){var n=this.getCachedInfo(t);return ml(n)?n:null},xe.prototype.getCachedFileInfo=function(t){var n=this.getCachedInfo(t);return gl(n)?n:null},xe.prototype.updateCachedDirInfo=function(t,n,e){e===void 0&&(e=null);var o=this.getCachedInfo(t);n.contentHash!==null&&(o===void 0||o.stat.contentHash!==n.contentHash)&&this.putCachedInfo(t,{stat:n,contents:e})},xe.prototype.updateCachedFileInfo=function(t,n,e){e===void 0&&(e=null);var o=this.getCachedInfo(t);n.versionTag!==null&&(o===void 0||o.stat.versionTag!==n.versionTag)&&this.putCachedInfo(t,{stat:n,contents:e})},xe.prototype.updateCachedInfo=function(t,n,e){e===void 0&&(e=null),n.isFile&&_l(e)?this.updateCachedFileInfo(t,n,e):n.isFolder&&Array.isArray(e)&&this.updateCachedDirInfo(t,n,e)};var wl=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(this.isDirty()){var a=this.getBuffer(),u=ct(a);this._fs._writeFileStrict(this.getPath(),u,function(y){y||o.resetDirty(),e(y)})}else e()},t.prototype.close=function(e){this.sync(e)},t}(pt),di=function(i){function t(n,e){e===void 0&&(e=!0),i.call(this),this._client=new xe(n),Ot(e,t.Name,{client:"authenticated dropbox client instance"}),vl()}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.client,!1))},t.isAvailable=function(){return typeof Dropbox<"u"},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var o=this;this._client.readdir("/",function(a,u){if(a)e(o.convert(a,"/"));else{var y=function(I,P){var H=_.join("/",I);o._client.remove(H,function(nt){P(nt?o.convert(nt,H):null)})},x=function(I){I?e(I):e()};Os(u,y,x)}})},t.prototype.rename=function(e,o,a){var u=this;this._client.move(e,o,function(y){y?u._client.stat(o,function(x,I){if(x||I.isFolder){var P=y.response.error.indexOf(e)>-1?e:o;a(u.convert(y,P))}else u._client.remove(o,function(H){H?a(u.convert(H,o)):u.rename(e,o,a)})}):a()})},t.prototype.stat=function(e,o,a){var u=this;this._client.stat(e,function(y,x){if(y)a(u.convert(y,e));else if(x&&x.isRemoved)a(p.FileError(h.ENOENT,e));else{var I=new B(u._statType(x),x.size);return a(null,I)}})},t.prototype.open=function(e,o,a,u){var y=this;this._client.readFile(e,function(x,I,P){if(x)if(o.isReadable())u(y.convert(x,e));else switch(x.status){case Dropbox.ApiError.NOT_FOUND:var H=new ArrayBuffer(0);return y._writeFileStrict(e,H,function(dt,It){if(dt)u(dt);else{var Nt=y._makeFile(e,o,It,Ct(H));u(null,Nt)}});default:return u(y.convert(x,e))}else{var nt;I===null?nt=Yt():nt=Ct(I);var ft=y._makeFile(e,o,P,nt);return u(null,ft)}})},t.prototype._writeFileStrict=function(e,o,a){var u=this,y=_.dirname(e);this.stat(y,!1,function(x,I){x?a(p.FileError(h.ENOENT,y)):u._client.writeFile(e,o,function(P,H){P?a(u.convert(P,e)):a(null,H)})})},t.prototype._statType=function(e){return e.isFile?M.FILE:M.DIRECTORY},t.prototype._makeFile=function(e,o,a,u){var y=this._statType(a),x=new B(y,a.size);return new wl(this,e,o,x,u)},t.prototype._remove=function(e,o,a){var u=this;this._client.stat(e,function(y,x){y?o(u.convert(y,e)):x.isFile&&!a?o(p.FileError(h.ENOTDIR,e)):!x.isFile&&a?o(p.FileError(h.EISDIR,e)):u._client.remove(e,function(I){o(I?u.convert(I,e):null)})})},t.prototype.unlink=function(e,o){this._remove(e,o,!0)},t.prototype.rmdir=function(e,o){this._remove(e,o,!1)},t.prototype.mkdir=function(e,o,a){var u=this,y=_.dirname(e);this._client.stat(y,function(x,I){x?a(u.convert(x,y)):u._client.mkdir(e,function(P){a(P?p.FileError(h.EEXIST,e):null)})})},t.prototype.readdir=function(e,o){var a=this;this._client.readdir(e,function(u,y){return u?o(a.convert(u)):o(null,y)})},t.prototype.convert=function(e,o){o===void 0&&(o=null);var a=Ce[e.status];return a===void 0&&(a=h.EIO),o?p.FileError(a,o):new p(a)},t}(j);di.Name="Dropbox",di.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(i,t){i.isAuthenticated&&i.isAuthenticated()?t():t(new p(h.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function ce(i,t){t===void 0&&(t="");for(var n=i.errno,e=i.node,o=[];e&&(o.unshift(e.name),e!==e.parent);)e=e.parent;return new p(n,b[n],o.length>0?"/"+o.join("/"):t)}var Sl=function(i){function t(n,e,o,a){i.call(this),this._fs=n,this._FS=e,this._path=o,this._stream=a}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.getPos=function(){},t.prototype.close=function(e){var o=null;try{this.closeSync()}catch(a){o=a}finally{e(o)}},t.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(e){throw ce(e,this._path)}},t.prototype.stat=function(e){try{e(null,this.statSync())}catch(o){e(o)}},t.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(e){throw ce(e,this._path)}},t.prototype.truncate=function(e,o){var a=null;try{this.truncateSync(e)}catch(u){a=u}finally{o(a)}},t.prototype.truncateSync=function(e){try{this._FS.ftruncate(this._stream.fd,e)}catch(o){throw ce(o,this._path)}},t.prototype.write=function(e,o,a,u,y){try{y(null,this.writeSync(e,o,a,u),e)}catch(x){y(x)}},t.prototype.writeSync=function(e,o,a,u){try{var y=St(e),x=u===null?void 0:u;return this._FS.write(this._stream,y,o,a,x)}catch(I){throw ce(I,this._path)}},t.prototype.read=function(e,o,a,u,y){try{y(null,this.readSync(e,o,a,u),e)}catch(x){y(x)}},t.prototype.readSync=function(e,o,a,u){try{var y=St(e),x=u===null?void 0:u;return this._FS.read(this._stream,y,o,a,x)}catch(I){throw ce(I,this._path)}},t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.chown=function(e,o,a){var u=null;try{this.chownSync(e,o)}catch(y){u=y}finally{a(u)}},t.prototype.chownSync=function(e,o){try{this._FS.fchown(this._stream.fd,e,o)}catch(a){throw ce(a,this._path)}},t.prototype.chmod=function(e,o){var a=null;try{this.chmodSync(e)}catch(u){a=u}finally{o(a)}},t.prototype.chmodSync=function(e){try{this._FS.fchmod(this._stream.fd,e)}catch(o){throw ce(o,this._path)}},t.prototype.utimes=function(e,o,a){var u=null;try{this.utimesSync(e,o)}catch(y){u=y}finally{a(u)}},t.prototype.utimesSync=function(e,o){this._fs.utimesSync(this._path,e,o)},t}($),pi=function(i){function t(n){i.call(this),this._FS=n}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.FS))},t.isAvailable=function(){return!0},t.prototype.getName=function(){return this._FS.DB_NAME()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!0},t.prototype.supportsProps=function(){return!0},t.prototype.supportsSynch=function(){return!0},t.prototype.renameSync=function(e,o){try{this._FS.rename(e,o)}catch(a){throw a.errno===h.ENOENT?ce(a,this.existsSync(e)?o:e):ce(a)}},t.prototype.statSync=function(e,o){try{var a=o?this._FS.lstat(e):this._FS.stat(e),u=this.modeToFileType(a.mode);return new B(u,a.size,a.mode,a.atime,a.mtime,a.ctime)}catch(y){throw ce(y,e)}},t.prototype.openSync=function(e,o,a){try{var u=this._FS.open(e,o.getFlagString(),a);if(this._FS.isDir(u.node.mode))throw this._FS.close(u),p.EISDIR(e);return new Sl(this,this._FS,e,u)}catch(y){throw ce(y,e)}},t.prototype.unlinkSync=function(e){try{this._FS.unlink(e)}catch(o){throw ce(o,e)}},t.prototype.rmdirSync=function(e){try{this._FS.rmdir(e)}catch(o){throw ce(o,e)}},t.prototype.mkdirSync=function(e,o){try{this._FS.mkdir(e,o)}catch(a){throw ce(a,e)}},t.prototype.readdirSync=function(e){try{return this._FS.readdir(e).filter(function(o){return o!=="."&&o!==".."})}catch(o){throw ce(o,e)}},t.prototype.truncateSync=function(e,o){try{this._FS.truncate(e,o)}catch(a){throw ce(a,e)}},t.prototype.readFileSync=function(e,o,a){try{var u=this._FS.readFile(e,{flags:a.getFlagString()}),y=Lt(u);return o?y.toString(o):y}catch(x){throw ce(x,e)}},t.prototype.writeFileSync=function(e,o,a,u,y){try{a&&(o=d.from(o,a));var x=St(o);this._FS.writeFile(e,x,{flags:u.getFlagString(),encoding:"binary"}),this._FS.chmod(e,y)}catch(I){throw ce(I,e)}},t.prototype.chmodSync=function(e,o,a){try{o?this._FS.lchmod(e,a):this._FS.chmod(e,a)}catch(u){throw ce(u,e)}},t.prototype.chownSync=function(e,o,a,u){try{o?this._FS.lchown(e,a,u):this._FS.chown(e,a,u)}catch(y){throw ce(y,e)}},t.prototype.symlinkSync=function(e,o,a){try{this._FS.symlink(e,o)}catch(u){throw ce(u)}},t.prototype.readlinkSync=function(e){try{return this._FS.readlink(e)}catch(o){throw ce(o,e)}},t.prototype.utimesSync=function(e,o,a){try{this._FS.utime(e,o.getTime(),a.getTime())}catch(u){throw ce(u,e)}},t.prototype.modeToFileType=function(e){if(this._FS.isDir(e))return M.DIRECTORY;if(this._FS.isFile(e))return M.FILE;if(this._FS.isLink(e))return M.SYMLINK;throw p.EPERM("Invalid mode: "+e)},t}(rt);pi.Name="EmscriptenFileSystem",pi.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var fr=function(i){function t(n,e){i.call(this),this._folder=n,this._wrapped=e}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t(e.folder,e.wrapped))},t.isAvailable=function(){return!0},t.prototype.initialize=function(e){var o=this;this._wrapped.exists(this._folder,function(a){a?e():o._wrapped.isReadOnly()?e(p.ENOENT(o._folder)):o._wrapped.mkdir(o._folder,511,e)})},t.prototype.getName=function(){return this._wrapped.getName()},t.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},t.prototype.supportsProps=function(){return this._wrapped.supportsProps()},t.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t}(j);fr.Name="FolderAdapter",fr.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function Ts(i,t){if(t!==null&&typeof t=="object"){var n=t,e=n.path;e&&(e="/"+_.relative(i,e),n.message=n.message.replace(n.path,e),n.path=e)}return t}function El(i,t){return typeof t=="function"?function(n){arguments.length>0&&(arguments[0]=Ts(i,n)),t.apply(null,arguments)}:t}function Rs(i,t,n){return i.slice(i.length-4)!=="Sync"?function(){return arguments.length>0&&(t&&(arguments[0]=_.join(this._folder,arguments[0])),n&&(arguments[1]=_.join(this._folder,arguments[1])),arguments[arguments.length-1]=El(this._folder,arguments[arguments.length-1])),this._wrapped[i].apply(this._wrapped,arguments)}:function(){try{return t&&(arguments[0]=_.join(this._folder,arguments[0])),n&&(arguments[1]=_.join(this._folder,arguments[1])),this._wrapped[i].apply(this._wrapped,arguments)}catch(e){throw Ts(this._folder,e)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(i){fr.prototype[i]=Rs(i,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(i){fr.prototype[i]=Rs(i,!0,!0)});var yi;typeof window<"u"?yi=window:typeof self<"u"?yi=self:yi=w;var he=yi;function xl(i){return i.isDirectory}var vo=he.webkitRequestFileSystem||he.requestFileSystem||null;function bl(i,t,n,e){if(typeof navigator.webkitPersistentStorage<"u")switch(i){case he.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(t,n,e);break;case he.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(t,n,e);break;default:e(new TypeError("Invalid storage type: "+i));break}else he.webkitStorageInfo.requestQuota(i,t,n,e)}function Fl(i){return Array.prototype.slice.call(i||[],0)}function un(i,t,n){switch(i.name){case"PathExistsError":return p.EEXIST(t);case"QuotaExceededError":return p.FileError(h.ENOSPC,t);case"NotFoundError":return p.ENOENT(t);case"SecurityError":return p.FileError(h.EACCES,t);case"InvalidModificationError":return p.FileError(h.EPERM,t);case"TypeMismatchError":return p.FileError(n?h.ENOTDIR:h.EISDIR,t);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return p.FileError(h.EINVAL,t)}}var Il=function(i){function t(n,e,o,a,u,y){i.call(this,n,o,a,u,y),this._entry=e}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(!this.isDirty())return e();this._entry.createWriter(function(a){var u=o.getBuffer(),y=new Blob([ct(u)]),x=y.size;a.onwriteend=function(I){a.onwriteend=null,a.onerror=null,a.truncate(x),o.resetDirty(),e()},a.onerror=function(I){e(un(I,o.getPath(),!1))},a.write(y)})},t.prototype.close=function(e){this.sync(e)},t}(pt),vi=function(i){function t(n,e,o){n===void 0&&(n=5),e===void 0&&(e=he.PERSISTENT),o===void 0&&(o=!0),i.call(this),this.size=1024*1024*n,this.type=e,Ot(o,t.Name,{size:n,type:e})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t(e.size,e.type,!1);a.allocate(function(u){return u?o(u):o(null,a)},!1)},t.isAvailable=function(){return!!vo},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.allocate=function(e,o){var a=this;e===void 0&&(e=function(){}),o===void 0&&(o=!0),o&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var u=function(x){a.fs=x,e()},y=function(x){e(un(x,"/",!0))};this.type===he.PERSISTENT?bl(this.type,this.size,function(x){vo(a.type,x,u,y)},y):vo(this.type,this.size,u,y)},t.prototype.empty=function(e){this._readdir("/",function(o,a){if(o)console.error("Failed to empty FS"),e(o);else{var u=function(x){o?(console.error("Failed to empty FS"),e(o)):e()},y=function(x,I){var P=function(){I()},H=function(nt){I(un(nt,x.fullPath,!x.isDirectory))};xl(x)?x.removeRecursively(P,H):x.remove(P,H)};Os(a,y,u)}})},t.prototype.rename=function(e,o,a){var u=this,y=2,x=0,I=this.fs.root,P=e,H=function(ft){--y<=0&&a(un(ft,P,!1))},nt=function(ft){if(++x===2)return a(new p(h.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(e===o)return a();P=_.dirname(o),I.getDirectory(P,{},function(dt){P=_.basename(o),ft.moveTo(dt,P,function(It){a()},function(It){ft.isDirectory?(P=o,u.unlink(o,function(Nt){Nt?H(It):u.rename(e,o,a)})):H(It)})},H)};I.getFile(e,{},nt,H),I.getDirectory(e,{},nt,H)},t.prototype.stat=function(e,o,a){var u=this,y={create:!1},x=function(nt){var ft=function(dt){var It=new B(M.FILE,dt.size);a(null,It)};nt.file(ft,P)},I=function(nt){var ft=4096,dt=new B(M.DIRECTORY,ft);a(null,dt)},P=function(nt){a(un(nt,e,!1))},H=function(){u.fs.root.getDirectory(e,y,I,P)};this.fs.root.getFile(e,y,x,H)},t.prototype.open=function(e,o,a,u){var y=this,x=function(I){I.name==="InvalidModificationError"&&o.isExclusive()?u(p.EEXIST(e)):u(un(I,e,!1))};this.fs.root.getFile(e,{create:o.pathNotExistsAction()===R.CREATE_FILE,exclusive:o.isExclusive()},function(I){I.file(function(P){var H=new FileReader;H.onloadend=function(nt){var ft=y._makeFile(e,I,o,P,H.result);u(null,ft)},H.onerror=function(nt){x(H.error)},H.readAsArrayBuffer(P)},x)},x)},t.prototype.unlink=function(e,o){this._remove(e,o,!0)},t.prototype.rmdir=function(e,o){var a=this;this.readdir(e,function(u,y){u?o(u):y.length>0?o(p.ENOTEMPTY(e)):a._remove(e,o,!1)})},t.prototype.mkdir=function(e,o,a){var u={create:!0,exclusive:!0},y=function(I){a()},x=function(I){a(un(I,e,!0))};this.fs.root.getDirectory(e,u,y,x)},t.prototype.readdir=function(e,o){this._readdir(e,function(a,u){if(u){for(var y=[],x=0,I=u;x<I.length;x+=1){var P=I[x];y.push(P.name)}o(null,y)}else return o(a)})},t.prototype._makeFile=function(e,o,a,u,y){y===void 0&&(y=new ArrayBuffer(0));var x=new B(M.FILE,u.size),I=Ct(y);return new Il(this,o,e,a,x,I)},t.prototype._readdir=function(e,o){var a=function(u){o(un(u,e,!0))};this.fs.root.getDirectory(e,{create:!1},function(u){var y=u.createReader(),x=[],I=function(){y.readEntries(function(P){P.length?(x=x.concat(Fl(P)),I()):o(null,x)},a)};I()},a)},t.prototype._remove=function(e,o,a){var u=function(I){var P=function(){o()},H=function(nt){o(un(nt,e,!a))};I.remove(P,H)},y=function(I){o(un(I,e,!a))},x={create:!1};a?this.fs.root.getFile(e,x,u,y):this.fs.root.getDirectory(e,x,u,y)},t}(j);vi.Name="HTML5FS",vi.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Ae=function(t,n,e,o,a,u){this.id=t,this.size=n,this.mode=e,this.atime=o,this.mtime=a,this.ctime=u};Ae.fromBuffer=function(t){if(t===void 0)throw new Error("NO");return new Ae(t.toString("ascii",30),t.readUInt32LE(0),t.readUInt16LE(4),t.readDoubleLE(6),t.readDoubleLE(14),t.readDoubleLE(22))},Ae.prototype.toStats=function(){return new B((this.mode&61440)===M.DIRECTORY?M.DIRECTORY:M.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Ae.prototype.getSize=function(){return 30+this.id.length},Ae.prototype.toBuffer=function(t){return t===void 0&&(t=d.alloc(this.getSize())),t.writeUInt32LE(this.size,0),t.writeUInt16LE(this.mode,4),t.writeDoubleLE(this.atime,6),t.writeDoubleLE(this.mtime,14),t.writeDoubleLE(this.ctime,22),t.write(this.id,30,this.id.length,"ascii"),t},Ae.prototype.update=function(t){var n=!1;this.size!==t.size&&(this.size=t.size,n=!0),this.mode!==t.mode&&(this.mode=t.mode,n=!0);var e=t.atime.getTime();this.atime!==e&&(this.atime=e,n=!0);var o=t.mtime.getTime();this.mtime!==o&&(this.mtime=o,n=!0);var a=t.ctime.getTime();return this.ctime!==a&&(this.ctime=a,n=!0),n},Ae.prototype.isFile=function(){return(this.mode&61440)===M.FILE},Ae.prototype.isDirectory=function(){return(this.mode&61440)===M.DIRECTORY};var Tn="/",go=null;function Ns(){return go||(go=d.from("{}"))}function gi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var t=Math.random()*16|0,n=i==="x"?t:t&3|8;return n.toString(16)})}function We(i,t){return i?(t(i),!1):!0}function ve(i,t,n){return i?(t.abort(function(){n(i)}),!1):!0}var Sn=function(t){this.store=t,this.originalData={},this.modifiedKeys=[]};Sn.prototype.get=function(t){var n=this.store.get(t);return this.stashOldValue(t,n),n},Sn.prototype.put=function(t,n,e){return this.markModified(t),this.store.put(t,n,e)},Sn.prototype.del=function(t){this.markModified(t),this.store.del(t)},Sn.prototype.commit=function(){},Sn.prototype.abort=function(){for(var t=this,n=0,e=t.modifiedKeys;n<e.length;n+=1){var o=e[n],a=t.originalData[o];a?t.store.put(o,a,!0):t.store.del(o)}},Sn.prototype.stashOldValue=function(t,n){this.originalData.hasOwnProperty(t)||(this.originalData[t]=n)},Sn.prototype.markModified=function(t){this.modifiedKeys.indexOf(t)===-1&&(this.modifiedKeys.push(t),this.originalData.hasOwnProperty(t)||(this.originalData[t]=this.store.get(t)))};var Ds=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t}(pt),Ls=function(i){function t(n){i.call(this),this.store=n.store,this.makeRootDirectory()}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},t.prototype.renameSync=function(e,o){var a=this.store.beginTransaction("readwrite"),u=_.dirname(e),y=_.basename(e),x=_.dirname(o),I=_.basename(o),P=this.findINode(a,u),H=this.getDirListing(a,u,P);if(!H[y])throw p.ENOENT(e);var nt=H[y];if(delete H[y],(x+"/").indexOf(e+"/")===0)throw new p(h.EBUSY,u);var ft,dt;if(x===u?(ft=P,dt=H):(ft=this.findINode(a,x),dt=this.getDirListing(a,x,ft)),dt[I]){var It=this.getINode(a,o,dt[I]);if(It.isFile())try{a.del(It.id),a.del(dt[I])}catch(Nt){throw a.abort(),Nt}else throw p.EPERM(o)}dt[I]=nt;try{a.put(P.id,d.from(JSON.stringify(H)),!0),a.put(ft.id,d.from(JSON.stringify(dt)),!0)}catch(Nt){throw a.abort(),Nt}a.commit()},t.prototype.statSync=function(e,o){return this.findINode(this.store.beginTransaction("readonly"),e).toStats()},t.prototype.createFileSync=function(e,o,a){var u=this.store.beginTransaction("readwrite"),y=Yt(),x=this.commitNewFile(u,e,M.FILE,a,y);return new Ds(this,e,o,x.toStats(),y)},t.prototype.openFileSync=function(e,o){var a=this.store.beginTransaction("readonly"),u=this.findINode(a,e),y=a.get(u.id);if(y===void 0)throw p.ENOENT(e);return new Ds(this,e,o,u.toStats(),y)},t.prototype.unlinkSync=function(e){this.removeEntry(e,!1)},t.prototype.rmdirSync=function(e){if(this.readdirSync(e).length>0)throw p.ENOTEMPTY(e);this.removeEntry(e,!0)},t.prototype.mkdirSync=function(e,o){var a=this.store.beginTransaction("readwrite"),u=d.from("{}");this.commitNewFile(a,e,M.DIRECTORY,o,u)},t.prototype.readdirSync=function(e){var o=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(o,e,this.findINode(o,e)))},t.prototype._syncSync=function(e,o,a){var u=this.store.beginTransaction("readwrite"),y=this._findINode(u,_.dirname(e),_.basename(e)),x=this.getINode(u,e,y),I=x.update(a);try{u.put(x.id,o,!0),I&&u.put(y,x.toBuffer(),!0)}catch(P){throw u.abort(),P}u.commit()},t.prototype.makeRootDirectory=function(){var e=this.store.beginTransaction("readwrite");if(e.get(Tn)===void 0){var o=new Date().getTime(),a=new Ae(gi(),4096,511|M.DIRECTORY,o,o,o);e.put(a.id,Ns(),!1),e.put(Tn,a.toBuffer(),!1),e.commit()}},t.prototype._findINode=function(e,o,a){var u=this,y=function(x){var I=u.getDirListing(e,o,x);if(I[a])return I[a];throw p.ENOENT(_.resolve(o,a))};return o==="/"?a===""?Tn:y(this.getINode(e,o,Tn)):y(this.getINode(e,o+_.sep+a,this._findINode(e,_.dirname(o),_.basename(o))))},t.prototype.findINode=function(e,o){return this.getINode(e,o,this._findINode(e,_.dirname(o),_.basename(o)))},t.prototype.getINode=function(e,o,a){var u=e.get(a);if(u===void 0)throw p.ENOENT(o);return Ae.fromBuffer(u)},t.prototype.getDirListing=function(e,o,a){if(!a.isDirectory())throw p.ENOTDIR(o);var u=e.get(a.id);if(u===void 0)throw p.ENOENT(o);return JSON.parse(u.toString())},t.prototype.addNewNode=function(e,o){for(var a=0,u;a<5;)try{return u=gi(),e.put(u,o,!1),u}catch{}throw new p(h.EIO,"Unable to commit data to key-value store.")},t.prototype.commitNewFile=function(e,o,a,u,y){var x=_.dirname(o),I=_.basename(o),P=this.findINode(e,x),H=this.getDirListing(e,x,P),nt=new Date().getTime();if(o==="/"||H[I])throw p.EEXIST(o);var ft;try{var dt=this.addNewNode(e,y);ft=new Ae(dt,y.length,u|a,nt,nt,nt);var It=this.addNewNode(e,ft.toBuffer());H[I]=It,e.put(P.id,d.from(JSON.stringify(H)),!0)}catch(Nt){throw e.abort(),Nt}return e.commit(),ft},t.prototype.removeEntry=function(e,o){var a=this.store.beginTransaction("readwrite"),u=_.dirname(e),y=this.findINode(a,u),x=this.getDirListing(a,u,y),I=_.basename(e);if(!x[I])throw p.ENOENT(e);var P=x[I];delete x[I];var H=this.getINode(a,e,P);if(!o&&H.isDirectory())throw p.EISDIR(e);if(o&&!H.isDirectory())throw p.ENOTDIR(e);try{a.del(H.id),a.del(P),a.put(y.id,d.from(JSON.stringify(x)),!0)}catch(nt){throw a.abort(),nt}a.commit()},t}(rt),Cs=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(a){a||o.resetDirty(),e(a)}):e()},t.prototype.close=function(e){this.sync(e)},t}(pt),kl=function(i){function t(){i.apply(this,arguments)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.init=function(e,o){this.store=e,this.makeRootDirectory(o)},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var o=this;this.store.clear(function(a){We(a,e)&&o.makeRootDirectory(e)})},t.prototype.rename=function(e,o,a){var u=this,y=this.store.beginTransaction("readwrite"),x=_.dirname(e),I=_.basename(e),P=_.dirname(o),H=_.basename(o),nt={},ft={},dt=!1;if((P+"/").indexOf(e+"/")===0)return a(new p(h.EBUSY,x));var It=function(){if(!(dt||!ft.hasOwnProperty(x)||!ft.hasOwnProperty(P))){var Bt=ft[x],ae=nt[x],be=ft[P],fn=nt[P];if(!Bt[I])a(p.ENOENT(e));else{var hn=Bt[I];delete Bt[I];var mr=function(){be[H]=hn,y.put(ae.id,d.from(JSON.stringify(Bt)),!0,function(bn){ve(bn,y,a)&&(x===P?y.commit(a):y.put(fn.id,d.from(JSON.stringify(be)),!0,function(Fn){ve(Fn,y,a)&&y.commit(a)}))})};be[H]?u.getINode(y,o,be[H],function(bn,Fn){ve(bn,y,a)&&(Fn.isFile()?y.del(Fn.id,function(Sa){ve(Sa,y,a)&&y.del(be[H],function(ef){ve(ef,y,a)&&mr()})}):y.abort(function(Sa){a(p.EPERM(o))}))}):mr()}}},Nt=function(Bt){u.findINodeAndDirListing(y,Bt,function(ae,be,fn){ae?dt||(dt=!0,y.abort(function(){a(ae)})):(nt[Bt]=be,ft[Bt]=fn,It())})};Nt(x),x!==P&&Nt(P)},t.prototype.stat=function(e,o,a){var u=this.store.beginTransaction("readonly");this.findINode(u,e,function(y,x){We(y,a)&&a(null,x.toStats())})},t.prototype.createFile=function(e,o,a,u){var y=this,x=this.store.beginTransaction("readwrite"),I=Yt();this.commitNewFile(x,e,M.FILE,a,I,function(P,H){We(P,u)&&u(null,new Cs(y,e,o,H.toStats(),I))})},t.prototype.openFile=function(e,o,a){var u=this,y=this.store.beginTransaction("readonly");this.findINode(y,e,function(x,I){We(x,a)&&y.get(I.id,function(P,H){We(P,a)&&(H===void 0?a(p.ENOENT(e)):a(null,new Cs(u,e,o,I.toStats(),H)))})})},t.prototype.unlink=function(e,o){this.removeEntry(e,!1,o)},t.prototype.rmdir=function(e,o){var a=this;this.readdir(e,function(u,y){u?o(u):y.length>0?o(p.ENOTEMPTY(e)):a.removeEntry(e,!0,o)})},t.prototype.mkdir=function(e,o,a){var u=this.store.beginTransaction("readwrite"),y=d.from("{}");this.commitNewFile(u,e,M.DIRECTORY,o,y,a)},t.prototype.readdir=function(e,o){var a=this,u=this.store.beginTransaction("readonly");this.findINode(u,e,function(y,x){We(y,o)&&a.getDirListing(u,e,x,function(I,P){We(I,o)&&o(null,Object.keys(P))})})},t.prototype._sync=function(e,o,a,u){var y=this,x=this.store.beginTransaction("readwrite");this._findINode(x,_.dirname(e),_.basename(e),function(I,P){ve(I,x,u)&&y.getINode(x,e,P,function(H,nt){if(ve(H,x,u)){var ft=nt.update(a);x.put(nt.id,o,!0,function(dt){ve(dt,x,u)&&(ft?x.put(P,nt.toBuffer(),!0,function(It){ve(It,x,u)&&x.commit(u)}):x.commit(u))})}})})},t.prototype.makeRootDirectory=function(e){var o=this.store.beginTransaction("readwrite");o.get(Tn,function(a,u){if(a||u===void 0){var y=new Date().getTime(),x=new Ae(gi(),4096,511|M.DIRECTORY,y,y,y);o.put(x.id,Ns(),!1,function(I){ve(I,o,e)&&o.put(Tn,x.toBuffer(),!1,function(P){P?o.abort(function(){e(P)}):o.commit(e)})})}else o.commit(e)})},t.prototype._findINode=function(e,o,a,u){var y=this,x=function(I,P,H){I?u(I):H[a]?u(null,H[a]):u(p.ENOENT(_.resolve(o,a)))};o==="/"?a===""?u(null,Tn):this.getINode(e,o,Tn,function(I,P){We(I,u)&&y.getDirListing(e,o,P,function(H,nt){x(H,P,nt)})}):this.findINodeAndDirListing(e,o,x)},t.prototype.findINode=function(e,o,a){var u=this;this._findINode(e,_.dirname(o),_.basename(o),function(y,x){We(y,a)&&u.getINode(e,o,x,a)})},t.prototype.getINode=function(e,o,a,u){e.get(a,function(y,x){We(y,u)&&(x===void 0?u(p.ENOENT(o)):u(null,Ae.fromBuffer(x)))})},t.prototype.getDirListing=function(e,o,a,u){a.isDirectory()?e.get(a.id,function(y,x){if(We(y,u))try{u(null,JSON.parse(x.toString()))}catch{u(p.ENOENT(o))}}):u(p.ENOTDIR(o))},t.prototype.findINodeAndDirListing=function(e,o,a){var u=this;this.findINode(e,o,function(y,x){We(y,a)&&u.getDirListing(e,o,x,function(I,P){We(I,a)&&a(null,x,P)})})},t.prototype.addNewNode=function(e,o,a){var u=0,y,x=function(){++u===5?a(new p(h.EIO,"Unable to commit data to key-value store.")):(y=gi(),e.put(y,o,!1,function(I,P){I||!P?x():a(null,y)}))};x()},t.prototype.commitNewFile=function(e,o,a,u,y,x){var I=this,P=_.dirname(o),H=_.basename(o),nt=new Date().getTime();if(o==="/")return x(p.EEXIST(o));this.findINodeAndDirListing(e,P,function(ft,dt,It){ve(ft,e,x)&&(It[H]?e.abort(function(){x(p.EEXIST(o))}):I.addNewNode(e,y,function(Nt,Bt){if(ve(Nt,e,x)){var ae=new Ae(Bt,y.length,u|a,nt,nt,nt);I.addNewNode(e,ae.toBuffer(),function(be,fn){ve(be,e,x)&&(It[H]=fn,e.put(dt.id,d.from(JSON.stringify(It)),!0,function(hn){ve(hn,e,x)&&e.commit(function(mr){ve(mr,e,x)&&x(null,ae)})}))})}}))})},t.prototype.removeEntry=function(e,o,a){var u=this,y=this.store.beginTransaction("readwrite"),x=_.dirname(e),I=_.basename(e);this.findINodeAndDirListing(y,x,function(P,H,nt){if(ve(P,y,a))if(!nt[I])y.abort(function(){a(p.ENOENT(e))});else{var ft=nt[I];delete nt[I],u.getINode(y,e,ft,function(dt,It){ve(dt,y,a)&&(!o&&It.isDirectory()?y.abort(function(){a(p.EISDIR(e))}):o&&!It.isDirectory()?y.abort(function(){a(p.ENOTDIR(e))}):y.del(It.id,function(Nt){ve(Nt,y,a)&&y.del(ft,function(Bt){ve(Bt,y,a)&&y.put(H.id,d.from(JSON.stringify(nt)),!0,function(ae){ve(ae,y,a)&&y.commit(a)})})}))})}})},t}(j),Bn=function(){this.store={}};Bn.prototype.name=function(){return hr.Name},Bn.prototype.clear=function(){this.store={}},Bn.prototype.beginTransaction=function(t){return new Sn(this)},Bn.prototype.get=function(t){return this.store[t]},Bn.prototype.put=function(t,n,e){return!e&&this.store.hasOwnProperty(t)?!1:(this.store[t]=n,!0)},Bn.prototype.del=function(t){delete this.store[t]};var hr=function(i){function t(){i.call(this,{store:new Bn})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t)},t}(Ls);hr.Name="InMemory",hr.Options={};var mo=he.indexedDB||he.mozIndexedDB||he.webkitIndexedDB||he.msIndexedDB;function Nr(i,t){switch(t===void 0&&(t=i.toString()),i.name){case"NotFoundError":return new p(h.ENOENT,t);case"QuotaExceededError":return new p(h.ENOSPC,t);default:return new p(h.EIO,t)}}function Dr(i,t,n){return t===void 0&&(t=h.EIO),n===void 0&&(n=null),function(e){e.preventDefault(),i(new p(t,n!==null?n:void 0))}}var _o=function(t,n){this.tx=t,this.store=n};_o.prototype.get=function(t,n){try{var e=this.store.get(t);e.onerror=Dr(n),e.onsuccess=function(o){var a=o.target.result;a===void 0?n(null,a):n(null,Ct(a))}}catch(o){n(Nr(o))}};var Ol=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.put=function(e,o,a,u){try{var y=ct(o),x;a?x=this.store.put(y,e):x=this.store.add(y,e),x.onerror=Dr(u),x.onsuccess=function(I){u(null,!0)}}catch(I){u(Nr(I))}},t.prototype.del=function(e,o){try{var a=this.store.delete(e);a.onerror=Dr(o),a.onsuccess=function(u){o()}}catch(u){o(Nr(u))}},t.prototype.commit=function(e){setTimeout(e,0)},t.prototype.abort=function(e){var o=null;try{this.tx.abort()}catch(a){o=Nr(a)}finally{e(o)}},t}(_o),mi=function(t,n){var e=this;n===void 0&&(n="browserfs"),this.storeName=n;var o=mo.open(this.storeName,1);o.onupgradeneeded=function(a){var u=a.target.result;u.objectStoreNames.contains(e.storeName)&&u.deleteObjectStore(e.storeName),u.createObjectStore(e.storeName)},o.onsuccess=function(a){e.db=a.target.result,t(null,e)},o.onerror=Dr(t,h.EACCES)};mi.prototype.name=function(){return Lr.Name+" - "+this.storeName},mi.prototype.clear=function(t){try{var n=this.db.transaction(this.storeName,"readwrite"),e=n.objectStore(this.storeName),o=e.clear();o.onsuccess=function(a){setTimeout(t,0)},o.onerror=Dr(t)}catch(a){t(Nr(a))}},mi.prototype.beginTransaction=function(t){t===void 0&&(t="readonly");var n=this.db.transaction(this.storeName,t),e=n.objectStore(this.storeName);if(t==="readwrite")return new Ol(n,e);if(t==="readonly")return new _o(n,e);throw new p(h.EINVAL,"Invalid transaction type.")};var Lr=function(i){function t(n,e,o){var a=this;o===void 0&&(o=!0),i.call(this),this.store=new mi(function(u){u?n(u):a.init(a.store,function(y){n(y,a)})},e),Ot(o,t.Name,{storeName:e})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){new t(o,e.storeName,!1)},t.isAvailable=function(){try{return typeof mo<"u"&&mo.open("__browserfs_test__")!==null}catch{return!1}},t}(kl);Lr.Name="IndexedDB",Lr.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var wo=!1,Cr;try{he.localStorage.setItem("__test__",String.fromCharCode(55296)),wo=he.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch{wo=!1}Cr=wo?"binary_string":"binary_string_ie",d.isEncoding(Cr)||(Cr="base64");var zn=function(){};zn.prototype.name=function(){return Ar.Name},zn.prototype.clear=function(){he.localStorage.clear()},zn.prototype.beginTransaction=function(t){return new Sn(this)},zn.prototype.get=function(t){try{var n=he.localStorage.getItem(t);if(n!==null)return d.from(n,Cr)}catch{}},zn.prototype.put=function(t,n,e){try{return!e&&he.localStorage.getItem(t)!==null?!1:(he.localStorage.setItem(t,n.toString(Cr)),!0)}catch{throw new p(h.ENOSPC,"LocalStorage is full.")}},zn.prototype.del=function(t){try{he.localStorage.removeItem(t)}catch(n){throw new p(h.EIO,"Unable to delete key "+t+": "+n)}};var Ar=function(i){function t(){i.call(this,{store:new zn})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){o(null,new t)},t.isAvailable=function(){return typeof he.localStorage<"u"},t}(Ls);Ar.Name="LocalStorage",Ar.Options={};var dr=function(i){function t(){i.call(this),this.mountList=[],this.mntMap={},this.rootFs=new hr}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t;Object.keys(e).forEach(function(u){a.mount(u,e[u])}),o(null,a)},t.isAvailable=function(){return!0},t.prototype.mount=function(e,o){if(e[0]!=="/"&&(e="/"+e),e=_.resolve(e),this.mntMap[e])throw new p(h.EINVAL,"Mount point "+e+" is already taken.");q(e,511,this.rootFs),this.mntMap[e]=o,this.mountList.push(e),this.mountList=this.mountList.sort(function(a,u){return u.length-a.length})},t.prototype.umount=function(e){var o=this;if(e[0]!=="/"&&(e="/"+e),e=_.resolve(e),!this.mntMap[e])throw new p(h.EINVAL,"Mount point "+e+" is already unmounted.");for(delete this.mntMap[e],this.mountList.splice(this.mountList.indexOf(e),1);e!=="/"&&o.rootFs.readdirSync(e).length===0;)o.rootFs.rmdirSync(e),e=_.dirname(e)},t.prototype._getFs=function(e){for(var o=this,a=this.mountList,u=a.length,y=0;y<u;y++){var x=a[y];if(x.length<=e.length&&e.indexOf(x)===0)return e=e.substr(x.length>1?x.length:0),e===""&&(e="/"),{fs:o.mntMap[x],path:e}}return{fs:this.rootFs,path:e}},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,o){o(0,0)},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.standardizeError=function(e,o,a){var u=e.message.indexOf(o);return u!==-1&&(e.message=e.message.substr(0,u)+a+e.message.substr(u+o.length),e.path=a),e},t.prototype.rename=function(e,o,a){var u=this,y=this._getFs(e),x=this._getFs(o);return y.fs===x.fs?y.fs.rename(y.path,x.path,function(I){I&&u.standardizeError(u.standardizeError(I,y.path,e),x.path,o),a(I)}):mt.readFile(e,function(I,P){if(I)return a(I);mt.writeFile(o,P,function(H){if(H)return a(H);mt.unlink(e,a)})})},t.prototype.renameSync=function(e,o){var a=this._getFs(e),u=this._getFs(o);if(a.fs===u.fs)try{return a.fs.renameSync(a.path,u.path)}catch(x){throw this.standardizeError(this.standardizeError(x,a.path,e),u.path,o),x}var y=mt.readFileSync(e);return mt.writeFileSync(o,y),mt.unlinkSync(e)},t.prototype.readdirSync=function(e){var o=this._getFs(e),a=null;if(o.fs!==this.rootFs)try{a=this.rootFs.readdirSync(e)}catch{}try{var u=o.fs.readdirSync(o.path);return a===null?u:u.concat(a.filter(function(y){return u.indexOf(y)===-1}))}catch(y){if(a===null)throw this.standardizeError(y,o.path,e);return a}},t.prototype.readdir=function(e,o){var a=this,u=this._getFs(e);u.fs.readdir(u.path,function(y,x){if(u.fs!==a.rootFs)try{var I=a.rootFs.readdirSync(e);x?x=x.concat(I.filter(function(P){return x.indexOf(P)===-1})):x=I}catch{if(y)return o(a.standardizeError(y,u.path,e))}else if(y)return o(a.standardizeError(y,u.path,e));o(null,x)})},t.prototype.rmdirSync=function(e){var o=this._getFs(e);if(this._containsMountPt(e))throw p.ENOTEMPTY(e);try{o.fs.rmdirSync(o.path)}catch(a){throw this.standardizeError(a,o.path,e)}},t.prototype.rmdir=function(e,o){var a=this,u=this._getFs(e);this._containsMountPt(e)?o(p.ENOTEMPTY(e)):u.fs.rmdir(u.path,function(y){o(y?a.standardizeError(y,u.path,e):null)})},t.prototype._containsMountPt=function(e){for(var o=this.mountList,a=o.length,u=0;u<a;u++){var y=o[u];if(y.length>=e.length&&y.slice(0,e.length)===e)return!0}return!1},t}(j);dr.Name="MountableFileSystem",dr.Options={};function As(i,t,n){return t?function(){for(var e=[],o=arguments.length;o--;)e[o]=arguments[o];var a=e[0],u=this._getFs(a);e[0]=u.path;try{return u.fs[i].apply(u.fs,e)}catch(y){throw this.standardizeError(y,u.path,a),y}}:function(){for(var e=this,o=[],a=arguments.length;a--;)o[a]=arguments[a];var u=o[0],y=this._getFs(u);if(o[0]=y.path,typeof o[o.length-1]=="function"){var x=o[o.length-1];o[o.length-1]=function(){for(var I=[],P=arguments.length;P--;)I[P]=arguments[P];I.length>0&&I[0]instanceof p&&e.standardizeError(I[0],y.path,u),x.apply(null,I)}}return y.fs[i].apply(y.fs,o)}}for(var Ps=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],So=0;So<Ps.length;So++)for(var Tl=Ps[So],Eo=0,Ms=Tl;Eo<Ms.length;Eo+=1){var _i=Ms[Eo];dr.prototype[_i]=As(_i,!1),dr.prototype[_i+"Sync"]=As(_i+"Sync",!0)}var Pr;if(typeof setImmediate<"u")Pr=setImmediate;else{var Je=he,pr=[],Us="zero-timeout-message",Rl=function(){if(typeof Je.importScripts<"u"||!Je.postMessage)return!1;var i=!0,t=Je.onmessage;return Je.onmessage=function(){i=!1},Je.postMessage("","*"),Je.onmessage=t,i};if(Rl()){Pr=function(i){pr.push(i),Je.postMessage(Us,"*")};var js=function(i){if(i.source===self&&i.data===Us&&(i.stopPropagation?i.stopPropagation():i.cancelBubble=!0,pr.length>0)){var t=pr.shift();return t()}};Je.addEventListener?Je.addEventListener("message",js,!0):Je.attachEvent("onmessage",js)}else if(Je.MessageChannel){var Bs=new Je.MessageChannel;Bs.port1.onmessage=function(i){if(pr.length>0)return pr.shift()()},Pr=function(i){pr.push(i),Bs.port2.postMessage("")}}else Pr=function(i){return setTimeout(i,0)}}var xo=Pr,Mr=function(){this._locked=!1,this._waiters=[]};Mr.prototype.lock=function(t){if(this._locked){this._waiters.push(t);return}this._locked=!0,t()},Mr.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var t=this._waiters.shift();if(t){xo(t);return}this._locked=!1},Mr.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},Mr.prototype.isLocked=function(){return this._locked};var At=function(t){this._fs=t,this._mu=new Mr};At.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},At.prototype.getFSUnlocked=function(){return this._fs},At.prototype.initialize=function(t){this._fs.initialize(t)},At.prototype.diskSpace=function(t,n){this._fs.diskSpace(t,n)},At.prototype.isReadOnly=function(){return this._fs.isReadOnly()},At.prototype.supportsLinks=function(){return this._fs.supportsLinks()},At.prototype.supportsProps=function(){return this._fs.supportsProps()},At.prototype.supportsSynch=function(){return this._fs.supportsSynch()},At.prototype.rename=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.rename(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.renameSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(t,n)},At.prototype.stat=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.stat(t,n,function(a,u){o._mu.unlock(),e(a,u)})})},At.prototype.statSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(t,n)},At.prototype.open=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.open(t,n,e,function(u,y){a._mu.unlock(),o(u,y)})})},At.prototype.openSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(t,n,e)},At.prototype.unlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.unlink(t,function(o){e._mu.unlock(),n(o)})})},At.prototype.unlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(t)},At.prototype.rmdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.rmdir(t,function(o){e._mu.unlock(),n(o)})})},At.prototype.rmdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(t)},At.prototype.mkdir=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.mkdir(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.mkdirSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(t,n)},At.prototype.readdir=function(t,n){var e=this;this._mu.lock(function(){e._fs.readdir(t,function(o,a){e._mu.unlock(),n(o,a)})})},At.prototype.readdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(t)},At.prototype.exists=function(t,n){var e=this;this._mu.lock(function(){e._fs.exists(t,function(o){e._mu.unlock(),n(o)})})},At.prototype.existsSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(t)},At.prototype.realpath=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.realpath(t,n,function(a,u){o._mu.unlock(),e(a,u)})})},At.prototype.realpathSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(t,n)},At.prototype.truncate=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.truncate(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.truncateSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(t,n)},At.prototype.readFile=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.readFile(t,n,e,function(u,y){a._mu.unlock(),o(u,y)})})},At.prototype.readFileSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(t,n,e)},At.prototype.writeFile=function(t,n,e,o,a,u){var y=this;this._mu.lock(function(){y._fs.writeFile(t,n,e,o,a,function(x){y._mu.unlock(),u(x)})})},At.prototype.writeFileSync=function(t,n,e,o,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(t,n,e,o,a)},At.prototype.appendFile=function(t,n,e,o,a,u){var y=this;this._mu.lock(function(){y._fs.appendFile(t,n,e,o,a,function(x){y._mu.unlock(),u(x)})})},At.prototype.appendFileSync=function(t,n,e,o,a){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(t,n,e,o,a)},At.prototype.chmod=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.chmod(t,n,e,function(u){a._mu.unlock(),o(u)})})},At.prototype.chmodSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(t,n,e)},At.prototype.chown=function(t,n,e,o,a){var u=this;this._mu.lock(function(){u._fs.chown(t,n,e,o,function(y){u._mu.unlock(),a(y)})})},At.prototype.chownSync=function(t,n,e,o){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(t,n,e,o)},At.prototype.utimes=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.utimes(t,n,e,function(u){a._mu.unlock(),o(u)})})},At.prototype.utimesSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(t,n,e)},At.prototype.link=function(t,n,e){var o=this;this._mu.lock(function(){o._fs.link(t,n,function(a){o._mu.unlock(),e(a)})})},At.prototype.linkSync=function(t,n){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(t,n)},At.prototype.symlink=function(t,n,e,o){var a=this;this._mu.lock(function(){a._fs.symlink(t,n,e,function(u){a._mu.unlock(),o(u)})})},At.prototype.symlinkSync=function(t,n,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(t,n,e)},At.prototype.readlink=function(t,n){var e=this;this._mu.lock(function(){e._fs.readlink(t,function(o,a){e._mu.unlock(),n(o,a)})})},At.prototype.readlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(t)};var En="/.deletedFiles.log";function zs(i){return 146|i}function He(i){return D.getFileFlag(i)}var Ws=function(i){function t(n,e,o,a,u){i.call(this,n,e,o,a,u)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var o=this;if(!this.isDirty()){e(null);return}this._fs._syncAsync(this,function(a){o.resetDirty(),e(a)})},t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.close=function(e){this.sync(e)},t.prototype.closeSync=function(){this.syncSync()},t}(pt),Hs=function(i){function t(n,e){if(i.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=n,this._readable=e,this._writable.isReadOnly())throw new p(h.EINVAL,"Writable file system must be writable.")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},t.prototype._syncAsync=function(e,o){var a=this;this.createParentDirectoriesAsync(e.getPath(),function(u){if(u)return o(u);a._writable.writeFile(e.getPath(),e.getBuffer(),null,He("w"),e.getStats().mode,o)})},t.prototype._syncSync=function(e){this.createParentDirectories(e.getPath()),this._writable.writeFileSync(e.getPath(),e.getBuffer(),null,He("w"),e.getStats().mode)},t.prototype.getName=function(){return Ur.Name},t.prototype.initialize=function(e){var o=this,a=this._initializeCallbacks,u=function(y){o._isInitialized=!y,o._initializeCallbacks=[],a.forEach(function(x){return x(y)})};if(this._isInitialized)return e();a.push(e),a.length===1&&this._writable.readFile(En,"utf8",He("r"),function(y,x){if(y){if(y.errno!==h.ENOENT)return u(y)}else o._deleteLog=x;o._reparseDeletionLog(),u()})},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},t.prototype.getDeletionLog=function(){return this._deleteLog},t.prototype.restoreDeletionLog=function(e){this._deleteLog=e,this._reparseDeletionLog(),this.updateLog("")},t.prototype.rename=function(e,o,a){var u=this;if(!(!this.checkInitAsync(a)||this.checkPathAsync(e,a)||this.checkPathAsync(o,a))){if(e===En||o===En)return a(p.EPERM("Cannot rename deletion log."));if(e===o)return a();this.stat(e,!1,function(y,x){return y?a(y):u.stat(o,!1,function(I,P){var H=u;function nt(dt){var It=dt.shift();if(!It)return a();var Nt=_.resolve(e,It),Bt=_.resolve(o,It);H.rename(Nt,Bt,function(ae){if(ae)return a(ae);nt(dt)})}var ft=511;if(x.isDirectory()){if(I)return I.errno!==h.ENOENT?a(I):u._writable.exists(e,function(dt){if(dt)return u._writable.rename(e,o,a);u._writable.mkdir(o,ft,function(It){if(It)return a(It);u._readable.readdir(e,function(Nt,Bt){if(Nt)return a();nt(Bt)})})});if(ft=P.mode,!P.isDirectory())return a(p.ENOTDIR(o));u.readdir(o,function(dt,It){if(It&&It.length)return a(p.ENOTEMPTY(o));u._readable.readdir(e,function(Nt,Bt){if(Nt)return a();nt(Bt)})})}if(P&&P.isDirectory())return a(p.EISDIR(o));u.readFile(e,null,He("r"),function(dt,It){return dt?a(dt):u.writeFile(o,It,null,He("w"),x.mode,function(Nt){return Nt?a(Nt):u.unlink(e,a)})})})})}},t.prototype.renameSync=function(e,o){var a=this;if(this.checkInitialized(),this.checkPath(e),this.checkPath(o),e===En||o===En)throw p.EPERM("Cannot rename deletion log.");var u=this.statSync(e,!1);if(u.isDirectory()){if(e===o)return;var y=511;if(this.existsSync(o)){var x=this.statSync(o,!1);if(y=x.mode,x.isDirectory()){if(this.readdirSync(o).length>0)throw p.ENOTEMPTY(o)}else throw p.ENOTDIR(o)}this._writable.existsSync(e)?this._writable.renameSync(e,o):this._writable.existsSync(o)||this._writable.mkdirSync(o,y),this._readable.existsSync(e)&&this._readable.readdirSync(e).forEach(function(I){a.renameSync(_.resolve(e,I),_.resolve(o,I))})}else{if(this.existsSync(o)&&this.statSync(o,!1).isDirectory())throw p.EISDIR(o);this.writeFileSync(o,this.readFileSync(e,null,He("r")),null,He("w"),u.mode)}e!==o&&this.existsSync(e)&&this.unlinkSync(e)},t.prototype.stat=function(e,o,a){var u=this;this.checkInitAsync(a)&&this._writable.stat(e,o,function(y,x){y&&y.errno===h.ENOENT?(u._deletedFiles[e]&&a(p.ENOENT(e)),u._readable.stat(e,o,function(I,P){P&&(P=P.clone(),P.mode=zs(P.mode)),a(I,P)})):a(y,x)})},t.prototype.statSync=function(e,o){this.checkInitialized();try{return this._writable.statSync(e,o)}catch{if(this._deletedFiles[e])throw p.ENOENT(e);var a=this._readable.statSync(e,o).clone();return a.mode=zs(a.mode),a}},t.prototype.open=function(e,o,a,u){var y=this;!this.checkInitAsync(u)||this.checkPathAsync(e,u)||this.stat(e,!1,function(x,I){if(I)switch(o.pathExistsAction()){case R.TRUNCATE_FILE:return y.createParentDirectoriesAsync(e,function(P){if(P)return u(P);y._writable.open(e,o,a,u)});case R.NOP:return y._writable.exists(e,function(P){P?y._writable.open(e,o,a,u):(I=I.clone(),I.mode=a,y._readable.readFile(e,null,He("r"),function(H,nt){if(H)return u(H);I.size===-1&&(I.size=nt.length);var ft=new Ws(y,e,o,I,nt);u(null,ft)}))});default:return u(p.EEXIST(e))}else switch(o.pathNotExistsAction()){case R.CREATE_FILE:return y.createParentDirectoriesAsync(e,function(P){return P?u(P):y._writable.open(e,o,a,u)});default:return u(p.ENOENT(e))}})},t.prototype.openSync=function(e,o,a){if(this.checkInitialized(),this.checkPath(e),e===En)throw p.EPERM("Cannot open deletion log.");if(this.existsSync(e))switch(o.pathExistsAction()){case R.TRUNCATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,o,a);case R.NOP:if(this._writable.existsSync(e))return this._writable.openSync(e,o,a);var u=this._readable.readFileSync(e,null,He("r")),y=this._readable.statSync(e,!1).clone();return y.mode=a,new Ws(this,e,o,y,u);default:throw p.EEXIST(e)}else switch(o.pathNotExistsAction()){case R.CREATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,o,a);default:throw p.ENOENT(e)}},t.prototype.unlink=function(e,o){var a=this;!this.checkInitAsync(o)||this.checkPathAsync(e,o)||this.exists(e,function(u){if(!u)return o(p.ENOENT(e));a._writable.exists(e,function(y){if(y)return a._writable.unlink(e,function(x){if(x)return o(x);a.exists(e,function(I){I&&a.deletePath(e),o(null)})});a.deletePath(e),o(null)})})},t.prototype.unlinkSync=function(e){if(this.checkInitialized(),this.checkPath(e),this.existsSync(e))this._writable.existsSync(e)&&this._writable.unlinkSync(e),this.existsSync(e)&&this.deletePath(e);else throw p.ENOENT(e)},t.prototype.rmdir=function(e,o){var a=this;if(this.checkInitAsync(o)){var u=function(){a.readdir(e,function(y,x){if(y)return o(y);if(x.length)return o(p.ENOTEMPTY(e));a.deletePath(e),o(null)})};this.exists(e,function(y){if(!y)return o(p.ENOENT(e));a._writable.exists(e,function(x){x?a._writable.rmdir(e,function(I){if(I)return o(I);a._readable.exists(e,function(P){P?u():o()})}):u()})})}},t.prototype.rmdirSync=function(e){if(this.checkInitialized(),this.existsSync(e)){if(this._writable.existsSync(e)&&this._writable.rmdirSync(e),this.existsSync(e)){if(this.readdirSync(e).length>0)throw p.ENOTEMPTY(e);this.deletePath(e)}}else throw p.ENOENT(e)},t.prototype.mkdir=function(e,o,a){var u=this;this.checkInitAsync(a)&&this.exists(e,function(y){if(y)return a(p.EEXIST(e));u.createParentDirectoriesAsync(e,function(x){if(x)return a(x);u._writable.mkdir(e,o,a)})})},t.prototype.mkdirSync=function(e,o){if(this.checkInitialized(),this.existsSync(e))throw p.EEXIST(e);this.createParentDirectories(e),this._writable.mkdirSync(e,o)},t.prototype.readdir=function(e,o){var a=this;this.checkInitAsync(o)&&this.stat(e,!1,function(u,y){if(u)return o(u);if(!y.isDirectory())return o(p.ENOTDIR(e));a._writable.readdir(e,function(x,I){if(x&&x.code!=="ENOENT")return o(x);(x||!I)&&(I=[]),a._readable.readdir(e,function(P,H){(P||!H)&&(H=[]);var nt={},ft=I.concat(H.filter(function(dt){return!a._deletedFiles[e+"/"+dt]})).filter(function(dt){var It=!nt[dt];return nt[dt]=!0,It});o(null,ft)})})})},t.prototype.readdirSync=function(e){var o=this;this.checkInitialized();var a=this.statSync(e,!1);if(!a.isDirectory())throw p.ENOTDIR(e);var u=[];try{u=u.concat(this._writable.readdirSync(e))}catch{}try{u=u.concat(this._readable.readdirSync(e).filter(function(x){return!o._deletedFiles[e+"/"+x]}))}catch{}var y={};return u.filter(function(x){var I=!y[x];return y[x]=!0,I})},t.prototype.exists=function(e,o){var a=this;this.checkInitialized(),this._writable.exists(e,function(u){if(u)return o(!0);a._readable.exists(e,function(y){o(y&&a._deletedFiles[e]!==!0)})})},t.prototype.existsSync=function(e){return this.checkInitialized(),this._writable.existsSync(e)||this._readable.existsSync(e)&&this._deletedFiles[e]!==!0},t.prototype.chmod=function(e,o,a,u){var y=this;this.checkInitAsync(u)&&this.operateOnWritableAsync(e,function(x){if(x)return u(x);y._writable.chmod(e,o,a,u)})},t.prototype.chmodSync=function(e,o,a){var u=this;this.checkInitialized(),this.operateOnWritable(e,function(){u._writable.chmodSync(e,o,a)})},t.prototype.chown=function(e,o,a,u,y){var x=this;this.checkInitAsync(y)&&this.operateOnWritableAsync(e,function(I){if(I)return y(I);x._writable.chown(e,o,a,u,y)})},t.prototype.chownSync=function(e,o,a,u){var y=this;this.checkInitialized(),this.operateOnWritable(e,function(){y._writable.chownSync(e,o,a,u)})},t.prototype.utimes=function(e,o,a,u){var y=this;this.checkInitAsync(u)&&this.operateOnWritableAsync(e,function(x){if(x)return u(x);y._writable.utimes(e,o,a,u)})},t.prototype.utimesSync=function(e,o,a){var u=this;this.checkInitialized(),this.operateOnWritable(e,function(){u._writable.utimesSync(e,o,a)})},t.prototype.deletePath=function(e){this._deletedFiles[e]=!0,this.updateLog("d"+e+`
`)},t.prototype.updateLog=function(e){var o=this;this._deleteLog+=e,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(En,this._deleteLog,"utf8",D.getFileFlag("w"),420,function(a){o._deleteLogUpdatePending=!1,a?o._deleteLogError=a:o._deleteLogUpdateNeeded&&(o._deleteLogUpdateNeeded=!1,o.updateLog(""))}))},t.prototype._reparseDeletionLog=function(){var e=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(o){e._deletedFiles[o.slice(1)]=o.slice(0,1)==="d"})},t.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var e=this._deleteLogError;throw this._deleteLogError=null,e}}else throw new p(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},t.prototype.checkInitAsync=function(e){if(this._isInitialized){if(this._deleteLogError!==null){var o=this._deleteLogError;return this._deleteLogError=null,e(o),!1}}else return e(new p(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},t.prototype.checkPath=function(e){if(e===En)throw p.EPERM(e)},t.prototype.checkPathAsync=function(e,o){return e===En?(o(p.EPERM(e)),!0):!1},t.prototype.createParentDirectoriesAsync=function(e,o){var a=_.dirname(e),u=[],y=this;this._writable.stat(a,!1,x);function x(P,H){P?(u.push(a),a=_.dirname(a),y._writable.stat(a,!1,x)):I()}function I(){if(!u.length)return o();var P=u.pop();y._readable.stat(P,!1,function(H,nt){if(!nt)return o();y._writable.mkdir(P,nt.mode,function(ft){if(ft)return o(ft);I()})})}},t.prototype.createParentDirectories=function(e){for(var o=this,a=_.dirname(e),u=[];!this._writable.existsSync(a);)u.push(a),a=_.dirname(a);u=u.reverse(),u.forEach(function(y){o._writable.mkdirSync(y,o.statSync(y,!1).mode)})},t.prototype.operateOnWritable=function(e,o){if(this.existsSync(e))this._writable.existsSync(e)||this.copyToWritable(e),o();else throw p.ENOENT(e)},t.prototype.operateOnWritableAsync=function(e,o){var a=this;this.exists(e,function(u){if(!u)return o(p.ENOENT(e));a._writable.exists(e,function(y){if(y)o();else return a.copyToWritableAsync(e,o)})})},t.prototype.copyToWritable=function(e){var o=this.statSync(e,!1);o.isDirectory()?this._writable.mkdirSync(e,o.mode):this.writeFileSync(e,this._readable.readFileSync(e,null,He("r")),null,He("w"),this.statSync(e,!1).mode)},t.prototype.copyToWritableAsync=function(e,o){var a=this;this.stat(e,!1,function(u,y){if(u)return o(u);if(y.isDirectory())return a._writable.mkdir(e,y.mode,o);a._readable.readFile(e,null,He("r"),function(x,I){if(x)return o(x);a.writeFile(e,I,null,He("w"),y.mode,o)})})},t}(j),Ur=function(i){function t(n,e,o){o===void 0&&(o=!0),i.call(this,new Hs(n,e)),Ot(o,t.Name,{readable:"readable file system",writable:"writable file system"})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{var a=new t(e.writable,e.readable,!1);a.initialize(function(u){o(u,a)},!1)}catch(u){o(u)}},t.isAvailable=function(){return Hs.isAvailable()},t.prototype.initialize=function(e,o){o===void 0&&(o=!0),o&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),i.prototype.initialize.call(this,e)},t.prototype.getOverlayedFileSystems=function(){return i.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},t.prototype.unwrap=function(){return i.prototype.getFSUnlocked.call(this)},t}(At);Ur.Name="OverlayFS",Ur.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var se;(function(i){i[i.CB=0]="CB",i[i.FD=1]="FD",i[i.API_ERROR=2]="API_ERROR",i[i.STATS=3]="STATS",i[i.PROBE=4]="PROBE",i[i.FILEFLAG=5]="FILEFLAG",i[i.BUFFER=6]="BUFFER",i[i.ERROR=7]="ERROR"})(se||(se={}));var bo=function(){this._callbacks={},this._nextId=0};bo.prototype.toRemoteArg=function(t){var n=this._nextId++;return this._callbacks[n]=t,{type:se.CB,id:n}},bo.prototype.toLocalArg=function(t){var n=this._callbacks[t];return delete this._callbacks[t],n};var wi=function(){this._fileDescriptors={},this._nextId=0};wi.prototype.toRemoteArg=function(t,n,e,o){var a=this._nextId++,u,y;this._fileDescriptors[a]=t,t.stat(function(x,I){x?o(x):(y=Wn(I.toBuffer()),e.isReadable()?t.read(d.alloc(I.size),0,I.size,0,function(P,H,nt){P?o(P):(u=Wn(nt),o(null,{type:se.FD,id:a,data:u,stat:y,path:n,flag:e.getFlagString()}))}):o(null,{type:se.FD,id:a,data:new ArrayBuffer(0),stat:y,path:n,flag:e.getFlagString()}))})},wi.prototype.applyFdAPIRequest=function(t,n){var e=this,o=t.args[0];this._applyFdChanges(o,function(a,u){a?n(a):u[t.method](function(y){t.method==="close"&&delete e._fileDescriptors[o.id],n(y)})})},wi.prototype._applyFdChanges=function(t,n){var e=this._fileDescriptors[t.id],o=Hn(t.data),a=B.fromBuffer(Hn(t.stat)),u=D.getFileFlag(t.flag);u.isWriteable()?e.write(o,0,o.length,u.isAppendable()?e.getPos():0,function(y){function x(){e.stat(function(I,P){I?n(I):P.mode!==a.mode?e.chmod(a.mode,function(H){n(H,e)}):n(I,e)})}y?n(y):u.isAppendable()?x():e.truncate(o.length,function(){x()})}):n(null,e)};function Si(i){return{type:se.API_ERROR,errorData:Wn(i.writeToBuffer())}}function Vs(i){return p.fromBuffer(Hn(i.errorData))}function Xs(i){return{type:se.ERROR,name:i.name,message:i.message,stack:i.stack}}function Ys(i){var t=he[i.name];typeof t!="function"&&(t=Error);var n=new t(i.message);return n.stack=i.stack,n}function Zs(i){return{type:se.STATS,statsData:Wn(i.toBuffer())}}function qs(i){return B.fromBuffer(Hn(i.statsData))}function Ks(i){return{type:se.FILEFLAG,flagStr:i.getFlagString()}}function Js(i){return D.getFileFlag(i.flagStr)}function Wn(i){return ct(i)}function Hn(i){return Ct(i)}function Gs(i){return{type:se.BUFFER,data:Wn(i)}}function Qs(i){return Hn(i.data)}function Nl(i){return i&&typeof i=="object"&&i.hasOwnProperty("browserfsMessage")&&i.browserfsMessage}function Dl(i){return i&&typeof i=="object"&&i.hasOwnProperty("browserfsMessage")&&i.browserfsMessage}var $s=function(i){function t(n,e,o,a,u,y){i.call(this,n,e,o,a,y),this._remoteFdId=u}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.getRemoteFdId=function(){return this._remoteFdId},t.prototype.toRemoteArg=function(){return{type:se.FD,id:this._remoteFdId,data:Wn(this.getBuffer()),stat:Wn(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},t.prototype.sync=function(e){this._syncClose("sync",e)},t.prototype.close=function(e){this._syncClose("close",e)},t.prototype._syncClose=function(e,o){var a=this;this.isDirty()?this._fs.syncClose(e,this,function(u){u||a.resetDirty(),o(u)}):o()},t}(pt),Ei=function(i){function t(n,e){var o=this;e===void 0&&(e=!0),i.call(this),this._callbackConverter=new bo,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=n,Ot(e,t.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(a){var u=a.data;if(Dl(u)){var y,x=u.args,I=new Array(x.length);for(y=0;y<I.length;y++)I[y]=o._argRemote2Local(x[y]);o._callbackConverter.toLocalArg(u.cbId).apply(null,I)}})}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a=new t(e.worker,!1);a.initialize(function(){o(null,a)})},t.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},t.attachRemoteListener=function(e){var o=new wi;function a(y,x,I){switch(typeof y){case"object":y instanceof B?I(null,Zs(y)):y instanceof p?I(null,Si(y)):y instanceof $?I(null,o.toRemoteArg(y,x[0],x[1],I)):y instanceof D?I(null,Ks(y)):y instanceof d?I(null,Gs(y)):y instanceof Error?I(null,Xs(y)):I(null,y);break;default:I(null,y);break}}function u(y,x){if(!y)return y;switch(typeof y){case"object":if(typeof y.type=="number"){var I=y;switch(I.type){case se.CB:var P=y.id;return function(){var H=arguments,nt,ft=new Array(arguments.length),dt,It=arguments.length;function Nt(Bt){It>0&&(It=-1,dt={browserfsMessage:!0,cbId:P,args:[Si(Bt)]},e.postMessage(dt))}for(nt=0;nt<arguments.length;nt++)(function(Bt,ae){a(ae,x,function(be,fn){ft[Bt]=fn,be?Nt(be):--It===0&&(dt={browserfsMessage:!0,cbId:P,args:ft},e.postMessage(dt))})})(nt,H[nt]);arguments.length===0&&(dt={browserfsMessage:!0,cbId:P,args:ft},e.postMessage(dt))};case se.API_ERROR:return Vs(I);case se.STATS:return qs(I);case se.FILEFLAG:return Js(I);case se.BUFFER:return Qs(I);case se.ERROR:return Ys(I);default:return y}}else return y;default:return y}}e.addEventListener("message",function(y){var x=y.data;if(Nl(x)){var I=x.args,P=new Array(I.length);switch(x.method){case"close":case"sync":(function(){var ft=I[1];o.applyFdAPIRequest(x,function(dt){var It={browserfsMessage:!0,cbId:ft.id,args:dt?[Si(dt)]:[]};e.postMessage(It)})})();break;case"probe":(function(){var ft=mt.getRootFS(),dt=I[1],It={type:se.PROBE,isReadOnly:ft.isReadOnly(),supportsLinks:ft.supportsLinks(),supportsProps:ft.supportsProps()},Nt={browserfsMessage:!0,cbId:dt.id,args:[It]};e.postMessage(Nt)})();break;default:for(var H=0;H<I.length;H++)P[H]=u(I[H],P);var nt=mt.getRootFS();nt[x.method].apply(nt,P);break}}})},t.prototype.getName=function(){return t.Name},t.prototype.initialize=function(e){var o=this;if(this._isInitialized)e();else{var a={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(Yt()),this._callbackConverter.toRemoteArg(function(u){o._isInitialized=!0,o._isReadOnly=u.isReadOnly,o._supportLinks=u.supportsLinks,o._supportProps=u.supportsProps,e()})]};this._worker.postMessage(a)}},t.prototype.isReadOnly=function(){return this._isReadOnly},t.prototype.supportsSynch=function(){return!1},t.prototype.supportsLinks=function(){return this._supportLinks},t.prototype.supportsProps=function(){return this._supportProps},t.prototype.rename=function(e,o,a){this._rpc("rename",arguments)},t.prototype.stat=function(e,o,a){this._rpc("stat",arguments)},t.prototype.open=function(e,o,a,u){this._rpc("open",arguments)},t.prototype.unlink=function(e,o){this._rpc("unlink",arguments)},t.prototype.rmdir=function(e,o){this._rpc("rmdir",arguments)},t.prototype.mkdir=function(e,o,a){this._rpc("mkdir",arguments)},t.prototype.readdir=function(e,o){this._rpc("readdir",arguments)},t.prototype.exists=function(e,o){this._rpc("exists",arguments)},t.prototype.realpath=function(e,o,a){this._rpc("realpath",arguments)},t.prototype.truncate=function(e,o,a){this._rpc("truncate",arguments)},t.prototype.readFile=function(e,o,a,u){this._rpc("readFile",arguments)},t.prototype.writeFile=function(e,o,a,u,y,x){this._rpc("writeFile",arguments)},t.prototype.appendFile=function(e,o,a,u,y,x){this._rpc("appendFile",arguments)},t.prototype.chmod=function(e,o,a,u){this._rpc("chmod",arguments)},t.prototype.chown=function(e,o,a,u,y){this._rpc("chown",arguments)},t.prototype.utimes=function(e,o,a,u){this._rpc("utimes",arguments)},t.prototype.link=function(e,o,a){this._rpc("link",arguments)},t.prototype.symlink=function(e,o,a,u){this._rpc("symlink",arguments)},t.prototype.readlink=function(e,o){this._rpc("readlink",arguments)},t.prototype.syncClose=function(e,o,a){this._worker.postMessage({browserfsMessage:!0,method:e,args:[o.toRemoteArg(),this._callbackConverter.toRemoteArg(a)]})},t.prototype._argRemote2Local=function(e){if(!e)return e;switch(typeof e){case"object":if(typeof e.type=="number"){var o=e;switch(o.type){case se.API_ERROR:return Vs(o);case se.FD:var a=o;return new $s(this,a.path,D.getFileFlag(a.flag),B.fromBuffer(Hn(a.stat)),a.id,Hn(a.data));case se.STATS:return qs(o);case se.FILEFLAG:return Js(o);case se.BUFFER:return Qs(o);case se.ERROR:return Ys(o);default:return e}}else return e;default:return e}},t.prototype._rpc=function(e,o){for(var a=this,u=new Array(o.length),y=0;y<o.length;y++)u[y]=a._argLocal2Remote(o[y]);var x={browserfsMessage:!0,method:e,args:u};this._worker.postMessage(x)},t.prototype._argLocal2Remote=function(e){if(!e)return e;switch(typeof e){case"object":return e instanceof B?Zs(e):e instanceof p?Si(e):e instanceof $s?e.toRemoteArg():e instanceof D?Ks(e):e instanceof d?Gs(e):e instanceof Error?Xs(e):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(e);default:return e}},t}(j);Ei.Name="WorkerFS",Ei.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(i,t){i.postMessage?t():t(new p(h.EINVAL,"option must be a Web Worker instance."))}}};function Ll(i,t,n){var e=new XMLHttpRequest;e.open("GET",i,!0);var o=!0;switch(t){case"buffer":e.responseType="arraybuffer";break;case"json":try{e.responseType="json",o=e.responseType==="json"}catch{o=!1}break;default:return n(new p(h.EINVAL,"Invalid download type: "+t))}e.onreadystatechange=function(a){if(e.readyState===4)if(e.status===200)switch(t){case"buffer":return n(null,e.response?d.from(e.response):Yt());case"json":return o?n(null,e.response):n(null,JSON.parse(e.responseText))}else return n(new p(e.status,"XHR error."))},e.send()}function Cl(i,t){var n=new XMLHttpRequest;n.open("GET",i,!1);var e=null,o=null;if(n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(a){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":var u=n.responseText;e=d.alloc(u.length);for(var y=0;y<u.length;y++)e[y]=u.charCodeAt(y);return;case"json":e=JSON.parse(n.responseText);return}else{o=new p(n.status,"XHR error.");return}},n.send(),o)throw o;return e}function Al(i,t){var n=new XMLHttpRequest;switch(n.open("GET",i,!1),t){case"buffer":n.responseType="arraybuffer";break;case"json":break;default:throw new p(h.EINVAL,"Invalid download type: "+t)}var e,o;if(n.onreadystatechange=function(a){if(n.readyState===4)if(n.status===200)switch(t){case"buffer":e=d.from(n.response);break;case"json":e=JSON.parse(n.response);break}else o=new p(n.status,"XHR error.")},n.send(),o)throw o;return e}function ta(i,t,n){var e=new XMLHttpRequest;e.open("HEAD",t,i),e.onreadystatechange=function(o){if(e.readyState===4)if(e.status===200)try{return n(null,parseInt(e.getResponseHeader("Content-Length")||"-1",10))}catch{return n(new p(h.EIO,"XHR HEAD error: Could not read content-length."))}else return n(new p(e.status,"XHR HEAD error."))},e.send()}var ea=Ll,Pl=_t&&typeof Blob<"u"?Al:Cl;function Ml(i){var t=-1;return ta(!1,i,function(n,e){if(n)throw n;t=e}),t}function Ul(i,t){ta(!0,i,t)}var Ge=function(){this._index={},this.addPath("/",new Pe)};Ge.fromListing=function(t){var n=new Ge,e=new Pe;n._index["/"]=e;for(var o=[["",t,e]];o.length>0;){var a=void 0,u=o.pop(),y=u[0],x=u[1],I=u[2];for(var P in x)if(x.hasOwnProperty(P)){var H=x[P],nt=y+"/"+P;H?(n._index[nt]=a=new Pe,o.push([nt,H,a])):a=new yr(new B(M.FILE,-1,365)),I&&(I._ls[P]=a)}}return n},Ge.prototype.fileIterator=function(t){var n=this;for(var e in n._index)if(n._index.hasOwnProperty(e))for(var o=n._index[e],a=o.getListing(),u=0,y=a;u<y.length;u+=1){var x=y[u],I=o.getItem(x);xn(I)&&t(I.getData())}},Ge.prototype.addPath=function(t,n){if(!n)throw new Error("Inode must be specified");if(t[0]!=="/")throw new Error("Path must be absolute, got: "+t);if(this._index.hasOwnProperty(t))return this._index[t]===n;var e=this._split_path(t),o=e[0],a=e[1],u=this._index[o];return u===void 0&&t!=="/"&&(u=new Pe,!this.addPath(o,u))||t!=="/"&&!u.addItem(a,n)?!1:(Rn(n)&&(this._index[t]=n),!0)},Ge.prototype.addPathFast=function(t,n){var e=t.lastIndexOf("/"),o=e===0?"/":t.substring(0,e),a=t.substring(e+1),u=this._index[o];return u===void 0&&(u=new Pe,this.addPathFast(o,u)),u.addItem(a,n)?(n.isDir()&&(this._index[t]=n),!0):!1},Ge.prototype.removePath=function(t){var n=this,e=this._split_path(t),o=e[0],a=e[1],u=this._index[o];if(u===void 0)return null;var y=u.remItem(a);if(y===null)return null;if(Rn(y)){for(var x=y.getListing(),I=0,P=x;I<P.length;I+=1){var H=P[I];n.removePath(t+"/"+H)}t!=="/"&&delete this._index[t]}return y},Ge.prototype.ls=function(t){var n=this._index[t];return n===void 0?null:n.getListing()},Ge.prototype.getInode=function(t){var n=this._split_path(t),e=n[0],o=n[1],a=this._index[e];return a===void 0?null:e===t?a:a.getItem(o)},Ge.prototype._split_path=function(t){var n=_.dirname(t),e=t.substr(n.length+(n==="/"?0:1));return[n,e]};var yr=function(t){this.data=t};yr.prototype.isFile=function(){return!0},yr.prototype.isDir=function(){return!1},yr.prototype.getData=function(){return this.data},yr.prototype.setData=function(t){this.data=t};var Pe=function(t){t===void 0&&(t=null),this.data=t,this._ls={}};Pe.prototype.isFile=function(){return!1},Pe.prototype.isDir=function(){return!0},Pe.prototype.getData=function(){return this.data},Pe.prototype.getStats=function(){return new B(M.DIRECTORY,4096,365)},Pe.prototype.getListing=function(){return Object.keys(this._ls)},Pe.prototype.getItem=function(t){var n=this._ls[t];return n||null},Pe.prototype.addItem=function(t,n){return t in this._ls?!1:(this._ls[t]=n,!0)},Pe.prototype.remItem=function(t){var n=this._ls[t];return n===void 0?null:(delete this._ls[t],n)};function xn(i){return!!i&&i.isFile()}function Rn(i){return!!i&&i.isDir()}function jl(i,t,n){try{n(null,i.toString(t))}catch(e){n(e)}}var xi=function(i){function t(n,e,o){e===void 0&&(e=""),o===void 0&&(o=!0),i.call(this),n||(n="index.json"),e.length>0&&e.charAt(e.length-1)!=="/"&&(e=e+"/"),this.prefixUrl=e;var a=null;if(typeof n=="string"){if(a=this._requestFileSync(n,"json"),!a)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else a=n;Ot(o,t.Name,{index:typeof n=="string"?n:"file index as an object",baseUrl:e}),this._index=Ge.fromListing(a)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){e.index===void 0&&(e.index="index.json"),typeof e.index=="string"?t.FromURL(e.index,o,e.baseUrl,!1):o(null,new t(e.index,e.baseUrl,!1))},t.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},t.FromURL=function(e,o,a,u){a===void 0&&(a=e.slice(0,e.lastIndexOf("/")+1)),u===void 0&&(u=!0),u&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+e+'", baseUrl: "'+a+`" }, cb)' instead.`),ea(e,"json",function(y,x){y?o(y):o(null,new t(x,a,!1))})},t.prototype.empty=function(){this._index.fileIterator(function(e){e.fileData=null})},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,o){o(0,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.preloadFile=function(e,o){var a=this._index.getInode(e);if(xn(a)){if(a===null)throw p.ENOENT(e);var u=a.getData();u.size=o.length,u.fileData=o}else throw p.EISDIR(e)},t.prototype.stat=function(e,o,a){var u=this._index.getInode(e);if(u===null)return a(p.ENOENT(e));var y;xn(u)?(y=u.getData(),y.size<0?this._requestFileSizeAsync(e,function(x,I){if(x)return a(x);y.size=I,a(null,y.clone())}):a(null,y.clone())):Rn(u)?(y=u.getStats(),a(null,y)):a(p.FileError(h.EINVAL,e))},t.prototype.statSync=function(e,o){var a=this._index.getInode(e);if(a===null)throw p.ENOENT(e);var u;if(xn(a))u=a.getData(),u.size<0&&(u.size=this._requestFileSizeSync(e));else if(Rn(a))u=a.getStats();else throw p.FileError(h.EINVAL,e);return u},t.prototype.open=function(e,o,a,u){if(o.isWriteable())return u(new p(h.EPERM,e));var y=this,x=this._index.getInode(e);if(x===null)return u(p.ENOENT(e));if(xn(x)){var I=x.getData();switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:return u(p.EEXIST(e));case R.NOP:if(I.fileData)return u(null,new lt(y,e,o,I.clone(),I.fileData));this._requestFileAsync(e,"buffer",function(P,H){return P?u(P):(I.size=H.length,I.fileData=H,u(null,new lt(y,e,o,I.clone(),H)))});break;default:return u(new p(h.EINVAL,"Invalid FileMode object."))}}else return u(p.EISDIR(e))},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new p(h.EPERM,e);var u=this._index.getInode(e);if(u===null)throw p.ENOENT(e);if(xn(u)){var y=u.getData();switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:throw p.EEXIST(e);case R.NOP:if(y.fileData)return new lt(this,e,o,y.clone(),y.fileData);var x=this._requestFileSync(e,"buffer");return y.size=x.length,y.fileData=x,new lt(this,e,o,y.clone(),x);default:throw new p(h.EINVAL,"Invalid FileMode object.")}}else throw p.EISDIR(e)},t.prototype.readdir=function(e,o){try{o(null,this.readdirSync(e))}catch(a){o(a)}},t.prototype.readdirSync=function(e){var o=this._index.getInode(e);if(o===null)throw p.ENOENT(e);if(Rn(o))return o.getListing();throw p.ENOTDIR(e)},t.prototype.readFile=function(e,o,a,u){var y=u;this.open(e,a,420,function(x,I){if(x)return u(x);u=function(nt,ft){I.close(function(dt){return nt||(nt=dt),y(nt,ft)})};var P=I,H=P.getBuffer();o===null?u(x,Mt(H)):jl(H,o,u)})},t.prototype.readFileSync=function(e,o,a){var u=this.openSync(e,a,420);try{var y=u,x=y.getBuffer();return o===null?Mt(x):x.toString(o)}finally{u.closeSync()}},t.prototype.getXhrPath=function(e){return e.charAt(0)==="/"&&(e=e.slice(1)),this.prefixUrl+e},t.prototype._requestFileAsync=function(e,o,a){ea(this.getXhrPath(e),o,a)},t.prototype._requestFileSync=function(e,o){return Pl(this.getXhrPath(e),o)},t.prototype._requestFileSizeAsync=function(e,o){Ul(this.getXhrPath(e),o)},t.prototype._requestFileSizeSync=function(e){return Ml(this.getXhrPath(e))},t}(j);xi.Name="XmlHttpRequest",xi.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var Vn=function(){};Vn.str2byte=function(t,n){for(var e=t.length>n.length?n.length:t.length,o=0;o<e;o++){var a=t.charCodeAt(o);if(a>127){var u=Vn.extendedChars.indexOf(t.charAt(o));u>-1&&(a=u+128)}n[a]=o}return e},Vn.byte2str=function(t){for(var n=new Array(t.length),e=0;e<t.length;e++){var o=t[e];o>127?n[e]=Vn.extendedChars[o-128]:n[e]=String.fromCharCode(o)}return n.join("")},Vn.byteLength=function(t){return t.length},Vn.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var Bl=f(31).inflateRaw,na={},ra;(function(i){i[i.MSDOS=0]="MSDOS",i[i.AMIGA=1]="AMIGA",i[i.OPENVMS=2]="OPENVMS",i[i.UNIX=3]="UNIX",i[i.VM_CMS=4]="VM_CMS",i[i.ATARI_ST=5]="ATARI_ST",i[i.OS2_HPFS=6]="OS2_HPFS",i[i.MAC=7]="MAC",i[i.Z_SYSTEM=8]="Z_SYSTEM",i[i.CP_M=9]="CP_M",i[i.NTFS=10]="NTFS",i[i.MVS=11]="MVS",i[i.VSE=12]="VSE",i[i.ACORN_RISC=13]="ACORN_RISC",i[i.VFAT=14]="VFAT",i[i.ALT_MVS=15]="ALT_MVS",i[i.BEOS=16]="BEOS",i[i.TANDEM=17]="TANDEM",i[i.OS_400=18]="OS_400",i[i.OSX=19]="OSX"})(ra||(ra={}));var vr;(function(i){i[i.STORED=0]="STORED",i[i.SHRUNK=1]="SHRUNK",i[i.REDUCED_1=2]="REDUCED_1",i[i.REDUCED_2=3]="REDUCED_2",i[i.REDUCED_3=4]="REDUCED_3",i[i.REDUCED_4=5]="REDUCED_4",i[i.IMPLODE=6]="IMPLODE",i[i.DEFLATE=8]="DEFLATE",i[i.DEFLATE64=9]="DEFLATE64",i[i.TERSE_OLD=10]="TERSE_OLD",i[i.BZIP2=12]="BZIP2",i[i.LZMA=14]="LZMA",i[i.TERSE_NEW=18]="TERSE_NEW",i[i.LZ77=19]="LZ77",i[i.WAVPACK=97]="WAVPACK",i[i.PPMD=98]="PPMD"})(vr||(vr={}));function ia(i,t){var n=t&31,e=(t>>5&15)-1,o=(t>>9)+1980,a=i&31,u=i>>5&63,y=i>>11;return new Date(o,e,n,y,u,a)}function bi(i,t,n,e){return e===0?"":t?i.toString("utf8",n,n+e):Vn.byte2str(i.slice(n,n+e))}var Ve=function(t){if(this.data=t,t.readUInt32LE(0)!==67324752)throw new p(h.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Ve.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Ve.prototype.flags=function(){return this.data.readUInt16LE(6)},Ve.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Ve.prototype.lastModFileTime=function(){return ia(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Ve.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Ve.prototype.crc32=function(){return this.data.readUInt32LE(14)},Ve.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Ve.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Ve.prototype.fileName=function(){return bi(this.data,this.useUTF8(),30,this.fileNameLength())},Ve.prototype.extraField=function(){var t=30+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},Ve.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Ve.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var jr=function(t,n,e){this.header=t,this.record=n,this.data=e};jr.prototype.decompress=function(){var t=this.header.compressionMethod(),n=na[t];if(n)return n(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var e=vr[t];throw e||(e="Unknown: "+t),new p(h.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+e)},jr.prototype.getHeader=function(){return this.header},jr.prototype.getRecord=function(){return this.record},jr.prototype.getRawData=function(){return this.data};var qt=function(t,n){if(this.zipData=t,this.data=n,this.data.readUInt32LE(0)!==33639248)throw new p(h.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};qt.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},qt.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},qt.prototype.flag=function(){return this.data.readUInt16LE(8)},qt.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},qt.prototype.lastModFileTime=function(){return ia(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},qt.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},qt.prototype.crc32=function(){return this.data.readUInt32LE(16)},qt.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},qt.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},qt.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},qt.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},qt.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},qt.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},qt.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},qt.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},qt.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},qt.prototype.produceFilename=function(){var t=bi(this.data,this.useUTF8(),46,this.fileNameLength());return t.replace(/\\/g,"/")},qt.prototype.fileName=function(){return this._filename},qt.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},qt.prototype.extraField=function(){var t=44+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},qt.prototype.fileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return bi(this.data,this.useUTF8(),t,this.fileCommentLength())},qt.prototype.rawFileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(t,t+this.fileCommentLength())},qt.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},qt.prototype.isDirectory=function(){var t=this.fileName();return!!(this.externalAttributes()&16)||t.charAt(t.length-1)==="/"},qt.prototype.isFile=function(){return!this.isDirectory()},qt.prototype.useUTF8=function(){return(this.flag()&2048)===2048},qt.prototype.isEncrypted=function(){return(this.flag()&1)===1},qt.prototype.getFileData=function(){var t=this.headerRelativeOffset(),n=new Ve(this.zipData.slice(t));return new jr(n,this,this.zipData.slice(t+n.totalSize()))},qt.prototype.getData=function(){return this.getFileData().decompress()},qt.prototype.getRawData=function(){return this.getFileData().getRawData()},qt.prototype.getStats=function(){return new B(M.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var cn=function(t){if(this.data=t,this.data.readUInt32LE(0)!==101010256)throw new p(h.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};cn.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},cn.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},cn.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},cn.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},cn.prototype.cdSize=function(){return this.data.readUInt32LE(12)},cn.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},cn.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},cn.prototype.cdZipComment=function(){return bi(this.data,!0,22,this.cdZipCommentLength())},cn.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var oa=function(t,n,e,o){this.index=t,this.directoryEntries=n,this.eocd=e,this.data=o},Xn=function(i){function t(n,e,o){e===void 0&&(e=""),o===void 0&&(o=!0),i.call(this),this.name=e,this._index=new Ge,this._directoryEntries=[],this._eocd=null,Ot(o,t.Name,{zipData:"zip data as a Buffer",name:e}),n instanceof oa?(this._index=n.index,this._directoryEntries=n.directoryEntries,this._eocd=n.eocd,this.data=n.data):(this.data=n,this.populateIndex())}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){try{t.computeIndex(e.zipData,function(a){var u=new t(a,e.name,!1);o(null,u)},!1)}catch(a){o(a)}},t.isAvailable=function(){return!0},t.RegisterDecompressionMethod=function(e,o){na[e]=o},t.computeIndex=function(e,o,a){a===void 0&&(a=!0),a&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var u=new Ge,y=t.getEOCD(e);if(y.diskNumber()!==y.cdDiskNumber())throw new p(h.EINVAL,"ZipFS does not support spanned zip files.");var x=y.cdOffset();if(x===4294967295)throw new p(h.EINVAL,"ZipFS does not support Zip64.");var I=x+y.cdSize();t.computeIndexResponsive(e,u,x,I,o,[],y)},t.getEOCD=function(e){for(var o=22,a=Math.min(o+65535,e.length-1),u=o;u<a;u++)if(e.readUInt32LE(e.length-u)===101010256)return new cn(e.slice(e.length-u));throw new p(h.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},t.addToIndex=function(e,o){var a=e.fileName();if(a.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");a.charAt(a.length-1)==="/"&&(a=a.substr(0,a.length-1)),e.isDirectory()?o.addPathFast("/"+a,new Pe(e)):o.addPathFast("/"+a,new yr(e))},t.computeIndexResponsive=function(e,o,a,u,y,x,I){if(a<u){for(var P=0;P++<200&&a<u;){var H=new qt(e,e.slice(a));t.addToIndex(H,o),a+=H.totalSize(),x.push(H)}xo(function(){t.computeIndexResponsive(e,o,a,u,y,x,I)})}else y(new oa(o,x,I,e))},t.prototype.getName=function(){return t.Name+(this.name!==""?" "+this.name:"")},t.prototype.getCentralDirectoryEntry=function(e){var o=this._index.getInode(e);if(o===null)throw p.ENOENT(e);if(xn(o))return o.getData();if(Rn(o))return o.getData();throw p.EPERM("Invalid inode: "+o)},t.prototype.getCentralDirectoryEntryAt=function(e){var o=this._directoryEntries[e];if(!o)throw new RangeError("Invalid directory index: "+e+".");return o},t.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},t.prototype.getEndOfCentralDirectory=function(){return this._eocd},t.prototype.diskSpace=function(e,o){o(this.data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,o){var a=this._index.getInode(e);if(a===null)throw p.ENOENT(e);var u;if(xn(a))u=a.getData().getStats();else if(Rn(a))u=a.getStats();else throw new p(h.EINVAL,"Invalid inode.");return u},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new p(h.EPERM,e);var u=this._index.getInode(e);if(u)if(xn(u)){var y=u.getData(),x=y.getStats();switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:throw p.EEXIST(e);case R.NOP:return new lt(this,e,o,x,y.getData());default:throw new p(h.EINVAL,"Invalid FileMode object.")}}else throw p.EISDIR(e);else throw p.ENOENT(e)},t.prototype.readdirSync=function(e){var o=this._index.getInode(e);if(o){if(Rn(o))return o.getListing();throw p.ENOTDIR(e)}else throw p.ENOENT(e)},t.prototype.readFileSync=function(e,o,a){var u=this.openSync(e,a,420);try{var y=u,x=y.getBuffer();return o===null?Mt(x):x.toString(o)}finally{u.closeSync()}},t.prototype.populateIndex=function(){var e=this,o=this._eocd=t.getEOCD(this.data);if(o.diskNumber()!==o.cdDiskNumber())throw new p(h.EINVAL,"ZipFS does not support spanned zip files.");var a=o.cdOffset();if(a===4294967295)throw new p(h.EINVAL,"ZipFS does not support Zip64.");for(var u=a+o.cdSize();a<u;){var y=new qt(e.data,e.data.slice(a));a+=y.totalSize(),t.addToIndex(y,e._index),e._directoryEntries.push(y)}},t}(rt);Xn.Name="ZipFS",Xn.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:N},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},Xn.CompressionMethod=vr,Xn.RegisterDecompressionMethod(vr.DEFLATE,function(i,t,n){return jt(Bl(i.slice(0,t),{chunkSize:n}))}),Xn.RegisterDecompressionMethod(vr.STORED,function(i,t,n){return Mt(i,0,n)});var zl="IEEE_P1282";function Me(i,t,n){return i.toString("ascii",t,t+n).trim()}function Fo(i,t,n){if(n===1)return String.fromCharCode(i[t]);for(var e=Math.floor(n/2),o=new Array(e),a=0;a<e;a++){var u=t+(a<<1);o[a]=String.fromCharCode(i[u+1]|i[u]<<8)}return o.join("")}function ln(i,t){var n=parseInt(Me(i,t,4),10),e=parseInt(Me(i,t+4,2),10),o=parseInt(Me(i,t+6,2),10),a=parseInt(Me(i,t+8,2),10),u=parseInt(Me(i,t+10,2),10),y=parseInt(Me(i,t+12,2),10),x=parseInt(Me(i,t+14,2),10);return new Date(n,e,o,a,u,y,x*100)}function Yn(i,t){var n=i[t],e=i[t+1],o=i[t+2],a=i[t+3],u=i[t+4],y=i[t+5];return new Date(n,e-1,o,a,u,y)}function Wl(i,t){var n=i.slice(t),e=new de(n);switch(e.signatureWord()){case 17221:return new la(n);case 20548:return new Xl(n);case 21328:return new fa(n);case 21332:return new ha(n);case 17746:return new da(n);case 17747:return new Yl(n);case 20568:return new ya(n);case 20558:return new Zl(n);case 21324:return new Io(n);case 20045:return new va(n);case 17228:return new ko(n);case 20556:return new ql(n);case 21061:return new ga(n);case 21574:return new ma(n);case 21318:return new Kl(n);case 21074:return new pa(n);default:return e}}function sa(i,t,n,e){n=n-4;for(var o=new Array;t<n;){var a=Wl(i,t),u=a.length();if(u===0)return o;if(t+=u,a instanceof ha)break;a instanceof la?o=o.concat(a.getEntries(e)):o.push(a)}return o}var gr=function(t){this._data=t};gr.prototype.type=function(){return this._data[0]},gr.prototype.standardIdentifier=function(){return Me(this._data,1,5)},gr.prototype.version=function(){return this._data[6]},gr.prototype.data=function(){return this._data.slice(7,2048)};var aa=function(i){function t(n){i.call(this,n),this._root=null}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.systemIdentifier=function(){return this._getString32(8)},t.prototype.volumeIdentifier=function(){return this._getString32(40)},t.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},t.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},t.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},t.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},t.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},t.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},t.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},t.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},t.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},t.prototype.rootDirectoryEntry=function(e){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(e)),this._root},t.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},t.prototype.publisherIdentifier=function(){return this._getString(318,128)},t.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},t.prototype.applicationIdentifier=function(){return this._getString(574,128)},t.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},t.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},t.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},t.prototype.volumeCreationDate=function(){return ln(this._data,813)},t.prototype.volumeModificationDate=function(){return ln(this._data,830)},t.prototype.volumeExpirationDate=function(){return ln(this._data,847)},t.prototype.volumeEffectiveDate=function(){return ln(this._data,864)},t.prototype.fileStructureVersion=function(){return this._data[881]},t.prototype.applicationUsed=function(){return this._data.slice(883,883+512)},t.prototype.reserved=function(){return this._data.slice(1395,1395+653)},t.prototype._getString32=function(e){return this._getString(e,32)},t}(gr),Hl=function(i){function t(n){if(i.call(this,n),this.type()!==1)throw new p(h.EIO,"Invalid primary volume descriptor.")}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"ISO9660"},t.prototype._constructRootDirectoryRecord=function(e){return new ua(e,-1)},t.prototype._getString=function(e,o){return this._getString(e,o)},t}(aa),Vl=function(i){function t(n){if(i.call(this,n),this.type()!==2)throw new p(h.EIO,"Invalid supplementary volume descriptor.");var e=this.escapeSequence(),o=e[2];if(e[0]!==37||e[1]!==47||o!==64&&o!==67&&o!==69)throw new p(h.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+e.toString())}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"Joliet"},t.prototype.escapeSequence=function(){return this._data.slice(88,120)},t.prototype._constructRootDirectoryRecord=function(e){return new ca(e,-1)},t.prototype._getString=function(e,o){return Fo(this._data,e,o)},t}(aa),ne=function(t,n){this._suEntries=null,this._fileOrDir=null,this._data=t,this._rockRidgeOffset=n};ne.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},ne.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},ne.prototype.rootCheckForRockRidge=function(t){var n=this.getDirectory(t);this._rockRidgeOffset=n.getDotEntry(t)._getRockRidgeOffset(t),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},ne.prototype.length=function(){return this._data[0]},ne.prototype.extendedAttributeRecordLength=function(){return this._data[1]},ne.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},ne.prototype.dataLength=function(){return this._data.readUInt32LE(10)},ne.prototype.recordingDate=function(){return Yn(this._data,18)},ne.prototype.fileFlags=function(){return this._data[25]},ne.prototype.fileUnitSize=function(){return this._data[26]},ne.prototype.interleaveGapSize=function(){return this._data[27]},ne.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},ne.prototype.identifier=function(){return this._getString(33,this._data[32])},ne.prototype.fileName=function(t){if(this.hasRockRidge()){var n=this._rockRidgeFilename(t);if(n!==null)return n}var e=this.identifier();if(this.isDirectory(t))return e;var o=e.indexOf(";");return o===-1?e:e[o-1]==="."?e.slice(0,o-1):e.slice(0,o)},ne.prototype.isDirectory=function(t){var n=!!(this.fileFlags()&2);return!n&&this.hasRockRidge()&&(n=this.getSUEntries(t).filter(function(e){return e instanceof ko}).length>0),n},ne.prototype.isSymlink=function(t){return this.hasRockRidge()&&this.getSUEntries(t).filter(function(n){return n instanceof Io}).length>0},ne.prototype.getSymlinkPath=function(t){for(var n="",e=this.getSUEntries(t),o=this._getGetString(),a=0,u=e;a<u.length;a+=1){var y=u[a];if(y instanceof Io){for(var x=y.componentRecords(),I=0,P=x;I<P.length;I+=1){var H=P[I],nt=H.flags();nt&2?n+="./":nt&4?n+="../":nt&8?n+="/":(n+=H.content(o),nt&1||(n+="/"))}if(!y.continueFlag())break}}return n.length>1&&n[n.length-1]==="/"?n.slice(0,n.length-1):n},ne.prototype.getFile=function(t){if(this.isDirectory(t))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=t.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},ne.prototype.getDirectory=function(t){if(!this.isDirectory(t))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(t)),this._fileOrDir},ne.prototype.getSUEntries=function(t){return this._suEntries||this._constructSUEntries(t),this._suEntries},ne.prototype._rockRidgeFilename=function(t){var n=this.getSUEntries(t).filter(function(x){return x instanceof va});if(n.length===0||n[0].flags()&6)return null;for(var e="",o=this._getGetString(),a=0,u=n;a<u.length;a+=1){var y=u[a];if(e+=y.name(o),!(y.flags()&1))break}return e},ne.prototype._constructSUEntries=function(t){var n=33+this._data[32];n%2===1&&n++,n+=this._rockRidgeOffset,this._suEntries=sa(this._data,n,this.length(),t)},ne.prototype._getRockRidgeOffset=function(t){this._rockRidgeOffset=0;var n=this.getSUEntries(t);if(n.length>0){var e=n[0];if(e instanceof fa&&e.checkBytesPass())for(var o=1;o<n.length;o++){var a=n[o];if(a instanceof pa||a instanceof da&&a.extensionIdentifier()===zl)return e.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var ua=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,o){return Me(this._data,e,o)},t.prototype._constructDirectory=function(e){return new Jl(this,e)},t.prototype._getGetString=function(){return Me},t}(ne),ca=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,o){return Fo(this._data,e,o)},t.prototype._constructDirectory=function(e){return new Gl(this,e)},t.prototype._getGetString=function(){return Fo},t}(ne),de=function(t){this._data=t};de.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},de.prototype.signatureWordString=function(){return Me(this._data,0,2)},de.prototype.length=function(){return this._data[2]},de.prototype.suVersion=function(){return this._data[3]};var la=function(i){function t(n){i.call(this,n),this._entries=null}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},t.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},t.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},t.prototype.getEntries=function(e){if(!this._entries){var o=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=sa(e,o,this.continuationLength(),e)}return this._entries},t}(de),Xl=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(de),fa=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},t.prototype.bytesSkipped=function(){return this._data[6]},t}(de),ha=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(de),da=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.identifierLength=function(){return this._data[4]},t.prototype.descriptorLength=function(){return this._data[5]},t.prototype.sourceLength=function(){return this._data[6]},t.prototype.extensionVersion=function(){return this._data[7]},t.prototype.extensionIdentifier=function(){return Me(this._data,8,this.identifierLength())},t.prototype.extensionDescriptor=function(){return Me(this._data,8+this.identifierLength(),this.descriptorLength())},t.prototype.extensionSource=function(){return Me(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},t}(de),Yl=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.extensionSequence=function(){return this._data[4]},t}(de),pa=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(de),ya=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.mode=function(){return this._data.readUInt32LE(4)},t.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},t.prototype.uid=function(){return this._data.readUInt32LE(20)},t.prototype.gid=function(){return this._data.readUInt32LE(28)},t.prototype.inode=function(){return this._data.readUInt32LE(36)},t}(de),Zl=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},t.prototype.devTLow=function(){return this._data.readUInt32LE(12)},t}(de),Io=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.continueFlag=function(){return this.flags()&1},t.prototype.componentRecords=function(){for(var e=this,o=new Array,a=5;a<this.length();){var u=new Br(e._data.slice(a));o.push(u),a+=u.length()}return o},t}(de),Br=function(t){this._data=t};Br.prototype.flags=function(){return this._data[0]},Br.prototype.length=function(){return 2+this.componentLength()},Br.prototype.componentLength=function(){return this._data[1]},Br.prototype.content=function(t){return t(this._data,2,this.componentLength())};var va=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.name=function(e){return e(this._data,5,this.length()-5)},t}(de),ko=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},t}(de),ql=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},t}(de),ga=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t}(de),ma=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.creation=function(){return this.flags()&1?this._longFormDates()?ln(this._data,5):Yn(this._data,5):null},t.prototype.modify=function(){if(this.flags()&2){var e=this.flags()&1?1:0;return this._longFormDates?ln(this._data,5+e*17):Yn(this._data,5+e*7)}else return null},t.prototype.access=function(){if(this.flags()&4){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,this._longFormDates?ln(this._data,5+e*17):Yn(this._data,5+e*7)}else return null},t.prototype.backup=function(){if(this.flags()&16){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,this._longFormDates?ln(this._data,5+e*17):Yn(this._data,5+e*7)}else return null},t.prototype.expiration=function(){if(this.flags()&32){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,this._longFormDates?ln(this._data,5+e*17):Yn(this._data,5+e*7)}else return null},t.prototype.effective=function(){if(this.flags()&64){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,e+=this.flags()&32?1:0,this._longFormDates?ln(this._data,5+e*17):Yn(this._data,5+e*7)}else return null},t.prototype._longFormDates=function(){return!!this.flags()},t}(de),Kl=function(i){function t(n){i.call(this,n)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},t.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},t.prototype.tableDepth=function(){return this._data[20]},t}(de),zr=function(t,n){var e=this;this._fileList=[],this._fileMap={},this._record=t;var o=t.lba(),a=o+t.dataLength();if(!(t.fileFlags()&2)){var u=t.getSUEntries(n).filter(function(P){return P instanceof ko})[0];o=u.childDirectoryLba()*2048,a=1/0}for(;o<a;){var y=n[o];if(y===0){o++;continue}var x=e._constructDirectoryRecord(n.slice(o)),I=x.fileName(n);I!=="\0"&&I!==""?(!x.hasRockRidge()||x.getSUEntries(n).filter(function(P){return P instanceof ga}).length===0)&&(e._fileMap[I]=x,e._fileList.push(I)):a===1/0&&(a=o+x.dataLength()),o+=x.length()}};zr.prototype.getRecord=function(t){return this._fileMap[t]},zr.prototype.getFileList=function(){return this._fileList},zr.prototype.getDotEntry=function(t){return this._constructDirectoryRecord(t.slice(this._record.lba()))};var Jl=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new ua(e,this._record.getRockRidgeOffset())},t}(zr),Gl=function(i){function t(n,e){i.call(this,n,e)}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new ca(e,this._record.getRockRidgeOffset())},t}(zr),Fi=function(i){function t(n,e,o){var a=this;e===void 0&&(e=""),o===void 0&&(o=!0),i.call(this),this._data=n,Ot(o,t.Name,{data:"ISO data as a Buffer",name:e});for(var u=!1,y=16*2048,x=new Array;!u;){var I=n.slice(y),P=new gr(I);switch(P.type()){case 1:x.push(new Hl(I));break;case 2:x.push(new Vl(I));break;case 255:u=!0;break}y+=2048}if(x.length===0)throw new p(h.EIO,"Unable to find a suitable volume descriptor.");x.forEach(function(H){(!a._pvd||a._pvd.type()!==2)&&(a._pvd=H)}),this._root=this._pvd.rootDirectoryEntry(n),this._name=e}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.Create=function(e,o){var a,u;try{a=new t(e.data,e.name,!1)}catch(y){y=y}finally{o(u,a)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){var e="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(e+="-RockRidge"),e},t.prototype.diskSpace=function(e,o){o(this._data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,o){var a=this._getDirectoryRecord(e);if(a===null)throw p.ENOENT(e);return this._getStats(e,a)},t.prototype.openSync=function(e,o,a){if(o.isWriteable())throw new p(h.EPERM,e);var u=this._getDirectoryRecord(e);if(u){if(u.isSymlink(this._data))return this.openSync(_.resolve(e,u.getSymlinkPath(this._data)),o,a);if(u.isDirectory(this._data))throw p.EISDIR(e);var y=u.getFile(this._data),x=this._getStats(e,u);switch(o.pathExistsAction()){case R.THROW_EXCEPTION:case R.TRUNCATE_FILE:throw p.EEXIST(e);case R.NOP:return new lt(this,e,o,x,y);default:throw new p(h.EINVAL,"Invalid FileMode object.")}}else throw p.ENOENT(e)},t.prototype.readdirSync=function(e){var o=this._getDirectoryRecord(e);if(o){if(o.isDirectory(this._data))return o.getDirectory(this._data).getFileList().slice(0);throw p.ENOTDIR(e)}else throw p.ENOENT(e)},t.prototype.readFileSync=function(e,o,a){var u=this.openSync(e,a,420);try{var y=u,x=y.getBuffer();return o===null?Mt(x):x.toString(o)}finally{u.closeSync()}},t.prototype._getDirectoryRecord=function(e){var o=this;if(e==="/")return this._root;for(var a=e.split("/").slice(1),u=this._root,y=0,x=a;y<x.length;y+=1){var I=x[y];if(u.isDirectory(o._data)){if(u=u.getDirectory(o._data).getRecord(I),!u)return null}else return null}return u},t.prototype._getStats=function(e,o){if(o.isSymlink(this._data)){var a=_.resolve(e,o.getSymlinkPath(this._data)),u=this._getDirectoryRecord(a);return u?this._getStats(a,u):null}else{var y=o.dataLength(),x=365,I=o.recordingDate(),P=I,H=I,nt=I;if(o.hasRockRidge())for(var ft=o.getSUEntries(this._data),dt=0,It=ft;dt<It.length;dt+=1){var Nt=It[dt];if(Nt instanceof ya)x=Nt.mode();else if(Nt instanceof ma){var Bt=Nt.flags();Bt&4&&(P=Nt.access()),Bt&2&&(H=Nt.modify()),Bt&1&&(nt=Nt.creation())}}return x=x&365,new B(o.isDirectory(this._data)?M.DIRECTORY:M.FILE,y,x,P,H,nt)}},t}(rt);Fi.Name="IsoFS",Fi.Options={data:{type:"object",description:"The ISO file in a buffer",validator:N}},[F,di,pi,fr,vi,hr,Lr,Fi,Ar,dr,Ur,Ei,xi,Xn].forEach(function(i){var t=i.Create;i.Create=function(n,e){var o=typeof n=="function",a=o?n:e,u=o?{}:n;function y(x){x?a(x):t.call(i,u,a)}L(i,u,y)}});var Ii={AsyncMirror:F,Dropbox:di,Emscripten:pi,FolderAdapter:fr,HTML5FS:vi,InMemory:hr,IndexedDB:Lr,IsoFS:Fi,LocalStorage:Ar,MountableFileSystem:dr,OverlayFS:Ur,WorkerFS:Ei,XmlHttpRequest:xi,ZipFS:Xn};E.initializeTTYs&&E.initializeTTYs();function Ql(i){i.Buffer=d,i.process=E;var t=i.require?i.require:null;i.require=function(n){var e=_a(n);return e||t.apply(null,Array.prototype.slice.call(arguments,0))}}function $l(i,t){Ii[i]=t}function _a(i){switch(i){case"fs":return mt;case"path":return _;case"buffer":return S;case"process":return E;case"bfs_utils":return st;default:return Ii[i]}}function wa(i){return mt.initialize(i)}function tf(i,t){Oo(i,function(n,e){e?(wa(e),t()):t(n)})}function Oo(i,t){var n=i.fs;if(!n)return t(new p(h.EPERM,'Missing "fs" property on configuration object.'));var e=i.options,o=0,a=!1;function u(){if(!a){a=!0;var I=Ii[n];I?I.Create(e,t):t(new p(h.EPERM,"File system "+n+" is not available in BrowserFS."))}}if(e!==null&&typeof e=="object"){var y=!1,x=Object.keys(e).filter(function(I){return I!=="fs"});x.forEach(function(I){var P=e[I];P!==null&&typeof P=="object"&&P.fs&&(o++,Oo(P,function(H,nt){if(o--,H){if(a)return;a=!0,t(H)}else e[I]=nt,o===0&&y&&u()}))}),y=!0}o===0&&u()}"ab".substr(-1)!=="b"&&(String.prototype.substr=function(i){return function(t,n){return t<0&&(t=this.length+t),i.call(this,t,n)}}(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(i,t){i===void 0&&(i=0),t===void 0&&(t=this.length);var n=this;return i<0&&(i=this.length+i,i<0&&(i=0)),t<0&&(t=this.length+t,t<0&&(t=0)),t<i&&(t=i),new Uint8Array(n.buffer,n.byteOffset+i,t-i)})),l.install=Ql,l.registerFileSystem=$l,l.BFSRequire=_a,l.initialize=wa,l.configure=tf,l.getFileSystem=Oo,l.EmscriptenFS=z,l.FileSystem=Ii,l.Errors=C,l.setImmediate=xo}).call(l,f(1),function(){return this}(),f(5)(c),f(6))},function(c,l,f){c.exports=f(2).Buffer},function(c,l,f){(function(h){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var w=f(3),m=f(4);l.Buffer=h,l.SlowBuffer=Z,l.INSPECT_MAX_BYTES=50;var E=2147483647;l.kMaxLength=E,h.TYPED_ARRAY_SUPPORT=S(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function S(){try{var F=new Uint8Array(1);return F.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},F.foo()===42}catch{return!1}}function _(F){if(F>E)throw new RangeError("Invalid typed array length");var v=new Uint8Array(F);return v.__proto__=h.prototype,v}function h(F,v,g){if(typeof F=="number"){if(typeof v=="string")throw new Error("If encoding is specified then the first argument must be a string");return R(F)}return b(F,v,g)}typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192;function b(F,v,g){if(typeof F=="number")throw new TypeError('"value" argument must not be a number');return pt(F)?B(F,v,g):typeof F=="string"?D(F,v):G(F)}h.from=function(F,v,g){return b(F,v,g)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array;function p(F){if(typeof F!="number")throw new TypeError('"size" argument must be a number');if(F<0)throw new RangeError('"size" argument must not be negative')}function C(F,v,g){return p(F),F<=0?_(F):v!==void 0?typeof g=="string"?_(F).fill(v,g):_(F).fill(v):_(F)}h.alloc=function(F,v,g){return C(F,v,g)};function R(F){return p(F),_(F<0?0:V(F)|0)}h.allocUnsafe=function(F){return R(F)},h.allocUnsafeSlow=function(F){return R(F)};function D(F,v){if((typeof v!="string"||v==="")&&(v="utf8"),!h.isEncoding(v))throw new TypeError('"encoding" must be a valid string encoding');var g=yt(F,v)|0,O=_(g),U=O.write(F,v);return U!==g&&(O=O.slice(0,U)),O}function M(F){for(var v=F.length<0?0:V(F.length)|0,g=_(v),O=0;O<v;O+=1)g[O]=F[O]&255;return g}function B(F,v,g){if(v<0||F.byteLength<v)throw new RangeError("'offset' is out of bounds");if(F.byteLength<v+(g||0))throw new RangeError("'length' is out of bounds");var O;return v===void 0&&g===void 0?O=new Uint8Array(F):g===void 0?O=new Uint8Array(F,v):O=new Uint8Array(F,v,g),O.__proto__=h.prototype,O}function G(F){if(h.isBuffer(F)){var v=V(F.length)|0,g=_(v);return g.length===0||F.copy(g,0,0,v),g}if(F){if(lt(F)||"length"in F)return typeof F.length!="number"||ht(F.length)?_(0):M(F);if(F.type==="Buffer"&&Array.isArray(F.data))return M(F.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function V(F){if(F>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return F|0}function Z(F){return+F!=F&&(F=0),h.alloc(+F)}h.isBuffer=function(v){return v!=null&&v._isBuffer===!0},h.compare=function(v,g){if(!h.isBuffer(v)||!h.isBuffer(g))throw new TypeError("Arguments must be Buffers");if(v===g)return 0;for(var O=v.length,U=g.length,X=0,et=Math.min(O,U);X<et;++X)if(v[X]!==g[X]){O=v[X],U=g[X];break}return O<U?-1:U<O?1:0},h.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(v,g){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return h.alloc(0);var O;if(g===void 0)for(g=0,O=0;O<v.length;++O)g+=v[O].length;var U=h.allocUnsafe(g),X=0;for(O=0;O<v.length;++O){var et=v[O];if(!h.isBuffer(et))throw new TypeError('"list" argument must be an Array of Buffers');et.copy(U,X),X+=et.length}return U};function yt(F,v){if(h.isBuffer(F))return F.length;if(lt(F)||pt(F))return F.byteLength;typeof F!="string"&&(F=""+F);var g=F.length;if(g===0)return 0;for(var O=!1;;)switch(v){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return A(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return rt(F).length;default:if(O)return A(F).length;v=(""+v).toLowerCase(),O=!0}}h.byteLength=yt;function K(F,v,g){var O=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,v>>>=0,g<=v))return"";for(F||(F="utf8");;)switch(F){case"hex":return jt(this,v,g);case"utf8":case"utf-8":return wt(this,v,g);case"ascii":return ct(this,v,g);case"latin1":case"binary":return St(this,v,g);case"base64":return _t(this,v,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lt(this,v,g);default:if(O)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),O=!0}}h.prototype._isBuffer=!0;function Q(F,v,g){var O=F[v];F[v]=F[g],F[g]=O}h.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<v;g+=2)Q(this,g,g+1);return this},h.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<v;g+=4)Q(this,g,g+3),Q(this,g+1,g+2);return this},h.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<v;g+=8)Q(this,g,g+7),Q(this,g+1,g+6),Q(this,g+2,g+5),Q(this,g+3,g+4);return this},h.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?wt(this,0,v):K.apply(this,arguments)},h.prototype.equals=function(v){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:h.compare(this,v)===0},h.prototype.inspect=function(){var v="",g=l.INSPECT_MAX_BYTES;return this.length>0&&(v=this.toString("hex",0,g).match(/.{2}/g).join(" "),this.length>g&&(v+=" ... ")),"<Buffer "+v+">"},h.prototype.compare=function(v,g,O,U,X){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");if(g===void 0&&(g=0),O===void 0&&(O=v?v.length:0),U===void 0&&(U=0),X===void 0&&(X=this.length),g<0||O>v.length||U<0||X>this.length)throw new RangeError("out of range index");if(U>=X&&g>=O)return 0;if(U>=X)return-1;if(g>=O)return 1;if(g>>>=0,O>>>=0,U>>>=0,X>>>=0,this===v)return 0;for(var et=X-U,Et=O-g,Rt=Math.min(et,Et),Ht=this.slice(U,X),Qt=v.slice(g,O),Xt=0;Xt<Rt;++Xt)if(Ht[Xt]!==Qt[Xt]){et=Ht[Xt],Et=Qt[Xt];break}return et<Et?-1:Et<et?1:0};function ut(F,v,g,O,U){if(F.length===0)return-1;if(typeof g=="string"?(O=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,ht(g)&&(g=U?0:F.length-1),g<0&&(g=F.length+g),g>=F.length){if(U)return-1;g=F.length-1}else if(g<0)if(U)g=0;else return-1;if(typeof v=="string"&&(v=h.from(v,O)),h.isBuffer(v))return v.length===0?-1:Y(F,v,g,O,U);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?U?Uint8Array.prototype.indexOf.call(F,v,g):Uint8Array.prototype.lastIndexOf.call(F,v,g):Y(F,[v],g,O,U);throw new TypeError("val must be string, number or Buffer")}function Y(F,v,g,O,U){var X=1,et=F.length,Et=v.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(F.length<2||v.length<2)return-1;X=2,et/=2,Et/=2,g/=2}function Rt(_n,le){return X===1?_n[le]:_n.readUInt16BE(le*X)}var Ht;if(U){var Qt=-1;for(Ht=g;Ht<et;Ht++)if(Rt(F,Ht)===Rt(v,Qt===-1?0:Ht-Qt)){if(Qt===-1&&(Qt=Ht),Ht-Qt+1===Et)return Qt*X}else Qt!==-1&&(Ht-=Ht-Qt),Qt=-1}else for(g+Et>et&&(g=et-Et),Ht=g;Ht>=0;Ht--){for(var Xt=!0,Ee=0;Ee<Et;Ee++)if(Rt(F,Ht+Ee)!==Rt(v,Ee)){Xt=!1;break}if(Xt)return Ht}return-1}h.prototype.includes=function(v,g,O){return this.indexOf(v,g,O)!==-1},h.prototype.indexOf=function(v,g,O){return ut(this,v,g,O,!0)},h.prototype.lastIndexOf=function(v,g,O){return ut(this,v,g,O,!1)};function at(F,v,g,O){g=Number(g)||0;var U=F.length-g;O?(O=Number(O),O>U&&(O=U)):O=U;var X=v.length;if(X%2!==0)throw new TypeError("Invalid hex string");O>X/2&&(O=X/2);for(var et=0;et<O;++et){var Et=parseInt(v.substr(et*2,2),16);if(ht(Et))return et;F[g+et]=Et}return et}function mt(F,v,g,O){return $(A(v,F.length-g),F,g,O)}function Ut(F,v,g,O){return $(z(v),F,g,O)}function Ft(F,v,g,O){return Ut(F,v,g,O)}function Dt(F,v,g,O){return $(rt(v),F,g,O)}function Ot(F,v,g,O){return $(j(v,F.length-g),F,g,O)}h.prototype.write=function(v,g,O,U){if(g===void 0)U="utf8",O=this.length,g=0;else if(O===void 0&&typeof g=="string")U=g,O=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(O)?(O=O>>>0,U===void 0&&(U="utf8")):(U=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var X=this.length-g;if((O===void 0||O>X)&&(O=X),v.length>0&&(O<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(var et=!1;;)switch(U){case"hex":return at(this,v,g,O);case"utf8":case"utf-8":return mt(this,v,g,O);case"ascii":return Ut(this,v,g,O);case"latin1":case"binary":return Ft(this,v,g,O);case"base64":return Dt(this,v,g,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ot(this,v,g,O);default:if(et)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),et=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _t(F,v,g){return v===0&&g===F.length?w.fromByteArray(F):w.fromByteArray(F.slice(v,g))}function wt(F,v,g){g=Math.min(F.length,g);for(var O=[],U=v;U<g;){var X=F[U],et=null,Et=X>239?4:X>223?3:X>191?2:1;if(U+Et<=g){var Rt,Ht,Qt,Xt;switch(Et){case 1:X<128&&(et=X);break;case 2:Rt=F[U+1],(Rt&192)===128&&(Xt=(X&31)<<6|Rt&63,Xt>127&&(et=Xt));break;case 3:Rt=F[U+1],Ht=F[U+2],(Rt&192)===128&&(Ht&192)===128&&(Xt=(X&15)<<12|(Rt&63)<<6|Ht&63,Xt>2047&&(Xt<55296||Xt>57343)&&(et=Xt));break;case 4:Rt=F[U+1],Ht=F[U+2],Qt=F[U+3],(Rt&192)===128&&(Ht&192)===128&&(Qt&192)===128&&(Xt=(X&15)<<18|(Rt&63)<<12|(Ht&63)<<6|Qt&63,Xt>65535&&Xt<1114112&&(et=Xt))}}et===null?(et=65533,Et=1):et>65535&&(et-=65536,O.push(et>>>10&1023|55296),et=56320|et&1023),O.push(et),U+=Et}return q(O)}var W=4096;function q(F){var v=F.length;if(v<=W)return String.fromCharCode.apply(String,F);for(var g="",O=0;O<v;)g+=String.fromCharCode.apply(String,F.slice(O,O+=W));return g}function ct(F,v,g){var O="";g=Math.min(F.length,g);for(var U=v;U<g;++U)O+=String.fromCharCode(F[U]&127);return O}function St(F,v,g){var O="";g=Math.min(F.length,g);for(var U=v;U<g;++U)O+=String.fromCharCode(F[U]);return O}function jt(F,v,g){var O=F.length;(!v||v<0)&&(v=0),(!g||g<0||g>O)&&(g=O);for(var U="",X=v;X<g;++X)U+=T(F[X]);return U}function Lt(F,v,g){for(var O=F.slice(v,g),U="",X=0;X<O.length;X+=2)U+=String.fromCharCode(O[X]+O[X+1]*256);return U}h.prototype.slice=function(v,g){var O=this.length;v=~~v,g=g===void 0?O:~~g,v<0?(v+=O,v<0&&(v=0)):v>O&&(v=O),g<0?(g+=O,g<0&&(g=0)):g>O&&(g=O),g<v&&(g=v);var U=this.subarray(v,g);return U.__proto__=h.prototype,U};function Ct(F,v,g){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+v>g)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function(v,g,O){v=v>>>0,g=g>>>0,O||Ct(v,g,this.length);for(var U=this[v],X=1,et=0;++et<g&&(X*=256);)U+=this[v+et]*X;return U},h.prototype.readUIntBE=function(v,g,O){v=v>>>0,g=g>>>0,O||Ct(v,g,this.length);for(var U=this[v+--g],X=1;g>0&&(X*=256);)U+=this[v+--g]*X;return U},h.prototype.readUInt8=function(v,g){return v=v>>>0,g||Ct(v,1,this.length),this[v]},h.prototype.readUInt16LE=function(v,g){return v=v>>>0,g||Ct(v,2,this.length),this[v]|this[v+1]<<8},h.prototype.readUInt16BE=function(v,g){return v=v>>>0,g||Ct(v,2,this.length),this[v]<<8|this[v+1]},h.prototype.readUInt32LE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},h.prototype.readUInt32BE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},h.prototype.readIntLE=function(v,g,O){v=v>>>0,g=g>>>0,O||Ct(v,g,this.length);for(var U=this[v],X=1,et=0;++et<g&&(X*=256);)U+=this[v+et]*X;return X*=128,U>=X&&(U-=Math.pow(2,8*g)),U},h.prototype.readIntBE=function(v,g,O){v=v>>>0,g=g>>>0,O||Ct(v,g,this.length);for(var U=g,X=1,et=this[v+--U];U>0&&(X*=256);)et+=this[v+--U]*X;return X*=128,et>=X&&(et-=Math.pow(2,8*g)),et},h.prototype.readInt8=function(v,g){return v=v>>>0,g||Ct(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},h.prototype.readInt16LE=function(v,g){v=v>>>0,g||Ct(v,2,this.length);var O=this[v]|this[v+1]<<8;return O&32768?O|4294901760:O},h.prototype.readInt16BE=function(v,g){v=v>>>0,g||Ct(v,2,this.length);var O=this[v+1]|this[v]<<8;return O&32768?O|4294901760:O},h.prototype.readInt32LE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},h.prototype.readInt32BE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},h.prototype.readFloatLE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),m.read(this,v,!0,23,4)},h.prototype.readFloatBE=function(v,g){return v=v>>>0,g||Ct(v,4,this.length),m.read(this,v,!1,23,4)},h.prototype.readDoubleLE=function(v,g){return v=v>>>0,g||Ct(v,8,this.length),m.read(this,v,!0,52,8)},h.prototype.readDoubleBE=function(v,g){return v=v>>>0,g||Ct(v,8,this.length),m.read(this,v,!1,52,8)};function Mt(F,v,g,O,U,X){if(!h.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>U||v<X)throw new RangeError('"value" argument is out of bounds');if(g+O>F.length)throw new RangeError("Index out of range")}h.prototype.writeUIntLE=function(v,g,O,U){if(v=+v,g=g>>>0,O=O>>>0,!U){var X=Math.pow(2,8*O)-1;Mt(this,v,g,O,X,0)}var et=1,Et=0;for(this[g]=v&255;++Et<O&&(et*=256);)this[g+Et]=v/et&255;return g+O},h.prototype.writeUIntBE=function(v,g,O,U){if(v=+v,g=g>>>0,O=O>>>0,!U){var X=Math.pow(2,8*O)-1;Mt(this,v,g,O,X,0)}var et=O-1,Et=1;for(this[g+et]=v&255;--et>=0&&(Et*=256);)this[g+et]=v/Et&255;return g+O},h.prototype.writeUInt8=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,1,255,0),this[g]=v&255,g+1},h.prototype.writeUInt16LE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,2,65535,0),this[g]=v&255,this[g+1]=v>>>8,g+2},h.prototype.writeUInt16BE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,2,65535,0),this[g]=v>>>8,this[g+1]=v&255,g+2},h.prototype.writeUInt32LE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,4,4294967295,0),this[g+3]=v>>>24,this[g+2]=v>>>16,this[g+1]=v>>>8,this[g]=v&255,g+4},h.prototype.writeUInt32BE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,4,4294967295,0),this[g]=v>>>24,this[g+1]=v>>>16,this[g+2]=v>>>8,this[g+3]=v&255,g+4},h.prototype.writeIntLE=function(v,g,O,U){if(v=+v,g=g>>>0,!U){var X=Math.pow(2,8*O-1);Mt(this,v,g,O,X-1,-X)}var et=0,Et=1,Rt=0;for(this[g]=v&255;++et<O&&(Et*=256);)v<0&&Rt===0&&this[g+et-1]!==0&&(Rt=1),this[g+et]=(v/Et>>0)-Rt&255;return g+O},h.prototype.writeIntBE=function(v,g,O,U){if(v=+v,g=g>>>0,!U){var X=Math.pow(2,8*O-1);Mt(this,v,g,O,X-1,-X)}var et=O-1,Et=1,Rt=0;for(this[g+et]=v&255;--et>=0&&(Et*=256);)v<0&&Rt===0&&this[g+et+1]!==0&&(Rt=1),this[g+et]=(v/Et>>0)-Rt&255;return g+O},h.prototype.writeInt8=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,1,127,-128),v<0&&(v=255+v+1),this[g]=v&255,g+1},h.prototype.writeInt16LE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,2,32767,-32768),this[g]=v&255,this[g+1]=v>>>8,g+2},h.prototype.writeInt16BE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,2,32767,-32768),this[g]=v>>>8,this[g+1]=v&255,g+2},h.prototype.writeInt32LE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,4,2147483647,-2147483648),this[g]=v&255,this[g+1]=v>>>8,this[g+2]=v>>>16,this[g+3]=v>>>24,g+4},h.prototype.writeInt32BE=function(v,g,O){return v=+v,g=g>>>0,O||Mt(this,v,g,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[g]=v>>>24,this[g+1]=v>>>16,this[g+2]=v>>>8,this[g+3]=v&255,g+4};function Gt(F,v,g,O,U,X){if(g+O>F.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Yt(F,v,g,O,U){return v=+v,g=g>>>0,U||Gt(F,v,g,4),m.write(F,v,g,O,23,4),g+4}h.prototype.writeFloatLE=function(v,g,O){return Yt(this,v,g,!0,O)},h.prototype.writeFloatBE=function(v,g,O){return Yt(this,v,g,!1,O)};function N(F,v,g,O,U){return v=+v,g=g>>>0,U||Gt(F,v,g,8),m.write(F,v,g,O,52,8),g+8}h.prototype.writeDoubleLE=function(v,g,O){return N(this,v,g,!0,O)},h.prototype.writeDoubleBE=function(v,g,O){return N(this,v,g,!1,O)},h.prototype.copy=function(v,g,O,U){if(O||(O=0),!U&&U!==0&&(U=this.length),g>=v.length&&(g=v.length),g||(g=0),U>0&&U<O&&(U=O),U===O||v.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("sourceStart out of bounds");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),v.length-g<U-O&&(U=v.length-g+O);var X=U-O,et;if(this===v&&O<g&&g<U)for(et=X-1;et>=0;--et)v[et+g]=this[et+O];else if(X<1e3)for(et=0;et<X;++et)v[et+g]=this[et+O];else Uint8Array.prototype.set.call(v,this.subarray(O,O+X),g);return X},h.prototype.fill=function(v,g,O,U){if(typeof v=="string"){if(typeof g=="string"?(U=g,g=0,O=this.length):typeof O=="string"&&(U=O,O=this.length),v.length===1){var X=v.charCodeAt(0);X<256&&(v=X)}if(U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!h.isEncoding(U))throw new TypeError("Unknown encoding: "+U)}else typeof v=="number"&&(v=v&255);if(g<0||this.length<g||this.length<O)throw new RangeError("Out of range index");if(O<=g)return this;g=g>>>0,O=O===void 0?this.length:O>>>0,v||(v=0);var et;if(typeof v=="number")for(et=g;et<O;++et)this[et]=v;else{var Et=h.isBuffer(v)?v:new h(v,U),Rt=Et.length;for(et=0;et<O-g;++et)this[et+g]=Et[et%Rt]}return this};var L=/[^+/0-9A-Za-z-_]/g;function st(F){if(F=F.trim().replace(L,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function T(F){return F<16?"0"+F.toString(16):F.toString(16)}function A(F,v){v=v||1/0;for(var g,O=F.length,U=null,X=[],et=0;et<O;++et){if(g=F.charCodeAt(et),g>55295&&g<57344){if(!U){if(g>56319){(v-=3)>-1&&X.push(239,191,189);continue}else if(et+1===O){(v-=3)>-1&&X.push(239,191,189);continue}U=g;continue}if(g<56320){(v-=3)>-1&&X.push(239,191,189),U=g;continue}g=(U-55296<<10|g-56320)+65536}else U&&(v-=3)>-1&&X.push(239,191,189);if(U=null,g<128){if((v-=1)<0)break;X.push(g)}else if(g<2048){if((v-=2)<0)break;X.push(g>>6|192,g&63|128)}else if(g<65536){if((v-=3)<0)break;X.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((v-=4)<0)break;X.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return X}function z(F){for(var v=[],g=0;g<F.length;++g)v.push(F.charCodeAt(g)&255);return v}function j(F,v){for(var g,O,U,X=[],et=0;et<F.length&&!((v-=2)<0);++et)g=F.charCodeAt(et),O=g>>8,U=g%256,X.push(U),X.push(O);return X}function rt(F){return w.toByteArray(st(F))}function $(F,v,g,O){for(var U=0;U<O&&!(U+g>=v.length||U>=F.length);++U)v[U+g]=F[U];return U}function pt(F){return F instanceof ArrayBuffer||F!=null&&F.constructor!=null&&F.constructor.name==="ArrayBuffer"&&typeof F.byteLength=="number"}function lt(F){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(F)}function ht(F){return F!==F}}).call(l,f(1))},function(c,l){l.byteLength=h,l.toByteArray=b,l.fromByteArray=R;for(var f=[],d=[],w=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,S=m.length;E<S;++E)f[E]=m[E],d[m.charCodeAt(E)]=E;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63;function _(D){var M=D.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return D[M-2]==="="?2:D[M-1]==="="?1:0}function h(D){return D.length*3/4-_(D)}function b(D){var M,B,G,V,Z,yt,K=D.length;Z=_(D),yt=new w(K*3/4-Z),G=Z>0?K-4:K;var Q=0;for(M=0,B=0;M<G;M+=4,B+=3)V=d[D.charCodeAt(M)]<<18|d[D.charCodeAt(M+1)]<<12|d[D.charCodeAt(M+2)]<<6|d[D.charCodeAt(M+3)],yt[Q++]=V>>16&255,yt[Q++]=V>>8&255,yt[Q++]=V&255;return Z===2?(V=d[D.charCodeAt(M)]<<2|d[D.charCodeAt(M+1)]>>4,yt[Q++]=V&255):Z===1&&(V=d[D.charCodeAt(M)]<<10|d[D.charCodeAt(M+1)]<<4|d[D.charCodeAt(M+2)]>>2,yt[Q++]=V>>8&255,yt[Q++]=V&255),yt}function p(D){return f[D>>18&63]+f[D>>12&63]+f[D>>6&63]+f[D&63]}function C(D,M,B){for(var G,V=[],Z=M;Z<B;Z+=3)G=(D[Z]<<16)+(D[Z+1]<<8)+D[Z+2],V.push(p(G));return V.join("")}function R(D){for(var M,B=D.length,G=B%3,V="",Z=[],yt=16383,K=0,Q=B-G;K<Q;K+=yt)Z.push(C(D,K,K+yt>Q?Q:K+yt));return G===1?(M=D[B-1],V+=f[M>>2],V+=f[M<<4&63],V+="=="):G===2&&(M=(D[B-2]<<8)+D[B-1],V+=f[M>>10],V+=f[M>>4&63],V+=f[M<<2&63],V+="="),Z.push(V),Z.join("")}},function(c,l){l.read=function(f,d,w,m,E){var S,_,h=E*8-m-1,b=(1<<h)-1,p=b>>1,C=-7,R=w?E-1:0,D=w?-1:1,M=f[d+R];for(R+=D,S=M&(1<<-C)-1,M>>=-C,C+=h;C>0;S=S*256+f[d+R],R+=D,C-=8);for(_=S&(1<<-C)-1,S>>=-C,C+=m;C>0;_=_*256+f[d+R],R+=D,C-=8);if(S===0)S=1-p;else{if(S===b)return _?NaN:(M?-1:1)*(1/0);_=_+Math.pow(2,m),S=S-p}return(M?-1:1)*_*Math.pow(2,S-m)},l.write=function(f,d,w,m,E,S){var _,h,b,p=S*8-E-1,C=(1<<p)-1,R=C>>1,D=E===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=m?0:S-1,B=m?1:-1,G=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(h=isNaN(d)?1:0,_=C):(_=Math.floor(Math.log(d)/Math.LN2),d*(b=Math.pow(2,-_))<1&&(_--,b*=2),_+R>=1?d+=D/b:d+=D*Math.pow(2,1-R),d*b>=2&&(_++,b/=2),_+R>=C?(h=0,_=C):_+R>=1?(h=(d*b-1)*Math.pow(2,E),_=_+R):(h=d*Math.pow(2,R-1)*Math.pow(2,E),_=0));E>=8;f[w+M]=h&255,M+=B,h/=256,E-=8);for(_=_<<E|h,p+=E;p>0;f[w+M]=_&255,M+=B,_/=256,p-=8);f[w+M-B]|=G*128}},function(c,l){c.exports=function(f){return f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children=[],f.webpackPolyfill=1),f}},function(c,l,f){var d=f(7),w=new d,m={};function E(_){m[_]||(typeof w[_]=="function"?m[_]=function(){return w[_].apply(w,arguments)}:m[_]=w[_])}for(var S in w)E(S);m.initializeTTYs=function(){w.stdin===null&&(w.initializeTTYs(),m.stdin=w.stdin,m.stdout=w.stdout,m.stderr=w.stderr)},w.nextTick(function(){m.initializeTTYs()}),c.exports=m},function(c,l,f){(function(d){var w=this&&this.__extends||function(b,p){for(var C in p)p.hasOwnProperty(C)&&(b[C]=p[C]);function R(){this.constructor=b}b.prototype=p===null?Object.create(p):(R.prototype=p.prototype,new R)},m=f(8),E=null,S=function(){function b(p,C){this.fun=p,this.array=C}return b.prototype.run=function(){this.fun.apply(null,this.array)},b}(),_=function(){function b(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return b.prototype.push=function(p){var C=this;this._queue.push(p)===1&&!this._draining&&setTimeout(function(){return C._drainQueue()},0)},b.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},b.prototype._drainQueue=function(){var p=this;if(!this._draining){var C=setTimeout(function(){return p._cleanUpNextTick()});this._draining=!0;for(var R=this._queue.length;R;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<R;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,R=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(C)}},b}(),h=function(b){w(p,b);function p(){b.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new _,this.execPath=d,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return p.prototype.chdir=function(C){E===null&&(E=f(9)),this._cwd=E.resolve(C)},p.prototype.cwd=function(){return this._cwd},p.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},p.prototype.nextTick=function(C){for(var R=[],D=1;D<arguments.length;D++)R[D-1]=arguments[D];this._queue.push(new S(C,R))},p.prototype.abort=function(){this.emit("abort")},p.prototype.exit=function(C){this.exitCode=C,this.emit("exit",[C])},p.prototype.getgid=function(){return this._gid},p.prototype.setgid=function(C){typeof C=="number"?this._gid=C:this._gid=1},p.prototype.getuid=function(){return this._uid},p.prototype.setuid=function(C){typeof C=="number"?this._uid=C:this._uid=1},p.prototype.kill=function(C,R){this.emit("kill",[C,R])},p.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},p.prototype.umask=function(C){C===void 0&&(C=this._mask);var R=this._mask;return this._mask=C,this.emit("umask",[C]),R},p.prototype.hrtime=function(){var C;typeof performance<"u"?C=performance.now():Date.now?C=Date.now():C=new Date().getTime();var R=C/1e3|0;return C-=R*1e3,C=C*1e6|0,[R,C]},p.prototype.initializeTTYs=function(){if(this.stdout===null){var C=f(10);this.stdout=new C,this.stderr=new C,this.stdin=new C}},p.prototype.disconnect=function(){},p}(m.EventEmitter);c.exports=h}).call(l,"/")},function(c,l){function f(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}c.exports=f,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._maxListeners=void 0,f.defaultMaxListeners=10,f.prototype.setMaxListeners=function(S){if(!w(S)||S<0||isNaN(S))throw TypeError("n must be a positive number");return this._maxListeners=S,this},f.prototype.emit=function(S){var _,h,b,p,C,R;if(this._events||(this._events={}),S==="error"&&(!this._events.error||m(this._events.error)&&!this._events.error.length)){if(_=arguments[1],_ instanceof Error)throw _;var D=new Error('Uncaught, unspecified "error" event. ('+_+")");throw D.context=_,D}if(h=this._events[S],E(h))return!1;if(d(h))switch(arguments.length){case 1:h.call(this);break;case 2:h.call(this,arguments[1]);break;case 3:h.call(this,arguments[1],arguments[2]);break;default:p=Array.prototype.slice.call(arguments,1),h.apply(this,p)}else if(m(h))for(p=Array.prototype.slice.call(arguments,1),R=h.slice(),b=R.length,C=0;C<b;C++)R[C].apply(this,p);return!0},f.prototype.addListener=function(S,_){var h;if(!d(_))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",S,d(_.listener)?_.listener:_),this._events[S]?m(this._events[S])?this._events[S].push(_):this._events[S]=[this._events[S],_]:this._events[S]=_,m(this._events[S])&&!this._events[S].warned&&(E(this._maxListeners)?h=f.defaultMaxListeners:h=this._maxListeners,h&&h>0&&this._events[S].length>h&&(this._events[S].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[S].length),typeof console.trace=="function"&&console.trace())),this},f.prototype.on=f.prototype.addListener,f.prototype.once=function(S,_){if(!d(_))throw TypeError("listener must be a function");var h=!1;function b(){this.removeListener(S,b),h||(h=!0,_.apply(this,arguments))}return b.listener=_,this.on(S,b),this},f.prototype.removeListener=function(S,_){var h,b,p,C;if(!d(_))throw TypeError("listener must be a function");if(!this._events||!this._events[S])return this;if(h=this._events[S],p=h.length,b=-1,h===_||d(h.listener)&&h.listener===_)delete this._events[S],this._events.removeListener&&this.emit("removeListener",S,_);else if(m(h)){for(C=p;C-- >0;)if(h[C]===_||h[C].listener&&h[C].listener===_){b=C;break}if(b<0)return this;h.length===1?(h.length=0,delete this._events[S]):h.splice(b,1),this._events.removeListener&&this.emit("removeListener",S,_)}return this},f.prototype.removeAllListeners=function(S){var _,h;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[S]&&delete this._events[S],this;if(arguments.length===0){for(_ in this._events)_!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events={},this}if(h=this._events[S],d(h))this.removeListener(S,h);else if(h)for(;h.length;)this.removeListener(S,h[h.length-1]);return delete this._events[S],this},f.prototype.listeners=function(S){var _;return!this._events||!this._events[S]?_=[]:d(this._events[S])?_=[this._events[S]]:_=this._events[S].slice(),_},f.prototype.listenerCount=function(S){if(this._events){var _=this._events[S];if(d(_))return 1;if(_)return _.length}return 0},f.listenerCount=function(S,_){return S.listenerCount(_)};function d(S){return typeof S=="function"}function w(S){return typeof S=="number"}function m(S){return typeof S=="object"&&S!==null}function E(S){return S===void 0}},function(c,l,f){(function(d){var w=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function m(S){var _=w.exec(S);return _.shift(),_}var E=function(){function S(){}return S.normalize=function(_){_===""&&(_=".");var h=_.charAt(0)===S.sep;_=S._removeDuplicateSeps(_);for(var b=_.split(S.sep),p=[],C=0;C<b.length;C++){var R=b[C];R!=="."&&(R===".."&&(h||!h&&p.length>0&&p[0]!=="..")?p.pop():p.push(R))}if(!h&&p.length<2)switch(p.length){case 1:p[0]===""&&p.unshift(".");break;default:p.push(".")}return _=p.join(S.sep),h&&_.charAt(0)!==S.sep&&(_=S.sep+_),_},S.join=function(){for(var _=[],h=0;h<arguments.length;h++)_[h-0]=arguments[h];for(var b=[],p=0;p<_.length;p++){var C=_[p];if(typeof C!="string")throw new TypeError("Invalid argument type to path.join: "+typeof C);C!==""&&b.push(C)}return S.normalize(b.join(S.sep))},S.resolve=function(){for(var _=[],h=0;h<arguments.length;h++)_[h-0]=arguments[h];for(var b=[],p=0;p<_.length;p++){var C=_[p];if(typeof C!="string")throw new TypeError("Invalid argument type to path.join: "+typeof C);C!==""&&(C.charAt(0)===S.sep&&(b=[]),b.push(C))}var R=S.normalize(b.join(S.sep));if(R.length>1&&R.charAt(R.length-1)===S.sep)return R.substr(0,R.length-1);if(R.charAt(0)!==S.sep){R.charAt(0)==="."&&(R.length===1||R.charAt(1)===S.sep)&&(R=R.length===1?"":R.substr(2));var D=d.cwd();R!==""?R=this.normalize(D+(D!=="/"?S.sep:"")+R):R=D}return R},S.relative=function(_,h){var b;_=S.resolve(_),h=S.resolve(h);var p=_.split(S.sep),C=h.split(S.sep);C.shift(),p.shift();var R=0,D=[];for(b=0;b<p.length;b++){var M=p[b];if(M!==C[b]){R=p.length-b;break}}D=C.slice(b),p.length===1&&p[0]===""&&(R=0),R>p.length&&(R=p.length);var B="";for(b=0;b<R;b++)B+="../";return B+=D.join(S.sep),B.length>1&&B.charAt(B.length-1)===S.sep&&(B=B.substr(0,B.length-1)),B},S.dirname=function(_){_=S._removeDuplicateSeps(_);var h=_.charAt(0)===S.sep,b=_.split(S.sep);return b.pop()===""&&b.length>0&&b.pop(),b.length>1||b.length===1&&!h?b.join(S.sep):h?S.sep:"."},S.basename=function(_,h){if(h===void 0&&(h=""),_==="")return _;_=S.normalize(_);var b=_.split(S.sep),p=b[b.length-1];if(p===""&&b.length>1)return b[b.length-2];if(h.length>0){var C=p.substr(p.length-h.length);if(C===h)return p.substr(0,p.length-h.length)}return p},S.extname=function(_){_=S.normalize(_);var h=_.split(S.sep);if(_=h.pop(),_===""&&h.length>0&&(_=h.pop()),_==="..")return"";var b=_.lastIndexOf(".");return b===-1||b===0?"":_.substr(b)},S.isAbsolute=function(_){return _.length>0&&_.charAt(0)===S.sep},S._makeLong=function(_){return _},S.parse=function(_){var h=m(_);return{root:h[0],dir:h[0]+h[1].slice(0,-1),base:h[2],ext:h[3],name:h[2].slice(0,h[2].length-h[3].length)}},S.format=function(_){if(_===null||typeof _!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof _);var h=_.root||"";if(typeof h!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof _.root);var b=_.dir?_.dir+S.sep:"",p=_.base||"";return b+p},S._removeDuplicateSeps=function(_){return _=_.replace(this._replaceRegex,this.sep),_},S.sep="/",S._replaceRegex=new RegExp("//+","g"),S.delimiter=":",S.posix=S,S.win32=S,S}();c.exports=E}).call(l,f(6))},function(c,l,f){(function(d){var w=this&&this.__extends||function(S,_){for(var h in _)_.hasOwnProperty(h)&&(S[h]=_[h]);function b(){this.constructor=S}S.prototype=_===null?Object.create(_):(b.prototype=_.prototype,new b)},m=f(11),E=function(S){w(_,S);function _(){S.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return _.prototype.setRawMode=function(h){this.isRaw!==h&&(this.isRaw=h,this.emit("modeChange"))},_.prototype.changeColumns=function(h){h!==this.columns&&(this.columns=h,this.emit("resize"))},_.prototype.changeRows=function(h){h!==this.rows&&(this.rows=h,this.emit("resize"))},_.isatty=function(h){return h&&h instanceof _},_.prototype._write=function(h,b,p){var C;try{var R;typeof h=="string"?R=new d(h,b):R=h,this._bufferedWrites.push(R),this._waitingForWrites&&this._read(1024)}catch(D){C=D}finally{p(C)}},_.prototype._read=function(h){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},_}(m.Duplex);c.exports=E}).call(l,f(1))},function(c,l,f){c.exports=m;var d=f(8).EventEmitter,w=f(12);w(m,d),m.Readable=f(13),m.Writable=f(27),m.Duplex=f(28),m.Transform=f(29),m.PassThrough=f(30),m.Stream=m;function m(){d.call(this)}m.prototype.pipe=function(E,S){var _=this;function h(B){E.writable&&E.write(B)===!1&&_.pause&&_.pause()}_.on("data",h);function b(){_.readable&&_.resume&&_.resume()}E.on("drain",b),!E._isStdio&&(!S||S.end!==!1)&&(_.on("end",C),_.on("close",R));var p=!1;function C(){p||(p=!0,E.end())}function R(){p||(p=!0,typeof E.destroy=="function"&&E.destroy())}function D(B){if(M(),d.listenerCount(this,"error")===0)throw B}_.on("error",D),E.on("error",D);function M(){_.removeListener("data",h),E.removeListener("drain",b),_.removeListener("end",C),_.removeListener("close",R),_.removeListener("error",D),E.removeListener("error",D),_.removeListener("end",M),_.removeListener("close",M),E.removeListener("close",M)}return _.on("end",M),_.on("close",M),E.on("close",M),E.emit("pipe",_),E}},function(c,l){typeof Object.create=="function"?c.exports=function(d,w){d.super_=w,d.prototype=Object.create(w.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:c.exports=function(d,w){d.super_=w;var m=function(){};m.prototype=w.prototype,d.prototype=new m,d.prototype.constructor=d}},function(c,l,f){(function(d){var w=function(){try{return f(11)}catch{}}();l=c.exports=f(14),l.Stream=w||l,l.Readable=l,l.Writable=f(22),l.Duplex=f(21),l.Transform=f(25),l.PassThrough=f(26),!d.browser&&{}.READABLE_STREAM==="disable"&&w&&(c.exports=w)}).call(l,f(6))},function(c,l,f){(function(d){c.exports=V;var w=f(15),m=f(16),E;V.ReadableState=G,f(8).EventEmitter;var S=function(N,L){return N.listeners(L).length},_;(function(){try{_=f(11)}catch{}finally{_||(_=f(8).EventEmitter)}})();var h=f(2).Buffer,b=f(17),p=f(18);p.inherits=f(12);var C=f(19),R=void 0;C&&C.debuglog?R=C.debuglog("stream"):R=function(){};var D=f(20),M;p.inherits(V,_);function B(N,L,st){if(typeof N.prependListener=="function")return N.prependListener(L,st);!N._events||!N._events[L]?N.on(L,st):m(N._events[L])?N._events[L].unshift(st):N._events[L]=[st,N._events[L]]}function G(N,L){E=E||f(21),N=N||{},this.objectMode=!!N.objectMode,L instanceof E&&(this.objectMode=this.objectMode||!!N.readableObjectMode);var st=N.highWaterMark,T=this.objectMode?16:16*1024;this.highWaterMark=st||st===0?st:T,this.highWaterMark=~~this.highWaterMark,this.buffer=new D,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(M||(M=f(24).StringDecoder),this.decoder=new M(N.encoding),this.encoding=N.encoding)}function V(N){if(E=E||f(21),!(this instanceof V))return new V(N);this._readableState=new G(N,this),this.readable=!0,N&&typeof N.read=="function"&&(this._read=N.read),_.call(this)}V.prototype.push=function(N,L){var st=this._readableState;return!st.objectMode&&typeof N=="string"&&(L=L||st.defaultEncoding,L!==st.encoding&&(N=b.from(N,L),L="")),Z(this,st,N,L,!1)},V.prototype.unshift=function(N){var L=this._readableState;return Z(this,L,N,"",!0)},V.prototype.isPaused=function(){return this._readableState.flowing===!1};function Z(N,L,st,T,A){var z=Y(L,st);if(z)N.emit("error",z);else if(st===null)L.reading=!1,at(N,L);else if(L.objectMode||st&&st.length>0)if(L.ended&&!A){var j=new Error("stream.push() after EOF");N.emit("error",j)}else if(L.endEmitted&&A){var rt=new Error("stream.unshift() after end event");N.emit("error",rt)}else{var $;L.decoder&&!A&&!T&&(st=L.decoder.write(st),$=!L.objectMode&&st.length===0),A||(L.reading=!1),$||(L.flowing&&L.length===0&&!L.sync?(N.emit("data",st),N.read(0)):(L.length+=L.objectMode?1:st.length,A?L.buffer.unshift(st):L.buffer.push(st),L.needReadable&&mt(N))),Ft(N,L)}else A||(L.reading=!1);return yt(L)}function yt(N){return!N.ended&&(N.needReadable||N.length<N.highWaterMark||N.length===0)}V.prototype.setEncoding=function(N){return M||(M=f(24).StringDecoder),this._readableState.decoder=new M(N),this._readableState.encoding=N,this};var K=8388608;function Q(N){return N>=K?N=K:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}function ut(N,L){return N<=0||L.length===0&&L.ended?0:L.objectMode?1:N!==N?L.flowing&&L.length?L.buffer.head.data.length:L.length:(N>L.highWaterMark&&(L.highWaterMark=Q(N)),N<=L.length?N:L.ended?L.length:(L.needReadable=!0,0))}V.prototype.read=function(N){R("read",N),N=parseInt(N,10);var L=this._readableState,st=N;if(N!==0&&(L.emittedReadable=!1),N===0&&L.needReadable&&(L.length>=L.highWaterMark||L.ended))return R("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?Ct(this):mt(this),null;if(N=ut(N,L),N===0&&L.ended)return L.length===0&&Ct(this),null;var T=L.needReadable;R("need readable",T),(L.length===0||L.length-N<L.highWaterMark)&&(T=!0,R("length less than watermark",T)),L.ended||L.reading?(T=!1,R("reading or ended",T)):T&&(R("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(N=ut(st,L)));var A;return N>0?A=ct(N,L):A=null,A===null?(L.needReadable=!0,N=0):L.length-=N,L.length===0&&(L.ended||(L.needReadable=!0),st!==N&&L.ended&&Ct(this)),A!==null&&this.emit("data",A),A};function Y(N,L){var st=null;return!h.isBuffer(L)&&typeof L!="string"&&L!==null&&L!==void 0&&!N.objectMode&&(st=new TypeError("Invalid non-string/buffer chunk")),st}function at(N,L){if(!L.ended){if(L.decoder){var st=L.decoder.end();st&&st.length&&(L.buffer.push(st),L.length+=L.objectMode?1:st.length)}L.ended=!0,mt(N)}}function mt(N){var L=N._readableState;L.needReadable=!1,L.emittedReadable||(R("emitReadable",L.flowing),L.emittedReadable=!0,L.sync?w(Ut,N):Ut(N))}function Ut(N){R("emit readable"),N.emit("readable"),q(N)}function Ft(N,L){L.readingMore||(L.readingMore=!0,w(Dt,N,L))}function Dt(N,L){for(var st=L.length;!L.reading&&!L.flowing&&!L.ended&&L.length<L.highWaterMark&&(R("maybeReadMore read 0"),N.read(0),st!==L.length);)st=L.length;L.readingMore=!1}V.prototype._read=function(N){this.emit("error",new Error("_read() is not implemented"))},V.prototype.pipe=function(N,L){var st=this,T=this._readableState;switch(T.pipesCount){case 0:T.pipes=N;break;case 1:T.pipes=[T.pipes,N];break;default:T.pipes.push(N);break}T.pipesCount+=1,R("pipe count=%d opts=%j",T.pipesCount,L);var A=(!L||L.end!==!1)&&N!==d.stdout&&N!==d.stderr,z=A?rt:lt;T.endEmitted?w(z):st.once("end",z),N.on("unpipe",j);function j(X){R("onunpipe"),X===st&&lt()}function rt(){R("onend"),N.end()}var $=Ot(st);N.on("drain",$);var pt=!1;function lt(){R("cleanup"),N.removeListener("close",g),N.removeListener("finish",O),N.removeListener("drain",$),N.removeListener("error",v),N.removeListener("unpipe",j),st.removeListener("end",rt),st.removeListener("end",lt),st.removeListener("data",F),pt=!0,T.awaitDrain&&(!N._writableState||N._writableState.needDrain)&&$()}var ht=!1;st.on("data",F);function F(X){R("ondata"),ht=!1;var et=N.write(X);et===!1&&!ht&&((T.pipesCount===1&&T.pipes===N||T.pipesCount>1&&Yt(T.pipes,N)!==-1)&&!pt&&(R("false write response, pause",st._readableState.awaitDrain),st._readableState.awaitDrain++,ht=!0),st.pause())}function v(X){R("onerror",X),U(),N.removeListener("error",v),S(N,"error")===0&&N.emit("error",X)}B(N,"error",v);function g(){N.removeListener("finish",O),U()}N.once("close",g);function O(){R("onfinish"),N.removeListener("close",g),U()}N.once("finish",O);function U(){R("unpipe"),st.unpipe(N)}return N.emit("pipe",st),T.flowing||(R("pipe resume"),st.resume()),N};function Ot(N){return function(){var L=N._readableState;R("pipeOnDrain",L.awaitDrain),L.awaitDrain&&L.awaitDrain--,L.awaitDrain===0&&S(N,"data")&&(L.flowing=!0,q(N))}}V.prototype.unpipe=function(N){var L=this._readableState;if(L.pipesCount===0)return this;if(L.pipesCount===1)return N&&N!==L.pipes?this:(N||(N=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,N&&N.emit("unpipe",this),this);if(!N){var st=L.pipes,T=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var A=0;A<T;A++)st[A].emit("unpipe",this);return this}var z=Yt(L.pipes,N);return z===-1?this:(L.pipes.splice(z,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),N.emit("unpipe",this),this)},V.prototype.on=function(N,L){var st=_.prototype.on.call(this,N,L);if(N==="data")this._readableState.flowing!==!1&&this.resume();else if(N==="readable"){var T=this._readableState;!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.emittedReadable=!1,T.reading?T.length&&mt(this):w(_t,this))}return st},V.prototype.addListener=V.prototype.on;function _t(N){R("readable nexttick read 0"),N.read(0)}V.prototype.resume=function(){var N=this._readableState;return N.flowing||(R("resume"),N.flowing=!0,wt(this,N)),this};function wt(N,L){L.resumeScheduled||(L.resumeScheduled=!0,w(W,N,L))}function W(N,L){L.reading||(R("resume read 0"),N.read(0)),L.resumeScheduled=!1,L.awaitDrain=0,N.emit("resume"),q(N),L.flowing&&!L.reading&&N.read(0)}V.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function q(N){var L=N._readableState;for(R("flow",L.flowing);L.flowing&&N.read()!==null;);}V.prototype.wrap=function(N){var L=this._readableState,st=!1,T=this;N.on("end",function(){if(R("wrapped end"),L.decoder&&!L.ended){var j=L.decoder.end();j&&j.length&&T.push(j)}T.push(null)}),N.on("data",function(j){if(R("wrapped data"),L.decoder&&(j=L.decoder.write(j)),!(L.objectMode&&j==null)&&!(!L.objectMode&&(!j||!j.length))){var rt=T.push(j);rt||(st=!0,N.pause())}});for(var A in N)this[A]===void 0&&typeof N[A]=="function"&&(this[A]=function(j){return function(){return N[j].apply(N,arguments)}}(A));var z=["error","close","destroy","pause","resume"];return Gt(z,function(j){N.on(j,T.emit.bind(T,j))}),T._read=function(j){R("wrapped _read",j),st&&(st=!1,N.resume())},T},V._fromList=ct;function ct(N,L){if(L.length===0)return null;var st;return L.objectMode?st=L.buffer.shift():!N||N>=L.length?(L.decoder?st=L.buffer.join(""):L.buffer.length===1?st=L.buffer.head.data:st=L.buffer.concat(L.length),L.buffer.clear()):st=St(N,L.buffer,L.decoder),st}function St(N,L,st){var T;return N<L.head.data.length?(T=L.head.data.slice(0,N),L.head.data=L.head.data.slice(N)):N===L.head.data.length?T=L.shift():T=st?jt(N,L):Lt(N,L),T}function jt(N,L){var st=L.head,T=1,A=st.data;for(N-=A.length;st=st.next;){var z=st.data,j=N>z.length?z.length:N;if(j===z.length?A+=z:A+=z.slice(0,N),N-=j,N===0){j===z.length?(++T,st.next?L.head=st.next:L.head=L.tail=null):(L.head=st,st.data=z.slice(j));break}++T}return L.length-=T,A}function Lt(N,L){var st=b.allocUnsafe(N),T=L.head,A=1;for(T.data.copy(st),N-=T.data.length;T=T.next;){var z=T.data,j=N>z.length?z.length:N;if(z.copy(st,st.length-N,0,j),N-=j,N===0){j===z.length?(++A,T.next?L.head=T.next:L.head=L.tail=null):(L.head=T,T.data=z.slice(j));break}++A}return L.length-=A,st}function Ct(N){var L=N._readableState;if(L.length>0)throw new Error('"endReadable()" called on non-empty stream');L.endEmitted||(L.ended=!0,w(Mt,L,N))}function Mt(N,L){!N.endEmitted&&N.length===0&&(N.endEmitted=!0,L.readable=!1,L.emit("end"))}function Gt(N,L){for(var st=0,T=N.length;st<T;st++)L(N[st],st)}function Yt(N,L){for(var st=0,T=N.length;st<T;st++)if(N[st]===L)return st;return-1}}).call(l,f(6))},function(c,l,f){(function(d){!d.version||d.version.indexOf("v0.")===0||d.version.indexOf("v1.")===0&&d.version.indexOf("v1.8.")!==0?c.exports=w:c.exports=d.nextTick;function w(m,E,S,_){if(typeof m!="function")throw new TypeError('"callback" argument must be a function');var h=arguments.length,b,p;switch(h){case 0:case 1:return d.nextTick(m);case 2:return d.nextTick(function(){m.call(null,E)});case 3:return d.nextTick(function(){m.call(null,E,S)});case 4:return d.nextTick(function(){m.call(null,E,S,_)});default:for(b=new Array(h-1),p=0;p<b.length;)b[p++]=arguments[p];return d.nextTick(function(){m.apply(null,b)})}}}).call(l,f(6))},function(c,l){var f={}.toString;c.exports=Array.isArray||function(d){return f.call(d)=="[object Array]"}},function(c,l,f){(function(d){var w=f(2),m=w.Buffer,E=w.SlowBuffer,S=w.kMaxLength||2147483647;l.alloc=function(h,b,p){if(typeof m.alloc=="function")return m.alloc(h,b,p);if(typeof p=="number")throw new TypeError("encoding must not be number");if(typeof h!="number")throw new TypeError("size must be a number");if(h>S)throw new RangeError("size is too large");var C=p,R=b;R===void 0&&(C=void 0,R=0);var D=new m(h);if(typeof R=="string")for(var M=new m(R,C),B=M.length,G=-1;++G<h;)D[G]=M[G%B];else D.fill(R);return D},l.allocUnsafe=function(h){if(typeof m.allocUnsafe=="function")return m.allocUnsafe(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>S)throw new RangeError("size is too large");return new m(h)},l.from=function(h,b,p){if(typeof m.from=="function"&&(!d.Uint8Array||Uint8Array.from!==m.from))return m.from(h,b,p);if(typeof h=="number")throw new TypeError('"value" argument must not be a number');if(typeof h=="string")return new m(h,b);if(typeof ArrayBuffer<"u"&&h instanceof ArrayBuffer){var C=b;if(arguments.length===1)return new m(h);typeof C>"u"&&(C=0);var R=p;if(typeof R>"u"&&(R=h.byteLength-C),C>=h.byteLength)throw new RangeError("'offset' is out of bounds");if(R>h.byteLength-C)throw new RangeError("'length' is out of bounds");return new m(h.slice(C,C+R))}if(m.isBuffer(h)){var D=new m(h.length);return h.copy(D,0,0,h.length),D}if(h){if(Array.isArray(h)||typeof ArrayBuffer<"u"&&h.buffer instanceof ArrayBuffer||"length"in h)return new m(h);if(h.type==="Buffer"&&Array.isArray(h.data))return new m(h.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},l.allocUnsafeSlow=function(h){if(typeof m.allocUnsafeSlow=="function")return m.allocUnsafeSlow(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>=S)throw new RangeError("size is too large");return new E(h)}}).call(l,function(){return this}())},function(c,l,f){(function(d){function w(Z){return Array.isArray?Array.isArray(Z):V(Z)==="[object Array]"}l.isArray=w;function m(Z){return typeof Z=="boolean"}l.isBoolean=m;function E(Z){return Z===null}l.isNull=E;function S(Z){return Z==null}l.isNullOrUndefined=S;function _(Z){return typeof Z=="number"}l.isNumber=_;function h(Z){return typeof Z=="string"}l.isString=h;function b(Z){return typeof Z=="symbol"}l.isSymbol=b;function p(Z){return Z===void 0}l.isUndefined=p;function C(Z){return V(Z)==="[object RegExp]"}l.isRegExp=C;function R(Z){return typeof Z=="object"&&Z!==null}l.isObject=R;function D(Z){return V(Z)==="[object Date]"}l.isDate=D;function M(Z){return V(Z)==="[object Error]"||Z instanceof Error}l.isError=M;function B(Z){return typeof Z=="function"}l.isFunction=B;function G(Z){return Z===null||typeof Z=="boolean"||typeof Z=="number"||typeof Z=="string"||typeof Z=="symbol"||typeof Z>"u"}l.isPrimitive=G,l.isBuffer=d.isBuffer;function V(Z){return Object.prototype.toString.call(Z)}}).call(l,f(1))},function(c,l){},function(c,l,f){f(2).Buffer;var d=f(17);c.exports=w;function w(){this.head=null,this.tail=null,this.length=0}w.prototype.push=function(m){var E={data:m,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length},w.prototype.unshift=function(m){var E={data:m,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length},w.prototype.shift=function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}},w.prototype.clear=function(){this.head=this.tail=null,this.length=0},w.prototype.join=function(m){if(this.length===0)return"";for(var E=this.head,S=""+E.data;E=E.next;)S+=m+E.data;return S},w.prototype.concat=function(m){if(this.length===0)return d.alloc(0);if(this.length===1)return this.head.data;for(var E=d.allocUnsafe(m>>>0),S=this.head,_=0;S;)S.data.copy(E,_),_+=S.data.length,S=S.next;return E}},function(c,l,f){var d=Object.keys||function(D){var M=[];for(var B in D)M.push(B);return M};c.exports=p;var w=f(15),m=f(18);m.inherits=f(12);var E=f(14),S=f(22);m.inherits(p,E);for(var _=d(S.prototype),h=0;h<_.length;h++){var b=_[h];p.prototype[b]||(p.prototype[b]=S.prototype[b])}function p(D){if(!(this instanceof p))return new p(D);E.call(this,D),S.call(this,D),D&&D.readable===!1&&(this.readable=!1),D&&D.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,D&&D.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",C)}function C(){this.allowHalfOpen||this._writableState.ended||w(R,this)}function R(D){D.end()}},function(c,l,f){(function(d){c.exports=B;var w=f(15),m=!d.browser&&["v0.10","v0.9."].indexOf(d.version.slice(0,5))>-1?setImmediate:w,E;B.WritableState=D;var S=f(18);S.inherits=f(12);var _={deprecate:f(23)},h;(function(){try{h=f(11)}catch{}finally{h||(h=f(8).EventEmitter)}})();var b=f(2).Buffer,p=f(17);S.inherits(B,h);function C(){}function R(W,q,ct){this.chunk=W,this.encoding=q,this.callback=ct,this.next=null}function D(W,q){E=E||f(21),W=W||{},this.objectMode=!!W.objectMode,q instanceof E&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var ct=W.highWaterMark,St=this.objectMode?16:16*1024;this.highWaterMark=ct||ct===0?ct:St,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var jt=W.decodeStrings===!1;this.decodeStrings=!jt,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Lt){Y(q,Lt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new wt(this)}D.prototype.getBuffer=function(){for(var q=this.bufferedRequest,ct=[];q;)ct.push(q),q=q.next;return ct},function(){try{Object.defineProperty(D.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(W){return M.call(this,W)?!0:W&&W._writableState instanceof D}})):M=function(W){return W instanceof this};function B(W){if(E=E||f(21),!M.call(B,this)&&!(this instanceof E))return new B(W);this._writableState=new D(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev)),h.call(this)}B.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function G(W,q){var ct=new Error("write after end");W.emit("error",ct),w(q,ct)}function V(W,q,ct,St){var jt=!0,Lt=!1;return ct===null?Lt=new TypeError("May not write null values to stream"):typeof ct!="string"&&ct!==void 0&&!q.objectMode&&(Lt=new TypeError("Invalid non-string/buffer chunk")),Lt&&(W.emit("error",Lt),w(St,Lt),jt=!1),jt}B.prototype.write=function(W,q,ct){var St=this._writableState,jt=!1,Lt=b.isBuffer(W);return typeof q=="function"&&(ct=q,q=null),Lt?q="buffer":q||(q=St.defaultEncoding),typeof ct!="function"&&(ct=C),St.ended?G(this,ct):(Lt||V(this,St,W,ct))&&(St.pendingcb++,jt=yt(this,St,Lt,W,q,ct)),jt},B.prototype.cork=function(){var W=this._writableState;W.corked++},B.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,!W.writing&&!W.corked&&!W.finished&&!W.bufferProcessing&&W.bufferedRequest&&Ut(this,W))},B.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((q+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+q);return this._writableState.defaultEncoding=q,this};function Z(W,q,ct){return!W.objectMode&&W.decodeStrings!==!1&&typeof q=="string"&&(q=p.from(q,ct)),q}function yt(W,q,ct,St,jt,Lt){ct||(St=Z(q,St,jt),b.isBuffer(St)&&(jt="buffer"));var Ct=q.objectMode?1:St.length;q.length+=Ct;var Mt=q.length<q.highWaterMark;if(Mt||(q.needDrain=!0),q.writing||q.corked){var Gt=q.lastBufferedRequest;q.lastBufferedRequest=new R(St,jt,Lt),Gt?Gt.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else K(W,q,!1,Ct,St,jt,Lt);return Mt}function K(W,q,ct,St,jt,Lt,Ct){q.writelen=St,q.writecb=Ct,q.writing=!0,q.sync=!0,ct?W._writev(jt,q.onwrite):W._write(jt,Lt,q.onwrite),q.sync=!1}function Q(W,q,ct,St,jt){--q.pendingcb,ct?w(jt,St):jt(St),W._writableState.errorEmitted=!0,W.emit("error",St)}function ut(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}function Y(W,q){var ct=W._writableState,St=ct.sync,jt=ct.writecb;if(ut(ct),q)Q(W,ct,St,q,jt);else{var Lt=Ft(ct);!Lt&&!ct.corked&&!ct.bufferProcessing&&ct.bufferedRequest&&Ut(W,ct),St?m(at,W,ct,Lt,jt):at(W,ct,Lt,jt)}}function at(W,q,ct,St){ct||mt(W,q),q.pendingcb--,St(),Ot(W,q)}function mt(W,q){q.length===0&&q.needDrain&&(q.needDrain=!1,W.emit("drain"))}function Ut(W,q){q.bufferProcessing=!0;var ct=q.bufferedRequest;if(W._writev&&ct&&ct.next){var St=q.bufferedRequestCount,jt=new Array(St),Lt=q.corkedRequestsFree;Lt.entry=ct;for(var Ct=0;ct;)jt[Ct]=ct,ct=ct.next,Ct+=1;K(W,q,!0,q.length,jt,"",Lt.finish),q.pendingcb++,q.lastBufferedRequest=null,Lt.next?(q.corkedRequestsFree=Lt.next,Lt.next=null):q.corkedRequestsFree=new wt(q)}else{for(;ct;){var Mt=ct.chunk,Gt=ct.encoding,Yt=ct.callback,N=q.objectMode?1:Mt.length;if(K(W,q,!1,N,Mt,Gt,Yt),ct=ct.next,q.writing)break}ct===null&&(q.lastBufferedRequest=null)}q.bufferedRequestCount=0,q.bufferedRequest=ct,q.bufferProcessing=!1}B.prototype._write=function(W,q,ct){ct(new Error("_write() is not implemented"))},B.prototype._writev=null,B.prototype.end=function(W,q,ct){var St=this._writableState;typeof W=="function"?(ct=W,W=null,q=null):typeof q=="function"&&(ct=q,q=null),W!=null&&this.write(W,q),St.corked&&(St.corked=1,this.uncork()),!St.ending&&!St.finished&&_t(this,St,ct)};function Ft(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function Dt(W,q){q.prefinished||(q.prefinished=!0,W.emit("prefinish"))}function Ot(W,q){var ct=Ft(q);return ct&&(q.pendingcb===0?(Dt(W,q),q.finished=!0,W.emit("finish")):Dt(W,q)),ct}function _t(W,q,ct){q.ending=!0,Ot(W,q),ct&&(q.finished?w(ct):W.once("finish",ct)),q.ended=!0,W.writable=!1}function wt(W){var q=this;this.next=null,this.entry=null,this.finish=function(ct){var St=q.entry;for(q.entry=null;St;){var jt=St.callback;W.pendingcb--,jt(ct),St=St.next}W.corkedRequestsFree?W.corkedRequestsFree.next=q:W.corkedRequestsFree=q}}}).call(l,f(6))},function(c,l){(function(f){c.exports=d;function d(m,E){if(w("noDeprecation"))return m;var S=!1;function _(){if(!S){if(w("throwDeprecation"))throw new Error(E);w("traceDeprecation")?console.trace(E):console.warn(E),S=!0}return m.apply(this,arguments)}return _}function w(m){try{if(!f.localStorage)return!1}catch{return!1}var E=f.localStorage[m];return E==null?!1:String(E).toLowerCase()==="true"}}).call(l,function(){return this}())},function(c,l,f){var d=f(2).Buffer,w=d.isEncoding||function(b){switch(b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function m(b){if(b&&!w(b))throw new Error("Unknown encoding: "+b)}var E=l.StringDecoder=function(b){switch(this.encoding=(b||"utf8").toLowerCase().replace(/[-_]/,""),m(b),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=_;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=h;break;default:this.write=S;return}this.charBuffer=new d(6),this.charReceived=0,this.charLength=0};E.prototype.write=function(b){for(var p="";this.charLength;){var C=b.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:b.length;if(b.copy(this.charBuffer,this.charReceived,0,C),this.charReceived+=C,this.charReceived<this.charLength)return"";b=b.slice(C,b.length),p=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var D=p.charCodeAt(p.length-1);if(D>=55296&&D<=56319){this.charLength+=this.surrogateSize,p="";continue}if(this.charReceived=this.charLength=0,b.length===0)return p;break}this.detectIncompleteChar(b);var R=b.length;this.charLength&&(b.copy(this.charBuffer,0,b.length-this.charReceived,R),R-=this.charReceived),p+=b.toString(this.encoding,0,R);var R=p.length-1,D=p.charCodeAt(R);if(D>=55296&&D<=56319){var M=this.surrogateSize;return this.charLength+=M,this.charReceived+=M,this.charBuffer.copy(this.charBuffer,M,0,M),b.copy(this.charBuffer,0,0,M),p.substring(0,R)}return p},E.prototype.detectIncompleteChar=function(b){for(var p=b.length>=3?3:b.length;p>0;p--){var C=b[b.length-p];if(p==1&&C>>5==6){this.charLength=2;break}if(p<=2&&C>>4==14){this.charLength=3;break}if(p<=3&&C>>3==30){this.charLength=4;break}}this.charReceived=p},E.prototype.end=function(b){var p="";if(b&&b.length&&(p=this.write(b)),this.charReceived){var C=this.charReceived,R=this.charBuffer,D=this.encoding;p+=R.slice(0,C).toString(D)}return p};function S(b){return b.toString(this.encoding)}function _(b){this.charReceived=b.length%2,this.charLength=this.charReceived?2:0}function h(b){this.charReceived=b.length%3,this.charLength=this.charReceived?3:0}},function(c,l,f){c.exports=S;var d=f(21),w=f(18);w.inherits=f(12),w.inherits(S,d);function m(h){this.afterTransform=function(b,p){return E(h,b,p)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function E(h,b,p){var C=h._transformState;C.transforming=!1;var R=C.writecb;if(!R)return h.emit("error",new Error("no writecb in Transform class"));C.writechunk=null,C.writecb=null,p!=null&&h.push(p),R(b);var D=h._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&h._read(D.highWaterMark)}function S(h){if(!(this instanceof S))return new S(h);d.call(this,h),this._transformState=new m(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(p,C){_(b,p,C)}):_(b)})}S.prototype.push=function(h,b){return this._transformState.needTransform=!1,d.prototype.push.call(this,h,b)},S.prototype._transform=function(h,b,p){throw new Error("_transform() is not implemented")},S.prototype._write=function(h,b,p){var C=this._transformState;if(C.writecb=p,C.writechunk=h,C.writeencoding=b,!C.transforming){var R=this._readableState;(C.needTransform||R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}},S.prototype._read=function(h){var b=this._transformState;b.writechunk!==null&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0};function _(h,b,p){if(b)return h.emit("error",b);p!=null&&h.push(p);var C=h._writableState,R=h._transformState;if(C.length)throw new Error("Calling transform done when ws.length != 0");if(R.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}},function(c,l,f){c.exports=m;var d=f(25),w=f(18);w.inherits=f(12),w.inherits(m,d);function m(E){if(!(this instanceof m))return new m(E);d.call(this,E)}m.prototype._transform=function(E,S,_){_(null,E)}},function(c,l,f){c.exports=f(22)},function(c,l,f){c.exports=f(21)},function(c,l,f){c.exports=f(25)},function(c,l,f){c.exports=f(26)},function(c,l,f){var d=f(32),w=f(33),m=f(38),E=f(39),S=f(40),_=f(41),h=f(42),b=Object.prototype.toString;function p(D){if(!(this instanceof p))return new p(D);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},D||{});var M=this.options;M.raw&&M.windowBits>=0&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),M.windowBits>=0&&M.windowBits<16&&!(D&&D.windowBits)&&(M.windowBits+=32),M.windowBits>15&&M.windowBits<48&&(M.windowBits&15||(M.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var B=d.inflateInit2(this.strm,M.windowBits);if(B!==E.Z_OK)throw new Error(S[B]);this.header=new h,d.inflateGetHeader(this.strm,this.header)}p.prototype.push=function(D,M){var B=this.strm,G=this.options.chunkSize,V=this.options.dictionary,Z,yt,K,Q,ut,Y,at=!1;if(this.ended)return!1;yt=M===~~M?M:M===!0?E.Z_FINISH:E.Z_NO_FLUSH,typeof D=="string"?B.input=m.binstring2buf(D):b.call(D)==="[object ArrayBuffer]"?B.input=new Uint8Array(D):B.input=D,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new w.Buf8(G),B.next_out=0,B.avail_out=G),Z=d.inflate(B,E.Z_NO_FLUSH),Z===E.Z_NEED_DICT&&V&&(typeof V=="string"?Y=m.string2buf(V):b.call(V)==="[object ArrayBuffer]"?Y=new Uint8Array(V):Y=V,Z=d.inflateSetDictionary(this.strm,Y)),Z===E.Z_BUF_ERROR&&at===!0&&(Z=E.Z_OK,at=!1),Z!==E.Z_STREAM_END&&Z!==E.Z_OK)return this.onEnd(Z),this.ended=!0,!1;B.next_out&&(B.avail_out===0||Z===E.Z_STREAM_END||B.avail_in===0&&(yt===E.Z_FINISH||yt===E.Z_SYNC_FLUSH))&&(this.options.to==="string"?(K=m.utf8border(B.output,B.next_out),Q=B.next_out-K,ut=m.buf2string(B.output,K),B.next_out=Q,B.avail_out=G-Q,Q&&w.arraySet(B.output,B.output,K,Q,0),this.onData(ut)):this.onData(w.shrinkBuf(B.output,B.next_out))),B.avail_in===0&&B.avail_out===0&&(at=!0)}while((B.avail_in>0||B.avail_out===0)&&Z!==E.Z_STREAM_END);return Z===E.Z_STREAM_END&&(yt=E.Z_FINISH),yt===E.Z_FINISH?(Z=d.inflateEnd(this.strm),this.onEnd(Z),this.ended=!0,Z===E.Z_OK):(yt===E.Z_SYNC_FLUSH&&(this.onEnd(E.Z_OK),B.avail_out=0),!0)},p.prototype.onData=function(D){this.chunks.push(D)},p.prototype.onEnd=function(D){D===E.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg};function C(D,M){var B=new p(M);if(B.push(D,!0),B.err)throw B.msg||S[B.err];return B.result}function R(D,M){return M=M||{},M.raw=!0,C(D,M)}l.Inflate=p,l.inflate=C,l.inflateRaw=R,l.ungzip=C},function(c,l,f){var d=f(33),w=f(34),m=f(35),E=f(36),S=f(37),_=0,h=1,b=2,p=4,C=5,R=6,D=0,M=1,B=2,G=-2,V=-3,Z=-4,yt=-5,K=8,Q=1,ut=2,Y=3,at=4,mt=5,Ut=6,Ft=7,Dt=8,Ot=9,_t=10,wt=11,W=12,q=13,ct=14,St=15,jt=16,Lt=17,Ct=18,Mt=19,Gt=20,Yt=21,N=22,L=23,st=24,T=25,A=26,z=27,j=28,rt=29,$=30,pt=31,lt=32,ht=852,F=592,v=15,g=v;function O(tt){return(tt>>>24&255)+(tt>>>8&65280)+((tt&65280)<<8)+((tt&255)<<24)}function U(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function X(tt){var gt;return!tt||!tt.state?G:(gt=tt.state,tt.total_in=tt.total_out=gt.total=0,tt.msg="",gt.wrap&&(tt.adler=gt.wrap&1),gt.mode=Q,gt.last=0,gt.havedict=0,gt.dmax=32768,gt.head=null,gt.hold=0,gt.bits=0,gt.lencode=gt.lendyn=new d.Buf32(ht),gt.distcode=gt.distdyn=new d.Buf32(F),gt.sane=1,gt.back=-1,D)}function et(tt){var gt;return!tt||!tt.state?G:(gt=tt.state,gt.wsize=0,gt.whave=0,gt.wnext=0,X(tt))}function Et(tt,gt){var k,bt;return!tt||!tt.state||(bt=tt.state,gt<0?(k=0,gt=-gt):(k=(gt>>4)+1,gt<48&&(gt&=15)),gt&&(gt<8||gt>15))?G:(bt.window!==null&&bt.wbits!==gt&&(bt.window=null),bt.wrap=k,bt.wbits=gt,et(tt))}function Rt(tt,gt){var k,bt;return tt?(bt=new U,tt.state=bt,bt.window=null,k=Et(tt,gt),k!==D&&(tt.state=null),k):G}function Ht(tt){return Rt(tt,g)}var Qt=!0,Xt,Ee;function _n(tt){if(Qt){var gt;for(Xt=new d.Buf32(512),Ee=new d.Buf32(32),gt=0;gt<144;)tt.lens[gt++]=8;for(;gt<256;)tt.lens[gt++]=9;for(;gt<280;)tt.lens[gt++]=7;for(;gt<288;)tt.lens[gt++]=8;for(S(h,tt.lens,0,288,Xt,0,tt.work,{bits:9}),gt=0;gt<32;)tt.lens[gt++]=5;S(b,tt.lens,0,32,Ee,0,tt.work,{bits:5}),Qt=!1}tt.lencode=Xt,tt.lenbits=9,tt.distcode=Ee,tt.distbits=5}function le(tt,gt,k,bt){var $t,vt=tt.state;return vt.window===null&&(vt.wsize=1<<vt.wbits,vt.wnext=0,vt.whave=0,vt.window=new d.Buf8(vt.wsize)),bt>=vt.wsize?(d.arraySet(vt.window,gt,k-vt.wsize,vt.wsize,0),vt.wnext=0,vt.whave=vt.wsize):($t=vt.wsize-vt.wnext,$t>bt&&($t=bt),d.arraySet(vt.window,gt,k-bt,$t,vt.wnext),bt-=$t,bt?(d.arraySet(vt.window,gt,k-bt,bt,0),vt.wnext=bt,vt.whave=vt.wsize):(vt.wnext+=$t,vt.wnext===vt.wsize&&(vt.wnext=0),vt.whave<vt.wsize&&(vt.whave+=$t))),0}function _e(tt,gt){var k,bt,$t,vt,De,xt,fe,ot,it,cr,te,kt,Un,wn,oe=0,Zt,we,Te,Se,lr,jn,ue,Le,me=new d.Buf8(4),tn,Ke,li=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!tt||!tt.state||!tt.output||!tt.input&&tt.avail_in!==0)return G;k=tt.state,k.mode===W&&(k.mode=q),De=tt.next_out,$t=tt.output,fe=tt.avail_out,vt=tt.next_in,bt=tt.input,xt=tt.avail_in,ot=k.hold,it=k.bits,cr=xt,te=fe,Le=D;t:for(;;)switch(k.mode){case Q:if(k.wrap===0){k.mode=q;break}for(;it<16;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(k.wrap&2&&ot===35615){k.check=0,me[0]=ot&255,me[1]=ot>>>8&255,k.check=m(k.check,me,2,0),ot=0,it=0,k.mode=ut;break}if(k.flags=0,k.head&&(k.head.done=!1),!(k.wrap&1)||(((ot&255)<<8)+(ot>>8))%31){tt.msg="incorrect header check",k.mode=$;break}if((ot&15)!==K){tt.msg="unknown compression method",k.mode=$;break}if(ot>>>=4,it-=4,ue=(ot&15)+8,k.wbits===0)k.wbits=ue;else if(ue>k.wbits){tt.msg="invalid window size",k.mode=$;break}k.dmax=1<<ue,tt.adler=k.check=1,k.mode=ot&512?_t:W,ot=0,it=0;break;case ut:for(;it<16;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(k.flags=ot,(k.flags&255)!==K){tt.msg="unknown compression method",k.mode=$;break}if(k.flags&57344){tt.msg="unknown header flags set",k.mode=$;break}k.head&&(k.head.text=ot>>8&1),k.flags&512&&(me[0]=ot&255,me[1]=ot>>>8&255,k.check=m(k.check,me,2,0)),ot=0,it=0,k.mode=Y;case Y:for(;it<32;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.head&&(k.head.time=ot),k.flags&512&&(me[0]=ot&255,me[1]=ot>>>8&255,me[2]=ot>>>16&255,me[3]=ot>>>24&255,k.check=m(k.check,me,4,0)),ot=0,it=0,k.mode=at;case at:for(;it<16;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.head&&(k.head.xflags=ot&255,k.head.os=ot>>8),k.flags&512&&(me[0]=ot&255,me[1]=ot>>>8&255,k.check=m(k.check,me,2,0)),ot=0,it=0,k.mode=mt;case mt:if(k.flags&1024){for(;it<16;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.length=ot,k.head&&(k.head.extra_len=ot),k.flags&512&&(me[0]=ot&255,me[1]=ot>>>8&255,k.check=m(k.check,me,2,0)),ot=0,it=0}else k.head&&(k.head.extra=null);k.mode=Ut;case Ut:if(k.flags&1024&&(kt=k.length,kt>xt&&(kt=xt),kt&&(k.head&&(ue=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),d.arraySet(k.head.extra,bt,vt,kt,ue)),k.flags&512&&(k.check=m(k.check,bt,kt,vt)),xt-=kt,vt+=kt,k.length-=kt),k.length))break t;k.length=0,k.mode=Ft;case Ft:if(k.flags&2048){if(xt===0)break t;kt=0;do ue=bt[vt+kt++],k.head&&ue&&k.length<65536&&(k.head.name+=String.fromCharCode(ue));while(ue&&kt<xt);if(k.flags&512&&(k.check=m(k.check,bt,kt,vt)),xt-=kt,vt+=kt,ue)break t}else k.head&&(k.head.name=null);k.length=0,k.mode=Dt;case Dt:if(k.flags&4096){if(xt===0)break t;kt=0;do ue=bt[vt+kt++],k.head&&ue&&k.length<65536&&(k.head.comment+=String.fromCharCode(ue));while(ue&&kt<xt);if(k.flags&512&&(k.check=m(k.check,bt,kt,vt)),xt-=kt,vt+=kt,ue)break t}else k.head&&(k.head.comment=null);k.mode=Ot;case Ot:if(k.flags&512){for(;it<16;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(ot!==(k.check&65535)){tt.msg="header crc mismatch",k.mode=$;break}ot=0,it=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),tt.adler=k.check=0,k.mode=W;break;case _t:for(;it<32;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}tt.adler=k.check=O(ot),ot=0,it=0,k.mode=wt;case wt:if(k.havedict===0)return tt.next_out=De,tt.avail_out=fe,tt.next_in=vt,tt.avail_in=xt,k.hold=ot,k.bits=it,B;tt.adler=k.check=1,k.mode=W;case W:if(gt===C||gt===R)break t;case q:if(k.last){ot>>>=it&7,it-=it&7,k.mode=z;break}for(;it<3;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}switch(k.last=ot&1,ot>>>=1,it-=1,ot&3){case 0:k.mode=ct;break;case 1:if(_n(k),k.mode=Gt,gt===R){ot>>>=2,it-=2;break t}break;case 2:k.mode=Lt;break;case 3:tt.msg="invalid block type",k.mode=$}ot>>>=2,it-=2;break;case ct:for(ot>>>=it&7,it-=it&7;it<32;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if((ot&65535)!==(ot>>>16^65535)){tt.msg="invalid stored block lengths",k.mode=$;break}if(k.length=ot&65535,ot=0,it=0,k.mode=St,gt===R)break t;case St:k.mode=jt;case jt:if(kt=k.length,kt){if(kt>xt&&(kt=xt),kt>fe&&(kt=fe),kt===0)break t;d.arraySet($t,bt,vt,kt,De),xt-=kt,vt+=kt,fe-=kt,De+=kt,k.length-=kt;break}k.mode=W;break;case Lt:for(;it<14;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(k.nlen=(ot&31)+257,ot>>>=5,it-=5,k.ndist=(ot&31)+1,ot>>>=5,it-=5,k.ncode=(ot&15)+4,ot>>>=4,it-=4,k.nlen>286||k.ndist>30){tt.msg="too many length or distance symbols",k.mode=$;break}k.have=0,k.mode=Ct;case Ct:for(;k.have<k.ncode;){for(;it<3;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.lens[li[k.have++]]=ot&7,ot>>>=3,it-=3}for(;k.have<19;)k.lens[li[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,tn={bits:k.lenbits},Le=S(_,k.lens,0,19,k.lencode,0,k.work,tn),k.lenbits=tn.bits,Le){tt.msg="invalid code lengths set",k.mode=$;break}k.have=0,k.mode=Mt;case Mt:for(;k.have<k.nlen+k.ndist;){for(;oe=k.lencode[ot&(1<<k.lenbits)-1],Zt=oe>>>24,we=oe>>>16&255,Te=oe&65535,!(Zt<=it);){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(Te<16)ot>>>=Zt,it-=Zt,k.lens[k.have++]=Te;else{if(Te===16){for(Ke=Zt+2;it<Ke;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(ot>>>=Zt,it-=Zt,k.have===0){tt.msg="invalid bit length repeat",k.mode=$;break}ue=k.lens[k.have-1],kt=3+(ot&3),ot>>>=2,it-=2}else if(Te===17){for(Ke=Zt+3;it<Ke;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}ot>>>=Zt,it-=Zt,ue=0,kt=3+(ot&7),ot>>>=3,it-=3}else{for(Ke=Zt+7;it<Ke;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}ot>>>=Zt,it-=Zt,ue=0,kt=11+(ot&127),ot>>>=7,it-=7}if(k.have+kt>k.nlen+k.ndist){tt.msg="invalid bit length repeat",k.mode=$;break}for(;kt--;)k.lens[k.have++]=ue}}if(k.mode===$)break;if(k.lens[256]===0){tt.msg="invalid code -- missing end-of-block",k.mode=$;break}if(k.lenbits=9,tn={bits:k.lenbits},Le=S(h,k.lens,0,k.nlen,k.lencode,0,k.work,tn),k.lenbits=tn.bits,Le){tt.msg="invalid literal/lengths set",k.mode=$;break}if(k.distbits=6,k.distcode=k.distdyn,tn={bits:k.distbits},Le=S(b,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,tn),k.distbits=tn.bits,Le){tt.msg="invalid distances set",k.mode=$;break}if(k.mode=Gt,gt===R)break t;case Gt:k.mode=Yt;case Yt:if(xt>=6&&fe>=258){tt.next_out=De,tt.avail_out=fe,tt.next_in=vt,tt.avail_in=xt,k.hold=ot,k.bits=it,E(tt,te),De=tt.next_out,$t=tt.output,fe=tt.avail_out,vt=tt.next_in,bt=tt.input,xt=tt.avail_in,ot=k.hold,it=k.bits,k.mode===W&&(k.back=-1);break}for(k.back=0;oe=k.lencode[ot&(1<<k.lenbits)-1],Zt=oe>>>24,we=oe>>>16&255,Te=oe&65535,!(Zt<=it);){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(we&&!(we&240)){for(Se=Zt,lr=we,jn=Te;oe=k.lencode[jn+((ot&(1<<Se+lr)-1)>>Se)],Zt=oe>>>24,we=oe>>>16&255,Te=oe&65535,!(Se+Zt<=it);){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}ot>>>=Se,it-=Se,k.back+=Se}if(ot>>>=Zt,it-=Zt,k.back+=Zt,k.length=Te,we===0){k.mode=A;break}if(we&32){k.back=-1,k.mode=W;break}if(we&64){tt.msg="invalid literal/length code",k.mode=$;break}k.extra=we&15,k.mode=N;case N:if(k.extra){for(Ke=k.extra;it<Ke;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.length+=ot&(1<<k.extra)-1,ot>>>=k.extra,it-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=L;case L:for(;oe=k.distcode[ot&(1<<k.distbits)-1],Zt=oe>>>24,we=oe>>>16&255,Te=oe&65535,!(Zt<=it);){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(!(we&240)){for(Se=Zt,lr=we,jn=Te;oe=k.distcode[jn+((ot&(1<<Se+lr)-1)>>Se)],Zt=oe>>>24,we=oe>>>16&255,Te=oe&65535,!(Se+Zt<=it);){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}ot>>>=Se,it-=Se,k.back+=Se}if(ot>>>=Zt,it-=Zt,k.back+=Zt,we&64){tt.msg="invalid distance code",k.mode=$;break}k.offset=Te,k.extra=we&15,k.mode=st;case st:if(k.extra){for(Ke=k.extra;it<Ke;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}k.offset+=ot&(1<<k.extra)-1,ot>>>=k.extra,it-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){tt.msg="invalid distance too far back",k.mode=$;break}k.mode=T;case T:if(fe===0)break t;if(kt=te-fe,k.offset>kt){if(kt=k.offset-kt,kt>k.whave&&k.sane){tt.msg="invalid distance too far back",k.mode=$;break}kt>k.wnext?(kt-=k.wnext,Un=k.wsize-kt):Un=k.wnext-kt,kt>k.length&&(kt=k.length),wn=k.window}else wn=$t,Un=De-k.offset,kt=k.length;kt>fe&&(kt=fe),fe-=kt,k.length-=kt;do $t[De++]=wn[Un++];while(--kt);k.length===0&&(k.mode=Yt);break;case A:if(fe===0)break t;$t[De++]=k.length,fe--,k.mode=Yt;break;case z:if(k.wrap){for(;it<32;){if(xt===0)break t;xt--,ot|=bt[vt++]<<it,it+=8}if(te-=fe,tt.total_out+=te,k.total+=te,te&&(tt.adler=k.check=k.flags?m(k.check,$t,te,De-te):w(k.check,$t,te,De-te)),te=fe,(k.flags?ot:O(ot))!==k.check){tt.msg="incorrect data check",k.mode=$;break}ot=0,it=0}k.mode=j;case j:if(k.wrap&&k.flags){for(;it<32;){if(xt===0)break t;xt--,ot+=bt[vt++]<<it,it+=8}if(ot!==(k.total&4294967295)){tt.msg="incorrect length check",k.mode=$;break}ot=0,it=0}k.mode=rt;case rt:Le=M;break t;case $:Le=V;break t;case pt:return Z;case lt:default:return G}return tt.next_out=De,tt.avail_out=fe,tt.next_in=vt,tt.avail_in=xt,k.hold=ot,k.bits=it,(k.wsize||te!==tt.avail_out&&k.mode<$&&(k.mode<z||gt!==p))&&le(tt,tt.output,tt.next_out,te-tt.avail_out),cr-=tt.avail_in,te-=tt.avail_out,tt.total_in+=cr,tt.total_out+=te,k.total+=te,k.wrap&&te&&(tt.adler=k.check=k.flags?m(k.check,$t,te,tt.next_out-te):w(k.check,$t,te,tt.next_out-te)),tt.data_type=k.bits+(k.last?64:0)+(k.mode===W?128:0)+(k.mode===Gt||k.mode===St?256:0),(cr===0&&te===0||gt===p)&&Le===D&&(Le=yt),Le}function ur(tt){if(!tt||!tt.state)return G;var gt=tt.state;return gt.window&&(gt.window=null),tt.state=null,D}function fo(tt,gt){var k;return!tt||!tt.state||(k=tt.state,!(k.wrap&2))?G:(k.head=gt,gt.done=!1,D)}function ho(tt,gt){var k=gt.length,bt,$t,vt;return!tt||!tt.state||(bt=tt.state,bt.wrap!==0&&bt.mode!==wt)?G:bt.mode===wt&&($t=1,$t=w($t,gt,k,0),$t!==bt.check)?V:(vt=le(tt,gt,k,k),vt?(bt.mode=pt,Z):(bt.havedict=1,D))}l.inflateReset=et,l.inflateReset2=Et,l.inflateResetKeep=X,l.inflateInit=Ht,l.inflateInit2=Rt,l.inflate=_e,l.inflateEnd=ur,l.inflateGetHeader=fo,l.inflateSetDictionary=ho,l.inflateInfo="pako inflate (from Nodeca project)"},function(c,l){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(m){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var S=E.shift();if(S){if(typeof S!="object")throw new TypeError(S+"must be non-object");for(var _ in S)S.hasOwnProperty(_)&&(m[_]=S[_])}}return m},l.shrinkBuf=function(m,E){return m.length===E?m:m.subarray?m.subarray(0,E):(m.length=E,m)};var d={arraySet:function(m,E,S,_,h){if(E.subarray&&m.subarray){m.set(E.subarray(S,S+_),h);return}for(var b=0;b<_;b++)m[h+b]=E[S+b]},flattenChunks:function(m){var E,S,_,h,b,p;for(_=0,E=0,S=m.length;E<S;E++)_+=m[E].length;for(p=new Uint8Array(_),h=0,E=0,S=m.length;E<S;E++)b=m[E],p.set(b,h),h+=b.length;return p}},w={arraySet:function(m,E,S,_,h){for(var b=0;b<_;b++)m[h+b]=E[S+b]},flattenChunks:function(m){return[].concat.apply([],m)}};l.setTyped=function(m){m?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,d)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,w))},l.setTyped(f)},function(c,l){function f(d,w,m,E){for(var S=d&65535|0,_=d>>>16&65535|0,h=0;m!==0;){h=m>2e3?2e3:m,m-=h;do S=S+w[E++]|0,_=_+S|0;while(--h);S%=65521,_%=65521}return S|_<<16|0}c.exports=f},function(c,l){function f(){for(var m,E=[],S=0;S<256;S++){m=S;for(var _=0;_<8;_++)m=m&1?3988292384^m>>>1:m>>>1;E[S]=m}return E}var d=f();function w(m,E,S,_){var h=d,b=_+S;m^=-1;for(var p=_;p<b;p++)m=m>>>8^h[(m^E[p])&255];return m^-1}c.exports=w},function(c,l){var f=30,d=12;c.exports=function(m,E){var S,_,h,b,p,C,R,D,M,B,G,V,Z,yt,K,Q,ut,Y,at,mt,Ut,Ft,Dt,Ot,_t;S=m.state,_=m.next_in,Ot=m.input,h=_+(m.avail_in-5),b=m.next_out,_t=m.output,p=b-(E-m.avail_out),C=b+(m.avail_out-257),R=S.dmax,D=S.wsize,M=S.whave,B=S.wnext,G=S.window,V=S.hold,Z=S.bits,yt=S.lencode,K=S.distcode,Q=(1<<S.lenbits)-1,ut=(1<<S.distbits)-1;t:do{Z<15&&(V+=Ot[_++]<<Z,Z+=8,V+=Ot[_++]<<Z,Z+=8),Y=yt[V&Q];e:for(;;){if(at=Y>>>24,V>>>=at,Z-=at,at=Y>>>16&255,at===0)_t[b++]=Y&65535;else if(at&16){mt=Y&65535,at&=15,at&&(Z<at&&(V+=Ot[_++]<<Z,Z+=8),mt+=V&(1<<at)-1,V>>>=at,Z-=at),Z<15&&(V+=Ot[_++]<<Z,Z+=8,V+=Ot[_++]<<Z,Z+=8),Y=K[V&ut];n:for(;;){if(at=Y>>>24,V>>>=at,Z-=at,at=Y>>>16&255,at&16){if(Ut=Y&65535,at&=15,Z<at&&(V+=Ot[_++]<<Z,Z+=8,Z<at&&(V+=Ot[_++]<<Z,Z+=8)),Ut+=V&(1<<at)-1,Ut>R){m.msg="invalid distance too far back",S.mode=f;break t}if(V>>>=at,Z-=at,at=b-p,Ut>at){if(at=Ut-at,at>M&&S.sane){m.msg="invalid distance too far back",S.mode=f;break t}if(Ft=0,Dt=G,B===0){if(Ft+=D-at,at<mt){mt-=at;do _t[b++]=G[Ft++];while(--at);Ft=b-Ut,Dt=_t}}else if(B<at){if(Ft+=D+B-at,at-=B,at<mt){mt-=at;do _t[b++]=G[Ft++];while(--at);if(Ft=0,B<mt){at=B,mt-=at;do _t[b++]=G[Ft++];while(--at);Ft=b-Ut,Dt=_t}}}else if(Ft+=B-at,at<mt){mt-=at;do _t[b++]=G[Ft++];while(--at);Ft=b-Ut,Dt=_t}for(;mt>2;)_t[b++]=Dt[Ft++],_t[b++]=Dt[Ft++],_t[b++]=Dt[Ft++],mt-=3;mt&&(_t[b++]=Dt[Ft++],mt>1&&(_t[b++]=Dt[Ft++]))}else{Ft=b-Ut;do _t[b++]=_t[Ft++],_t[b++]=_t[Ft++],_t[b++]=_t[Ft++],mt-=3;while(mt>2);mt&&(_t[b++]=_t[Ft++],mt>1&&(_t[b++]=_t[Ft++]))}}else if(at&64){m.msg="invalid distance code",S.mode=f;break t}else{Y=K[(Y&65535)+(V&(1<<at)-1)];continue n}break}}else if(at&64)if(at&32){S.mode=d;break t}else{m.msg="invalid literal/length code",S.mode=f;break t}else{Y=yt[(Y&65535)+(V&(1<<at)-1)];continue e}break}}while(_<h&&b<C);mt=Z>>3,_-=mt,Z-=mt<<3,V&=(1<<Z)-1,m.next_in=_,m.next_out=b,m.avail_in=_<h?5+(h-_):5-(_-h),m.avail_out=b<C?257+(C-b):257-(b-C),S.hold=V,S.bits=Z}},function(c,l,f){var d=f(33),w=15,m=852,E=592,S=0,_=1,h=2,b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],R=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(M,B,G,V,Z,yt,K,Q){var ut=Q.bits,Y=0,at=0,mt=0,Ut=0,Ft=0,Dt=0,Ot=0,_t=0,wt=0,W=0,q,ct,St,jt,Lt,Ct=null,Mt=0,Gt,Yt=new d.Buf16(w+1),N=new d.Buf16(w+1),L=null,st=0,T,A,z;for(Y=0;Y<=w;Y++)Yt[Y]=0;for(at=0;at<V;at++)Yt[B[G+at]]++;for(Ft=ut,Ut=w;Ut>=1&&Yt[Ut]===0;Ut--);if(Ft>Ut&&(Ft=Ut),Ut===0)return Z[yt++]=1<<24|64<<16|0,Z[yt++]=1<<24|64<<16|0,Q.bits=1,0;for(mt=1;mt<Ut&&Yt[mt]===0;mt++);for(Ft<mt&&(Ft=mt),_t=1,Y=1;Y<=w;Y++)if(_t<<=1,_t-=Yt[Y],_t<0)return-1;if(_t>0&&(M===S||Ut!==1))return-1;for(N[1]=0,Y=1;Y<w;Y++)N[Y+1]=N[Y]+Yt[Y];for(at=0;at<V;at++)B[G+at]!==0&&(K[N[B[G+at]]++]=at);if(M===S?(Ct=L=K,Gt=19):M===_?(Ct=b,Mt-=257,L=p,st-=257,Gt=256):(Ct=C,L=R,Gt=-1),W=0,at=0,Y=mt,Lt=yt,Dt=Ft,Ot=0,St=-1,wt=1<<Ft,jt=wt-1,M===_&&wt>m||M===h&&wt>E)return 1;for(;;){T=Y-Ot,K[at]<Gt?(A=0,z=K[at]):K[at]>Gt?(A=L[st+K[at]],z=Ct[Mt+K[at]]):(A=32+64,z=0),q=1<<Y-Ot,ct=1<<Dt,mt=ct;do ct-=q,Z[Lt+(W>>Ot)+ct]=T<<24|A<<16|z|0;while(ct!==0);for(q=1<<Y-1;W&q;)q>>=1;if(q!==0?(W&=q-1,W+=q):W=0,at++,--Yt[Y]===0){if(Y===Ut)break;Y=B[G+K[at]]}if(Y>Ft&&(W&jt)!==St){for(Ot===0&&(Ot=Ft),Lt+=mt,Dt=Y-Ot,_t=1<<Dt;Dt+Ot<Ut&&(_t-=Yt[Dt+Ot],!(_t<=0));)Dt++,_t<<=1;if(wt+=1<<Dt,M===_&&wt>m||M===h&&wt>E)return 1;St=W&jt,Z[St]=Ft<<24|Dt<<16|Lt-yt|0}}return W!==0&&(Z[Lt+W]=Y-Ot<<24|64<<16|0),Q.bits=Ft,0}},function(c,l,f){var d=f(33),w=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var E=new d.Buf8(256),S=0;S<256;S++)E[S]=S>=252?6:S>=248?5:S>=240?4:S>=224?3:S>=192?2:1;E[254]=E[254]=1,l.string2buf=function(h){var b,p,C,R,D,M=h.length,B=0;for(R=0;R<M;R++)p=h.charCodeAt(R),(p&64512)===55296&&R+1<M&&(C=h.charCodeAt(R+1),(C&64512)===56320&&(p=65536+(p-55296<<10)+(C-56320),R++)),B+=p<128?1:p<2048?2:p<65536?3:4;for(b=new d.Buf8(B),D=0,R=0;D<B;R++)p=h.charCodeAt(R),(p&64512)===55296&&R+1<M&&(C=h.charCodeAt(R+1),(C&64512)===56320&&(p=65536+(p-55296<<10)+(C-56320),R++)),p<128?b[D++]=p:p<2048?(b[D++]=192|p>>>6,b[D++]=128|p&63):p<65536?(b[D++]=224|p>>>12,b[D++]=128|p>>>6&63,b[D++]=128|p&63):(b[D++]=240|p>>>18,b[D++]=128|p>>>12&63,b[D++]=128|p>>>6&63,b[D++]=128|p&63);return b};function _(h,b){if(b<65537&&(h.subarray&&m||!h.subarray&&w))return String.fromCharCode.apply(null,d.shrinkBuf(h,b));for(var p="",C=0;C<b;C++)p+=String.fromCharCode(h[C]);return p}l.buf2binstring=function(h){return _(h,h.length)},l.binstring2buf=function(h){for(var b=new d.Buf8(h.length),p=0,C=b.length;p<C;p++)b[p]=h.charCodeAt(p);return b},l.buf2string=function(h,b){var p,C,R,D,M=b||h.length,B=new Array(M*2);for(C=0,p=0;p<M;){if(R=h[p++],R<128){B[C++]=R;continue}if(D=E[R],D>4){B[C++]=65533,p+=D-1;continue}for(R&=D===2?31:D===3?15:7;D>1&&p<M;)R=R<<6|h[p++]&63,D--;if(D>1){B[C++]=65533;continue}R<65536?B[C++]=R:(R-=65536,B[C++]=55296|R>>10&1023,B[C++]=56320|R&1023)}return _(B,C)},l.utf8border=function(h,b){var p;for(b=b||h.length,b>h.length&&(b=h.length),p=b-1;p>=0&&(h[p]&192)===128;)p--;return p<0||p===0?b:p+E[h[p]]>b?p:b}},function(c,l){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(c,l){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(c,l){function f(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}c.exports=f},function(c,l){function f(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}c.exports=f}])})})(Hd);class oc{constructor(){Qe(this,"_fs");Qe(this,"_cwd","/");const s=qe();this._fs=s==null?void 0:s.appContext.config.globalProperties.$fs}setFs(s){this._fs=s}init(){let s=["/bin","/boot","/dev","/lib","/lib32","/lib64","/proc","/sbin","/run","/usr","/sys","/etc","/opt","/home","/root","/var","/var/log","/tmp"];for(let c=0;c<s.length;c++){const l=s[c];this._fs.existsSync(l)||this._fs.mkdirSync(l)}}joinPath(...s){const[c,l,f]=[0,s.length-1,"/"],d=new RegExp("^"+f),w=new RegExp(f+"$");return s=s.map(function(m,E){return E===c&&m==="file://"||(E>c&&(m=m.replace(d,"")),E<l&&(m=m.replace(w,""))),m}),s.join(f)}getClient(){return this._fs}getCurrentDirectory(){return this._cwd}isDir(s){return s.startsWith("/")||(s=this.joinPath(this._cwd,s)),this._fs.existsSync(s)&&this._fs.lstatSync(s).isDirectory()===!0}emptyPath(s){return s==null&&(s=this._cwd),s}list(s){return this._fs.readdirSync(s)}cd(s){if(s===".."&&this._cwd!=="/"){let c=this._cwd.split("/");c.pop(),this._cwd=c.join("/"),this._cwd===""&&(this._cwd="/");return}else if(s===".."&&this._cwd==="/")return;if(s.startsWith("/")||(s=this.joinPath(this._cwd,s)),this.isDir(s))this._cwd=s,this._cwd.startsWith("/")||(this._cwd="/"+this._cwd);else throw new Error("directory does not exist: "+this.joinPath(this._cwd,s))}mkdir(s,c){s.startsWith("/")||(s=this.joinPath(this._cwd,s)),this._fs.mkdirSync(s)}rm(s){if(!s.startsWith("/")&&!s.startsWith("./")?s=this.joinPath(this._cwd,s):s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),this.isDir(s))this._fs.rmdirSync(s);else if(this._fs.existsSync(s))this._fs.unlinkSync(s);else throw new Error("no file or directory found: "+s)}writeFile(s,c){s.startsWith("/")||(s=this.joinPath(this._cwd,s)),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),console.log("write data: ",c),this._fs.writeFileSync(s,c)}exists(s){return s.startsWith("/")||this.joinPath(this._cwd,s),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1))),this._fs.existsSync(s)}read(s){s.startsWith("/")||(s=this.joinPath(this._cwd,s)),s.startsWith("./")&&(s=this.joinPath(this._cwd,s.substring(1)));let c=this._fs.readFileSync(s).toString();return console.log("data: res",c),c}}const an=r=>(oi("data-v-951e97ff"),r=r(),si(),r),Vd={id:"toolbar"},Xd=an(()=>J("div",{class:"linuxmenu item explorer"},[J("img",{src:"https://i.imgur.com/hHTNHTV.png"})],-1)),Yd=[Xd],Zd=an(()=>J("div",{class:"dividor"},null,-1)),qd=an(()=>J("div",{class:"item"},[J("img",{src:"https://i.imgur.com/T8dFIIZ.png","data-action":"explorer"})],-1)),Kd=[qd],Jd=an(()=>J("div",{class:"item"},[J("img",{src:"https://i.imgur.com/3hn6fsJ.png","data-action":"terminal"})],-1)),Gd=[Jd],Qd=an(()=>J("div",{class:"dividor"},null,-1)),$d={id:"openWindows"},tp=["onClick"],ep=an(()=>J("img",{src:"https://i.imgur.com/3hn6fsJ.png",class:"item-logo"},null,-1)),np=an(()=>J("span",{class:"item-label"},"Terminal",-1)),rp=[ep,np],ip=an(()=>J("img",{src:"https://i.imgur.com/T8dFIIZ.png",class:"item-logo"},null,-1)),op=an(()=>J("span",{class:"item-label"},"Explorer",-1)),sp=[ip,op],ap=an(()=>J("img",{src:"https://i.imgur.com/66vqfGw.png",class:"item-logo"},null,-1)),up=an(()=>J("span",{class:"item-label"},"Paramètres",-1)),cp=[ap,up],lp=sn({__name:"Toolbar",setup(r){const s=qe(),c=s==null?void 0:s.appContext.config.globalProperties.$emitter,l=Rr({}),f=Tt(),d=Tt(!1);function w(){d.value=!d.value}function m(p){d.value=!1;let C=p.target.getAttribute("data-action");C!=null&&c.emit("desktop/openwindow",C)}function E(p){d.value=!1,f.value=p}function S(p){l[p.id]=p,f.value=p.id}function _(p){delete l[p]}function h(){c.on("window/focus",E),c.on("toolbar/openwindow",S),c.on("toolbar/closewindow",_)}function b(p){d.value=!1,c.emit("window/focus",p)}return mn(()=>{h()}),(p,C)=>(zt(),Vt(Ie,null,[J("div",Vd,[J("div",{class:"toolbar-item",onClick:w,"data-action":"linuxmenu"},Yd),Zd,J("div",{class:"toolbar-item",onClick:m,"data-action":"explorer"},Kd),J("div",{class:"toolbar-item",onClick:m,"data-action":"terminal"},Gd),Qd,J("div",$d,[(zt(!0),Vt(Ie,null,rr(l,R=>(zt(),Vt("div",{onClick:D=>b(R.id),key:R.id,class:vn(["toolbar-window-tab",{active:R.id==f.value}])},$e(R.type),11,tp))),128))])]),J("div",{class:vn(["linuxmenu",{active:d.value}]),id:"linuxmenu"},[J("div",{class:"linuxmenu-item",onClick:m,"data-action":"terminal"},rp),J("div",{class:"linuxmenu-item",onClick:m,"data-action":"explorer"},sp),J("div",{class:"linuxmenu-item",onClick:m,"data-action":"settings"},cp)],2)],64))}});const sr=(r,s)=>{const c=r.__vccOpts||r;for(const[l,f]of s)c[l]=f;return c},fp=sr(lp,[["__scopeId","data-v-951e97ff"]]),co=cs("state",()=>{const r=Tt({turnedOn:!1,open:!1,user:null});function s(c){r.value=c}return{state:r,setState:s}});class eu{static random(s,c){return Math.floor(s+Math.random()*(c-s+1))}}const ui=cs("settings",()=>{const r=Tt({wallpaperUrl:"https://i.imgur.com/HDcIZPC.jpg",wallpaperSelection:["https://i.imgur.com/HDcIZPC.jpg","https://i.imgur.com/8yn4TO9.jpg","https://i.imgur.com/vCJcTtY.jpg","https://i.imgur.com/DlVPevy.jpg","https://i.imgur.com/zwbJWzN.jpg","https://i.imgur.com/Mw6VoCx.jpg","https://i.imgur.com/yqRhpS4.png"],programs:[{id:"terminal",name:"Terminal",program:"terminal",installed:!0},{id:"firefox",name:"Firefox",program:"firefox",installed:!1}]});function s(m){r.value=m}function c(){return r.value.programs.filter(m=>m.installed===!0)}function l(m){return r.value.programs.filter(S=>S.id===m).length>0}function f(m){return r.value.programs.filter(S=>S.id===m&&S.installed===!0).length>0}function d(m){for(let E=0;E<r.value.programs.length;E++){const S=r.value.programs[E];m===S.id&&(r.value.programs[E].installed=!0)}}async function w(){const m={method:"POST",body:JSON.stringify(r.value),headers:{"Content-Type":"application/json"}},E=await fetch("https://qb-laptop/SaveSettings",m);console.log("save response: ",E)}return{settings:r,setSettings:s,getInstalledPrograms:c,isInstallable:l,alreadyInstalled:f,installProgram:d,save:w}}),wr=class{constructor(){Qe(this,"_outputcallback");Qe(this,"_settingsStore");this._settingsStore=ui()}setOutputCallback(s){this._outputcallback=s}handleCommand(s,c){let l=s.split(" ");l[1];let f=l[2];if(c!=="sudo"){this.noSudo();return}if(f==="update")(async()=>{for(let d=0;d<wr.APT_UPDATE.length;d++){const w=wr.APT_UPDATE[d];this._outputcallback(w),await new Promise(m=>setTimeout(m,eu.random(50,100)))}})();else if(f==="install"){let d=l[3];if(d==null||d==""){this._outputcallback(`apt install requires a 3rd parameter
example: apt install firefox`);return}if(!this._settingsStore.isInstallable(d)){this._outputcallback(`Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
E: Unable to locate package ${d}`);return}if(this._settingsStore.alreadyInstalled(d)){this._outputcallback(`Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
${d} is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.`);return}(async()=>{for(let w=0;w<wr.APT_INSTALL.length;w++){let m=wr.APT_INSTALL[w];m=m.replace(/{{program}}/gi,d),this._outputcallback(m),await new Promise(E=>setTimeout(E,eu.random(10,50)))}this._settingsStore.installProgram(d)})()}}noSudo(){this._outputcallback(`Reading package lists... Done
E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)
E: Unable to lock directory /var/lib/apt/lists/`)}};let Vr=wr;Qe(Vr,"APT_UPDATE",["Get:1 http://archive-4.kali.org/kali kali-rolling InRelease [30.6 kB]","Get:2 http://archive-4.kali.org/kali kali-rolling/non-free amd64 Packages [222 kB]","Get:3 http://archive-4.kali.org/kali kali-rolling/main amd64 Packages [19.5 MB]","Get:4 http://archive-4.kali.org/kali kali-rolling/contrib amd64 Packages [116 kB]","Fetched 19.8 MB in 2s (8031 kB/s)","Reading package lists... Done","Building dependency tree... Done","Reading state information... Done","2 packages can be upgraded. Run 'apt list --upgradable' to see them."]),Qe(Vr,"APT_INSTALL",["Get:1 http://archive-4.kali.org/kali kali-rolling/main amd64 libncursesw6 amd64 6.4-2 [134 kB]","Get:2 http://archive-4.kali.org/kali kali-rolling/main amd64 {{program}} amd64 [689 kB]","Get:3 http://http.kali.org/kali kali-rolling/main amd64 libgpm2 amd64 1.20.7-10+b1 [14.2 kB]","Fetched 837 kB in 1s (1304 kB/s)","Selecting previously unselected package libncursesw6:amd64.","(Reading database ... 6125 files and directories currently installed.)","Preparing to unpack .../libncursesw6_6.4-2_amd64.deb ...","Unpacking libncursesw6:amd64 (6.4-2) ...","Selecting previously unselected package {{program}}.","Preparing to unpack .../archives/{{program}}_amd64.deb ...","Unpacking {{program}} ...","Selecting previously unselected package libgpm2:amd64.","Preparing to unpack .../libgpm2_1.20.7-10+b1_amd64.deb ...","Unpacking libgpm2:amd64 (1.20.7-10+b1) ...","Setting up libgpm2:amd64 (1.20.7-10+b1) ...","Setting up libncursesw6:amd64 (6.4-2) ...","Setting up {{program}} ...","update-alternatives: using /bin/{{program}} to provide /usr/bin/editor (editor) in auto mode","update-alternatives: using /bin/{{program}} to provide /usr/bin/pico (pico) in auto mode","Processing triggers for libc-bin (2.36-8) ..."]);const Zi=class{constructor(){Qe(this,"_fs");Qe(this,"_apt");Qe(this,"_history");Qe(this,"_outputcallback");this._history=[],this._fs=new oc,this._apt=new Vr,this._outputcallback=null}setFs(s){this._fs.setFs(s)}setOutputCallback(s){this._outputcallback=s,this._apt.setOutputCallback(s)}execute(s){return this.handleCommand(s)}_updateHistory(s){this._history.includes(s)||this._history.push(s),this._history.length>20&&this._history.shift()}getLastCommand(){return this._history[this._history.length-1]}async handleCommand(s){let c=s.split(" ");c=c.map(f=>f.trim()),s=c.join(" ");let l=c[0];if(l==null||l==""){this._outputcallback(" ");return}if(this._updateHistory(s),console.log("command: ",s),l==="ls"){let d=new RegExp(Zi.REGEX.ls).exec(s.trim());if(d!=null){let w=this.list(d[3]);this._outputcallback(w);return}}else if(l==="cd"){let d=s.trim().split(" ")[1],w=this.cd(d);w!=null&&this._outputcallback(w);return}else if(l==="whereami"){this._outputcallback(this._fs.getCurrentDirectory());return}else if(l==="mkdir"){let d=new RegExp(Zi.REGEX.mkdir).exec(s.trim());if(d!=null){let w=d[3],m=d[2],E=this.mkdir(w,m);E!=null&&this._outputcallback(E);return}}else if(l==="rm"){let f=s.trim().split(" "),d;if(f.length==2?d=f[1]:d=f[2],d==null||d==""){this._outputcallback("rm: missing operand");return}let w=this.rm(d);w!=null&&this._outputcallback(w);return}else if(l==="cat"){let d=s.trim().split(" ")[1];if(d==null){this._outputcallback("command incorrect, path argument required.");return}let w=this.read(d);this._outputcallback(w);return}else if(c.includes("apt")){this._apt.handleCommand(s,l);return}this._outputcallback(`command not found: ${l}`)}whereami(){return this._fs.getCurrentDirectory()}list(s){if(s=this._fs.emptyPath(s),s!=null&&!this._fs.isDir(s))return"directory does not exist: "+s;let c=this._fs.list(s),l="";return c.length>0&&(l=c.join("<br>")),l}cd(s){if(s==null&&(s="/"),!this._fs.isDir(s))return"directory does not exist: "+this._fs.joinPath(this._fs.getCurrentDirectory(),s);try{this._fs.cd(s)}catch(c){return c.toString()}}mkdir(s,c){if(s=s.trim(),!(s=="/"||s=="")){if(this._fs.isDir(s))return"mkdir: cannot create directory ‘"+s+"’: File exists";this._fs.mkdir(s,c)}}rm(s){if(s=s.trim(),!(s=="/"||s==""))try{this._fs.rm(s);return}catch(c){return c.toString()}}cat(s){return this.exists(s)&&!this._fs.isDir(s)?this.read(s):"file not found: "+s}writeFile(s,c){this._fs.writeFile(s,c)}exists(s){return this._fs.exists(s)}read(s){return this._fs.read(s)}explorer(){let s=[],c=this._fs.getCurrentDirectory(),l=this._fs.list(c);for(let f=0;f<l.length;f++){const d=l[f];let w={filename:d,path:c,fullPath:this._fs.joinPath(c,d),type:"dir"};this.exists(w.fullPath)&&(this._fs.isDir(w.fullPath)||(w.type="file"),s.push(w))}return s}};let Kr=Zi;Qe(Kr,"REGEX",{ls:/^(\w+)\s*(-\w+)*\s*(\/?(\w+(\/\w+)*\/?)|\/|(\w+(\.\w+)?)?)?$/gi,mkdir:/^(mkdir)\s+(-p\s+)?([\.\/a-z1-9]+)/gi});const sc=r=>(oi("data-v-d910892a"),r=r(),si(),r),hp=sc(()=>J("div",{class:"logo"},[J("img",{src:"https://i.imgur.com/3hn6fsJ.png",class:"window-logo"})],-1)),dp=sc(()=>J("div",{class:"window-action window-action-minimize"},null,-1)),pp={key:0,class:"content"},yp=["innerHTML"],vp={class:"prompt-zone"},gp={class:"prompt-user"},mp=["onKeydown"],_p={key:1,class:"content"},wp={class:"prompt-zone"},Sp=["onKeydown"],Ep={key:0,class:"nano-message"},xp=sn({__name:"TerminalWindow",props:["id","focus"],setup(r){const s=r,c=new Kr,l=Tt(s.focus),f=Tt("bash"),d=Tt(),w=Tt({x:0,y:0,movementX:0,movementY:0}),m=Tt("root@kali"),E=Tt("/"),S=Tt(""),_=Tt(""),h=Tt(),b=Tt(),p=Tt(""),C=Tt(""),R=Tt(""),D=co(),M=qe(),B=M==null?void 0:M.appContext.config.globalProperties.$emitter;mn(()=>{D.state.user!=null&&(m.value=D.state.user+"@kali$",V(),B.emit("window/focus",s.id)),c.setFs(M==null?void 0:M.appContext.config.globalProperties.$fs),c.setOutputCallback(K),E.value=c.whereami()});function G(wt){wt===s.id?l.value=!0:l.value=!1}function V(){B.on("window/focus",G)}function Z(){B.emit("desktop/closeWindow",s.id)}function yt(wt){wt.preventDefault();let W=c.getLastCommand();W!=null&&(_.value=W)}function K(wt,W=!1){W&&(S.value=""),S.value+=wt,S.value+=`
`}async function Q(wt){if(wt.preventDefault(),_.value=_.value.trim(),_.value==="exit"){Z();return}if(["clear","cls"].includes(_.value)){S.value="",_.value="";return}if(S.value+=`<span style="color: rgb(78, 122, 255);">${m.value}:${E.value}</span> ${_.value}`,_.value!=""&&(S.value+="<br>"),_.value.includes("nano ")){ut();return}await c.execute(_.value),_.value="",E.value=c.whereami(),setTimeout(()=>{let W=document.querySelector(".content");W.scrollTop=W.scrollHeight-W.clientHeight},15)}function ut(){let W=_.value.split(" ")[1].trim();C.value=W;try{c.exists(W)||c.writeFile(W,""),c.exists(W)&&(p.value=c.read(W))}catch(q){S.value+=q.toString()+" <br>";return}_.value="",E.value=c.whereami(),f.value="nano",setTimeout(_t,200),setTimeout(at,100)}function Y(){h.value!=null&&h.value.focus(),l.value||B.emit("window/focus",s.id)}function at(){f.value==="nano"&&b.value.focus()}function mt(wt){wt.preventDefault(),w.value.movementX=w.value.x-wt.clientX,w.value.movementY=w.value.y-wt.clientY,w.value.x=wt.clientX,w.value.y=wt.clientY,d.value.style.top=d.value.offsetTop-w.value.movementY+"px",d.value.style.left=d.value.offsetLeft-w.value.movementX+"px"}function Ut(){document.onmouseup=null,document.onmousemove=null}function Ft(wt){w.value.x=wt.clientX,w.value.y=wt.clientY,document.onmousemove=mt,document.onmouseup=Ut}function Dt(wt){wt.preventDefault(),c.writeFile(C.value,p.value)}function Ot(){C.value="",p.value="",f.value="bash",setTimeout(Y,100)}function _t(){var q;let wt=document.querySelector(".prompt.nano"),W=(q=document.querySelector(".content"))==null?void 0:q.clientHeight;W&&(wt.style.height=W+"px")}return(wt,W)=>(zt(),Vt("div",{ref_key:"containerElem",ref:d,class:vn(["window terminal-window resizable",{"window-focused":l.value}]),onClick:Y},[J("div",{class:"window-header",onMousedown:Ft},[hp,J("div",{class:"header-action-buttons"},[dp,J("div",{class:"window-action window-action-close",onClick:Z})])],32),f.value=="bash"?(zt(),Vt("div",pp,[J("div",{class:"output",innerHTML:S.value},null,8,yp),J("div",vp,[J("div",gp,$e(m.value)+":"+$e(E.value),1),ke(J("textarea",{ref_key:"promptField",ref:h,"onUpdate:modelValue":W[0]||(W[0]=q=>_.value=q),onKeydown:[tr(Q,["enter"]),tr(yt,["up"])],class:"prompt",rows:"3"},null,40,mp),[[je,_.value]])])])):Fe("",!0),f.value=="nano"?(zt(),Vt("div",_p,[J("div",wp,[ke(J("textarea",{ref_key:"nanoField",ref:b,onKeydown:[tr(Qa(Dt,["ctrl"]),["s"]),tr(Qa(Ot,["ctrl"]),["x"])],"onUpdate:modelValue":W[1]||(W[1]=q=>p.value=q),class:"prompt nano",onInput:_t,rows:"3"},null,40,Sp),[[je,p.value]])]),R.value!=""?(zt(),Vt("div",Ep,$e(R.value),1)):Fe("",!0)])):Fe("",!0)],2))}});const bp=sr(xp,[["__scopeId","data-v-d910892a"]]),ls=r=>(oi("data-v-e69e8ffa"),r=r(),si(),r),Fp=ls(()=>J("div",{class:"logo"},[J("img",{src:"https://i.imgur.com/T8dFIIZ.png",class:"window-logo"}),J("div",{class:"title"},"Explorer")],-1)),Ip=ls(()=>J("div",{class:"window-action window-action-minimize"},null,-1)),kp={class:"content"},Op={class:"explorer-toolbar"},Tp=ls(()=>J("div",{class:"next"},">",-1)),Rp={class:"path"},Np={class:"explorer-content"},Dp={class:"directory-content"},Lp=["data-type","data-dir-path"],Cp=["data-type","data-dir-path"],Ap=["data-type","data-dir-path"],Pp=["data-type","data-dir-path"],Mp=sn({__name:"ExplorerWindow",props:["id","focus"],setup(r){const s=r,c=new Kr,l=Tt(s.focus),f=Tt(),d=Tt({x:0,y:0,movementX:0,movementY:0}),w=qe(),m=w==null?void 0:w.appContext.config.globalProperties.$emitter,E=Tt(""),S=Tt();function _(yt){yt===s.id?l.value=!0:l.value=!1}function h(){m.emit("window/focus",s.id)}function b(){m.on("window/focus",_)}mn(()=>{c.setFs(w==null?void 0:w.appContext.config.globalProperties.$fs),E.value=c.whereami(),S.value=c.explorer(),b()});const p=Tt([c.whereami()]),C=Tt(p.value.length-1);function R(yt){c.cd(yt),E.value=c.whereami(),S.value=c.explorer(),p.value.includes(yt)||(p.value.push(yt),C.value=p.value.length-1)}function D(){let yt=p.value.length-2;if(yt>=0&&p.value[yt]!=null){let K=p.value[yt];R(K)}}function M(yt){let K=yt.target;if(K!=null){let Q=K.getAttribute("data-type"),ut=K.getAttribute("data-dir-path");if(Q!=="dir")return;R(ut)}}function B(yt){yt.preventDefault(),d.value.movementX=d.value.x-yt.clientX,d.value.movementY=d.value.y-yt.clientY,d.value.x=yt.clientX,d.value.y=yt.clientY,f.value.style.top=f.value.offsetTop-d.value.movementY+"px",f.value.style.left=f.value.offsetLeft-d.value.movementX+"px"}function G(){document.onmouseup=null,document.onmousemove=null}function V(yt){d.value.x=yt.clientX,d.value.y=yt.clientY,document.onmousemove=B,document.onmouseup=G}function Z(){m.emit("desktop/closeWindow",s.id)}return(yt,K)=>(zt(),Vt("div",{ref_key:"containerElem",ref:f,onClick:h,class:vn(["window explorer-window resizable",{"window-focused":l.value}])},[J("div",{class:"window-header",onMousedown:V},[Fp,J("div",{class:"header-action-buttons"},[Ip,J("div",{class:"window-action window-action-close",onClick:Z})])],32),J("div",kp,[J("div",Op,[J("div",{onClick:D,class:"prev"},$e("<")),Tp,J("div",Rp,[ke(J("input",{onKeyup:K[0]||(K[0]=tr(Q=>R(E.value),["enter"])),"onUpdate:modelValue":K[1]||(K[1]=Q=>E.value=Q),type:"text",placeholder:"/home/user/"},null,544),[[je,E.value]])])]),J("div",Np,[J("div",Dp,[(zt(!0),Vt(Ie,null,rr(S.value,Q=>(zt(),Vt("div",{class:"item",onClick:M,"data-type":Q.type,"data-dir-path":Q.fullPath},[Q.type=="dir"?(zt(),Vt("img",{key:0,"data-type":Q.type,"data-dir-path":Q.fullPath,src:"https://i.imgur.com/T8dFIIZ.png"},null,8,Cp)):Fe("",!0),Q.type=="file"?(zt(),Vt("img",{key:1,"data-type":Q.type,"data-dir-path":Q.fullPath,src:"https://i.imgur.com/bDpDN9T.png"},null,8,Ap)):Fe("",!0),J("div",{"data-type":Q.type,"data-dir-path":Q.fullPath,class:"label"},$e(Q.filename),9,Pp)],8,Lp))),256))])])])],2))}});const Up=sr(Mp,[["__scopeId","data-v-e69e8ffa"]]),ci=r=>(oi("data-v-99207b83"),r=r(),si(),r),jp=ci(()=>J("div",{class:"logo"},[J("img",{src:"https://i.imgur.com/66vqfGw.png",class:"window-logo"}),J("div",{class:"title"},"Paramètres")],-1)),Bp=ci(()=>J("div",{class:"window-action window-action-minimize"},null,-1)),zp={class:"content"},Wp={class:"content-container"},Hp=ci(()=>J("div",{class:"sidebar"},[J("div",{class:"sidebar-item"},[J("img",{src:"https://i.imgur.com/zBP5xIL.png",class:"logo"}),J("div",{class:"label"},"Fond d'écran")])],-1)),Vp={class:"main-content"},Xp={key:0,class:"background-settings"},Yp={class:"preview-zone"},Zp=["src"],qp=ci(()=>J("br",null,null,-1)),Kp=ci(()=>J("div",{class:"w-100"},[J("div",{class:"h-dividor"})],-1)),Jp={class:"background-images"},Gp=["onClick"],Qp=["src"],$p={class:"custom-background"},ty=sn({__name:"SettingsWindow",props:["id","focus"],setup(r){const s=r,c=Tt(s.focus),l=ui(),f=Tt("background"),d=Tt(""),w=Tt(),m=Tt({x:0,y:0,movementX:0,movementY:0}),E=qe(),S=E==null?void 0:E.appContext.config.globalProperties.$emitter;function _(G){G===s.id?c.value=!0:c.value=!1}function h(){S.emit("window/focus",s.id)}function b(){S.on("window/focus",_)}mn(()=>{b()});function p(G){l.settings.wallpaperUrl=G}function C(){try{new URL(d.value),l.settings.wallpaperUrl=d.value}catch{}}function R(G){G.preventDefault(),m.value.movementX=m.value.x-G.clientX,m.value.movementY=m.value.y-G.clientY,m.value.x=G.clientX,m.value.y=G.clientY,w.value.style.top=w.value.offsetTop-m.value.movementY+"px",w.value.style.left=w.value.offsetLeft-m.value.movementX+"px"}function D(){document.onmouseup=null,document.onmousemove=null}function M(G){m.value.x=G.clientX,m.value.y=G.clientY,document.onmousemove=R,document.onmouseup=D}function B(){S.emit("desktop/closeWindow",s.id)}return(G,V)=>(zt(),Vt("div",{ref_key:"containerElem",ref:w,onClick:h,class:vn(["window explorer-window resizable",{"window-focused":c.value}])},[J("div",{class:"window-header",onMousedown:M},[jp,J("div",{class:"header-action-buttons"},[Bp,J("div",{class:"window-action window-action-close",onClick:B})])],32),J("div",zp,[J("div",Wp,[Hp,J("div",Vp,[f.value=="background"?(zt(),Vt("div",Xp,[J("div",Yp,[J("img",{draggable:"false",src:Be(l).settings.wallpaperUrl,alt:"",class:"preview-img"},null,8,Zp)]),qp,Kp,J("div",Jp,[(zt(!0),Vt(Ie,null,rr(Be(l).settings.wallpaperSelection,Z=>(zt(),Vt("div",{onClick:yt=>p(Z),class:"img-item"},[J("img",{src:Z,draggable:"false"},null,8,Qp)],8,Gp))),256))]),J("div",$p,[ke(J("input",{"onUpdate:modelValue":V[0]||(V[0]=Z=>d.value=Z),type:"text",placeholder:"URL..."},null,512),[[je,d.value]]),J("button",{onClick:C},"Télécharger")])])):Fe("",!0)])])])],2))}});const ey=sr(ty,[["__scopeId","data-v-99207b83"]]),ny=cs("darknet",()=>{const r=Tt({auth:!1,user:null,posts:[]});async function s(w={}){const m={method:"POST",body:JSON.stringify(w),headers:{"Content-Type":"application/json"}},E=await fetch("https://qb-laptop/GetDarknetPosts",m);E.ok&&(r.value.posts=await E.json())}async function c(w){const m={method:"POST",body:JSON.stringify(w),headers:{"Content-Type":"application/json"}},E=await fetch("https://qb-laptop/CreateDarknetPost",m);console.log("create post response: ",E)}async function l(w){const m={method:"POST",body:JSON.stringify(w),headers:{"Content-Type":"application/json"}},S=await(await fetch("https://qb-laptop/RegisterDarknetUser",m)).json();return S.success?(r.value.user=S.user,r.value.auth=!0,!0):S}async function f(w,m){const E={method:"POST",body:JSON.stringify({username:w,password:m}),headers:{"Content-Type":"application/json"}},_=await(await fetch("https://qb-laptop/AuthenticateUser",E)).json();return _.success?(r.value.user=_.user,r.value.auth=!0,!0):_}function d(){r.value.user=null,r.value.auth=!1}return{darknet:r,GetPosts:s,CreatePost:c,RegisterUser:l,authenticateUser:f,logout:d}}),ar=r=>(oi("data-v-4ebe2483"),r=r(),si(),r),ry={class:"website"},iy={class:"navbar"},oy={class:"container flex justify-content-space-between"},sy=ar(()=>J("div",{class:"brand-logo"},[J("img",{src:"https://i.imgur.com/ycfxccx.png"})],-1)),ay=ar(()=>J("div",{class:"brand"},[Gu("Shadow"),J("span",{class:"highlight"},"NET")],-1)),uy=[sy,ay],cy={key:0,class:"nav-menu"},ly={key:0,class:"nav-item"},fy={key:1,class:"nav-item"},hy={key:2,class:"nav-item"},dy={key:0,class:"maincontent"},py={class:"filters"},yy={class:"flex"},vy={class:"category-filter-wrapper"},gy=ar(()=>J("option",{value:""},"Catégorie de posts",-1)),my=["value"],_y={class:"search-filter-wrapper"},wy=["onKeydown"],Sy={class:"create-post-wrapper"},Ey=Gh('<div class="posts" data-v-4ebe2483><div class="post-wrapper" data-v-4ebe2483><div class="post" data-v-4ebe2483><div class="post-title" data-v-4ebe2483>Lorem Ipsum dolor</div><div class="post-metadata" data-v-4ebe2483><span class="user-handle" data-v-4ebe2483>0xIbra</span><span class="category" data-v-4ebe2483>Hacking</span></div><div class="post-description-part" data-v-4ebe2483> Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit earum consequatur, illo ipsum voluptate quidem, vero, quaerat temporibus ab magnam ipsam? Error maiores eaque ut aliquam et deleniti consequatur consequuntur? Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit earum consequatur, illo ipsum voluptate quidem, vero, quaerat temporibus ab magnam ipsam? Error maiores eaque ut aliquam et deleniti consequatur consequuntur? Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit earum consequatur, illo ipsum voluptate quidem, vero, quaerat temporibus ab magnam ipsam? Error maiores eaque ut aliquam et deleniti consequatur consequuntur? </div></div></div></div>',1),xy={key:1,class:"createform"},by={class:"form-content"},Fy=ar(()=>J("div",{class:"breadcrumb-wrapper"},null,-1)),Iy={class:"form-wrapper"},ky={class:"title-wrapper"},Oy={class:"metadata-wrapper"},Ty={class:"category"},Ry=ar(()=>J("option",{value:""},"Catégorie",-1)),Ny=["value"],Dy={class:"user-handle"},Ly={class:"description-wrapper"},Cy={key:2,class:"loginpage"},Ay={class:"container"},Py={class:"loginform form"},My=ar(()=>J("div",{class:"header"},"Connexion",-1)),Uy={class:"form-field usernamefield"},jy={class:"form-field passwordfield"},By={key:0,class:"form-errors"},zy={key:3,class:"registerpage"},Wy={class:"container"},Hy={class:"loginform form"},Vy=ar(()=>J("div",{class:"header"},"Inscription",-1)),Xy={class:"form-field usernamefield"},Yy={class:"form-field passwordfield"},Zy={class:"form-field passwordfield"},qy={key:0,class:"form-errors"},Ky=sn({__name:"DarknetWebsite",setup(r){const s=ny(),c=Tt("homepage"),l=Tt({hacking:"Hacking",drugs:"Drogues",guns:"Armes"}),f=Tt(""),d=Tt(""),w=Tt(""),m=Tt(""),E=Tt(""),S=Tt(""),_=Tt(""),h=Tt(""),b=Tt(""),p=Tt(""),C=Tt(""),R=Tt(""),D=Tt("");function M(){let K=[];return w.value=w.value.trim(),w.value.length<5&&K.push({field:"title",error:"Le titre doit avoir 5 caracteres minimum."}),E.value=E.value.trim(),E.value.length<3&&K.push({field:"userHandle",error:"l'alias doit avoir 3 caracteres minimum."}),S.value=S.value.trim(),S.value.length<10&&K.push({field:"description",error:"la description doit faire au moins 10 caracteres."}),K}async function B(){if(M().length>0)return;const Q={title:w.value,category:m.value,userHandle:E.value,description:S.value};await s.CreatePost(Q),await s.GetPosts()}async function G(){let K=await s.authenticateUser(_.value,h.value);K===!0?yt("homepage"):b.value=K.message}async function V(){let K=[];if(p.value.length<3&&K.push({field:"userHandle",error:"l'alias doit avoir 3 caracteres minimum."}),C.value!==R.value&&K.push({field:"password",error:"Le 2eme mot de passe n'est pas identique au 1er."}),K.length>0)return;const Q={username:p.value,password:C.value};let ut=await s.RegisterUser(Q);ut===!0?yt("homepage"):ut.success===!1&&(D.value=ut.message)}async function Z(){let K=null,Q=null;f.value!=""&&(K=f.value),d.value!=""&&(Q=d.value),await s.GetPosts({category:K,search:Q})}function yt(K){c.value=K,K=="create"&&!s.darknet.auth&&(c.value="login")}return mn(()=>{s.GetPosts()}),(K,Q)=>(zt(),Vt("div",ry,[J("div",iy,[J("div",oy,[J("div",{class:"brand-container",onClick:Q[0]||(Q[0]=ut=>yt("homepage"))},uy),Be(s)!=null?(zt(),Vt("div",cy,[Be(s).darknet.auth?Fe("",!0):(zt(),Vt("div",ly,[J("button",{onClick:Q[1]||(Q[1]=ut=>yt("login"))},"Connexion")])),Be(s).darknet.auth?Fe("",!0):(zt(),Vt("div",fy,[J("button",{onClick:Q[2]||(Q[2]=ut=>yt("register"))},"Inscription")])),Be(s).darknet.auth?(zt(),Vt("div",hy,[J("button",{onClick:Q[3]||(Q[3]=(...ut)=>Be(s).logout&&Be(s).logout(...ut))},"Déconnexion")])):Fe("",!0)])):Fe("",!0)])]),c.value=="homepage"?(zt(),Vt("div",dy,[J("div",py,[J("div",yy,[J("div",vy,[ke(J("select",{onChange:Z,"onUpdate:modelValue":Q[4]||(Q[4]=ut=>f.value=ut),class:"category-filter"},[gy,(zt(!0),Vt(Ie,null,rr(l.value,(ut,Y,at)=>(zt(),Vt("option",{value:Y},$e(ut),9,my))),256))],544),[[Ja,f.value]])]),J("div",_y,[ke(J("input",{onKeydown:tr(Z,["enter"]),"onUpdate:modelValue":Q[5]||(Q[5]=ut=>d.value=ut),type:"text",class:"search-filter",placeholder:"Recherche..."},null,40,wy),[[je,d.value]])]),J("div",{class:"submit-btn-wrapper"},[J("button",{onClick:Z,class:"submit"},"Rechercher")])]),J("div",Sy,[J("button",{onClick:Q[6]||(Q[6]=ut=>yt("create")),class:"create-post"},"Créer Post")])]),Ey])):Fe("",!0),c.value=="create"?(zt(),Vt("div",xy,[J("div",by,[Fy,J("div",Iy,[J("div",ky,[ke(J("input",{"onUpdate:modelValue":Q[7]||(Q[7]=ut=>w.value=ut),type:"text",placeholder:"Titre..."},null,512),[[je,w.value]])]),J("div",Oy,[J("div",Ty,[ke(J("select",{"onUpdate:modelValue":Q[8]||(Q[8]=ut=>m.value=ut),class:"category-filter"},[Ry,(zt(!0),Vt(Ie,null,rr(l.value,(ut,Y,at)=>(zt(),Vt("option",{value:Y},$e(ut),9,Ny))),256))],512),[[Ja,m.value]])]),J("div",Dy,[ke(J("input",{"onUpdate:modelValue":Q[9]||(Q[9]=ut=>E.value=ut),type:"text",placeholder:"Alias"},null,512),[[je,E.value]])])]),J("div",Ly,[ke(J("textarea",{"onUpdate:modelValue":Q[10]||(Q[10]=ut=>S.value=ut),rows:"10",class:"description",placeholder:"Contenu de votre post..."},null,512),[[je,S.value]])]),J("div",{class:"submit-form-wrapper"},[J("button",{onClick:B},"Valider")])])])])):Fe("",!0),c.value=="login"?(zt(),Vt("div",Cy,[J("div",Ay,[J("div",Py,[My,J("div",Uy,[ke(J("input",{"onUpdate:modelValue":Q[11]||(Q[11]=ut=>_.value=ut),type:"text",placeholder:"Alias"},null,512),[[je,_.value]])]),J("div",jy,[ke(J("input",{"onUpdate:modelValue":Q[12]||(Q[12]=ut=>h.value=ut),type:"password",placeholder:"Mot de passe..."},null,512),[[je,h.value]])]),J("div",{class:"form-submit"},[J("button",{onClick:G},"Connexion")]),b.value!=""?(zt(),Vt("div",By,$e(b.value),1)):Fe("",!0)])])])):Fe("",!0),c.value=="register"?(zt(),Vt("div",zy,[J("div",Wy,[J("div",Hy,[Vy,J("div",Xy,[ke(J("input",{"onUpdate:modelValue":Q[13]||(Q[13]=ut=>p.value=ut),type:"text",placeholder:"Alias"},null,512),[[je,p.value]])]),J("div",Yy,[ke(J("input",{"onUpdate:modelValue":Q[14]||(Q[14]=ut=>C.value=ut),type:"password",placeholder:"Mot de passe"},null,512),[[je,C.value]])]),J("div",Zy,[ke(J("input",{"onUpdate:modelValue":Q[15]||(Q[15]=ut=>R.value=ut),type:"password",placeholder:"Confirmation mot de passe"},null,512),[[je,R.value]])]),J("div",{class:"form-submit"},[J("button",{onClick:V},"Inscription")]),D.value!=""?(zt(),Vt("div",qy,$e(D.value),1)):Fe("",!0)])])])):Fe("",!0)]))}});const Jy=sr(Ky,[["__scopeId","data-v-4ebe2483"]]),Gy=sn({__name:"WebsiteProvider",props:["website"],setup(r){const c=Tt(r.website),l=qe(),f=l==null?void 0:l.appContext.config.globalProperties.$emitter,d=[{name:"ShadowNET",url:"tor://shadownet.onion",component:Jy,matches:["shadownet.onion"]}],w=Tt();function m(_){for(let h=0;h<d.length;h++){const b=d[h];if(b.matches.includes(_))return b}return null}function E(){if(c==null)return null;let _=m(c.value);return _!=null?(w.value=_,_.component):null}function S(_){console.log("url received: ",_),c.value=_,E()}return mn(()=>{f.on("firefox/navigate",S)}),(_,h)=>w.value!=null?(zt(),ai(os(E()),{key:0})):Fe("",!0)}}),Qy=J("div",{class:"logo"},null,-1),$y=J("div",{class:"window-action window-action-minimize"},null,-1),tv={class:"content"},ev={class:"content-header"},nv=J("div",{class:"actions"},[J("div",{class:"prev"},$e("<")),J("div",{class:"next"},">")],-1),rv={class:"urlbar"},iv=["onKeydown"],ov={class:"web-content"},sv=sn({__name:"FirefoxWindow",props:["id","focus"],setup(r){const s=r,c=Tt(s.focus),l=qe(),f=l==null?void 0:l.appContext.config.globalProperties.$emitter,d=Tt("");Tt([]);function w(){f.emit("firefox/navigate",d.value),console.log("emit url: ",d.value)}const m=Tt(),E=Tt({x:0,y:0,movementX:0,movementY:0});function S(){f.emit("window/focus",s.id)}function _(D){D.preventDefault(),E.value.movementX=E.value.x-D.clientX,E.value.movementY=E.value.y-D.clientY,E.value.x=D.clientX,E.value.y=D.clientY,m.value.style.top=m.value.offsetTop-E.value.movementY+"px",m.value.style.left=m.value.offsetLeft-E.value.movementX+"px"}function h(){document.onmouseup=null,document.onmousemove=null}function b(D){E.value.x=D.clientX,E.value.y=D.clientY,document.onmousemove=_,document.onmouseup=h}function p(D){D===s.id?c.value=!0:c.value=!1}function C(){f.on("window/focus",p)}mn(()=>{C()});function R(){f.emit("desktop/closeWindow",s.id)}return(D,M)=>(zt(),Vt("div",{ref_key:"containerElem",ref:m,onClick:S,class:vn(["window explorer-window resizable",{"window-focused":c.value}])},[J("div",{class:"window-header",onMousedown:b},[Qy,J("div",{class:"header-action-buttons"},[$y,J("div",{class:"window-action window-action-close",onClick:R})])],32),J("div",tv,[J("div",ev,[nv,J("div",rv,[ke(J("input",{"onUpdate:modelValue":M[0]||(M[0]=B=>d.value=B),onKeydown:tr(w,["enter"]),type:"text",placeholder:"Enter URL..."},null,40,iv),[[je,d.value]])])]),J("div",ov,[Ze(Gy)])])],2))}});const av=sn({__name:"DesktopWindows",setup(r){ui(),co();const s=Rr({});Tt();const c=qe(),l=c==null?void 0:c.appContext.config.globalProperties.$emitter,f=function(){return Date.now().toString(36)+Math.random().toString(36).substr(2)};function d(_){return _=="terminal"?bp:_=="explorer"?Up:_=="settings"?ey:_=="firefox"?sv:null}function w(_){var p;let h={type:_,component:()=>d(_),id:"window-"+f(),render:!0};s[h.id]=h,l.emit("toolbar/openwindow",{id:h.id,type:h.type});let b=qe();(p=b==null?void 0:b.proxy)==null||p.$forceUpdate()}function m(_){var b;delete s[_],l.emit("toolbar/closewindow",_);let h=qe();(b=h==null?void 0:h.proxy)==null||b.$forceUpdate()}function E(){var _;(_=c==null?void 0:c.proxy)==null||_.$forceUpdate()}function S(){l.on("desktop/openwindow",w),l.on("desktop/closeWindow",m),l.on("desktop/refresh",E)}return mn(()=>{S()}),(_,h)=>(zt(!0),Vt(Ie,null,rr(s,(b,p)=>(zt(),ai(os(b.component()),{key:p,id:b.id,focus:!0},null,8,["id"]))),128))}});const uv={class:"logo-container"},cv=["src"],lv={class:"program-name"},fv=sn({__name:"ProgramIcon",props:["id","program","name","focus"],setup(r){const s=r,l={firefox:"https://i.imgur.com/CwYZABb.png",terminal:"https://i.imgur.com/zyNd2Cc.png",explorer:"https://i.imgur.com/T8dFIIZ.png"}[s.program],f=qe(),d=f==null?void 0:f.appContext.config.globalProperties.$emitter;function w(){d.emit("desktop/openwindow",s.program)}return(m,E)=>(zt(),Vt("div",{class:"desktop-program-icon",onDblclick:w},[J("div",uv,[J("img",{src:Be(l)},null,8,cv)]),J("div",lv,$e(s.name),1)],32))}});function hv(r){const s=co(),c=ui();switch(r.data.action){case"settings/set":c.setSettings(r.data.settings);break;case"turnon":s.state.open=!0,s.state.user=r.data.user;break;case"turnoff":s.state.open=!1;break}}function nu(r){if(!(r==null||r.data==null||r.data.action==null))switch(r.data.action){case"settings/set":case"turnon":case"turnoff":hv(r);break;default:throw new Error(`Unsupported action: ${r.data.action}`)}}const dv={id:"programs"},pv=sn({__name:"Desktop",setup(r){const s=qe();s==null||s.appContext.config.globalProperties.$fs;const c=ui(),l=co();mn(()=>{window.addEventListener("message",nu),document.addEventListener("keydown",function(d){d.keyCode===27&&f().then(w=>null)})}),Mu(()=>{window.removeEventListener("message",nu)});async function f(){l.state.open&&(await c.save(),await fetch("https://qb-laptop/TurnOffLaptop",{method:"POST"}),l.state.open=!1)}return(d,w)=>(zt(),Vt("div",{id:"laptop-desktop",class:vn({open:Be(l).state.open}),style:qi(Be(l).state.open?{background:`url(${Be(c).settings.wallpaperUrl}) center no-repeat`}:{})},[Ze(fp),Ze(av),J("div",dv,[(zt(!0),Vt(Ie,null,rr(Be(c).getInstalledPrograms(),m=>(zt(),ai(os(fv),{key:m.id,id:m.id,name:m.name,program:m.id,focus:!0},null,8,["id","name","program"]))),128))])],6))}});const yv=sr(pv,[["__scopeId","data-v-fbb1af41"]]),vv=sn({__name:"App",setup(r){return(s,c)=>(zt(),ai(yv))}});const gv=sr(vv,[["__scopeId","data-v-a7df78f6"]]);ri.install(window);ri.configure({fs:"LocalStorage",options:null},r=>{if(r)throw r});const ac=ri.BFSRequire("fs"),uc=new oc;uc.setFs(ac);uc.init();const mv=zd(),lo=Ld(gv);lo.use(Pd());lo.config.globalProperties.$emitter=mv;lo.config.globalProperties.$fs=ac;lo.mount("#app");
